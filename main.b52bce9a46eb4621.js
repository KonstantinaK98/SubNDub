(self.webpackChunkSubAndDub=self.webpackChunkSubAndDub||[]).push([[179],{2011:(Bt,re,H)=>{"use strict";H.d(re,{Dh:()=>Q,GT:()=>j,cc:()=>z,hO:()=>Z,on:()=>k,pX:()=>G,xv:()=>J});var o=H(4650),R=H(9260),A=H(4976);Bt=H.hmd(Bt);const N=["ngOnDestroy"],G=(fe,we,ve,Se={})=>new Proxy(fe,{get:(_e,Me)=>ve.runOutsideAngular(()=>{var qe;if(fe[Me])return!(null===(qe=Se?.spy)||void 0===qe)&&qe.get&&Se.spy.get(Me,fe[Me]),fe[Me];if(N.indexOf(Me)>-1)return()=>{};const oe=we.toPromise().then(he=>{const U=he&&he[Me];return"function"==typeof U?U.bind(he):U&&U.then?U.then(Ne=>ve.run(()=>Ne)):ve.run(()=>U)});return new Proxy(()=>{},{get:(he,U)=>oe[U],apply:(he,U,Ne)=>oe.then(rt=>{var Ze;const lt=rt&&rt(...Ne);return!(null===(Ze=Se?.spy)||void 0===Ze)&&Ze.apply&&Se.spy.apply(Me,Ne,lt),lt})})})}),j=(fe,we)=>{we.forEach(ve=>{Object.getOwnPropertyNames(ve.prototype||ve).forEach(Se=>{Object.defineProperty(fe.prototype,Se,Object.getOwnPropertyDescriptor(ve.prototype||ve,Se))})})};class te{constructor(we){return we}}const Q=new o.OlP("angularfire2.app.options"),J=new o.OlP("angularfire2.app.name");function k(fe,we,ve){const _e="object"==typeof ve&&ve||{};_e.name=_e.name||"string"==typeof ve&&ve||"[DEFAULT]";const qe=R.Z.apps.filter(oe=>oe&&oe.name===_e.name)[0]||we.runOutsideAngular(()=>R.Z.initializeApp(fe,_e));try{JSON.stringify(fe)!==JSON.stringify(qe.options)&&O("error",`${qe.name} Firebase App already initialized with different options${Bt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new te(qe)}const O=(fe,...we)=>{(0,o.X6Q)()&&typeof console<"u"&&console[fe](...we)},M={provide:te,useFactory:k,deps:[Q,o.R0b,[new o.FiY,J]]};let Z=(()=>{class fe{constructor(ve){R.Z.registerVersion("angularfire",A.q4.full,"core"),R.Z.registerVersion("angularfire",A.q4.full,"app-compat"),R.Z.registerVersion("angular",o.q4F.full,ve.toString())}static initializeApp(ve,Se){return{ngModule:fe,providers:[{provide:Q,useValue:ve},{provide:J,useValue:Se}]}}}return fe.\u0275fac=function(ve){return new(ve||fe)(o.LFG(o.Lbi))},fe.\u0275mod=o.oAB({type:fe}),fe.\u0275inj=o.cJS({providers:[M]}),fe})();function z(fe,we,ve,Se,_e){const[,Me,qe]=globalThis.\u0275AngularfireInstanceCache.find(oe=>oe[0]===fe)||[];if(Me)return function ie(fe,we){try{return fe.toString()===we.toString()}catch{return fe===we}}(_e,qe)||(le("error",`${we} was already initialized on the ${ve} Firebase App with different settings.${pe?" You may need to reload as Firebase is not HMR aware.":""}`),le("warn",{is:_e,was:qe})),Me;{const oe=Se();return globalThis.\u0275AngularfireInstanceCache.push([fe,oe,_e]),oe}}const pe=!!Bt.hot,le=(fe,...we)=>{(0,o.X6Q)()&&typeof console<"u"&&console[fe](...we)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(Bt,re,H)=>{"use strict";H.d(re,{q4:()=>bf,iC:()=>Fu,fc:()=>ua,HU:()=>to,vb:()=>xd,JM:()=>xc});var o=H(4650),R=H(259),A=H(5861),N=H(6881),G=H(2090),j=H(4859),te=H(1877);const Q=(C,E)=>E.some(P=>C instanceof P);let J,k;const Z=new WeakMap,z=new WeakMap,ie=new WeakMap,pe=new WeakMap,le=new WeakMap;let ve={get(C,E,P){if(C instanceof IDBTransaction){if("done"===E)return z.get(C);if("objectStoreNames"===E)return C.objectStoreNames||ie.get(C);if("store"===E)return P.objectStoreNames[1]?void 0:P.objectStore(P.objectStoreNames[0])}return qe(C[E])},set:(C,E,P)=>(C[E]=P,!0),has:(C,E)=>C instanceof IDBTransaction&&("done"===E||"store"===E)||E in C};function Me(C){return"function"==typeof C?function _e(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function M(){return k||(k=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...E){return C.apply(oe(this),E),qe(Z.get(this))}:function(...E){return qe(C.apply(oe(this),E))}:function(E,...P){const ee=C.call(oe(this),E,...P);return ie.set(ee,E.sort?E.sort():[E]),qe(ee)}}(C):(C instanceof IDBTransaction&&function we(C){if(z.has(C))return;const E=new Promise((P,ee)=>{const se=()=>{C.removeEventListener("complete",Re),C.removeEventListener("error",Ue),C.removeEventListener("abort",Ue)},Re=()=>{P(),se()},Ue=()=>{ee(C.error||new DOMException("AbortError","AbortError")),se()};C.addEventListener("complete",Re),C.addEventListener("error",Ue),C.addEventListener("abort",Ue)});z.set(C,E)}(C),Q(C,function O(){return J||(J=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,ve):C)}function qe(C){if(C instanceof IDBRequest)return function fe(C){const E=new Promise((P,ee)=>{const se=()=>{C.removeEventListener("success",Re),C.removeEventListener("error",Ue)},Re=()=>{P(qe(C.result)),se()},Ue=()=>{ee(C.error),se()};C.addEventListener("success",Re),C.addEventListener("error",Ue)});return E.then(P=>{P instanceof IDBCursor&&Z.set(P,C)}).catch(()=>{}),le.set(E,C),E}(C);if(pe.has(C))return pe.get(C);const E=Me(C);return E!==C&&(pe.set(C,E),le.set(E,C)),E}const oe=C=>le.get(C),Ne=["get","getKey","getAll","getAllKeys","count"],rt=["put","add","delete","clear"],Ze=new Map;function lt(C,E){if(!(C instanceof IDBDatabase)||E in C||"string"!=typeof E)return;if(Ze.get(E))return Ze.get(E);const P=E.replace(/FromIndex$/,""),ee=E!==P,se=rt.includes(P);if(!(P in(ee?IDBIndex:IDBObjectStore).prototype)||!se&&!Ne.includes(P))return;const Re=function(){var Ue=(0,A.Z)(function*(wt,...bt){const Pt=this.transaction(wt,se?"readwrite":"readonly");let hn=Pt.store;return ee&&(hn=hn.index(bt.shift())),(yield Promise.all([hn[P](...bt),se&&Pt.done]))[0]});return function(bt){return Ue.apply(this,arguments)}}();return Ze.set(E,Re),Re}!function Se(C){ve=C(ve)}(C=>({...C,get:(E,P,ee)=>lt(E,P)||C.get(E,P,ee),has:(E,P)=>!!lt(E,P)||C.has(E,P)}));const ut="@firebase/installations",Lt="0.6.4",He=1e4,Be=`w:${Lt}`,Ae="FIS_v2",De="https://firebaseinstallations.googleapis.com/v1",xe=36e5,ft=new G.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function vt(C){return C instanceof G.ZR&&C.code.includes("request-failed")}function Gt({projectId:C}){return`${De}/projects/${C}/installations`}function Ft(C){return{token:C.token,requestStatus:2,expiresIn:Te(C.expiresIn),creationTime:Date.now()}}function rn(C,E){return L.apply(this,arguments)}function L(){return(L=(0,A.Z)(function*(C,E){const ee=(yield E.json()).error;return ft.create("request-failed",{requestName:C,serverCode:ee.code,serverMessage:ee.message,serverStatus:ee.status})})).apply(this,arguments)}function Qe({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function ce(C){return ae.apply(this,arguments)}function ae(){return(ae=(0,A.Z)(function*(C){const E=yield C();return E.status>=500&&E.status<600?C():E})).apply(this,arguments)}function Te(C){return Number(C.replace("s","000"))}function be(){return(be=(0,A.Z)(function*({appConfig:C,heartbeatServiceProvider:E},{fid:P}){const ee=Gt(C),se=Qe(C),Re=E.getImmediate({optional:!0});if(Re){const Pt=yield Re.getHeartbeatsHeader();Pt&&se.append("x-firebase-client",Pt)}const wt={method:"POST",headers:se,body:JSON.stringify({fid:P,authVersion:Ae,appId:C.appId,sdkVersion:Be})},bt=yield ce(()=>fetch(ee,wt));if(bt.ok){const Pt=yield bt.json();return{fid:Pt.fid||P,registrationStatus:2,refreshToken:Pt.refreshToken,authToken:Ft(Pt.authToken)}}throw yield rn("Create Installation",bt)})).apply(this,arguments)}function ot(C){return new Promise(E=>{setTimeout(E,C)})}const st=/^[cdef][\w-]{21}$/,Mt="";function vn(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const P=function Rt(C){return function xt(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return st.test(P)?P:Mt}catch{return Mt}}function Wt(C){return`${C.appName}!${C.appId}`}const Ot=new Map;function $t(C,E){const P=Wt(C);Jn(P,E),function Ui(C,E){const P=function Di(){return!zn&&"BroadcastChannel"in self&&(zn=new BroadcastChannel("[Firebase] FID Change"),zn.onmessage=C=>{Jn(C.data.key,C.data.fid)}),zn}();P&&P.postMessage({key:C,fid:E}),function gn(){0===Ot.size&&zn&&(zn.close(),zn=null)}()}(P,E)}function Jn(C,E){const P=Ot.get(C);if(P)for(const ee of P)ee(E)}let zn=null;const Vr="firebase-installations-database",bn=1,ur="firebase-installations-store";let on=null;function si(){return on||(on=function he(C,E,{blocked:P,upgrade:ee,blocking:se,terminated:Re}={}){const Ue=indexedDB.open(C,E),wt=qe(Ue);return ee&&Ue.addEventListener("upgradeneeded",bt=>{ee(qe(Ue.result),bt.oldVersion,bt.newVersion,qe(Ue.transaction))}),P&&Ue.addEventListener("blocked",()=>P()),wt.then(bt=>{Re&&bt.addEventListener("close",()=>Re()),se&&bt.addEventListener("versionchange",()=>se())}).catch(()=>{}),wt}(Vr,bn,{upgrade:(C,E)=>{0===E&&C.createObjectStore(ur)}})),on}function _i(C,E){return hr.apply(this,arguments)}function hr(){return(hr=(0,A.Z)(function*(C,E){const P=Wt(C),se=(yield si()).transaction(ur,"readwrite"),Re=se.objectStore(ur),Ue=yield Re.get(P);return yield Re.put(E,P),yield se.done,(!Ue||Ue.fid!==E.fid)&&$t(C,E.fid),E})).apply(this,arguments)}function Ei(C){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,A.Z)(function*(C){const E=Wt(C),ee=(yield si()).transaction(ur,"readwrite");yield ee.objectStore(ur).delete(E),yield ee.done})).apply(this,arguments)}function Er(C,E){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,A.Z)(function*(C,E){const P=Wt(C),se=(yield si()).transaction(ur,"readwrite"),Re=se.objectStore(ur),Ue=yield Re.get(P),wt=E(Ue);return void 0===wt?yield Re.delete(P):yield Re.put(wt,P),yield se.done,wt&&(!Ue||Ue.fid!==wt.fid)&&$t(C,wt.fid),wt})).apply(this,arguments)}function ye(C){return me.apply(this,arguments)}function me(){return me=(0,A.Z)(function*(C){let E;const P=yield Er(C.appConfig,ee=>{const se=function K(C){return Qt(C||{fid:vn(),registrationStatus:0})}(ee),Re=function X(C,E){if(0===E.registrationStatus){if(!navigator.onLine)return{installationEntry:E,registrationPromise:Promise.reject(ft.create("app-offline"))};const P={fid:E.fid,registrationStatus:1,registrationTime:Date.now()},ee=function $(C,E){return Ce.apply(this,arguments)}(C,P);return{installationEntry:P,registrationPromise:ee}}return 1===E.registrationStatus?{installationEntry:E,registrationPromise:et(C)}:{installationEntry:E}}(C,se);return E=Re.registrationPromise,Re.installationEntry});return P.fid===Mt?{installationEntry:yield E}:{installationEntry:P,registrationPromise:E}}),me.apply(this,arguments)}function Ce(){return Ce=(0,A.Z)(function*(C,E){try{const P=yield function Xe(C,E){return be.apply(this,arguments)}(C,E);return _i(C.appConfig,P)}catch(P){throw vt(P)&&409===P.customData.serverCode?yield Ei(C.appConfig):yield _i(C.appConfig,{fid:E.fid,registrationStatus:0}),P}}),Ce.apply(this,arguments)}function et(C){return At.apply(this,arguments)}function At(){return(At=(0,A.Z)(function*(C){let E=yield en(C.appConfig);for(;1===E.registrationStatus;)yield ot(100),E=yield en(C.appConfig);if(0===E.registrationStatus){const{installationEntry:P,registrationPromise:ee}=yield ye(C);return ee||P}return E})).apply(this,arguments)}function en(C){return Er(C,E=>{if(!E)throw ft.create("installation-not-found");return Qt(E)})}function Qt(C){return function xn(C){return 1===C.registrationStatus&&C.registrationTime+He<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function ai(){return(ai=(0,A.Z)(function*({appConfig:C,heartbeatServiceProvider:E},P){const ee=function _n(C,{fid:E}){return`${Gt(C)}/${E}/authTokens:generate`}(C,P),se=function Pe(C,{refreshToken:E}){const P=Qe(C);return P.append("Authorization",function tt(C){return`${Ae} ${C}`}(E)),P}(C,P),Re=E.getImmediate({optional:!0});if(Re){const Pt=yield Re.getHeartbeatsHeader();Pt&&se.append("x-firebase-client",Pt)}const wt={method:"POST",headers:se,body:JSON.stringify({installation:{sdkVersion:Be,appId:C.appId}})},bt=yield ce(()=>fetch(ee,wt));if(bt.ok)return Ft(yield bt.json());throw yield rn("Generate Auth Token",bt)})).apply(this,arguments)}function er(C){return ws.apply(this,arguments)}function ws(){return ws=(0,A.Z)(function*(C,E=!1){let P;const ee=yield Er(C.appConfig,Re=>{if(!Cn(Re))throw ft.create("not-registered");const Ue=Re.authToken;if(!E&&function qt(C){return 2===C.requestStatus&&!function qn(C){const E=Date.now();return E<C.creationTime||C.creationTime+C.expiresIn<E+xe}(C)}(Ue))return Re;if(1===Ue.requestStatus)return P=function $e(C,E){return Le.apply(this,arguments)}(C,E),Re;{if(!navigator.onLine)throw ft.create("app-offline");const wt=function On(C){const E={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:E})}(Re);return P=function Ht(C,E){return tn.apply(this,arguments)}(C,wt),wt}});return P?yield P:ee.authToken}),ws.apply(this,arguments)}function Le(){return(Le=(0,A.Z)(function*(C,E){let P=yield ht(C.appConfig);for(;1===P.authToken.requestStatus;)yield ot(100),P=yield ht(C.appConfig);const ee=P.authToken;return 0===ee.requestStatus?er(C,E):ee})).apply(this,arguments)}function ht(C){return Er(C,E=>{if(!Cn(E))throw ft.create("not-registered");return function Tr(C){return 1===C.requestStatus&&C.requestTime+He<Date.now()}(E.authToken)?Object.assign(Object.assign({},E),{authToken:{requestStatus:0}}):E})}function tn(){return tn=(0,A.Z)(function*(C,E){try{const P=yield function sn(C,E){return ai.apply(this,arguments)}(C,E),ee=Object.assign(Object.assign({},E),{authToken:P});return yield _i(C.appConfig,ee),P}catch(P){if(!vt(P)||401!==P.customData.serverCode&&404!==P.customData.serverCode){const ee=Object.assign(Object.assign({},E),{authToken:{requestStatus:0}});yield _i(C.appConfig,ee)}else yield Ei(C.appConfig);throw P}}),tn.apply(this,arguments)}function Cn(C){return void 0!==C&&2===C.registrationStatus}function qc(){return(qc=(0,A.Z)(function*(C){const E=C,{installationEntry:P,registrationPromise:ee}=yield ye(E);return ee?ee.catch(console.error):er(E).catch(console.error),P.fid})).apply(this,arguments)}function Zs(){return Zs=(0,A.Z)(function*(C,E=!1){const P=C;return yield function nr(C){return Dt.apply(this,arguments)}(P),(yield er(P,E)).token}),Zs.apply(this,arguments)}function Dt(){return(Dt=(0,A.Z)(function*(C){const{registrationPromise:E}=yield ye(C);E&&(yield E)})).apply(this,arguments)}function Vn(C){return ft.create("missing-app-config-values",{valueName:C})}const wn="installations",yo=C=>{const E=C.getProvider("app").getImmediate(),P=function nc(C){if(!C||!C.options)throw Vn("App Configuration");if(!C.name)throw Vn("App Name");const E=["projectId","apiKey","appId"];for(const P of E)if(!C.options[P])throw Vn(P);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(E);return{app:E,appConfig:P,heartbeatServiceProvider:(0,N._getProvider)(E,"heartbeat"),_delete:()=>Promise.resolve()}},xs=C=>{const E=C.getProvider("app").getImmediate(),P=(0,N._getProvider)(E,wn).getImmediate();return{getId:()=>function tr(C){return qc.apply(this,arguments)}(P),getToken:se=>function Wp(C){return Zs.apply(this,arguments)}(P,se)}};(function vo(){(0,N._registerComponent)(new j.wA(wn,yo,"PUBLIC")),(0,N._registerComponent)(new j.wA("installations-internal",xs,"PRIVATE"))})(),(0,N.registerVersion)(ut,Lt),(0,N.registerVersion)(ut,Lt,"esm2017");const Ti="@firebase/remote-config",yi=new G.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class T_{constructor(E,P,ee,se){this.client=E,this.storage=P,this.storageCache=ee,this.logger=se}isCachedDataFresh(E,P){if(!P)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ee=Date.now()-P,se=ee<=E;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ee}. Cache max age millis (minimumFetchIntervalMillis setting): ${E}. Is cache hit: ${se}.`),se}fetch(E){var P=this;return(0,A.Z)(function*(){const[ee,se]=yield Promise.all([P.storage.getLastSuccessfulFetchTimestampMillis(),P.storage.getLastSuccessfulFetchResponse()]);if(se&&P.isCachedDataFresh(E.cacheMaxAgeMillis,ee))return se;E.eTag=se&&se.eTag;const Re=yield P.client.fetch(E),Ue=[P.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Re.status&&Ue.push(P.storage.setLastSuccessfulFetchResponse(Re)),yield Promise.all(Ue),Re})()}}function au(C=navigator){return C.languages&&C.languages[0]||C.language}class Kp{constructor(E,P,ee,se,Re,Ue){this.firebaseInstallations=E,this.sdkVersion=P,this.namespace=ee,this.projectId=se,this.apiKey=Re,this.appId=Ue}fetch(E){var P=this;return(0,A.Z)(function*(){const[ee,se]=yield Promise.all([P.firebaseInstallations.getId(),P.firebaseInstallations.getToken()]),Ue=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${P.projectId}/namespaces/${P.namespace}:fetch?key=${P.apiKey}`,wt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":E.eTag||"*"},bt={sdk_version:P.sdkVersion,app_instance_id:ee,app_instance_id_token:se,app_id:P.appId,language_code:au()},Pt={method:"POST",headers:wt,body:JSON.stringify(bt)},hn=fetch(Ue,Pt),fn=new Promise((Eo,ls)=>{E.signal.addEventListener(()=>{const Pl=new Error("The operation was aborted.");Pl.name="AbortError",ls(Pl)})});let no;try{yield Promise.race([hn,fn]),no=yield hn}catch(Eo){let ls="fetch-client-network";throw"AbortError"===Eo?.name&&(ls="fetch-timeout"),yi.create(ls,{originalErrorMessage:Eo?.message})}let Zi=no.status;const Nu=no.headers.get("ETag")||void 0;let as,Is;if(200===no.status){let Eo;try{Eo=yield no.json()}catch(ls){throw yi.create("fetch-client-parse",{originalErrorMessage:ls?.message})}as=Eo.entries,Is=Eo.state}if("INSTANCE_STATE_UNSPECIFIED"===Is?Zi=500:"NO_CHANGE"===Is?Zi=304:("NO_TEMPLATE"===Is||"EMPTY_CONFIG"===Is)&&(as={}),304!==Zi&&200!==Zi)throw yi.create("fetch-status",{httpStatus:Zi});return{status:Zi,eTag:Nu,config:as}})()}}class Lh{constructor(E,P){this.client=E,this.storage=P}fetch(E){var P=this;return(0,A.Z)(function*(){const ee=(yield P.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return P.attemptFetch(E,ee)})()}attemptFetch(E,{throttleEndTimeMillis:P,backoffCount:ee}){var se=this;return(0,A.Z)(function*(){yield function Ra(C,E){return new Promise((P,ee)=>{const se=Math.max(E-Date.now(),0),Re=setTimeout(P,se);C.addEventListener(()=>{clearTimeout(Re),ee(yi.create("fetch-throttle",{throttleEndTimeMillis:E}))})})}(E.signal,P);try{const Re=yield se.client.fetch(E);return yield se.storage.deleteThrottleMetadata(),Re}catch(Re){if(!function A_(C){if(!(C instanceof G.ZR&&C.customData))return!1;const E=Number(C.customData.httpStatus);return 429===E||500===E||503===E||504===E}(Re))throw Re;const Ue={throttleEndTimeMillis:Date.now()+(0,G.$s)(ee),backoffCount:ee+1};return yield se.storage.setThrottleMetadata(Ue),se.attemptFetch(E,Ue)}})()}}class Oa{constructor(E,P,ee,se,Re){this.app=E,this._client=P,this._storageCache=ee,this._storage=se,this._logger=Re,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ks(C,E){const P=C.target.error||void 0;return yi.create(E,{originalErrorMessage:P&&P?.message})}const or="app_namespace_store";class Uh{constructor(E,P,ee,se=function Jp(){return new Promise((C,E)=>{try{const P=indexedDB.open("firebase_remote_config",1);P.onerror=ee=>{E(Ks(ee,"storage-open"))},P.onsuccess=ee=>{C(ee.target.result)},P.onupgradeneeded=ee=>{0===ee.oldVersion&&ee.target.result.createObjectStore(or,{keyPath:"compositeKey"})}}catch(P){E(yi.create("storage-open",{originalErrorMessage:P?.message}))}})}()){this.appId=E,this.appName=P,this.namespace=ee,this.openDbPromise=se}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(E){return this.set("last_fetch_status",E)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(E){return this.set("last_successful_fetch_timestamp_millis",E)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(E){return this.set("last_successful_fetch_response",E)}getActiveConfig(){return this.get("active_config")}setActiveConfig(E){return this.set("active_config",E)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(E){return this.set("active_config_etag",E)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(E){return this.set("throttle_metadata",E)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(E){var P=this;return(0,A.Z)(function*(){const ee=yield P.openDbPromise;return new Promise((se,Re)=>{const wt=ee.transaction([or],"readonly").objectStore(or),bt=P.createCompositeKey(E);try{const Pt=wt.get(bt);Pt.onerror=hn=>{Re(Ks(hn,"storage-get"))},Pt.onsuccess=hn=>{const fn=hn.target.result;se(fn?fn.value:void 0)}}catch(Pt){Re(yi.create("storage-get",{originalErrorMessage:Pt?.message}))}})})()}set(E,P){var ee=this;return(0,A.Z)(function*(){const se=yield ee.openDbPromise;return new Promise((Re,Ue)=>{const bt=se.transaction([or],"readwrite").objectStore(or),Pt=ee.createCompositeKey(E);try{const hn=bt.put({compositeKey:Pt,value:P});hn.onerror=fn=>{Ue(Ks(fn,"storage-set"))},hn.onsuccess=()=>{Re()}}catch(hn){Ue(yi.create("storage-set",{originalErrorMessage:hn?.message}))}})})()}delete(E){var P=this;return(0,A.Z)(function*(){const ee=yield P.openDbPromise;return new Promise((se,Re)=>{const wt=ee.transaction([or],"readwrite").objectStore(or),bt=P.createCompositeKey(E);try{const Pt=wt.delete(bt);Pt.onerror=hn=>{Re(Ks(hn,"storage-delete"))},Pt.onsuccess=()=>{se()}}catch(Pt){Re(yi.create("storage-delete",{originalErrorMessage:Pt?.message}))}})})()}createCompositeKey(E){return[this.appId,this.appName,this.namespace,E].join()}}class Ar{constructor(E){this.storage=E}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var E=this;return(0,A.Z)(function*(){const P=E.storage.getLastFetchStatus(),ee=E.storage.getLastSuccessfulFetchTimestampMillis(),se=E.storage.getActiveConfig(),Re=yield P;Re&&(E.lastFetchStatus=Re);const Ue=yield ee;Ue&&(E.lastSuccessfulFetchTimestampMillis=Ue);const wt=yield se;wt&&(E.activeConfig=wt)})()}setLastFetchStatus(E){return this.lastFetchStatus=E,this.storage.setLastFetchStatus(E)}setLastSuccessfulFetchTimestampMillis(E){return this.lastSuccessfulFetchTimestampMillis=E,this.storage.setLastSuccessfulFetchTimestampMillis(E)}setActiveConfig(E){return this.activeConfig=E,this.storage.setActiveConfig(E)}}function Gh(){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,A.Z)(function*(){if(!(0,G.hl)())return!1;try{return yield(0,G.eu)()}catch{return!1}})).apply(this,arguments)}!function wo(){(0,N._registerComponent)(new j.wA("remote-config",function C(E,{instanceIdentifier:P}){const ee=E.getProvider("app").getImmediate(),se=E.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw yi.create("registration-window");if(!(0,G.hl)())throw yi.create("indexed-db-unavailable");const{projectId:Re,apiKey:Ue,appId:wt}=ee.options;if(!Re)throw yi.create("registration-project-id");if(!Ue)throw yi.create("registration-api-key");if(!wt)throw yi.create("registration-app-id");const bt=new Uh(wt,ee.name,P=P||"firebase"),Pt=new Ar(bt),hn=new te.Yd(Ti);hn.logLevel=te.in.ERROR;const fn=new Kp(se,N.SDK_VERSION,P,Re,Ue,wt),no=new Lh(fn,bt),Zi=new T_(no,bt,Pt,hn),Nu=new Oa(ee,Zi,Pt,bt,hn);return function Gr(C){const E=(0,G.m9)(C);E._initializePromise||(E._initializePromise=E._storageCache.loadFromStorage().then(()=>{E._isInitializationComplete=!0}))}(Nu),Nu},"PUBLIC").setMultipleInstances(!0)),(0,N.registerVersion)(Ti,"0.4.4"),(0,N.registerVersion)(Ti,"0.4.4","esm2017")}();const Xp=(C,E)=>E.some(P=>C instanceof P);let Qs,lu;const vl=new WeakMap,Pa=new WeakMap,vi=new WeakMap,sc=new WeakMap,Kc=new WeakMap;let Na={get(C,E,P){if(C instanceof IDBTransaction){if("done"===E)return Pa.get(C);if("objectStoreNames"===E)return C.objectStoreNames||vi.get(C);if("store"===E)return P.objectStoreNames[1]?void 0:P.objectStore(P.objectStoreNames[0])}return zr(C[E])},set:(C,E,P)=>(C[E]=P,!0),has:(C,E)=>C instanceof IDBTransaction&&("done"===E||"store"===E)||E in C};function Qc(C){return"function"==typeof C?function em(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function zh(){return lu||(lu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...E){return C.apply(sr(this),E),zr(vl.get(this))}:function(...E){return zr(C.apply(sr(this),E))}:function(E,...P){const ee=C.call(sr(this),E,...P);return vi.set(ee,E.sort?E.sort():[E]),zr(ee)}}(C):(C instanceof IDBTransaction&&function Fa(C){if(Pa.has(C))return;const E=new Promise((P,ee)=>{const se=()=>{C.removeEventListener("complete",Re),C.removeEventListener("error",Ue),C.removeEventListener("abort",Ue)},Re=()=>{P(),se()},Ue=()=>{ee(C.error||new DOMException("AbortError","AbortError")),se()};C.addEventListener("complete",Re),C.addEventListener("error",Ue),C.addEventListener("abort",Ue)});Pa.set(C,E)}(C),Xp(C,function Wc(){return Qs||(Qs=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,Na):C)}function zr(C){if(C instanceof IDBRequest)return function Gi(C){const E=new Promise((P,ee)=>{const se=()=>{C.removeEventListener("success",Re),C.removeEventListener("error",Ue)},Re=()=>{P(zr(C.result)),se()},Ue=()=>{ee(C.error),se()};C.addEventListener("success",Re),C.addEventListener("error",Ue)});return E.then(P=>{P instanceof IDBCursor&&vl.set(P,C)}).catch(()=>{}),Kc.set(E,C),E}(C);if(sc.has(C))return sc.get(C);const E=Qc(C);return E!==C&&(sc.set(C,E),Kc.set(E,C)),E}const sr=C=>Kc.get(C);function ac(C,E,{blocked:P,upgrade:ee,blocking:se,terminated:Re}={}){const Ue=indexedDB.open(C,E),wt=zr(Ue);return ee&&Ue.addEventListener("upgradeneeded",bt=>{ee(zr(Ue.result),bt.oldVersion,bt.newVersion,zr(Ue.transaction))}),P&&Ue.addEventListener("blocked",()=>P()),wt.then(bt=>{Re&&bt.addEventListener("close",()=>Re()),se&&bt.addEventListener("versionchange",()=>se())}).catch(()=>{}),wt}function Js(C,{blocked:E}={}){const P=indexedDB.deleteDatabase(C);return E&&P.addEventListener("blocked",()=>E()),zr(P).then(()=>{})}const jh=["get","getKey","getAll","getAllKeys","count"],Ds=["put","add","delete","clear"],lc=new Map;function bl(C,E){if(!(C instanceof IDBDatabase)||E in C||"string"!=typeof E)return;if(lc.get(E))return lc.get(E);const P=E.replace(/FromIndex$/,""),ee=E!==P,se=Ds.includes(P);if(!(P in(ee?IDBIndex:IDBObjectStore).prototype)||!se&&!jh.includes(P))return;const Re=function(){var Ue=(0,A.Z)(function*(wt,...bt){const Pt=this.transaction(wt,se?"readwrite":"readonly");let hn=Pt.store;return ee&&(hn=hn.index(bt.shift())),(yield Promise.all([hn[P](...bt),se&&Pt.done]))[0]});return function(bt){return Ue.apply(this,arguments)}}();return lc.set(E,Re),Re}!function pr(C){Na=C(Na)}(C=>({...C,get:(E,P,ee)=>bl(E,P)||C.get(E,P,ee),has:(E,P)=>!!bl(E,P)||C.has(E,P)}));const un="/firebase-messaging-sw.js",Jc="/firebase-cloud-messaging-push-scope",tm="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",cu="https://fcmregistrations.googleapis.com/v1",du="google.c.a.c_id",uu="google.c.a.c_l",qh="google.c.a.ts",Zh="google.c.a.e";var Ye=(()=>{return(C=Ye||(Ye={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",Ye;var C})();function pn(C){const E=new Uint8Array(C);return btoa(String.fromCharCode(...E)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function hu(C){const P=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ee=atob(P),se=new Uint8Array(ee.length);for(let Re=0;Re<ee.length;++Re)se[Re]=ee.charCodeAt(Re);return se}const cc="fcm_token_details_db",Ai=5,$h="fcm_token_object_Store";function xo(){return xo=(0,A.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Re=>Re.name).includes(cc))return null;let E=null;return(yield ac(cc,Ai,{upgrade:(ee=(0,A.Z)(function*(se,Re,Ue,wt){var bt;if(Re<2||!se.objectStoreNames.contains($h))return;const Pt=wt.objectStore($h),hn=yield Pt.index("fcmSenderId").get(C);if(yield Pt.clear(),hn)if(2===Re){const fn=hn;if(!fn.auth||!fn.p256dh||!fn.endpoint)return;E={token:fn.fcmToken,createTime:null!==(bt=fn.createTime)&&void 0!==bt?bt:Date.now(),subscriptionOptions:{auth:fn.auth,p256dh:fn.p256dh,endpoint:fn.endpoint,swScope:fn.swScope,vapidKey:"string"==typeof fn.vapidKey?fn.vapidKey:pn(fn.vapidKey)}}}else if(3===Re){const fn=hn;E={token:fn.fcmToken,createTime:fn.createTime,subscriptionOptions:{auth:pn(fn.auth),p256dh:pn(fn.p256dh),endpoint:fn.endpoint,swScope:fn.swScope,vapidKey:pn(fn.vapidKey)}}}else if(4===Re){const fn=hn;E={token:fn.fcmToken,createTime:fn.createTime,subscriptionOptions:{auth:pn(fn.auth),p256dh:pn(fn.p256dh),endpoint:fn.endpoint,swScope:fn.swScope,vapidKey:pn(fn.vapidKey)}}}}),function(Re,Ue,wt,bt){return ee.apply(this,arguments)})})).close(),yield Js(cc),yield Js("fcm_vapid_details_db"),yield Js("undefined"),function Xc(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:E}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof E.auth&&E.auth.length>0&&"string"==typeof E.p256dh&&E.p256dh.length>0&&"string"==typeof E.endpoint&&E.endpoint.length>0&&"string"==typeof E.swScope&&E.swScope.length>0&&"string"==typeof E.vapidKey&&E.vapidKey.length>0}(E)?E:null;var ee}),xo.apply(this,arguments)}const Yh="firebase-messaging-database",Wh=1,Xs="firebase-messaging-store";let xl=null;function mr(){return xl||(xl=ac(Yh,Wh,{upgrade:(C,E)=>{0===E&&C.createObjectStore(Xs)}})),xl}function eo(C){return ea.apply(this,arguments)}function ea(){return ea=(0,A.Z)(function*(C){const E=Qh(C),ee=yield(yield mr()).transaction(Xs).objectStore(Xs).get(E);if(ee)return ee;{const se=yield function wl(C){return xo.apply(this,arguments)}(C.appConfig.senderId);if(se)return yield Ss(C,se),se}}),ea.apply(this,arguments)}function Ss(C,E){return ns.apply(this,arguments)}function ns(){return(ns=(0,A.Z)(function*(C,E){const P=Qh(C),se=(yield mr()).transaction(Xs,"readwrite");return yield se.objectStore(Xs).put(E,P),yield se.done,E})).apply(this,arguments)}function La(){return(La=(0,A.Z)(function*(C){const E=Qh(C),ee=(yield mr()).transaction(Xs,"readwrite");yield ee.objectStore(Xs).delete(E),yield ee.done})).apply(this,arguments)}function Qh({appConfig:C}){return C.appId}const Ii=new G.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ed(C,E){return dc.apply(this,arguments)}function dc(){return(dc=(0,A.Z)(function*(C,E){const P=yield uc(C),ee=nd(E),se={method:"POST",headers:P,body:JSON.stringify(ee)};let Re;try{Re=yield(yield fetch(fu(C.appConfig),se)).json()}catch(Ue){throw Ii.create("token-subscribe-failed",{errorInfo:Ue?.toString()})}if(Re.error)throw Ii.create("token-subscribe-failed",{errorInfo:Re.error.message});if(!Re.token)throw Ii.create("token-subscribe-no-token");return Re.token})).apply(this,arguments)}function td(){return(td=(0,A.Z)(function*(C,E){const P=yield uc(C),ee=nd(E.subscriptionOptions),se={method:"PATCH",headers:P,body:JSON.stringify(ee)};let Re;try{Re=yield(yield fetch(`${fu(C.appConfig)}/${E.token}`,se)).json()}catch(Ue){throw Ii.create("token-update-failed",{errorInfo:Ue?.toString()})}if(Re.error)throw Ii.create("token-update-failed",{errorInfo:Re.error.message});if(!Re.token)throw Ii.create("token-update-no-token");return Re.token})).apply(this,arguments)}function Xh(C,E){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,A.Z)(function*(C,E){const ee={method:"DELETE",headers:yield uc(C)};try{const Re=yield(yield fetch(`${fu(C.appConfig)}/${E}`,ee)).json();if(Re.error)throw Ii.create("token-unsubscribe-failed",{errorInfo:Re.error.message})}catch(se){throw Ii.create("token-unsubscribe-failed",{errorInfo:se?.toString()})}})).apply(this,arguments)}function fu({projectId:C}){return`${cu}/projects/${C}/registrations`}function uc(C){return pu.apply(this,arguments)}function pu(){return(pu=(0,A.Z)(function*({appConfig:C,installations:E}){const P=yield E.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${P}`})})).apply(this,arguments)}function nd({p256dh:C,auth:E,endpoint:P,vapidKey:ee}){const se={web:{endpoint:P,auth:E,p256dh:C}};return ee!==tm&&(se.web.applicationPubKey=ee),se}const ef=6048e5;function tf(){return tf=(0,A.Z)(function*(C){const E=yield function M_(C,E){return nf.apply(this,arguments)}(C.swRegistration,C.vapidKey),P={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:E.endpoint,auth:pn(E.getKey("auth")),p256dh:pn(E.getKey("p256dh"))},ee=yield eo(C.firebaseDependencies);if(ee){if(function R_(C,E){return E.vapidKey===C.vapidKey&&E.endpoint===C.endpoint&&E.auth===C.auth&&E.p256dh===C.p256dh}(ee.subscriptionOptions,P))return Date.now()>=ee.createTime+ef?function fi(C,E){return gu.apply(this,arguments)}(C,{token:ee.token,createTime:Date.now(),subscriptionOptions:P}):ee.token;try{yield Xh(C.firebaseDependencies,ee.token)}catch(se){console.warn(se)}return Dl(C.firebaseDependencies,P)}return Dl(C.firebaseDependencies,P)}),tf.apply(this,arguments)}function is(){return is=(0,A.Z)(function*(C){const E=yield eo(C.firebaseDependencies);E&&(yield Xh(C.firebaseDependencies,E.token),yield function Kh(C){return La.apply(this,arguments)}(C.firebaseDependencies));const P=yield C.swRegistration.pushManager.getSubscription();return!P||P.unsubscribe()}),is.apply(this,arguments)}function gu(){return gu=(0,A.Z)(function*(C,E){try{const P=yield function Jh(C,E){return td.apply(this,arguments)}(C.firebaseDependencies,E),ee=Object.assign(Object.assign({},E),{token:P,createTime:Date.now()});return yield Ss(C.firebaseDependencies,ee),P}catch(P){throw yield function Ir(C){return is.apply(this,arguments)}(C),P}}),gu.apply(this,arguments)}function Dl(C,E){return id.apply(this,arguments)}function id(){return(id=(0,A.Z)(function*(C,E){const ee={token:yield ed(C,E),createTime:Date.now(),subscriptionOptions:E};return yield Ss(C,ee),ee.token})).apply(this,arguments)}function nf(){return(nf=(0,A.Z)(function*(C,E){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:hu(E)})})).apply(this,arguments)}function rd(C){const E={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function _u(C,E){if(!E.notification)return;C.notification={};const P=E.notification.title;P&&(C.notification.title=P);const ee=E.notification.body;ee&&(C.notification.body=ee);const se=E.notification.image;se&&(C.notification.image=se);const Re=E.notification.icon;Re&&(C.notification.icon=Re)}(E,C),function rf(C,E){E.data&&(C.data=E.data)}(E,C),function sf(C,E){var P,ee,se,Re,Ue;if(!(E.fcmOptions||null!==(P=E.notification)&&void 0!==P&&P.click_action))return;C.fcmOptions={};const wt=null!==(se=null===(ee=E.fcmOptions)||void 0===ee?void 0:ee.link)&&void 0!==se?se:null===(Re=E.notification)||void 0===Re?void 0:Re.click_action;wt&&(C.fcmOptions.link=wt);const bt=null===(Ue=E.fcmOptions)||void 0===Ue?void 0:Ue.analytics_label;bt&&(C.fcmOptions.analyticsLabel=bt)}(E,C),E}function Sl(C,E){const P=[];for(let ee=0;ee<C.length;ee++)P.push(C.charAt(ee)),ee<E.length&&P.push(E.charAt(ee));return P.join("")}function Es(C){return Ii.create("missing-app-config-values",{valueName:C})}Sl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Sl("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class O_{constructor(E,P,ee){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const se=function hc(C){if(!C||!C.options)throw Es("App Configuration Object");if(!C.name)throw Es("App Name");const E=["projectId","apiKey","appId","messagingSenderId"],{options:P}=C;for(const ee of E)if(!P[ee])throw Es(ee);return{appName:C.name,projectId:P.projectId,apiKey:P.apiKey,appId:P.appId,senderId:P.messagingSenderId}}(E);this.firebaseDependencies={app:E,appConfig:se,installations:P,analyticsProvider:ee}}_delete(){return Promise.resolve()}}function nm(C){return sd.apply(this,arguments)}function sd(){return(sd=(0,A.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(un,{scope:Jc}),C.swRegistration.update().catch(()=>{})}catch(E){throw Ii.create("failed-service-worker-registration",{browserErrorMessage:E?.message})}})).apply(this,arguments)}function Ts(){return(Ts=(0,A.Z)(function*(C,E){if(!E&&!C.swRegistration&&(yield nm(C)),E||!C.swRegistration){if(!(E instanceof ServiceWorkerRegistration))throw Ii.create("invalid-sw-registration");C.swRegistration=E}})).apply(this,arguments)}function fc(){return(fc=(0,A.Z)(function*(C,E){E?C.vapidKey=E:C.vapidKey||(C.vapidKey=tm)})).apply(this,arguments)}function El(){return El=(0,A.Z)(function*(C,E){if(!navigator)throw Ii.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ii.create("permission-blocked");return yield function yu(C,E){return fc.apply(this,arguments)}(C,E?.vapidKey),yield function af(C,E){return Ts.apply(this,arguments)}(C,E?.serviceWorkerRegistration),function mu(C){return tf.apply(this,arguments)}(C)}),El.apply(this,arguments)}function ta(){return(ta=(0,A.Z)(function*(C,E,P){const ee=function Ba(C){switch(C){case Ye.NOTIFICATION_CLICKED:return"notification_open";case Ye.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(E);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(ee,{message_id:P[du],message_name:P[uu],message_time:P[qh],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Va(){return Va=(0,A.Z)(function*(C,E){const P=E.data;if(!P.isFirebaseMessaging)return;C.onMessageHandler&&P.messageType===Ye.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(rd(P)):C.onMessageHandler.next(rd(P)));const ee=P.data;(function od(C){return"object"==typeof C&&!!C&&du in C})(ee)&&"1"===ee[Zh]&&(yield function lf(C,E,P){return ta.apply(this,arguments)}(C,P.messageType,ee))}),Va.apply(this,arguments)}const Al="@firebase/messaging",mc=C=>{const E=new O_(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",P=>function Tl(C,E){return Va.apply(this,arguments)}(E,P)),E},vu=C=>{const E=C.getProvider("messaging").getImmediate();return{getToken:ee=>function ad(C,E){return El.apply(this,arguments)}(E,ee)}};function im(){return bu.apply(this,arguments)}function bu(){return(bu=(0,A.Z)(function*(){try{yield(0,G.eu)()}catch{return!1}return typeof window<"u"&&(0,G.hl)()&&(0,G.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function gc(){(0,N._registerComponent)(new j.wA("messaging",mc,"PUBLIC")),(0,N._registerComponent)(new j.wA("messaging-internal",vu,"PRIVATE")),(0,N.registerVersion)(Al,"0.12.4"),(0,N.registerVersion)(Al,"0.12.4","esm2017")}();const na="analytics",cd="firebase_id",uf="origin",_c=6e4,hf="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",dd="https://www.googletagmanager.com/gtag/js",zi=new te.Yd("@firebase/analytics"),bi=new G.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function rm(C){if(!C.startsWith(dd)){const E=bi.create("invalid-gtag-resource",{gtagURL:C});return zi.warn(E.message),""}return C}function ia(C){return Promise.all(C.map(E=>E.catch(P=>P)))}function ra(){return(ra=(0,A.Z)(function*(C,E,P,ee,se,Re){const Ue=ee[se];try{if(Ue)yield E[Ue];else{const bt=(yield ia(P)).find(Pt=>Pt.measurementId===se);bt&&(yield E[bt.appId])}}catch(wt){zi.error(wt)}C("config",se,Re)})).apply(this,arguments)}function Ua(){return(Ua=(0,A.Z)(function*(C,E,P,ee,se){try{let Re=[];if(se&&se.send_to){let Ue=se.send_to;Array.isArray(Ue)||(Ue=[Ue]);const wt=yield ia(P);for(const bt of Ue){const Pt=wt.find(fn=>fn.measurementId===bt),hn=Pt&&E[Pt.appId];if(!hn){Re=[];break}Re.push(hn)}}0===Re.length&&(Re=Object.values(E)),yield Promise.all(Re),C("event",ee,se||{})}catch(Re){zi.error(Re)}})).apply(this,arguments)}const hd=30,za=new class ff{constructor(E={},P=1e3){this.throttleMetadata=E,this.intervalMillis=P}getThrottleMetadata(E){return this.throttleMetadata[E]}setThrottleMetadata(E,P){this.throttleMetadata[E]=P}deleteThrottleMetadata(E){delete this.throttleMetadata[E]}};function sm(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function Ln(){return(Ln=(0,A.Z)(function*(C){var E;const{appId:P,apiKey:ee}=C,se={method:"GET",headers:sm(ee)},Re=hf.replace("{app-id}",P),Ue=yield fetch(Re,se);if(200!==Ue.status&&304!==Ue.status){let wt="";try{const bt=yield Ue.json();null!==(E=bt.error)&&void 0!==E&&E.message&&(wt=bt.error.message)}catch{}throw bi.create("config-fetch-failed",{httpStatus:Ue.status,responseMessage:wt})}return Ue.json()})).apply(this,arguments)}function mf(){return(mf=(0,A.Z)(function*(C,E=za,P){const{appId:ee,apiKey:se,measurementId:Re}=C.options;if(!ee)throw bi.create("no-app-id");if(!se){if(Re)return{measurementId:Re,appId:ee};throw bi.create("no-api-key")}const Ue=E.getThrottleMetadata(ee)||{backoffCount:0,throttleEndTimeMillis:Date.now()},wt=new mb;return setTimeout((0,A.Z)(function*(){wt.abort()}),void 0!==P?P:_c),Tu({appId:ee,apiKey:se,measurementId:Re},Ue,wt,E)})).apply(this,arguments)}function Tu(C,E,P){return Au.apply(this,arguments)}function Au(){return Au=(0,A.Z)(function*(C,{throttleEndTimeMillis:E,backoffCount:P},ee,se=za){var Re;const{appId:Ue,measurementId:wt}=C;try{yield function am(C,E){return new Promise((P,ee)=>{const se=Math.max(E-Date.now(),0),Re=setTimeout(P,se);C.addEventListener(()=>{clearTimeout(Re),ee(bi.create("fetch-throttle",{throttleEndTimeMillis:E}))})})}(ee,E)}catch(bt){if(wt)return zi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${wt} provided in the "measurementId" field in the local Firebase config. [${bt?.message}]`),{appId:Ue,measurementId:wt};throw bt}try{const bt=yield function pf(C){return Ln.apply(this,arguments)}(C);return se.deleteThrottleMetadata(Ue),bt}catch(bt){const Pt=bt;if(!function pb(C){if(!(C instanceof G.ZR&&C.customData))return!1;const E=Number(C.customData.httpStatus);return 429===E||500===E||503===E||504===E}(Pt)){if(se.deleteThrottleMetadata(Ue),wt)return zi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${wt} provided in the "measurementId" field in the local Firebase config. [${Pt?.message}]`),{appId:Ue,measurementId:wt};throw bt}const hn=503===Number(null===(Re=Pt?.customData)||void 0===Re?void 0:Re.httpStatus)?(0,G.$s)(P,se.intervalMillis,hd):(0,G.$s)(P,se.intervalMillis),fn={throttleEndTimeMillis:Date.now()+hn,backoffCount:P+1};return se.setThrottleMetadata(Ue,fn),zi.debug(`Calling attemptFetch again in ${hn} millis`),Tu(C,fn,ee,se)}}),Au.apply(this,arguments)}class mb{constructor(){this.listeners=[]}addEventListener(E){this.listeners.push(E)}abort(){this.listeners.forEach(E=>E())}}let ja,sa;function lm(){return(lm=(0,A.Z)(function*(C,E,P,ee,se){if(se&&se.global)C("event",P,ee);else{const Re=yield E;C("event",P,Object.assign(Object.assign({},ee),{send_to:Re}))}})).apply(this,arguments)}function qa(){return(qa=(0,A.Z)(function*(){if(!(0,G.hl)())return zi.warn(bi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,G.eu)()}catch(C){return zi.warn(bi.create("indexeddb-unavailable",{errorInfo:C?.toString()}).message),!1}return!0})).apply(this,arguments)}function aa(){return aa=(0,A.Z)(function*(C,E,P,ee,se,Re,Ue){var wt;const bt=function Eu(C){return mf.apply(this,arguments)}(C);bt.then(Zi=>{P[Zi.measurementId]=Zi.appId,C.options.measurementId&&Zi.measurementId!==C.options.measurementId&&zi.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${Zi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Zi=>zi.error(Zi)),E.push(bt);const Pt=function Co(){return qa.apply(this,arguments)}().then(Zi=>{if(Zi)return ee.getId()}),[hn,fn]=yield Promise.all([bt,Pt]);(function Ga(C){const E=window.document.getElementsByTagName("script");for(const P of Object.values(E))if(P.src&&P.src.includes(dd)&&P.src.includes(C))return P;return null})(Re)||function kl(C,E){const P=function ud(C,E){let P;return window.trustedTypes&&(P=window.trustedTypes.createPolicy(C,E)),P}("firebase-js-sdk-policy",{createScriptURL:rm}),ee=document.createElement("script"),se=`${dd}?l=${C}&id=${E}`;ee.src=P?P?.createScriptURL(se):se,ee.async=!0,document.head.appendChild(ee)}(Re,hn.measurementId),sa&&(se("consent","default",sa),function bc(C){sa=C}(void 0)),se("js",new Date);const no=null!==(wt=Ue?.config)&&void 0!==wt?wt:{};return no[uf]="firebase",no.update=!0,null!=fn&&(no[cd]=fn),se("config",hn.measurementId,no),ja&&(se("set",ja),function md(C){ja=C}(void 0)),hn.measurementId}),aa.apply(this,arguments)}class gd{constructor(E){this.app=E}_delete(){return delete ri[this.app.options.appId],Promise.resolve()}}let ri={},cm=[];const la={};let dm,gr,ca="dataLayer",li="gtag",As=!1;function _f(C,E,P){!function No(){const C=[];if((0,G.ru)()&&C.push("This is a browser extension environment."),(0,G.zI)()||C.push("Cookies are not available."),C.length>0){const E=C.map((ee,se)=>`(${se+1}) ${ee}`).join(" "),P=bi.create("invalid-analytics-context",{errorInfo:E});zi.warn(P.message)}}();const ee=C.options.appId;if(!ee)throw bi.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw bi.create("no-api-key");zi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ri[ee])throw bi.create("already-exists",{id:ee});if(!As){!function Cu(C){let E=[];Array.isArray(window[C])?E=window[C]:window[C]=E}(ca);const{wrappedGtag:Re,gtagCore:Ue}=function Ha(C,E,P,ee,se){let Re=function(...Ue){window[ee].push(arguments)};return window[se]&&"function"==typeof window[se]&&(Re=window[se]),window[se]=function yc(C,E,P,ee){function Re(){return Re=(0,A.Z)(function*(Ue,...wt){try{if("event"===Ue){const[bt,Pt]=wt;yield function om(C,E,P,ee,se){return Ua.apply(this,arguments)}(C,E,P,bt,Pt)}else if("config"===Ue){const[bt,Pt]=wt;yield function Du(C,E,P,ee,se,Re){return ra.apply(this,arguments)}(C,E,P,ee,bt,Pt)}else if("consent"===Ue){const[bt]=wt;C("consent","update",bt)}else if("get"===Ue){const[bt,Pt,hn]=wt;C("get",bt,Pt,hn)}else if("set"===Ue){const[bt]=wt;C("set",bt)}else C(Ue,...wt)}catch(bt){zi.error(bt)}}),Re.apply(this,arguments)}return function se(Ue){return Re.apply(this,arguments)}}(Re,C,E,P),{gtagCore:Re,wrappedGtag:window[se]}}(ri,cm,la,ca,li);gr=Re,dm=Ue,As=!0}return ri[ee]=function Rl(C,E,P,ee,se,Re,Ue){return aa.apply(this,arguments)}(C,cm,la,E,dm,ca,P),new gd(C)}function da(){return Do.apply(this,arguments)}function Do(){return(Do=(0,A.Z)(function*(){if((0,G.ru)()||!(0,G.zI)()||!(0,G.hl)())return!1;try{return yield(0,G.eu)()}catch{return!1}})).apply(this,arguments)}const pi="@firebase/analytics";!function Lo(){(0,N._registerComponent)(new j.wA(na,(E,{options:P})=>_f(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),P),"PUBLIC")),(0,N._registerComponent)(new j.wA("analytics-internal",function C(E){try{const P=E.getProvider(na).getImmediate();return{logEvent:(ee,se,Re)=>function gt(C,E,P,ee){C=(0,G.m9)(C),function gb(C,E,P,ee,se){return lm.apply(this,arguments)}(gr,ri[C.app.options.appId],E,P,ee).catch(se=>zi.error(se))}(P,ee,se,Re)}}catch(P){throw bi.create("interop-component-reg-failed",{reason:P})}},"PRIVATE")),(0,N.registerVersion)(pi,"0.10.0"),(0,N.registerVersion)(pi,"0.10.0","esm2017")}();var Ou=H(4408),Nt=H(7565);const yf=new class So extends Nt.v{}(class an extends Ou.o{constructor(E,P){super(E,P),this.scheduler=E,this.work=P}schedule(E,P=0){return P>0?super.schedule(E,P):(this.delay=P,this.state=E,this.scheduler.flush(this),this)}execute(E,P){return P>0||this.closed?super.execute(E,P):this._execute(E,P)}requestAsyncId(E,P,ee=0){return null!=ee&&ee>0||null==ee&&this.delay>0?super.requestAsyncId(E,P,ee):(E.flush(this),0)}});var qi=H(4986),di=H(8505),vf=H(5363),vd=H(9468);const bf=new o.GfV("7.6.1"),$r="__angularfire_symbol__analyticsIsSupportedValue",_r="__angularfire_symbol__analyticsIsSupported",ui="__angularfire_symbol__remoteConfigIsSupportedValue",Ya="__angularfire_symbol__remoteConfigIsSupported",bd="__angularfire_symbol__messagingIsSupportedValue",dn="__angularfire_symbol__messagingIsSupported";function xc(C,E,P){if(E){if(1===E.length)return E[0];const Re=E.filter(Ue=>Ue.app===P);if(1===Re.length)return Re[0]}return P.container.getProvider(C).getImmediate({optional:!0})}globalThis[_r]||(globalThis[_r]=da().then(C=>globalThis[$r]=C).catch(()=>globalThis[$r]=!1)),globalThis[dn]||(globalThis[dn]=im().then(C=>globalThis[bd]=C).catch(()=>globalThis[bd]=!1)),globalThis[Ya]||(globalThis[Ya]=Gh().then(C=>globalThis[ui]=C).catch(()=>globalThis[ui]=!1));const xd=(C,E)=>{const P=E?[E]:(0,R.C6)(),ee=[];return P.forEach(se=>{se.container.getProvider(C).instances.forEach(Ue=>{ee.includes(Ue)||ee.push(Ue)})}),ee};function ss(){}class wf{constructor(E,P=yf){this.zone=E,this.delegate=P}now(){return this.delegate.now()}schedule(E,P,ee){const se=this.zone;return this.delegate.schedule(function(Ue){se.runGuarded(()=>{E.apply(this,[Ue])})},P,ee)}}class Cd{constructor(E){this.zone=E,this.task=null}call(E,P){const ee=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ss,{},ss,ss)),P.pipe((0,di.b)({next:ee,complete:ee,error:ee})).subscribe(E).add(ee)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let to=(()=>{class C{constructor(P){this.ngZone=P,this.outsideAngular=P.runOutsideAngular(()=>new wf(Zone.current)),this.insideAngular=P.run(()=>new wf(Zone.current,qi.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(P){return new(P||C)(o.LFG(o.R0b))},C.\u0275prov=o.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function Bo(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function ua(C){return C.pipe((0,vf.Q)(Bo().outsideAngular))}function Fu(C){return Bo(),function um(C){return function(P){return(P=P.lift(new Cd(C.ngZone))).pipe((0,vd.R)(C.outsideAngular),(0,vf.Q)(C.insideAngular))}}(Bo())(C)}},1389:(Bt,re,H)=>{"use strict";H.d(re,{$:()=>un,A:()=>O,D:()=>z,I:()=>Si,J:()=>yo,L:()=>ts,N:()=>Er,P:()=>Rl,Q:()=>Uh,R:()=>pd,U:()=>Hh,V:()=>Gh,W:()=>Yc,X:()=>Cs,Y:()=>Wc,Z:()=>zh,_:()=>Kc,a:()=>jr,a0:()=>tm,a1:()=>du,a2:()=>I_,a3:()=>$h,a4:()=>xo,a5:()=>Yh,a6:()=>Xs,a7:()=>mr,a8:()=>ea,a9:()=>ns,aA:()=>he,aB:()=>ui,aC:()=>Ei,aD:()=>Hr,aE:()=>vf,aF:()=>Ru,aG:()=>Zr,aH:()=>Zn,aL:()=>rs,aO:()=>Qs,aa:()=>Kh,ab:()=>Qh,ac:()=>k_,ad:()=>Jh,ae:()=>Xh,af:()=>fu,ai:()=>ef,aj:()=>tf,ak:()=>Ir,an:()=>em,ao:()=>_u,aq:()=>fc,ar:()=>Al,as:()=>Ne,at:()=>Qt,au:()=>et,av:()=>Se,aw:()=>no,ax:()=>$n,ay:()=>xn,az:()=>_e,b:()=>ld,c:()=>gr,d:()=>_f,e:()=>_d,f:()=>pi,g:()=>So,h:()=>Ou,i:()=>Su,j:()=>qi,k:()=>Eo,l:()=>vc,m:()=>yb,p:()=>Q,r:()=>gf,s:()=>oa,u:()=>Co});var o=H(5861),R=H(2090),A=H(6881),N=H(7582),G=H(1877),j=H(4859);const Q={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},O={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const z=function M(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},ie=function Z(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},pe=new R.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),fe=new G.Yd("@firebase/auth");function ve(w,...g){fe.logLevel<=G.in.ERROR&&fe.error(`Auth (${A.SDK_VERSION}): ${w}`,...g)}function Se(w,...g){throw oe(w,...g)}function _e(w,...g){return oe(w,...g)}function Me(w,g,y){const D=Object.assign(Object.assign({},ie()),{[g]:y});return new R.LL("auth","Firebase",D).create(g,{appName:w.name})}function qe(w,g,y){if(!(g instanceof y))throw y.name!==g.constructor.name&&Se(w,"argument-error"),Me(w,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function oe(w,...g){if("string"!=typeof w){const y=g[0],D=[...g.slice(1)];return D[0]&&(D[0].appName=w.name),w._errorFactory.create(y,...D)}return pe.create(w,...g)}function he(w,g,...y){if(!w)throw oe(g,...y)}function U(w){const g="INTERNAL ASSERTION FAILED: "+w;throw ve(g),new Error(g)}function Ne(w,g){w||U(g)}function rt(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Ze(){return"http:"===lt()||"https:"===lt()}function lt(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class He{constructor(g,y){this.shortDelay=g,this.longDelay=y,Ne(y>g,"Short delay should be less than long delay!"),this.isMobile=(0,R.uI)()||(0,R.b$)()}get(){return function ut(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ze()||(0,R.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Be(w,g){Ne(w.emulator,"Emulator should always be set here");const{url:y}=w.emulator;return g?`${y}${g.startsWith("/")?g.slice(1):g}`:y}class Ae{static initialize(g,y,D){this.fetchImpl=g,y&&(this.headersImpl=y),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void U("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void U("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void U("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const De={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},xe=new He(3e4,6e4);function Ie(w,g){return w.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:w.tenantId}):g}function We(w,g,y,D){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,o.Z)(function*(w,g,y,D,V={}){return ft(w,V,(0,o.Z)(function*(){let W={},ke={};D&&("GET"===g?ke=D:W={body:JSON.stringify(D)});const ze=(0,R.xO)(Object.assign({key:w.config.apiKey},ke)).slice(1),yt=yield w._getAdditionalHeaders();return yt["Content-Type"]="application/json",w.languageCode&&(yt["X-Firebase-Locale"]=w.languageCode),Ae.fetch()(rn(w,w.config.apiHost,y,ze),Object.assign({method:g,headers:yt,referrerPolicy:"no-referrer"},W))}))})).apply(this,arguments)}function ft(w,g,y){return vt.apply(this,arguments)}function vt(){return(vt=(0,o.Z)(function*(w,g,y){w._canInitEmulator=!1;const D=Object.assign(Object.assign({},De),g);try{const V=new L(w),W=yield Promise.race([y(),V.promise]);V.clearNetworkTimeout();const ke=yield W.json();if("needConfirmation"in ke)throw Qe(w,"account-exists-with-different-credential",ke);if(W.ok&&!("errorMessage"in ke))return ke;{const ze=W.ok?ke.errorMessage:ke.error.message,[yt,St]=ze.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===yt)throw Qe(w,"credential-already-in-use",ke);if("EMAIL_EXISTS"===yt)throw Qe(w,"email-already-in-use",ke);if("USER_DISABLED"===yt)throw Qe(w,"user-disabled",ke);const Yt=D[yt]||yt.toLowerCase().replace(/[_\s]+/g,"-");if(St)throw Me(w,Yt,St);Se(w,Yt)}}catch(V){if(V instanceof R.ZR)throw V;Se(w,"network-request-failed",{message:String(V)})}})).apply(this,arguments)}function Gt(w,g,y,D){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,o.Z)(function*(w,g,y,D,V={}){const W=yield We(w,g,y,D,V);return"mfaPendingCredential"in W&&Se(w,"multi-factor-auth-required",{_serverResponse:W}),W})).apply(this,arguments)}function rn(w,g,y,D){const V=`${g}${y}?${D}`;return w.config.emulator?Be(w.config,V):`${w.config.apiScheme}://${V}`}class L{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((y,D)=>{this.timer=setTimeout(()=>D(_e(this.auth,"network-request-failed")),xe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Qe(w,g,y){const D={appName:w.name};y.email&&(D.email=y.email),y.phoneNumber&&(D.phoneNumber=y.phoneNumber);const V=_e(w,g,D);return V.customData._tokenResponse=y,V}function ce(){return(ce=(0,o.Z)(function*(w,g){return We(w,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Te(){return(Te=(0,o.Z)(function*(w,g){return We(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Xe(){return(Xe=(0,o.Z)(function*(w,g){return We(w,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function be(w){if(w)try{const g=new Date(Number(w));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function st(){return(st=(0,o.Z)(function*(w,g=!1){const y=(0,R.m9)(w),D=yield y.getIdToken(g),V=vn(D);he(V&&V.exp&&V.auth_time&&V.iat,y.auth,"internal-error");const W="object"==typeof V.firebase?V.firebase:void 0,ke=W?.sign_in_provider;return{claims:V,token:D,authTime:be(Mt(V.auth_time)),issuedAtTime:be(Mt(V.iat)),expirationTime:be(Mt(V.exp)),signInProvider:ke||null,signInSecondFactor:W?.sign_in_second_factor||null}})).apply(this,arguments)}function Mt(w){return 1e3*Number(w)}function vn(w){const[g,y,D]=w.split(".");if(void 0===g||void 0===y||void 0===D)return ve("JWT malformed, contained fewer than 3 sections"),null;try{const V=(0,R.tV)(y);return V?JSON.parse(V):(ve("Failed to decode base64 JWT payload"),null)}catch(V){return ve("Caught error parsing JWT payload as JSON",V?.toString()),null}}function Wt(w,g){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,o.Z)(function*(w,g,y=!1){if(y)return g;try{return yield g}catch(D){throw D instanceof R.ZR&&function $t({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}(D)&&w.auth.currentUser===w&&(yield w.auth.signOut()),D}})).apply(this,arguments)}class ni{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var y;if(g){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const V=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,V)}}schedule(g=!1){var y=this;if(!this.isRunning)return;const D=this.getInterval(g);this.timerId=setTimeout((0,o.Z)(function*(){yield y.iteration()}),D)}iteration(){var g=this;return(0,o.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y?.code&&g.schedule(!0))}g.schedule()})()}}class An{constructor(g,y){this.createdAt=g,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=be(this.lastLoginAt),this.creationTime=be(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Jn(w){return Ui.apply(this,arguments)}function Ui(){return Ui=(0,o.Z)(function*(w){var g;const y=w.auth,D=yield w.getIdToken(),V=yield Wt(w,function tt(w,g){return Xe.apply(this,arguments)}(y,{idToken:D}));he(V?.users.length,y,"internal-error");const W=V.users[0];w._notifyReloadListener(W);const ke=null!==(g=W.providerUserInfo)&&void 0!==g&&g.length?function Vr(w){return w.map(g=>{var{providerId:y}=g,D=(0,N._T)(g,["providerId"]);return{providerId:y,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}(W.providerUserInfo):[],ze=function gn(w,g){return[...w.filter(D=>!g.some(V=>V.providerId===D.providerId)),...g]}(w.providerData,ke),Yt=!!w.isAnonymous&&!(w.email&&W.passwordHash||ze?.length),Dn={uid:W.localId,displayName:W.displayName||null,photoURL:W.photoUrl||null,email:W.email||null,emailVerified:W.emailVerified||!1,phoneNumber:W.phoneNumber||null,tenantId:W.tenantId||null,providerData:ze,metadata:new An(W.createdAt,W.lastLoginAt),isAnonymous:Yt};Object.assign(w,Dn)}),Ui.apply(this,arguments)}function Di(){return(Di=(0,o.Z)(function*(w){const g=(0,R.m9)(w);yield Jn(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function ur(){return(ur=(0,o.Z)(function*(w,g){const y=yield ft(w,{},(0,o.Z)(function*(){const D=(0,R.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:V,apiKey:W}=w.config,ke=rn(w,V,"/v1/token",`key=${W}`),ze=yield w._getAdditionalHeaders();return ze["Content-Type"]="application/x-www-form-urlencoded",Ae.fetch()(ke,{method:"POST",headers:ze,body:D})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class on{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){he(g.idToken,"internal-error"),he(typeof g.idToken<"u","internal-error"),he(typeof g.refreshToken<"u","internal-error");const y="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function Rt(w){const g=vn(w);return he(g,"internal-error"),he(typeof g.exp<"u","internal-error"),he(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,y)}getToken(g,y=!1){var D=this;return(0,o.Z)(function*(){return he(!D.accessToken||D.refreshToken,g,"user-token-expired"),y||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(g,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,y){var D=this;return(0,o.Z)(function*(){const{accessToken:V,refreshToken:W,expiresIn:ke}=yield function bn(w,g){return ur.apply(this,arguments)}(g,y);D.updateTokensAndExpiration(V,W,Number(ke))})()}updateTokensAndExpiration(g,y,D){this.refreshToken=y||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(g,y){const{refreshToken:D,accessToken:V,expirationTime:W}=y,ke=new on;return D&&(he("string"==typeof D,"internal-error",{appName:g}),ke.refreshToken=D),V&&(he("string"==typeof V,"internal-error",{appName:g}),ke.accessToken=V),W&&(he("number"==typeof W,"internal-error",{appName:g}),ke.expirationTime=W),ke}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new on,this.toJSON())}_performRefresh(){return U("not implemented")}}function si(w,g){he("string"==typeof w||typeof w>"u","internal-error",{appName:g})}class _i{constructor(g){var{uid:y,auth:D,stsTokenManager:V}=g,W=(0,N._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ni(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=D,this.stsTokenManager=V,this.accessToken=V.accessToken,this.displayName=W.displayName||null,this.email=W.email||null,this.emailVerified=W.emailVerified||!1,this.phoneNumber=W.phoneNumber||null,this.photoURL=W.photoURL||null,this.isAnonymous=W.isAnonymous||!1,this.tenantId=W.tenantId||null,this.providerData=W.providerData?[...W.providerData]:[],this.metadata=new An(W.createdAt||void 0,W.lastLoginAt||void 0)}getIdToken(g){var y=this;return(0,o.Z)(function*(){const D=yield Wt(y,y.stsTokenManager.getToken(y.auth,g));return he(D,y.auth,"internal-error"),y.accessToken!==D&&(y.accessToken=D,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),D})()}getIdTokenResult(g){return function xt(w){return st.apply(this,arguments)}(this,g)}reload(){return function zn(w){return Di.apply(this,arguments)}(this)}_assign(g){this!==g&&(he(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(y=>Object.assign({},y)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const y=new _i(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return y.metadata._copy(this.metadata),y}_onReload(g){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,y=!1){var D=this;return(0,o.Z)(function*(){let V=!1;g.idToken&&g.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(g),V=!0),y&&(yield Jn(D)),yield D.auth._persistUserIfCurrent(D),V&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var g=this;return(0,o.Z)(function*(){const y=yield g.getIdToken();return yield Wt(g,function Pe(w,g){return ce.apply(this,arguments)}(g.auth,{idToken:y})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,y){var D,V,W,ke,ze,yt,St,Yt;const Dn=null!==(D=y.displayName)&&void 0!==D?D:void 0,To=null!==(V=y.email)&&void 0!==V?V:void 0,Fl=null!==(W=y.phoneNumber)&&void 0!==W?W:void 0,pm=null!==(ke=y.photoURL)&&void 0!==ke?ke:void 0,hD=null!==(ze=y.tenantId)&&void 0!==ze?ze:void 0,Vu=null!==(yt=y._redirectEventId)&&void 0!==yt?yt:void 0,bb=null!==(St=y.createdAt)&&void 0!==St?St:void 0,B_=null!==(Yt=y.lastLoginAt)&&void 0!==Yt?Yt:void 0,{uid:mm,emailVerified:V_,isAnonymous:gm,providerData:_m,stsTokenManager:Cf}=y;he(mm&&Cf,g,"internal-error");const ym=on.fromJSON(this.name,Cf);he("string"==typeof mm,g,"internal-error"),si(Dn,g.name),si(To,g.name),he("boolean"==typeof V_,g,"internal-error"),he("boolean"==typeof gm,g,"internal-error"),si(Fl,g.name),si(pm,g.name),si(hD,g.name),si(Vu,g.name),si(bb,g.name),si(B_,g.name);const vm=new _i({uid:mm,auth:g,email:To,emailVerified:V_,displayName:Dn,isAnonymous:gm,photoURL:pm,phoneNumber:Fl,tenantId:hD,stsTokenManager:ym,createdAt:bb,lastLoginAt:B_});return _m&&Array.isArray(_m)&&(vm.providerData=_m.map(U_=>Object.assign({},U_))),Vu&&(vm._redirectEventId=Vu),vm}static _fromIdTokenResponse(g,y,D=!1){return(0,o.Z)(function*(){const V=new on;V.updateFromServerResponse(y);const W=new _i({uid:y.localId,auth:g,stsTokenManager:V,isAnonymous:D});return yield Jn(W),W})()}}const hr=new Map;function Ei(w){Ne(w instanceof Function,"Expected a class definition");let g=hr.get(w);return g?(Ne(g instanceof w,"Instance stored in cache mismatched with class"),g):(g=new w,hr.set(w,g),g)}const Er=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.Z)(function*(){return!0})()}_set(y,D){var V=this;return(0,o.Z)(function*(){V.storage[y]=D})()}_get(y){var D=this;return(0,o.Z)(function*(){const V=D.storage[y];return void 0===V?null:V})()}_remove(y){var D=this;return(0,o.Z)(function*(){delete D.storage[y]})()}_addListener(y,D){}_removeListener(y,D){}}return w.type="NONE",w})();function Hr(w,g,y){return`firebase:${w}:${g}:${y}`}class ye{constructor(g,y,D){this.persistence=g,this.auth=y,this.userKey=D;const{config:V,name:W}=this.auth;this.fullUserKey=Hr(this.userKey,V.apiKey,W),this.fullPersistenceKey=Hr("persistence",V.apiKey,W),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,o.Z)(function*(){const y=yield g.persistence._get(g.fullUserKey);return y?_i._fromJSON(g.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var y=this;return(0,o.Z)(function*(){if(y.persistence===g)return;const D=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=g,D?y.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,y,D="authUser"){return(0,o.Z)(function*(){if(!y.length)return new ye(Ei(Er),g,D);const V=(yield Promise.all(y.map(function(){var St=(0,o.Z)(function*(Yt){if(yield Yt._isAvailable())return Yt});return function(Yt){return St.apply(this,arguments)}}()))).filter(St=>St);let W=V[0]||Ei(Er);const ke=Hr(D,g.config.apiKey,g.name);let ze=null;for(const St of y)try{const Yt=yield St._get(ke);if(Yt){const Dn=_i._fromJSON(g,Yt);St!==W&&(ze=Dn),W=St;break}}catch{}const yt=V.filter(St=>St._shouldAllowMigration);return W._shouldAllowMigration&&yt.length?(W=yt[0],ze&&(yield W._set(ke,ze.toJSON())),yield Promise.all(y.map(function(){var St=(0,o.Z)(function*(Yt){if(Yt!==W)try{yield Yt._remove(ke)}catch{}});return function(Yt){return St.apply(this,arguments)}}())),new ye(W,g,D)):new ye(W,g,D)})()}}function me(w){const g=w.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Ce(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(K(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(At(g))return"Blackberry";if(en(g))return"Webos";if(X(g))return"Safari";if((g.includes("chrome/")||$(g))&&!g.includes("edge/"))return"Chrome";if(et(g))return"Android";{const D=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===D?.length)return D[1]}return"Other"}function K(w=(0,R.z$)()){return/firefox\//i.test(w)}function X(w=(0,R.z$)()){const g=w.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function $(w=(0,R.z$)()){return/crios\//i.test(w)}function Ce(w=(0,R.z$)()){return/iemobile/i.test(w)}function et(w=(0,R.z$)()){return/android/i.test(w)}function At(w=(0,R.z$)()){return/blackberry/i.test(w)}function en(w=(0,R.z$)()){return/webos/i.test(w)}function Qt(w=(0,R.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function xn(w=(0,R.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function _n(w=(0,R.z$)()){return Qt(w)||et(w)||en(w)||At(w)||/windows phone/i.test(w)||Ce(w)}function ws(w,g=[]){let y;switch(w){case"Browser":y=me((0,R.z$)());break;case"Worker":y=`${me((0,R.z$)())}-${w}`;break;default:y=w}const D=g.length?g.join(","):"FirebaseCore-web";return`${y}/JsCore/${A.SDK_VERSION}/${D}`}function Le(){return(Le=(0,o.Z)(function*(w){return(yield We(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ht(w,g){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,o.Z)(function*(w,g){return We(w,"GET","/v2/recaptchaConfig",Ie(w,g))})).apply(this,arguments)}function tn(w){return void 0!==w&&void 0!==w.getResponse}function Cn(w){return void 0!==w&&void 0!==w.enterprise}class qt{constructor(g){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.emailPasswordEnabled=g.recaptchaEnforcementState.some(y=>"EMAIL_PASSWORD_PROVIDER"===y.provider&&"OFF"!==y.enforcementState)}}function On(w){return new Promise((g,y)=>{const D=document.createElement("script");D.setAttribute("src",w),D.onload=g,D.onerror=V=>{const W=_e("internal-error");W.customData=V,y(W)},D.type="text/javascript",D.charset="UTF-8",function qn(){var w,g;return null!==(g=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==g?g:document}().appendChild(D)})}function Tr(w){return`__${w}${Math.floor(1e6*Math.random())}`}const Wp="NO_RECAPTCHA";class Zs{constructor(g){this.type="recaptcha-enterprise",this.auth=Zn(g)}verify(g="verify",y=!1){var D=this;return(0,o.Z)(function*(){function W(){return W=(0,o.Z)(function*(ze){if(!y){if(null==ze.tenantId&&null!=ze._agentRecaptchaConfig)return ze._agentRecaptchaConfig.siteKey;if(null!=ze.tenantId&&void 0!==ze._tenantRecaptchaConfigs[ze.tenantId])return ze._tenantRecaptchaConfigs[ze.tenantId].siteKey}return new Promise(function(){var yt=(0,o.Z)(function*(St,Yt){ht(ze,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Dn=>{if(void 0!==Dn.recaptchaKey){const To=new qt(Dn);return null==ze.tenantId?ze._agentRecaptchaConfig=To:ze._tenantRecaptchaConfigs[ze.tenantId]=To,St(To.siteKey)}Yt(new Error("recaptcha Enterprise site key undefined"))}).catch(Dn=>{Yt(Dn)})});return function(St,Yt){return yt.apply(this,arguments)}}())}),W.apply(this,arguments)}function ke(ze,yt,St){const Yt=window.grecaptcha;Cn(Yt)?Yt.enterprise.ready(()=>{Yt.enterprise.execute(ze,{action:g}).then(Dn=>{yt(Dn)}).catch(()=>{yt(Wp)})}):St(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ze,yt)=>{(function V(ze){return W.apply(this,arguments)})(D.auth).then(St=>{if(!y&&Cn(window.grecaptcha))ke(St,ze,yt);else{if(typeof window>"u")return void yt(new Error("RecaptchaVerifier is only supported in browser"));On("https://www.google.com/recaptcha/enterprise.js?render="+St).then(()=>{ke(St,ze,yt)}).catch(Yt=>{yt(Yt)})}}).catch(St=>{yt(St)})})})()}}function nr(w,g,y){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,o.Z)(function*(w,g,y,D=!1){const V=new Zs(w);let W;try{W=yield V.verify(y)}catch{W=yield V.verify(y,!0)}const ke=Object.assign({},g);return Object.assign(ke,D?{captchaResp:W}:{captchaResponse:W}),Object.assign(ke,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ke,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ke})).apply(this,arguments)}class cn{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,y){const D=W=>new Promise((ke,ze)=>{try{ke(g(W))}catch(yt){ze(yt)}});D.onAbort=y,this.queue.push(D);const V=this.queue.length-1;return()=>{this.queue[V]=()=>Promise.resolve()}}runMiddleware(g){var y=this;return(0,o.Z)(function*(){if(y.auth.currentUser===g)return;const D=[];try{for(const V of y.queue)yield V(g),V.onAbort&&D.push(V.onAbort)}catch(V){D.reverse();for(const W of D)try{W()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:V?.message})}})()}}class hi{constructor(g,y,D,V){this.app=g,this.heartbeatServiceProvider=y,this.appCheckServiceProvider=D,this.config=V,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $s(this),this.idTokenSubscription=new $s(this),this.beforeStateQueue=new cn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=V.sdkClientVersion}_initializeWithPersistence(g,y){var D=this;return y&&(this._popupRedirectResolver=Ei(y)),this._initializationPromise=this.queue((0,o.Z)(function*(){var V,W;if(!D._deleted&&(D.persistenceManager=yield ye.create(D,g),!D._deleted)){if(null!==(V=D._popupRedirectResolver)&&void 0!==V&&V._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch{}yield D.initializeCurrentUser(y),D.lastNotifiedUid=(null===(W=D.currentUser)||void 0===W?void 0:W.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,o.Z)(function*(){if(g._deleted)return;const y=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||y){if(g.currentUser&&y&&g.currentUser.uid===y.uid)return g._currentUser._assign(y),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(y,!0)}})()}initializeCurrentUser(g){var y=this;return(0,o.Z)(function*(){var D;const V=yield y.assertedPersistence.getCurrentUser();let W=V,ke=!1;if(g&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const ze=null===(D=y.redirectUser)||void 0===D?void 0:D._redirectEventId,yt=W?._redirectEventId,St=yield y.tryRedirectSignIn(g);(!ze||ze===yt)&&St?.user&&(W=St.user,ke=!0)}if(!W)return y.directlySetCurrentUser(null);if(!W._redirectEventId){if(ke)try{yield y.beforeStateQueue.runMiddleware(W)}catch(ze){W=V,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(ze))}return W?y.reloadAndSetCurrentUserOrClear(W):y.directlySetCurrentUser(null)}return he(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===W._redirectEventId?y.directlySetCurrentUser(W):y.reloadAndSetCurrentUserOrClear(W)})()}tryRedirectSignIn(g){var y=this;return(0,o.Z)(function*(){let D=null;try{D=yield y._popupRedirectResolver._completeRedirectFn(y,g,!0)}catch{yield y._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(g){var y=this;return(0,o.Z)(function*(){try{yield Jn(g)}catch(D){if("auth/network-request-failed"!==D?.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Lt(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var g=this;return(0,o.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var y=this;return(0,o.Z)(function*(){const D=g?(0,R.m9)(g):null;return D&&he(D.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(D&&D._clone(y))})()}_updateCurrentUser(g,y=!1){var D=this;return(0,o.Z)(function*(){if(!D._deleted)return g&&he(D.tenantId===g.tenantId,D,"tenant-id-mismatch"),y||(yield D.beforeStateQueue.runMiddleware(g)),D.queue((0,o.Z)(function*(){yield D.directlySetCurrentUser(g),D.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,o.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var y=this;return this.queue((0,o.Z)(function*(){yield y.assertedPersistence.setPersistence(Ei(g))}))}initializeRecaptchaConfig(){var g=this;return(0,o.Z)(function*(){const y=yield ht(g,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),D=new qt(y);null==g.tenantId?g._agentRecaptchaConfig=D:g._tenantRecaptchaConfigs[g.tenantId]=D,D.emailPasswordEnabled&&new Zs(g).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new R.LL("auth","Firebase",g())}onAuthStateChanged(g,y,D){return this.registerStateListener(this.authStateSubscription,g,y,D)}beforeAuthStateChanged(g,y){return this.beforeStateQueue.pushCallback(g,y)}onIdTokenChanged(g,y,D){return this.registerStateListener(this.idTokenSubscription,g,y,D)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,y){var D=this;return(0,o.Z)(function*(){const V=yield D.getOrInitRedirectPersistenceManager(y);return null===g?V.removeCurrentUser():V.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var y=this;return(0,o.Z)(function*(){if(!y.redirectPersistenceManager){const D=g&&Ei(g)||y._popupRedirectResolver;he(D,y,"argument-error"),y.redirectPersistenceManager=yield ye.create(y,[Ei(D._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(g){var y=this;return(0,o.Z)(function*(){var D,V;return y._isInitialized&&(yield y.queue((0,o.Z)(function*(){}))),(null===(D=y._currentUser)||void 0===D?void 0:D._redirectEventId)===g?y._currentUser:(null===(V=y.redirectUser)||void 0===V?void 0:V._redirectEventId)===g?y.redirectUser:null})()}_persistUserIfCurrent(g){var y=this;return(0,o.Z)(function*(){if(g===y.currentUser)return y.queue((0,o.Z)(function*(){return y.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(y=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,y,D,V){if(this._deleted)return()=>{};const W="function"==typeof y?y:y.next.bind(y),ke=this._isInitialized?Promise.resolve():this._initializationPromise;return he(ke,this,"internal-error"),ke.then(()=>W(this.currentUser)),"function"==typeof y?g.addObserver(y,D,V):g.addObserver(y)}directlySetCurrentUser(g){var y=this;return(0,o.Z)(function*(){y.currentUser&&y.currentUser!==g&&y._currentUser._stopProactiveRefresh(),g&&y.isProactiveRefreshEnabled&&g._startProactiveRefresh(),y.currentUser=g,g?yield y.assertedPersistence.setCurrentUser(g):yield y.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=ws(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,o.Z)(function*(){var y;const D={"X-Client-Version":g.clientVersion};g.app.options.appId&&(D["X-Firebase-gmpid"]=g.app.options.appId);const V=yield null===(y=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();V&&(D["X-Firebase-Client"]=V);const W=yield g._getAppCheckToken();return W&&(D["X-Firebase-AppCheck"]=W),D})()}_getAppCheckToken(){var g=this;return(0,o.Z)(function*(){var y;const D=yield null===(y=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getToken();return D?.error&&function we(w,...g){fe.logLevel<=G.in.WARN&&fe.warn(`Auth (${A.SDK_VERSION}): ${w}`,...g)}(`Error while retrieving App Check token: ${D.error}`),D?.token})()}}function Zn(w){return(0,R.m9)(w)}class $s{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,R.ne)(y=>this.observer=y)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Si(w,g,y){const D=Zn(w);he(D._canInitEmulator,D,"emulator-config-failed"),he(/^https?:\/\//.test(g),D,"invalid-emulator-scheme");const V=!!y?.disableWarnings,W=nc(g),{host:ke,port:ze}=function Vn(w){const g=nc(w),y=/(\/\/)?([^?#/]+)/.exec(w.substr(g.length));if(!y)return{host:"",port:null};const D=y[2].split("@").pop()||"",V=/^(\[[^\]]+\])(:|$)/.exec(D);if(V){const W=V[1];return{host:W,port:wn(D.substr(W.length+1))}}{const[W,ke]=D.split(":");return{host:W,port:wn(ke)}}}(g);D.config.emulator={url:`${W}//${ke}${null===ze?"":`:${ze}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:ke,port:ze,protocol:W.replace(":",""),options:Object.freeze({disableWarnings:V})}),V||function Zc(){function w(){const g=document.createElement("p"),y=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function nc(w){const g=w.indexOf(":");return g<0?"":w.substr(0,g+1)}function wn(w){if(!w)return null;const g=Number(w);return isNaN(g)?null:g}class yo{constructor(g,y){this.providerId=g,this.signInMethod=y}toJSON(){return U("not implemented")}_getIdTokenResponse(g){return U("not implemented")}_linkToIdToken(g,y){return U("not implemented")}_getReauthenticationResolver(g){return U("not implemented")}}function xs(w,g){return vo.apply(this,arguments)}function vo(){return(vo=(0,o.Z)(function*(w,g){return We(w,"POST","/v1/accounts:resetPassword",Ie(w,g))})).apply(this,arguments)}function Ti(w,g){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,o.Z)(function*(w,g){return We(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function ao(){return(ao=(0,o.Z)(function*(w,g){return We(w,"POST","/v1/accounts:update",Ie(w,g))})).apply(this,arguments)}function es(w,g){return yi.apply(this,arguments)}function yi(){return(yi=(0,o.Z)(function*(w,g){return Gt(w,"POST","/v1/accounts:signInWithPassword",Ie(w,g))})).apply(this,arguments)}function ii(w,g){return bo.apply(this,arguments)}function bo(){return(bo=(0,o.Z)(function*(w,g){return We(w,"POST","/v1/accounts:sendOobCode",Ie(w,g))})).apply(this,arguments)}function ic(){return(ic=(0,o.Z)(function*(w,g){return ii(w,g)})).apply(this,arguments)}function _l(w,g){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,o.Z)(function*(w,g){return ii(w,g)})).apply(this,arguments)}function Hi(w,g){return fr.apply(this,arguments)}function fr(){return(fr=(0,o.Z)(function*(w,g){return ii(w,g)})).apply(this,arguments)}function Gr(){return(Gr=(0,o.Z)(function*(w,g){return ii(w,g)})).apply(this,arguments)}function Ma(){return(Ma=(0,o.Z)(function*(w,g){return Gt(w,"POST","/v1/accounts:signInWithEmailLink",Ie(w,g))})).apply(this,arguments)}function rc(){return(rc=(0,o.Z)(function*(w,g){return Gt(w,"POST","/v1/accounts:signInWithEmailLink",Ie(w,g))})).apply(this,arguments)}class rr extends yo{constructor(g,y,D,V=null){super("password",D),this._email=g,this._password=y,this._tenantId=V}static _fromEmailAndPassword(g,y){return new rr(g,y,"password")}static _fromEmailAndCode(g,y,D=null){return new rr(g,y,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(g){var y=this;return(0,o.Z)(function*(){var D;switch(y.signInMethod){case"password":const V={returnSecureToken:!0,email:y._email,password:y._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(D=g._getRecaptchaConfig())&&void 0!==D&&D.emailPasswordEnabled){const W=yield nr(g,V,"signInWithPassword");return es(g,W)}return es(g,V).catch(function(){var W=(0,o.Z)(function*(ke){if("auth/missing-recaptcha-token"===ke.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ze=yield nr(g,V,"signInWithPassword");return es(g,ze)}return Promise.reject(ke)});return function(ke){return W.apply(this,arguments)}}());case"emailLink":return function lo(w,g){return Ma.apply(this,arguments)}(g,{email:y._email,oobCode:y._password});default:Se(g,"internal-error")}})()}_linkToIdToken(g,y){var D=this;return(0,o.Z)(function*(){switch(D.signInMethod){case"password":return Ti(g,{idToken:y,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function $c(w,g){return rc.apply(this,arguments)}(g,{idToken:y,email:D._email,oobCode:D._password});default:Se(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Ws(w,g){return oc.apply(this,arguments)}function oc(){return(oc=(0,o.Z)(function*(w,g){return Gt(w,"POST","/v1/accounts:signInWithIdp",Ie(w,g))})).apply(this,arguments)}class ts extends yo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const y=new ts(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(y.idToken=g.idToken),g.accessToken&&(y.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(y.nonce=g.nonce),g.pendingToken&&(y.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(y.accessToken=g.oauthToken,y.secret=g.oauthTokenSecret):Se("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:D,signInMethod:V}=y,W=(0,N._T)(y,["providerId","signInMethod"]);if(!D||!V)return null;const ke=new ts(D,V);return ke.idToken=W.idToken||void 0,ke.accessToken=W.accessToken||void 0,ke.secret=W.secret,ke.nonce=W.nonce,ke.pendingToken=W.pendingToken||null,ke}_getIdTokenResponse(g){return Ws(g,this.buildRequest())}_linkToIdToken(g,y){const D=this.buildRequest();return D.idToken=y,Ws(g,D)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,Ws(g,y)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),g.postBody=(0,R.xO)(y)}return g}}function au(){return(au=(0,o.Z)(function*(w,g){return We(w,"POST","/v1/accounts:sendVerificationCode",Ie(w,g))})).apply(this,arguments)}function Ra(){return(Ra=(0,o.Z)(function*(w,g){return Gt(w,"POST","/v1/accounts:signInWithPhoneNumber",Ie(w,g))})).apply(this,arguments)}function Lh(){return(Lh=(0,o.Z)(function*(w,g){const y=yield Gt(w,"POST","/v1/accounts:signInWithPhoneNumber",Ie(w,g));if(y.temporaryProof)throw Qe(w,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const Bh={USER_NOT_FOUND:"user-not-found"};function Oa(){return(Oa=(0,o.Z)(function*(w,g){return Gt(w,"POST","/v1/accounts:signInWithPhoneNumber",Ie(w,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Bh)})).apply(this,arguments)}class Ks extends yo{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,y){return new Ks({verificationId:g,verificationCode:y})}static _fromTokenResponse(g,y){return new Ks({phoneNumber:g,temporaryProof:y})}_getIdTokenResponse(g){return function Kp(w,g){return Ra.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,y){return function A_(w,g){return Lh.apply(this,arguments)}(g,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Vh(w,g){return Oa.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:y,verificationId:D,verificationCode:V}=this.params;return g&&y?{temporaryProof:g,phoneNumber:y}:{sessionInfo:D,code:V}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:y,verificationCode:D,phoneNumber:V,temporaryProof:W}=g;return D||y||V||W?new Ks({verificationId:y,verificationCode:D,phoneNumber:V,temporaryProof:W}):null}}class yl{constructor(g){var y,D,V,W,ke,ze;const yt=(0,R.zd)((0,R.pd)(g)),St=null!==(y=yt.apiKey)&&void 0!==y?y:null,Yt=null!==(D=yt.oobCode)&&void 0!==D?D:null,Dn=function or(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(V=yt.mode)&&void 0!==V?V:null);he(St&&Yt&&Dn,"argument-error"),this.apiKey=St,this.operation=Dn,this.code=Yt,this.continueUrl=null!==(W=yt.continueUrl)&&void 0!==W?W:null,this.languageCode=null!==(ke=yt.languageCode)&&void 0!==ke?ke:null,this.tenantId=null!==(ze=yt.tenantId)&&void 0!==ze?ze:null}static parseLink(g){const y=function Qp(w){const g=(0,R.zd)((0,R.pd)(w)).link,y=g?(0,R.zd)((0,R.pd)(g)).deep_link_id:null,D=(0,R.zd)((0,R.pd)(w)).deep_link_id;return(D?(0,R.zd)((0,R.pd)(D)).link:null)||D||y||g||w}(g);try{return new yl(y)}catch{return null}}}let Uh=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(y,D){return rr._fromEmailAndPassword(y,D)}static credentialWithLink(y,D){const V=yl.parseLink(D);return he(V,"argument-error"),rr._fromEmailAndCode(y,V.code,V.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class Ar{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class wo extends Ar{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Cs extends wo{static credentialFromJSON(g){const y="string"==typeof g?JSON.parse(g):g;return he("providerId"in y&&"signInMethod"in y,"argument-error"),ts._fromParams(y)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return he(g.idToken||g.accessToken,"argument-error"),ts._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Cs.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Cs.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:y,oauthAccessToken:D,oauthTokenSecret:V,pendingToken:W,nonce:ke,providerId:ze}=g;if(!D&&!V&&!y&&!W||!ze)return null;try{return new Cs(ze)._credential({idToken:y,accessToken:D,nonce:ke,pendingToken:W})}catch{return null}}}let Hh=(()=>{class w extends wo{constructor(){super("facebook.com")}static credential(y){return ts._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),Gh=(()=>{class w extends wo{constructor(){super("google.com"),this.addScope("profile")}static credential(y,D){return ts._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:D})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:D,oauthAccessToken:V}=y;if(!D&&!V)return null;try{return w.credential(D,V)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),Yc=(()=>{class w extends wo{constructor(){super("github.com")}static credential(y){return ts._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class Qs extends yo{constructor(g,y){super(g,g),this.pendingToken=y}_getIdTokenResponse(g){return Ws(g,this.buildRequest())}_linkToIdToken(g,y){const D=this.buildRequest();return D.idToken=y,Ws(g,D)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,Ws(g,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:D,signInMethod:V,pendingToken:W}=y;return D&&V&&W&&D===V?new Qs(D,W):null}static _create(g,y){return new Qs(g,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Wc extends Ar{constructor(g){he(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Wc.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Wc.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const y=Qs.fromJSON(g);return he(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:y,providerId:D}=g;if(!y||!D)return null;try{return Qs._create(D,y)}catch{return null}}}let zh=(()=>{class w extends wo{constructor(){super("twitter.com")}static credential(y,D){return ts._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:D})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:D,oauthTokenSecret:V}=y;if(!D||!V)return null;try{return w.credential(D,V)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function vl(w,g){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,o.Z)(function*(w,g){return Gt(w,"POST","/v1/accounts:signUp",Ie(w,g))})).apply(this,arguments)}class vi{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,y,D,V=!1){return(0,o.Z)(function*(){const W=yield _i._fromIdTokenResponse(g,D,V),ke=sc(D);return new vi({user:W,providerId:ke,_tokenResponse:D,operationType:y})})()}static _forOperation(g,y,D){return(0,o.Z)(function*(){yield g._updateTokensIfNecessary(D,!0);const V=sc(D);return new vi({user:g,providerId:V,_tokenResponse:D,operationType:y})})()}}function sc(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function Kc(w){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,o.Z)(function*(w){var g;const y=Zn(w);if(yield y._initializationPromise,null!==(g=y.currentUser)&&void 0!==g&&g.isAnonymous)return new vi({user:y.currentUser,providerId:null,operationType:"signIn"});const D=yield vl(y,{returnSecureToken:!0}),V=yield vi._fromIdTokenResponse(y,"signIn",D,!0);return yield y._updateCurrentUser(V.user),V})).apply(this,arguments)}class Fa extends R.ZR{constructor(g,y,D,V){var W;super(y.code,y.message),this.operationType=D,this.user=V,Object.setPrototypeOf(this,Fa.prototype),this.customData={appName:g.name,tenantId:null!==(W=g.tenantId)&&void 0!==W?W:void 0,_serverResponse:y.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(g,y,D,V){return new Fa(g,y,D,V)}}function Na(w,g,y,D){return("reauthenticate"===g?y._getReauthenticationResolver(w):y._getIdTokenResponse(w)).catch(W=>{throw"auth/multi-factor-auth-required"===W.code?Fa._fromErrorAndOperation(w,W,g,D):W})}function pr(w){return new Set(w.map(({providerId:g})=>g).filter(g=>!!g))}function em(w,g){return Qc.apply(this,arguments)}function Qc(){return Qc=(0,o.Z)(function*(w,g){const y=(0,R.m9)(w);yield ac(!0,y,g);const{providerUserInfo:D}=yield function ae(w,g){return Te.apply(this,arguments)}(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[g]}),V=pr(D||[]);return y.providerData=y.providerData.filter(W=>V.has(W.providerId)),V.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y}),Qc.apply(this,arguments)}function zr(w,g){return sr.apply(this,arguments)}function sr(){return(sr=(0,o.Z)(function*(w,g,y=!1){const D=yield Wt(w,g._linkToIdToken(w.auth,yield w.getIdToken()),y);return vi._forOperation(w,"link",D)})).apply(this,arguments)}function ac(w,g,y){return Js.apply(this,arguments)}function Js(){return(Js=(0,o.Z)(function*(w,g,y){yield Jn(g);const V=!1===w?"provider-already-linked":"no-such-provider";he(pr(g.providerData).has(y)===w,g.auth,V)})).apply(this,arguments)}function jh(w,g){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,o.Z)(function*(w,g,y=!1){const{auth:D}=w,V="reauthenticate";try{const W=yield Wt(w,Na(D,V,g,w),y);he(W.idToken,D,"internal-error");const ke=vn(W.idToken);he(ke,D,"internal-error");const{sub:ze}=ke;return he(w.uid===ze,D,"user-mismatch"),vi._forOperation(w,V,W)}catch(W){throw"auth/user-not-found"===W?.code&&Se(D,"user-mismatch"),W}})).apply(this,arguments)}function lc(w,g){return bl.apply(this,arguments)}function bl(){return(bl=(0,o.Z)(function*(w,g,y=!1){const D="signIn",V=yield Na(w,D,g),W=yield vi._fromIdTokenResponse(w,D,V);return y||(yield w._updateCurrentUser(W.user)),W})).apply(this,arguments)}function un(w,g){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,o.Z)(function*(w,g){return lc(Zn(w),g)})).apply(this,arguments)}function tm(w,g){return cu.apply(this,arguments)}function cu(){return(cu=(0,o.Z)(function*(w,g){const y=(0,R.m9)(w);return yield ac(!1,y,g.providerId),zr(y,g)})).apply(this,arguments)}function du(w,g){return uu.apply(this,arguments)}function uu(){return(uu=(0,o.Z)(function*(w,g){return jh((0,R.m9)(w),g)})).apply(this,arguments)}function Zh(){return(Zh=(0,o.Z)(function*(w,g){return Gt(w,"POST","/v1/accounts:signInWithCustomToken",Ie(w,g))})).apply(this,arguments)}function I_(w,g){return Ye.apply(this,arguments)}function Ye(){return Ye=(0,o.Z)(function*(w,g){const y=Zn(w),D=yield function qh(w,g){return Zh.apply(this,arguments)}(y,{token:g,returnSecureToken:!0}),V=yield vi._fromIdTokenResponse(y,"signIn",D);return yield y._updateCurrentUser(V.user),V}),Ye.apply(this,arguments)}class pn{constructor(g,y){this.factorId=g,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(g,y){return"phoneInfo"in y?hu._fromServerResponse(g,y):"totpInfo"in y?cc._fromServerResponse(g,y):Se(g,"internal-error")}}class hu extends pn{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,y){return new hu(y)}}class cc extends pn{constructor(g){super("totp",g)}static _fromServerResponse(g,y){return new cc(y)}}function Ai(w,g,y){var D;he((null===(D=y.url)||void 0===D?void 0:D.length)>0,w,"invalid-continue-uri"),he(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),g.continueUrl=y.url,g.dynamicLinkDomain=y.dynamicLinkDomain,g.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(he(y.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),g.iOSBundleId=y.iOS.bundleId),y.android&&(he(y.android.packageName.length>0,w,"missing-android-pkg-name"),g.androidInstallApp=y.android.installApp,g.androidMinimumVersionCode=y.android.minimumVersion,g.androidPackageName=y.android.packageName)}function $h(w,g,y){return wl.apply(this,arguments)}function wl(){return wl=(0,o.Z)(function*(w,g,y){var D;const V=Zn(w),W={requestType:"PASSWORD_RESET",email:g,clientType:"CLIENT_TYPE_WEB"};if(null!==(D=V._getRecaptchaConfig())&&void 0!==D&&D.emailPasswordEnabled){const ke=yield nr(V,W,"getOobCode",!0);y&&Ai(V,ke,y),yield _l(V,ke)}else y&&Ai(V,W,y),yield _l(V,W).catch(function(){var ke=(0,o.Z)(function*(ze){if("auth/missing-recaptcha-token"!==ze.code)return Promise.reject(ze);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const yt=yield nr(V,W,"getOobCode",!0);y&&Ai(V,yt,y),yield _l(V,yt)}});return function(ze){return ke.apply(this,arguments)}}())}),wl.apply(this,arguments)}function xo(w,g,y){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,o.Z)(function*(w,g,y){yield xs((0,R.m9)(w),{oobCode:g,newPassword:y})})).apply(this,arguments)}function Yh(w,g){return Wh.apply(this,arguments)}function Wh(){return Wh=(0,o.Z)(function*(w,g){yield function ka(w,g){return ao.apply(this,arguments)}((0,R.m9)(w),{oobCode:g})}),Wh.apply(this,arguments)}function Xs(w,g){return xl.apply(this,arguments)}function xl(){return(xl=(0,o.Z)(function*(w,g){const y=(0,R.m9)(w),D=yield xs(y,{oobCode:g}),V=D.requestType;switch(he(V,y,"internal-error"),V){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":he(D.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":he(D.mfaInfo,y,"internal-error");default:he(D.email,y,"internal-error")}let W=null;return D.mfaInfo&&(W=pn._fromServerResponse(Zn(y),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:W},operation:V}})).apply(this,arguments)}function mr(w,g){return eo.apply(this,arguments)}function eo(){return(eo=(0,o.Z)(function*(w,g){const{data:y}=yield Xs((0,R.m9)(w),g);return y.email})).apply(this,arguments)}function ea(w,g,y){return Ss.apply(this,arguments)}function Ss(){return Ss=(0,o.Z)(function*(w,g,y){var D;const V=Zn(w),W={returnSecureToken:!0,email:g,password:y,clientType:"CLIENT_TYPE_WEB"};let ke;if(null!==(D=V._getRecaptchaConfig())&&void 0!==D&&D.emailPasswordEnabled){const St=yield nr(V,W,"signUpPassword");ke=vl(V,St)}else ke=vl(V,W).catch(function(){var St=(0,o.Z)(function*(Yt){if("auth/missing-recaptcha-token"===Yt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Dn=yield nr(V,W,"signUpPassword");return vl(V,Dn)}return Promise.reject(Yt)});return function(Yt){return St.apply(this,arguments)}}());const ze=yield ke.catch(St=>Promise.reject(St)),yt=yield vi._fromIdTokenResponse(V,"signIn",ze);return yield V._updateCurrentUser(yt.user),yt}),Ss.apply(this,arguments)}function ns(w,g,y){return un((0,R.m9)(w),Uh.credential(g,y))}function Kh(w,g,y){return La.apply(this,arguments)}function La(){return La=(0,o.Z)(function*(w,g,y){var D;const V=Zn(w),W={requestType:"EMAIL_SIGNIN",email:g,clientType:"CLIENT_TYPE_WEB"};function ke(ze,yt){he(yt.handleCodeInApp,V,"argument-error"),yt&&Ai(V,ze,yt)}if(null!==(D=V._getRecaptchaConfig())&&void 0!==D&&D.emailPasswordEnabled){const ze=yield nr(V,W,"getOobCode",!0);ke(ze,y),yield Hi(V,ze)}else ke(W,y),yield Hi(V,W).catch(function(){var ze=(0,o.Z)(function*(yt){if("auth/missing-recaptcha-token"!==yt.code)return Promise.reject(yt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const St=yield nr(V,W,"getOobCode",!0);ke(St,y),yield Hi(V,St)}});return function(yt){return ze.apply(this,arguments)}}())}),La.apply(this,arguments)}function Qh(w,g){return"EMAIL_SIGNIN"===yl.parseLink(g)?.operation}function k_(w,g,y){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,o.Z)(function*(w,g,y){const D=(0,R.m9)(w),V=Uh.credentialWithLink(g,y||rt());return he(V._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),un(D,V)})).apply(this,arguments)}function dc(){return(dc=(0,o.Z)(function*(w,g){return We(w,"POST","/v1/accounts:createAuthUri",Ie(w,g))})).apply(this,arguments)}function Jh(w,g){return td.apply(this,arguments)}function td(){return td=(0,o.Z)(function*(w,g){const D={identifier:g,continueUri:Ze()?rt():"http://localhost"},{signinMethods:V}=yield function ed(w,g){return dc.apply(this,arguments)}((0,R.m9)(w),D);return V||[]}),td.apply(this,arguments)}function Xh(w,g){return Cl.apply(this,arguments)}function Cl(){return Cl=(0,o.Z)(function*(w,g){const y=(0,R.m9)(w),V={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};g&&Ai(y.auth,V,g);const{email:W}=yield function su(w,g){return ic.apply(this,arguments)}(y.auth,V);W!==w.email&&(yield w.reload())}),Cl.apply(this,arguments)}function fu(w,g,y){return uc.apply(this,arguments)}function uc(){return uc=(0,o.Z)(function*(w,g,y){const D=(0,R.m9)(w),W={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:g};y&&Ai(D.auth,W,y);const{email:ke}=yield function Nh(w,g){return Gr.apply(this,arguments)}(D.auth,W);ke!==w.email&&(yield w.reload())}),uc.apply(this,arguments)}function nd(){return(nd=(0,o.Z)(function*(w,g){return We(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function ef(w,g){return mu.apply(this,arguments)}function mu(){return mu=(0,o.Z)(function*(w,{displayName:g,photoURL:y}){if(void 0===g&&void 0===y)return;const D=(0,R.m9)(w),W={idToken:yield D.getIdToken(),displayName:g,photoUrl:y,returnSecureToken:!0},ke=yield Wt(D,function pu(w,g){return nd.apply(this,arguments)}(D.auth,W));D.displayName=ke.displayName||null,D.photoURL=ke.photoUrl||null;const ze=D.providerData.find(({providerId:yt})=>"password"===yt);ze&&(ze.displayName=D.displayName,ze.photoURL=D.photoURL),yield D._updateTokensIfNecessary(ke)}),mu.apply(this,arguments)}function tf(w,g){return is((0,R.m9)(w),g,null)}function Ir(w,g){return is((0,R.m9)(w),null,g)}function is(w,g,y){return fi.apply(this,arguments)}function fi(){return(fi=(0,o.Z)(function*(w,g,y){const{auth:D}=w,W={idToken:yield w.getIdToken(),returnSecureToken:!0};g&&(W.email=g),y&&(W.password=y);const ke=yield Wt(w,Ti(D,W));yield w._updateTokensIfNecessary(ke,!0)})).apply(this,arguments)}class Dl{constructor(g,y,D={}){this.isNewUser=g,this.providerId=y,this.profile=D}}class id extends Dl{constructor(g,y,D,V){super(g,y,D),this.username=V}}class M_ extends Dl{constructor(g,y){super(g,"facebook.com",y)}}class nf extends id{constructor(g,y){super(g,"github.com",y,"string"==typeof y?.login?y?.login:null)}}class R_ extends Dl{constructor(g,y){super(g,"google.com",y)}}class rd extends id{constructor(g,y,D){super(g,"twitter.com",y,D)}}function _u(w){const{user:g,_tokenResponse:y}=w;return g.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function gu(w){var g,y;if(!w)return null;const{providerId:D}=w,V=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},W=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!D&&w?.idToken){const ke=null===(y=null===(g=vn(w.idToken))||void 0===g?void 0:g.firebase)||void 0===y?void 0:y.sign_in_provider;if(ke)return new Dl(W,"anonymous"!==ke&&"custom"!==ke?ke:null)}if(!D)return null;switch(D){case"facebook.com":return new M_(W,V);case"github.com":return new nf(W,V);case"google.com":return new R_(W,V);case"twitter.com":return new rd(W,V,w.screenName||null);case"custom":case"anonymous":return new Dl(W,null);default:return new Dl(W,D,V)}}(y)}class Ts{constructor(g,y,D){this.type=g,this.credential=y,this.auth=D}static _fromIdtoken(g,y){return new Ts("enroll",g,y)}static _fromMfaPendingCredential(g){return new Ts("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var y,D;if(g?.multiFactorSession){if(null!==(y=g.multiFactorSession)&&void 0!==y&&y.pendingCredential)return Ts._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(D=g.multiFactorSession)&&void 0!==D&&D.idToken)return Ts._fromIdtoken(g.multiFactorSession.idToken)}return null}}class yu{constructor(g,y,D){this.session=g,this.hints=y,this.signInResolver=D}static _fromError(g,y){const D=Zn(g),V=y.customData._serverResponse,W=(V.mfaInfo||[]).map(ze=>pn._fromServerResponse(D,ze));he(V.mfaPendingCredential,D,"internal-error");const ke=Ts._fromMfaPendingCredential(V.mfaPendingCredential);return new yu(ke,W,function(){var ze=(0,o.Z)(function*(yt){const St=yield yt._process(D,ke);delete V.mfaInfo,delete V.mfaPendingCredential;const Yt=Object.assign(Object.assign({},V),{idToken:St.idToken,refreshToken:St.refreshToken});switch(y.operationType){case"signIn":const Dn=yield vi._fromIdTokenResponse(D,y.operationType,Yt);return yield D._updateCurrentUser(Dn.user),Dn;case"reauthenticate":return he(y.user,D,"internal-error"),vi._forOperation(y.user,y.operationType,Yt);default:Se(D,"internal-error")}});return function(yt){return ze.apply(this,arguments)}}())}resolveSignIn(g){var y=this;return(0,o.Z)(function*(){return y.signInResolver(g)})()}}function fc(w,g){var y;const D=(0,R.m9)(w),V=g;return he(g.customData.operationType,D,"argument-error"),he(null===(y=V.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,D,"argument-error"),yu._fromError(D,V)}class Tl{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(D=>pn._fromServerResponse(g.auth,D)))})}static _fromUser(g){return new Tl(g)}getSession(){var g=this;return(0,o.Z)(function*(){return Ts._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,y){var D=this;return(0,o.Z)(function*(){const V=g,W=yield D.getSession(),ke=yield Wt(D.user,V._process(D.user.auth,W,y));return yield D.user._updateTokensIfNecessary(ke),D.user.reload()})()}unenroll(g){var y=this;return(0,o.Z)(function*(){const D="string"==typeof g?g:g.uid,V=yield y.user.getIdToken();try{const W=yield Wt(y.user,function Ba(w,g){return We(w,"POST","/v2/accounts/mfaEnrollment:withdraw",Ie(w,g))}(y.user.auth,{idToken:V,mfaEnrollmentId:D}));y.enrolledFactors=y.enrolledFactors.filter(({uid:ke})=>ke!==D),yield y.user._updateTokensIfNecessary(W),yield y.user.reload()}catch(W){throw W}})()}}const Va=new WeakMap;function Al(w){const g=(0,R.m9)(w);return Va.has(g)||Va.set(g,Tl._fromUser(g)),Va.get(g)}const pc="__sak";class mc{constructor(g,y){this.storageRetriever=g,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(pc,"1"),this.storage.removeItem(pc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,y){return this.storage.setItem(g,JSON.stringify(y)),Promise.resolve()}_get(g){const y=this.storage.getItem(g);return Promise.resolve(y?JSON.parse(y):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const ld=(()=>{class w extends mc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,D)=>this.onStorageEvent(y,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function vu(){const w=(0,R.z$)();return X(w)||Qt(w)}()&&function er(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=_n(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const D of Object.keys(this.listeners)){const V=this.storage.getItem(D),W=this.localCache[D];V!==W&&y(D,W,V)}}onStorageEvent(y,D=!1){if(!y.key)return void this.forAllChangedKeys((ze,yt,St)=>{this.notifyListeners(ze,St)});const V=y.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ze=this.storage.getItem(V);if(y.newValue!==ze)null!==y.newValue?this.storage.setItem(V,y.newValue):this.storage.removeItem(V);else if(this.localCache[V]===y.newValue&&!D)return}const W=()=>{const ze=this.storage.getItem(V);!D&&this.localCache[V]===ze||this.notifyListeners(V,ze)},ke=this.storage.getItem(V);!function ai(){return(0,R.w1)()&&10===document.documentMode}()||ke===y.newValue||y.newValue===y.oldValue?W():setTimeout(W,10)}notifyListeners(y,D){this.localCache[y]=D;const V=this.listeners[y];if(V)for(const W of Array.from(V))W(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,D,V)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:D,newValue:V}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(D)}_removeListener(y,D){this.listeners[y]&&(this.listeners[y].delete(D),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,D){var V=()=>super._set,W=this;return(0,o.Z)(function*(){yield V().call(W,y,D),W.localCache[y]=JSON.stringify(D)})()}_get(y){var D=()=>super._get,V=this;return(0,o.Z)(function*(){const W=yield D().call(V,y);return V.localCache[y]=JSON.stringify(W),W})()}_remove(y){var D=()=>super._remove,V=this;return(0,o.Z)(function*(){yield D().call(V,y),delete V.localCache[y]})()}}return w.type="LOCAL",w})(),jr=(()=>{class w extends mc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,D){}_removeListener(y,D){}}return w.type="SESSION",w})();let xu=(()=>{class w{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const D=this.receivers.find(W=>W.isListeningto(y));if(D)return D;const V=new w(y);return this.receivers.push(V),V}isListeningto(y){return this.eventTarget===y}handleEvent(y){var D=this;return(0,o.Z)(function*(){const V=y,{eventId:W,eventType:ke,data:ze}=V.data,yt=D.handlersMap[ke];if(!yt?.size)return;V.ports[0].postMessage({status:"ack",eventId:W,eventType:ke});const St=Array.from(yt).map(function(){var Dn=(0,o.Z)(function*(To){return To(V.origin,ze)});return function(To){return Dn.apply(this,arguments)}}()),Yt=yield function cf(w){return Promise.all(w.map(function(){var g=(0,o.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(D){return{fulfilled:!1,reason:D}}});return function(y){return g.apply(this,arguments)}}()))}(St);V.ports[0].postMessage({status:"done",eventId:W,eventType:ke,response:Yt})})()}_subscribe(y,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(D)}_unsubscribe(y,D){this.handlersMap[y]&&D&&this.handlersMap[y].delete(D),(!D||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function rs(w="",g=10){let y="";for(let D=0;D<g;D++)y+=Math.floor(10*Math.random());return w+y}class df{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,y,D=50){var V=this;return(0,o.Z)(function*(){const W=typeof MessageChannel<"u"?new MessageChannel:null;if(!W)throw new Error("connection_unavailable");let ke,ze;return new Promise((yt,St)=>{const Yt=rs("",20);W.port1.start();const Dn=setTimeout(()=>{St(new Error("unsupported_event"))},D);ze={messageChannel:W,onMessage(To){const Fl=To;if(Fl.data.eventId===Yt)switch(Fl.data.status){case"ack":clearTimeout(Dn),ke=setTimeout(()=>{St(new Error("timeout"))},3e3);break;case"done":clearTimeout(ke),yt(Fl.data.response);break;default:clearTimeout(Dn),clearTimeout(ke),St(new Error("invalid_response"))}}},V.handlers.add(ze),W.port1.addEventListener("message",ze.onMessage),V.target.postMessage({eventType:g,eventId:Yt,data:y},[W.port2])}).finally(()=>{ze&&V.removeMessageHandler(ze)})})()}}function ki(){return window}function cd(){return typeof ki().WorkerGlobalScope<"u"&&"function"==typeof ki().importScripts}function _c(){return(_c=(0,o.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const zi="firebaseLocalStorageDb",Il=1,bi="firebaseLocalStorage",rm="fbase_key";class ia{constructor(g){this.request=g}toPromise(){return new Promise((g,y)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function ud(w,g){return w.transaction([bi],g?"readwrite":"readonly").objectStore(bi)}function Cu(){const w=indexedDB.open(zi,Il);return new Promise((g,y)=>{w.addEventListener("error",()=>{y(w.error)}),w.addEventListener("upgradeneeded",()=>{const D=w.result;try{D.createObjectStore(bi,{keyPath:rm})}catch(V){y(V)}}),w.addEventListener("success",(0,o.Z)(function*(){const D=w.result;D.objectStoreNames.contains(bi)?g(D):(D.close(),yield function kl(){const w=indexedDB.deleteDatabase(zi);return new ia(w).toPromise()}(),g(yield Cu()))}))})}function Du(w,g,y){return ra.apply(this,arguments)}function ra(){return(ra=(0,o.Z)(function*(w,g,y){const D=ud(w,!0).put({[rm]:g,value:y});return new ia(D).toPromise()})).apply(this,arguments)}function Ua(){return(Ua=(0,o.Z)(function*(w,g){const y=ud(w,!1).get(g),D=yield new ia(y).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function yc(w,g){const y=ud(w,!0).delete(g);return new ia(y).toPromise()}const Su=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,o.Z)(function*(){return y.db||(y.db=yield Cu()),y.db})()}_withRetries(y){var D=this;return(0,o.Z)(function*(){let V=0;for(;;)try{const W=yield D._openDb();return yield y(W)}catch(W){if(V++>3)throw W;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,o.Z)(function*(){return cd()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,o.Z)(function*(){y.receiver=xu._getInstance(function dd(){return cd()?self:null}()),y.receiver._subscribe("keyChanged",function(){var D=(0,o.Z)(function*(V,W){return{keyProcessed:(yield y._poll()).includes(W.key)}});return function(V,W){return D.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var D=(0,o.Z)(function*(V,W){return["keyChanged"]});return function(V,W){return D.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,o.Z)(function*(){var D,V;if(y.activeServiceWorker=yield function uf(){return _c.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new df(y.activeServiceWorker);const W=yield y.sender._send("ping",{},800);W&&null!==(D=W[0])&&void 0!==D&&D.fulfilled&&null!==(V=W[0])&&void 0!==V&&V.value.includes("keyChanged")&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var D=this;return(0,o.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function hf(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:y},D.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,o.Z)(function*(){try{if(!indexedDB)return!1;const y=yield Cu();return yield Du(y,pc,"1"),yield yc(y,pc),!0}catch{}return!1})()}_withPendingWrite(y){var D=this;return(0,o.Z)(function*(){D.pendingWrites++;try{yield y()}finally{D.pendingWrites--}})()}_set(y,D){var V=this;return(0,o.Z)(function*(){return V._withPendingWrite((0,o.Z)(function*(){return yield V._withRetries(W=>Du(W,y,D)),V.localCache[y]=D,V.notifyServiceWorker(y)}))})()}_get(y){var D=this;return(0,o.Z)(function*(){const V=yield D._withRetries(W=>function om(w,g){return Ua.apply(this,arguments)}(W,y));return D.localCache[y]=V,V})()}_remove(y){var D=this;return(0,o.Z)(function*(){return D._withPendingWrite((0,o.Z)(function*(){return yield D._withRetries(V=>yc(V,y)),delete D.localCache[y],D.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,o.Z)(function*(){const D=yield y._withRetries(ke=>{const ze=ud(ke,!1).getAll();return new ia(ze).toPromise()});if(!D)return[];if(0!==y.pendingWrites)return[];const V=[],W=new Set;for(const{fbase_key:ke,value:ze}of D)W.add(ke),JSON.stringify(y.localCache[ke])!==JSON.stringify(ze)&&(y.notifyListeners(ke,ze),V.push(ke));for(const ke of Object.keys(y.localCache))y.localCache[ke]&&!W.has(ke)&&(y.notifyListeners(ke,null),V.push(ke));return V})()}notifyListeners(y,D){this.localCache[y]=D;const V=this.listeners[y];if(V)for(const W of Array.from(V))W(D)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,o.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(D)}_removeListener(y,D){this.listeners[y]&&(this.listeners[y].delete(D),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})(),Eu=1e12;class mf{constructor(g){this.auth=g,this.counter=Eu,this._widgets=new Map}render(g,y){const D=this.counter;return this._widgets.set(D,new Tu(g,this.auth.name,y||{})),this.counter++,D}reset(g){var y;const D=g||Eu;null===(y=this._widgets.get(D))||void 0===y||y.delete(),this._widgets.delete(D)}getResponse(g){var y;return(null===(y=this._widgets.get(g||Eu))||void 0===y?void 0:y.getResponse())||""}execute(g){var y=this;return(0,o.Z)(function*(){var D;return null===(D=y._widgets.get(g||Eu))||void 0===D||D.execute(),""})()}}class Tu{constructor(g,y,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const V="string"==typeof g?document.getElementById(g):g;he(V,"argument-error",{appName:y}),this.container=V,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Au(w){const g=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<w;D++)g.push(y.charAt(Math.floor(Math.random()*y.length)));return g.join("")}(50);const{callback:g,"expired-callback":y}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const am=Tr("rcb"),pb=new He(3e4,6e4);class ja{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=ki().grecaptcha)||void 0===g||!g.render)}load(g,y=""){return he(function gb(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(y),g,"argument-error"),this.shouldResolveImmediately(y)&&tn(ki().grecaptcha)?Promise.resolve(ki().grecaptcha):new Promise((D,V)=>{const W=ki().setTimeout(()=>{V(_e(g,"network-request-failed"))},pb.get());ki()[am]=()=>{ki().clearTimeout(W),delete ki()[am];const ze=ki().grecaptcha;if(!ze||!tn(ze))return void V(_e(g,"internal-error"));const yt=ze.render;ze.render=(St,Yt)=>{const Dn=yt(St,Yt);return this.counter++,Dn},this.hostLanguage=y,D(ze)},On(`https://www.google.com/recaptcha/api.js??${(0,R.xO)({onload:am,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(W),V(_e(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var y;return!(null===(y=ki().grecaptcha)||void 0===y||!y.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class lm{load(g){return(0,o.Z)(function*(){return new mf(g)})()}clearedOneInstance(){}}const ji="recaptcha",fd={theme:"light",type:"image"};class pd{constructor(g,y=Object.assign({},fd),D){this.parameters=y,this.type=ji,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Zn(D),this.isInvisible="invisible"===this.parameters.size,he(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const V="string"==typeof g?document.getElementById(g):g;he(V,this.auth,"argument-error"),this.container=V,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new lm:new ja,this.validateStartingState()}verify(){var g=this;return(0,o.Z)(function*(){g.assertNotDestroyed();const y=yield g.render(),D=g.getAssertedRecaptcha();return D.getResponse(y)||new Promise(W=>{const ke=ze=>{ze&&(g.tokenChangeListeners.delete(ke),W(ze))};g.tokenChangeListeners.add(ke),g.isInvisible&&D.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){he(!this.parameters.sitekey,this.auth,"argument-error"),he(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),he(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return y=>{if(this.tokenChangeListeners.forEach(D=>D(y)),"function"==typeof g)g(y);else if("string"==typeof g){const D=ki()[g];"function"==typeof D&&D(y)}}}assertNotDestroyed(){he(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,o.Z)(function*(){if(yield g.init(),!g.widgetId){let y=g.container;if(!g.isInvisible){const D=document.createElement("div");y.appendChild(D),y=D}g.widgetId=g.getAssertedRecaptcha().render(y,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,o.Z)(function*(){he(Ze()&&!cd(),g.auth,"internal-error"),yield function Iu(){let w=null;return new Promise(g=>{"complete"!==document.readyState?(w=()=>g(),window.addEventListener("load",w)):g()}).catch(g=>{throw w&&window.removeEventListener("load",w),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const y=yield function $e(w){return Le.apply(this,arguments)}(g.auth);he(y,g.auth,"internal-error"),g.parameters.sitekey=y})()}getAssertedRecaptcha(){return he(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class co{constructor(g,y){this.verificationId=g,this.onConfirmation=y}confirm(g){const y=Ks._fromVerification(this.verificationId,g);return this.onConfirmation(y)}}function oa(w,g,y){return ku.apply(this,arguments)}function ku(){return(ku=(0,o.Z)(function*(w,g,y){const D=Zn(w),V=yield bc(D,g,(0,R.m9)(y));return new co(V,W=>un(D,W))})).apply(this,arguments)}function vc(w,g,y){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,o.Z)(function*(w,g,y){const D=(0,R.m9)(w);yield ac(!1,D,"phone");const V=yield bc(D.auth,g,(0,R.m9)(y));return new co(V,W=>tm(D,W))})).apply(this,arguments)}function gf(w,g,y){return sa.apply(this,arguments)}function sa(){return(sa=(0,o.Z)(function*(w,g,y){const D=(0,R.m9)(w),V=yield bc(D.auth,g,(0,R.m9)(y));return new co(V,W=>du(D,W))})).apply(this,arguments)}function bc(w,g,y){return md.apply(this,arguments)}function md(){return md=(0,o.Z)(function*(w,g,y){var D;const V=yield y.verify();try{let W;if(he("string"==typeof V,w,"argument-error"),he(y.type===ji,w,"argument-error"),W="string"==typeof g?{phoneNumber:g}:g,"session"in W){const ke=W.session;if("phoneNumber"in W)return he("enroll"===ke.type,w,"internal-error"),(yield function ad(w,g){return We(w,"POST","/v2/accounts/mfaEnrollment:start",Ie(w,g))}(w,{idToken:ke.credential,phoneEnrollmentInfo:{phoneNumber:W.phoneNumber,recaptchaToken:V}})).phoneSessionInfo.sessionInfo;{he("signin"===ke.type,w,"internal-error");const ze=(null===(D=W.multiFactorHint)||void 0===D?void 0:D.uid)||W.multiFactorUid;return he(ze,w,"missing-multi-factor-info"),(yield function ff(w,g){return We(w,"POST","/v2/accounts/mfaSignIn:start",Ie(w,g))}(w,{mfaPendingCredential:ke.credential,mfaEnrollmentId:ze,phoneSignInInfo:{recaptchaToken:V}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ke}=yield function T_(w,g){return au.apply(this,arguments)}(w,{phoneNumber:W.phoneNumber,recaptchaToken:V});return ke}}finally{y._reset()}}),md.apply(this,arguments)}function Co(w,g){return qa.apply(this,arguments)}function qa(){return(qa=(0,o.Z)(function*(w,g){yield zr((0,R.m9)(w),g)})).apply(this,arguments)}let Rl=(()=>{class w{constructor(y){this.providerId=w.PROVIDER_ID,this.auth=Zn(y)}verifyPhoneNumber(y,D){return bc(this.auth,y,(0,R.m9)(D))}static credential(y,D){return Ks._fromVerification(y,D)}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:D,temporaryProof:V}=y;return D&&V?Ks._fromTokenResponse(D,V):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function aa(w,g){return g?Ei(g):(he(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class gd extends yo{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Ws(g,this._buildIdpRequest())}_linkToIdToken(g,y){return Ws(g,this._buildIdpRequest(y))}_getReauthenticationResolver(g){return Ws(g,this._buildIdpRequest())}_buildIdpRequest(g){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(y.idToken=g),y}}function ri(w){return lc(w.auth,new gd(w),w.bypassAuthState)}function cm(w){const{auth:g,user:y}=w;return he(y,g,"internal-error"),jh(y,new gd(w),w.bypassAuthState)}function la(w){return ca.apply(this,arguments)}function ca(){return(ca=(0,o.Z)(function*(w){const{auth:g,user:y}=w;return he(y,g,"internal-error"),zr(y,new gd(w),w.bypassAuthState)})).apply(this,arguments)}class li{constructor(g,y,D,V,W=!1){this.auth=g,this.resolver=D,this.user=V,this.bypassAuthState=W,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var g=this;return new Promise(function(){var y=(0,o.Z)(function*(D,V){g.pendingPromise={resolve:D,reject:V};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(W){g.reject(W)}});return function(D,V){return y.apply(this,arguments)}}())}onAuthEvent(g){var y=this;return(0,o.Z)(function*(){const{urlResponse:D,sessionId:V,postBody:W,tenantId:ke,error:ze,type:yt}=g;if(ze)return void y.reject(ze);const St={auth:y.auth,requestUri:D,sessionId:V,tenantId:ke||void 0,postBody:W||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(yt)(St))}catch(Yt){y.reject(Yt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return ri;case"linkViaPopup":case"linkViaRedirect":return la;case"reauthViaPopup":case"reauthViaRedirect":return cm;default:Se(this.auth,"internal-error")}}resolve(g){Ne(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Ne(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const dm=new He(2e3,1e4);function gr(w,g,y){return As.apply(this,arguments)}function As(){return(As=(0,o.Z)(function*(w,g,y){const D=Zn(w);qe(w,g,Ar);const V=aa(D,y);return new Ol(D,"signInViaPopup",g,V).executeNotNull()})).apply(this,arguments)}function _d(w,g,y){return No.apply(this,arguments)}function No(){return(No=(0,o.Z)(function*(w,g,y){const D=(0,R.m9)(w);qe(D.auth,g,Ar);const V=aa(D.auth,y);return new Ol(D.auth,"reauthViaPopup",g,V,D).executeNotNull()})).apply(this,arguments)}function _f(w,g,y){return qr.apply(this,arguments)}function qr(){return(qr=(0,o.Z)(function*(w,g,y){const D=(0,R.m9)(w);qe(D.auth,g,Ar);const V=aa(D.auth,y);return new Ol(D.auth,"linkViaPopup",g,V,D).executeNotNull()})).apply(this,arguments)}let Ol=(()=>{class w extends li{constructor(y,D,V,W,ke){super(y,D,W,ke),this.provider=V,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var y=this;return(0,o.Z)(function*(){const D=yield y.execute();return he(D,y.auth,"internal-error"),D})()}onExecution(){var y=this;return(0,o.Z)(function*(){Ne(1===y.filter.length,"Popup operations only handle one event");const D=rs();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],D),y.authWindow.associatedEvent=D,y.resolver._originValidation(y.auth).catch(V=>{y.reject(V)}),y.resolver._isIframeWebStorageSupported(y.auth,V=>{V||y.reject(_e(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(_e(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const y=()=>{var D,V;this.pollId=null!==(V=null===(D=this.authWindow)||void 0===D?void 0:D.window)&&void 0!==V&&V.closed?window.setTimeout(()=>{this.pollId=null,this.reject(_e(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(y,dm.get())};y()}}return w.currentPopupAction=null,w})();const da="pendingRedirect",Do=new Map;class Za extends li{constructor(g,y,D=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,D),this.eventId=null}execute(){var g=()=>super.execute,y=this;return(0,o.Z)(function*(){let D=Do.get(y.auth._key());if(!D){try{const W=(yield function Mu(w,g){return wc.apply(this,arguments)}(y.resolver,y.auth))?yield g().call(y):null;D=()=>Promise.resolve(W)}catch(V){D=()=>Promise.reject(V)}Do.set(y.auth._key(),D)}return y.bypassAuthState||Do.set(y.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(g){var y=()=>super.onAuthEvent,D=this;return(0,o.Z)(function*(){if("signInViaRedirect"===g.type)return y().call(D,g);if("unknown"!==g.type){if(g.eventId){const V=yield D.auth._redirectUserForId(g.eventId);if(V)return D.user=V,y().call(D,g);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,o.Z)(function*(){})()}cleanUp(){}}function wc(){return(wc=(0,o.Z)(function*(w,g){const y=Mi(g),D=gt(w);if(!(yield D._isAvailable()))return!1;const V="true"===(yield D._get(y));return yield D._remove(y),V})).apply(this,arguments)}function yd(w,g){return os.apply(this,arguments)}function os(){return(os=(0,o.Z)(function*(w,g){return gt(w)._set(Mi(g),"true")})).apply(this,arguments)}function Zr(){Do.clear()}function Ru(w,g){Do.set(w._key(),g)}function gt(w){return Ei(w._redirectPersistence)}function Mi(w){return Hr(da,w.config.apiKey,w.name)}function pi(w,g,y){return function mi(w,g,y){return Lo.apply(this,arguments)}(w,g,y)}function Lo(){return(Lo=(0,o.Z)(function*(w,g,y){const D=Zn(w);qe(w,g,Ar),yield D._initializationPromise;const V=aa(D,y);return yield yd(V,D),V._openRedirect(D,g,"signInViaRedirect")})).apply(this,arguments)}function Ou(w,g,y){return function an(w,g,y){return Nt.apply(this,arguments)}(w,g,y)}function Nt(){return(Nt=(0,o.Z)(function*(w,g,y){const D=(0,R.m9)(w);qe(D.auth,g,Ar),yield D.auth._initializationPromise;const V=aa(D.auth,y);yield yd(V,D.auth);const W=yield bf(D);return V._openRedirect(D.auth,g,"reauthViaRedirect",W)})).apply(this,arguments)}function So(w,g,y){return function yf(w,g,y){return $a.apply(this,arguments)}(w,g,y)}function $a(){return($a=(0,o.Z)(function*(w,g,y){const D=(0,R.m9)(w);qe(D.auth,g,Ar),yield D.auth._initializationPromise;const V=aa(D.auth,y);yield ac(!1,D,g.providerId),yield yd(V,D.auth);const W=yield bf(D);return V._openRedirect(D.auth,g,"linkViaRedirect",W)})).apply(this,arguments)}function qi(w,g){return di.apply(this,arguments)}function di(){return(di=(0,o.Z)(function*(w,g){return yield Zn(w)._initializationPromise,vf(w,g,!1)})).apply(this,arguments)}function vf(w,g){return vd.apply(this,arguments)}function vd(){return(vd=(0,o.Z)(function*(w,g,y=!1){const D=Zn(w),V=aa(D,g),ke=yield new Za(D,V,y).execute();return ke&&!y&&(delete ke.user._redirectEventId,yield D._persistUserIfCurrent(ke.user),yield D._setRedirectUser(null,g)),ke})).apply(this,arguments)}function bf(w){return $r.apply(this,arguments)}function $r(){return($r=(0,o.Z)(function*(w){const g=rs(`${w.uid}:::`);return w._redirectEventId=g,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),g})).apply(this,arguments)}class ui{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let y=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(g,D)&&(y=!0,this.sendToConsumer(g,D),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function dn(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bd(w);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=g,y=!0)),y}sendToConsumer(g,y){var D;if(g.error&&!bd(g)){const V=(null===(D=g.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";y.onError(_e(this.auth,V))}else y.onAuthEvent(g)}isEventForConsumer(g,y){const D=null===y.eventId||!!g.eventId&&g.eventId===y.eventId;return y.filter.includes(g.type)&&D}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ya(g))}saveEventToCache(g){this.cachedEventUids.add(Ya(g)),this.lastProcessedEventTime=Date.now()}}function Ya(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(g=>g).join("-")}function bd({type:w,error:g}){return"unknown"===w&&"auth/no-auth-event"===g?.code}function $n(w){return wd.apply(this,arguments)}function wd(){return(wd=(0,o.Z)(function*(w,g={}){return We(w,"GET","/v1/projects",g)})).apply(this,arguments)}const wi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_b=/^https?/;function xd(){return(xd=(0,o.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:g}=yield $n(w);for(const y of g)try{if(ss(y))return}catch{}Se(w,"unauthorized-domain")})).apply(this,arguments)}function ss(w){const g=rt(),{protocol:y,hostname:D}=new URL(g);if(w.startsWith("chrome-extension://")){const ke=new URL(w);return""===ke.hostname&&""===D?"chrome-extension:"===y&&w.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===y&&ke.hostname===D}if(!_b.test(y))return!1;if(wi.test(w))return D===w;const V=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+V+"|"+V+")$","i").test(D)}const wf=new He(3e4,6e4);function Cd(){const w=ki().___jsl;if(w?.H)for(const g of Object.keys(w.H))if(w.H[g].r=w.H[g].r||[],w.H[g].L=w.H[g].L||[],w.H[g].r=[...w.H[g].L],w.CP)for(let y=0;y<w.CP.length;y++)w.CP[y]=null}let Bo=null;const kn=new He(5e3,15e3),ua="__/auth/iframe",Cc="emulator/auth/iframe",Fu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},um=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hm(w){const g=w.config;he(g.authDomain,w,"auth-domain-config-required");const y=g.emulator?Be(g,Cc):`https://${w.config.authDomain}/${ua}`,D={apiKey:g.apiKey,appName:w.name,v:A.SDK_VERSION},V=um.get(w.config.apiHost);V&&(D.eid=V);const W=w._getFrameworks();return W.length&&(D.fw=W.join(",")),`${y}?${(0,R.xO)(D).slice(1)}`}function C(){return C=(0,o.Z)(function*(w){const g=yield function Pu(w){return Bo=Bo||function to(w){return new Promise((g,y)=>{var D,V,W;function ke(){Cd(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Cd(),y(_e(w,"network-request-failed"))},timeout:wf.get()})}if(null!==(V=null===(D=ki().gapi)||void 0===D?void 0:D.iframes)&&void 0!==V&&V.Iframe)g(gapi.iframes.getContext());else{if(null===(W=ki().gapi)||void 0===W||!W.load){const ze=Tr("iframefcb");return ki()[ze]=()=>{gapi.load?ke():y(_e(w,"network-request-failed"))},On(`https://apis.google.com/js/api.js?onload=${ze}`).catch(yt=>y(yt))}ke()}}).catch(g=>{throw Bo=null,g})}(w),Bo}(w),y=ki().gapi;return he(y,w,"internal-error"),g.open({where:document.body,url:hm(w),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Fu,dontclear:!0},D=>new Promise(function(){var V=(0,o.Z)(function*(W,ke){yield D.restyle({setHideOnLeave:!1});const ze=_e(w,"network-request-failed"),yt=ki().setTimeout(()=>{ke(ze)},kn.get());function St(){ki().clearTimeout(yt),W(D)}D.ping(St).then(St,()=>{ke(ze)})});return function(W,ke){return V.apply(this,arguments)}}()))}),C.apply(this,arguments)}const E={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},P=500,ee=600,se="_blank",Re="http://localhost";class Ue{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Pt="__/auth/handler",hn="emulator/auth/handler",fn=encodeURIComponent("fac");function no(w,g,y,D,V,W){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,o.Z)(function*(w,g,y,D,V,W){he(w.config.authDomain,w,"auth-domain-config-required"),he(w.config.apiKey,w,"invalid-api-key");const ke={apiKey:w.config.apiKey,appName:w.name,authType:y,redirectUrl:D,v:A.SDK_VERSION,eventId:V};if(g instanceof Ar){g.setDefaultLanguage(w.languageCode),ke.providerId=g.providerId||"",(0,R.xb)(g.getCustomParameters())||(ke.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Yt,Dn]of Object.entries(W||{}))ke[Yt]=Dn}if(g instanceof wo){const Yt=g.getScopes().filter(Dn=>""!==Dn);Yt.length>0&&(ke.scopes=Yt.join(","))}w.tenantId&&(ke.tid=w.tenantId);const ze=ke;for(const Yt of Object.keys(ze))void 0===ze[Yt]&&delete ze[Yt];const yt=yield w._getAppCheckToken(),St=yt?`#${fn}=${encodeURIComponent(yt)}`:"";return`${function Nu({config:w}){return w.emulator?Be(w,hn):`https://${w.authDomain}/${Pt}`}(w)}?${(0,R.xO)(ze).slice(1)}${St}`})).apply(this,arguments)}const as="webStorageSupport",Eo=class Is{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jr,this._completeRedirectFn=vf,this._overrideRedirectResult=Ru}_openPopup(g,y,D,V){var W=this;return(0,o.Z)(function*(){var ke;Ne(null===(ke=W.eventManagers[g._key()])||void 0===ke?void 0:ke.manager,"_initialize() not called before _openPopup()");const ze=yield no(g,y,D,rt(),V);return function wt(w,g,y,D=P,V=ee){const W=Math.max((window.screen.availHeight-V)/2,0).toString(),ke=Math.max((window.screen.availWidth-D)/2,0).toString();let ze="";const yt=Object.assign(Object.assign({},E),{width:D.toString(),height:V.toString(),top:W,left:ke}),St=(0,R.z$)().toLowerCase();y&&(ze=$(St)?se:y),K(St)&&(g=g||Re,yt.scrollbars="yes");const Yt=Object.entries(yt).reduce((To,[Fl,pm])=>`${To}${Fl}=${pm},`,"");if(function sn(w=(0,R.z$)()){var g;return Qt(w)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(St)&&"_self"!==ze)return function bt(w,g){const y=document.createElement("a");y.href=w,y.target=g;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(D)}(g||"",ze),new Ue(null);const Dn=window.open(g||"",ze,Yt);he(Dn,w,"popup-blocked");try{Dn.focus()}catch{}return new Ue(Dn)}(g,ze,rs())})()}_openRedirect(g,y,D,V){var W=this;return(0,o.Z)(function*(){return yield W._originValidation(g),function na(w){ki().location.href=w}(yield no(g,y,D,rt(),V)),new Promise(()=>{})})()}_initialize(g){const y=g._key();if(this.eventManagers[y]){const{manager:V,promise:W}=this.eventManagers[y];return V?Promise.resolve(V):(Ne(W,"If manager is not set, promise should be"),W)}const D=this.initAndGetManager(g);return this.eventManagers[y]={promise:D},D.catch(()=>{delete this.eventManagers[y]}),D}initAndGetManager(g){var y=this;return(0,o.Z)(function*(){const D=yield function xf(w){return C.apply(this,arguments)}(g),V=new ui(g);return D.register("authEvent",W=>(he(W?.authEvent,g,"invalid-auth-event"),{status:V.onEvent(W.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[g._key()]={manager:V},y.iframes[g._key()]=D,V})()}_isIframeWebStorageSupported(g,y){this.iframes[g._key()].send(as,{type:as},V=>{var W;const ke=null===(W=V?.[0])||void 0===W?void 0:W[as];void 0!==ke&&y(!!ke),Se(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const y=g._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function xc(w){return xd.apply(this,arguments)}(g)),this.originValidationPromises[y]}get _shouldInitProactively(){return _n()||X()||Qt()}};class ls{constructor(g){this.factorId=g}_process(g,y,D){switch(y.type){case"enroll":return this._finalizeEnroll(g,y.credential,D);case"signin":return this._finalizeSignIn(g,y.credential);default:return U("unexpected MultiFactorSessionType")}}}class Pl extends ls{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Pl(g)}_finalizeEnroll(g,y,D){return function El(w,g){return We(w,"POST","/v2/accounts/mfaEnrollment:finalize",Ie(w,g))}(g,{idToken:y,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,y){return function za(w,g){return We(w,"POST","/v2/accounts/mfaSignIn:finalize",Ie(w,g))}(g,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let yb=(()=>{class w{constructor(){}static assertion(y){return Pl._fromCredential(y)}}return w.FACTOR_ID="phone",w})();var fm="@firebase/auth";class Bu{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var y=this;return(0,o.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const y=this.auth.onIdTokenChanged(D=>{g(D?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,y),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const y=this.internalListeners.get(g);y&&(this.internalListeners.delete(g),y(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,R.Pz)("authIdTokenMaxAge"),function N_(w){(0,A._registerComponent)(new j.wA("auth",(g,{options:y})=>{const D=g.getProvider("app").getImmediate(),V=g.getProvider("heartbeat"),W=g.getProvider("app-check-internal"),{apiKey:ke,authDomain:ze}=D.options;he(ke&&!ke.includes(":"),"invalid-api-key",{appName:D.name});const yt={apiKey:ke,authDomain:ze,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ws(w)},St=new hi(D,V,W,yt);return function Fi(w,g){const y=g?.persistence||[],D=(Array.isArray(y)?y:[y]).map(Ei);g?.errorMap&&w._updateErrorMap(g.errorMap),w._initializeWithPersistence(D,g?.popupRedirectResolver)}(St,y),St},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,y,D)=>{g.getProvider("auth-internal").initialize()})),(0,A._registerComponent)(new j.wA("auth-internal",g=>{const y=Zn(g.getProvider("auth").getImmediate());return new Bu(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,A.registerVersion)(fm,"0.23.2",function F_(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,A.registerVersion)(fm,"0.23.2","esm2017")}("Browser")},2090:(Bt,re,H)=>{"use strict";H.d(re,{$s:()=>Ei,BH:()=>Me,DV:()=>Te,Dv:()=>Jn,G6:()=>Be,GJ:()=>ce,L:()=>J,LL:()=>Ke,Pz:()=>_e,Sg:()=>qe,UG:()=>U,UI:()=>Xe,US:()=>j,Wj:()=>Di,Wl:()=>Ft,Yr:()=>He,ZB:()=>M,ZR:()=>We,aH:()=>Se,b$:()=>Ze,cI:()=>Gt,dS:()=>Vr,eu:()=>De,g5:()=>A,gK:()=>Ui,gQ:()=>Rt,h$:()=>Q,hl:()=>Ae,hu:()=>R,jU:()=>Ne,lb:()=>gn,m9:()=>Hr,ne:()=>Wt,p$:()=>O,pd:()=>vn,r3:()=>ae,ru:()=>rt,tV:()=>k,uI:()=>he,ug:()=>bn,vZ:()=>be,w1:()=>ut,w9:()=>Pe,xO:()=>st,xb:()=>tt,z$:()=>oe,zI:()=>xe,zd:()=>Mt});const o={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},R=function(ye,me){if(!ye)throw A(me)},A=function(ye){return new Error("Firebase Database ("+o.SDK_VERSION+") INTERNAL ASSERT FAILED: "+ye)},N=function(ye){const me=[];let K=0;for(let X=0;X<ye.length;X++){let $=ye.charCodeAt(X);$<128?me[K++]=$:$<2048?(me[K++]=$>>6|192,me[K++]=63&$|128):55296==(64512&$)&&X+1<ye.length&&56320==(64512&ye.charCodeAt(X+1))?($=65536+((1023&$)<<10)+(1023&ye.charCodeAt(++X)),me[K++]=$>>18|240,me[K++]=$>>12&63|128,me[K++]=$>>6&63|128,me[K++]=63&$|128):(me[K++]=$>>12|224,me[K++]=$>>6&63|128,me[K++]=63&$|128)}return me},j={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ye,me){if(!Array.isArray(ye))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=me?this.byteToCharMapWebSafe_:this.byteToCharMap_,X=[];for(let $=0;$<ye.length;$+=3){const Ce=ye[$],et=$+1<ye.length,At=et?ye[$+1]:0,en=$+2<ye.length,Qt=en?ye[$+2]:0;let ai=(15&At)<<2|Qt>>6,_n=63&Qt;en||(_n=64,et||(ai=64)),X.push(K[Ce>>2],K[(3&Ce)<<4|At>>4],K[ai],K[_n])}return X.join("")},encodeString(ye,me){return this.HAS_NATIVE_SUPPORT&&!me?btoa(ye):this.encodeByteArray(N(ye),me)},decodeString(ye,me){return this.HAS_NATIVE_SUPPORT&&!me?atob(ye):function(ye){const me=[];let K=0,X=0;for(;K<ye.length;){const $=ye[K++];if($<128)me[X++]=String.fromCharCode($);else if($>191&&$<224){const Ce=ye[K++];me[X++]=String.fromCharCode((31&$)<<6|63&Ce)}else if($>239&&$<365){const en=((7&$)<<18|(63&ye[K++])<<12|(63&ye[K++])<<6|63&ye[K++])-65536;me[X++]=String.fromCharCode(55296+(en>>10)),me[X++]=String.fromCharCode(56320+(1023&en))}else{const Ce=ye[K++],et=ye[K++];me[X++]=String.fromCharCode((15&$)<<12|(63&Ce)<<6|63&et)}}return me.join("")}(this.decodeStringToByteArray(ye,me))},decodeStringToByteArray(ye,me){this.init_();const K=me?this.charToByteMapWebSafe_:this.charToByteMap_,X=[];for(let $=0;$<ye.length;){const Ce=K[ye.charAt($++)],At=$<ye.length?K[ye.charAt($)]:0;++$;const Qt=$<ye.length?K[ye.charAt($)]:64;++$;const sn=$<ye.length?K[ye.charAt($)]:64;if(++$,null==Ce||null==At||null==Qt||null==sn)throw new te;X.push(Ce<<2|At>>4),64!==Qt&&(X.push(At<<4&240|Qt>>2),64!==sn&&X.push(Qt<<6&192|sn))}return X},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ye=0;ye<this.ENCODED_VALS.length;ye++)this.byteToCharMap_[ye]=this.ENCODED_VALS.charAt(ye),this.charToByteMap_[this.byteToCharMap_[ye]]=ye,this.byteToCharMapWebSafe_[ye]=this.ENCODED_VALS_WEBSAFE.charAt(ye),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ye]]=ye,ye>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ye)]=ye,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ye)]=ye)}}};class te extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Q=function(ye){const me=N(ye);return j.encodeByteArray(me,!0)},J=function(ye){return Q(ye).replace(/\./g,"")},k=function(ye){try{return j.decodeString(ye,!0)}catch(me){console.error("base64Decode failed: ",me)}return null};function O(ye){return M(void 0,ye)}function M(ye,me){if(!(me instanceof Object))return me;switch(me.constructor){case Date:return new Date(me.getTime());case Object:void 0===ye&&(ye={});break;case Array:ye=[];break;default:return me}for(const K in me)!me.hasOwnProperty(K)||!Z(K)||(ye[K]=M(ye[K],me[K]));return ye}function Z(ye){return"__proto__"!==ye}const fe=()=>{try{return function z(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ye=process.env.__FIREBASE_DEFAULTS__;return ye?JSON.parse(ye):void 0})()||(()=>{if(typeof document>"u")return;let ye;try{ye=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const me=ye&&k(ye[1]);return me&&JSON.parse(me)})()}catch(ye){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ye}`)}},Se=()=>{var ye;return null===(ye=fe())||void 0===ye?void 0:ye.config},_e=ye=>{var me;return null===(me=fe())||void 0===me?void 0:me[`_${ye}`]};class Me{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((me,K)=>{this.resolve=me,this.reject=K})}wrapCallback(me){return(K,X)=>{K?this.reject(K):this.resolve(X),"function"==typeof me&&(this.promise.catch(()=>{}),1===me.length?me(K):me(K,X))}}}function qe(ye,me){if(ye.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const X=me||"demo-project",$=ye.iat||0,Ce=ye.sub||ye.user_id;if(!Ce)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const et=Object.assign({iss:`https://securetoken.google.com/${X}`,aud:X,iat:$,exp:$+3600,auth_time:$,sub:Ce,user_id:Ce,firebase:{sign_in_provider:"custom",identities:{}}},ye);return[J(JSON.stringify({alg:"none",type:"JWT"})),J(JSON.stringify(et)),""].join(".")}function oe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function he(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(oe())}function U(){var ye;const me=null===(ye=fe())||void 0===ye?void 0:ye.forceEnvironment;if("node"===me)return!0;if("browser"===me)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ne(){return"object"==typeof self&&self.self===self}function rt(){const ye="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ye&&void 0!==ye.id}function Ze(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ut(){const ye=oe();return ye.indexOf("MSIE ")>=0||ye.indexOf("Trident/")>=0}function He(){return!0===o.NODE_CLIENT||!0===o.NODE_ADMIN}function Be(){return!U()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ae(){try{return"object"==typeof indexedDB}catch{return!1}}function De(){return new Promise((ye,me)=>{try{let K=!0;const X="validate-browser-context-for-indexeddb-analytics-module",$=self.indexedDB.open(X);$.onsuccess=()=>{$.result.close(),K||self.indexedDB.deleteDatabase(X),ye(!0)},$.onupgradeneeded=()=>{K=!1},$.onerror=()=>{var Ce;me((null===(Ce=$.error)||void 0===Ce?void 0:Ce.message)||"")}}catch(K){me(K)}})}function xe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class We extends Error{constructor(me,K,X){super(K),this.code=me,this.customData=X,this.name="FirebaseError",Object.setPrototypeOf(this,We.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ke.prototype.create)}}class Ke{constructor(me,K,X){this.service=me,this.serviceName=K,this.errors=X}create(me,...K){const X=K[0]||{},$=`${this.service}/${me}`,Ce=this.errors[me],et=Ce?function ft(ye,me){return ye.replace(vt,(K,X)=>{const $=me[X];return null!=$?String($):`<${X}?>`})}(Ce,X):"Error";return new We($,`${this.serviceName}: ${et} (${$}).`,X)}}const vt=/\{\$([^}]+)}/g;function Gt(ye){return JSON.parse(ye)}function Ft(ye){return JSON.stringify(ye)}const rn=function(ye){let me={},K={},X={},$="";try{const Ce=ye.split(".");me=Gt(k(Ce[0])||""),K=Gt(k(Ce[1])||""),$=Ce[2],X=K.d||{},delete K.d}catch{}return{header:me,claims:K,data:X,signature:$}},Pe=function(ye){const K=rn(ye).claims;return!!K&&"object"==typeof K&&K.hasOwnProperty("iat")},ce=function(ye){const me=rn(ye).claims;return"object"==typeof me&&!0===me.admin};function ae(ye,me){return Object.prototype.hasOwnProperty.call(ye,me)}function Te(ye,me){if(Object.prototype.hasOwnProperty.call(ye,me))return ye[me]}function tt(ye){for(const me in ye)if(Object.prototype.hasOwnProperty.call(ye,me))return!1;return!0}function Xe(ye,me,K){const X={};for(const $ in ye)Object.prototype.hasOwnProperty.call(ye,$)&&(X[$]=me.call(K,ye[$],$,ye));return X}function be(ye,me){if(ye===me)return!0;const K=Object.keys(ye),X=Object.keys(me);for(const $ of K){if(!X.includes($))return!1;const Ce=ye[$],et=me[$];if(ot(Ce)&&ot(et)){if(!be(Ce,et))return!1}else if(Ce!==et)return!1}for(const $ of X)if(!K.includes($))return!1;return!0}function ot(ye){return null!==ye&&"object"==typeof ye}function st(ye){const me=[];for(const[K,X]of Object.entries(ye))Array.isArray(X)?X.forEach($=>{me.push(encodeURIComponent(K)+"="+encodeURIComponent($))}):me.push(encodeURIComponent(K)+"="+encodeURIComponent(X));return me.length?"&"+me.join("&"):""}function Mt(ye){const me={};return ye.replace(/^\?/,"").split("&").forEach(X=>{if(X){const[$,Ce]=X.split("=");me[decodeURIComponent($)]=decodeURIComponent(Ce)}}),me}function vn(ye){const me=ye.indexOf("?");if(!me)return"";const K=ye.indexOf("#",me);return ye.substring(me,K>0?K:void 0)}class Rt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let me=1;me<this.blockSize;++me)this.pad_[me]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(me,K){K||(K=0);const X=this.W_;if("string"==typeof me)for(let sn=0;sn<16;sn++)X[sn]=me.charCodeAt(K)<<24|me.charCodeAt(K+1)<<16|me.charCodeAt(K+2)<<8|me.charCodeAt(K+3),K+=4;else for(let sn=0;sn<16;sn++)X[sn]=me[K]<<24|me[K+1]<<16|me[K+2]<<8|me[K+3],K+=4;for(let sn=16;sn<80;sn++){const ai=X[sn-3]^X[sn-8]^X[sn-14]^X[sn-16];X[sn]=4294967295&(ai<<1|ai>>>31)}let Qt,xn,$=this.chain_[0],Ce=this.chain_[1],et=this.chain_[2],At=this.chain_[3],en=this.chain_[4];for(let sn=0;sn<80;sn++){sn<40?sn<20?(Qt=At^Ce&(et^At),xn=1518500249):(Qt=Ce^et^At,xn=1859775393):sn<60?(Qt=Ce&et|At&(Ce|et),xn=2400959708):(Qt=Ce^et^At,xn=3395469782);const ai=($<<5|$>>>27)+Qt+en+xn+X[sn]&4294967295;en=At,At=et,et=4294967295&(Ce<<30|Ce>>>2),Ce=$,$=ai}this.chain_[0]=this.chain_[0]+$&4294967295,this.chain_[1]=this.chain_[1]+Ce&4294967295,this.chain_[2]=this.chain_[2]+et&4294967295,this.chain_[3]=this.chain_[3]+At&4294967295,this.chain_[4]=this.chain_[4]+en&4294967295}update(me,K){if(null==me)return;void 0===K&&(K=me.length);const X=K-this.blockSize;let $=0;const Ce=this.buf_;let et=this.inbuf_;for(;$<K;){if(0===et)for(;$<=X;)this.compress_(me,$),$+=this.blockSize;if("string"==typeof me){for(;$<K;)if(Ce[et]=me.charCodeAt($),++et,++$,et===this.blockSize){this.compress_(Ce),et=0;break}}else for(;$<K;)if(Ce[et]=me[$],++et,++$,et===this.blockSize){this.compress_(Ce),et=0;break}}this.inbuf_=et,this.total_+=K}digest(){const me=[];let K=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let $=this.blockSize-1;$>=56;$--)this.buf_[$]=255&K,K/=256;this.compress_(this.buf_);let X=0;for(let $=0;$<5;$++)for(let Ce=24;Ce>=0;Ce-=8)me[X]=this.chain_[$]>>Ce&255,++X;return me}}function Wt(ye,me){const K=new Ot(ye,me);return K.subscribe.bind(K)}class Ot{constructor(me,K){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(()=>{me(this)}).catch(X=>{this.error(X)})}next(me){this.forEachObserver(K=>{K.next(me)})}error(me){this.forEachObserver(K=>{K.error(me)}),this.close(me)}complete(){this.forEachObserver(me=>{me.complete()}),this.close()}subscribe(me,K,X){let $;if(void 0===me&&void 0===K&&void 0===X)throw new Error("Missing Observer.");$=function ni(ye,me){if("object"!=typeof ye||null===ye)return!1;for(const K of me)if(K in ye&&"function"==typeof ye[K])return!0;return!1}(me,["next","error","complete"])?me:{next:me,error:K,complete:X},void 0===$.next&&($.next=An),void 0===$.error&&($.error=An),void 0===$.complete&&($.complete=An);const Ce=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?$.error(this.finalError):$.complete()}catch{}}),this.observers.push($),Ce}unsubscribeOne(me){void 0===this.observers||void 0===this.observers[me]||(delete this.observers[me],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(me){if(!this.finalized)for(let K=0;K<this.observers.length;K++)this.sendOne(K,me)}sendOne(me,K){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[me])try{K(this.observers[me])}catch(X){typeof console<"u"&&console.error&&console.error(X)}})}close(me){this.finalized||(this.finalized=!0,void 0!==me&&(this.finalError=me),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function An(){}const Jn=function(ye,me,K,X){let $;if(X<me?$="at least "+me:X>K&&($=0===K?"none":"no more than "+K),$)throw new Error(ye+" failed: Was called with "+X+(1===X?" argument.":" arguments.")+" Expects "+$+".")};function Ui(ye,me){return`${ye} failed: ${me} argument `}function Di(ye,me,K,X){if((!X||K)&&"function"!=typeof K)throw new Error(Ui(ye,me)+"must be a valid function.")}function gn(ye,me,K,X){if((!X||K)&&("object"!=typeof K||null===K))throw new Error(Ui(ye,me)+"must be a valid context object.")}const Vr=function(ye){const me=[];let K=0;for(let X=0;X<ye.length;X++){let $=ye.charCodeAt(X);if($>=55296&&$<=56319){const Ce=$-55296;X++,R(X<ye.length,"Surrogate pair missing trail surrogate."),$=65536+(Ce<<10)+(ye.charCodeAt(X)-56320)}$<128?me[K++]=$:$<2048?(me[K++]=$>>6|192,me[K++]=63&$|128):$<65536?(me[K++]=$>>12|224,me[K++]=$>>6&63|128,me[K++]=63&$|128):(me[K++]=$>>18|240,me[K++]=$>>12&63|128,me[K++]=$>>6&63|128,me[K++]=63&$|128)}return me},bn=function(ye){let me=0;for(let K=0;K<ye.length;K++){const X=ye.charCodeAt(K);X<128?me++:X<2048?me+=2:X>=55296&&X<=56319?(me+=4,K++):me+=3}return me},on=1e3,si=2,_i=144e5,hr=.5;function Ei(ye,me=on,K=si){const X=me*Math.pow(K,ye),$=Math.round(hr*X*(Math.random()-.5)*2);return Math.min(_i,X+$)}function Hr(ye){return ye&&ye._delegate?ye._delegate:ye}},7439:(Bt,re,H)=>{"use strict";var o=H(4650);let R=null;function A(){return R}class G{}const j=new o.OlP("DocumentToken");let te=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return function Q(){return(0,o.LFG)(k)}()},providedIn:"platform"}),n})();const J=new o.OlP("Location Initialized");let k=(()=>{class n extends te{constructor(e){super(),this._doc=e,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return A().getBaseHref(this._doc)}onPopState(e){const i=A().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=A().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){O()?this._history.pushState(e,i,r):this._location.hash=r}replaceState(e,i,r){O()?this._history.replaceState(e,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(j))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function M(){return new k((0,o.LFG)(j))}()},providedIn:"platform"}),n})();function O(){return!!window.history.pushState}function Z(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function z(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function ie(n){return n&&"?"!==n[0]?"?"+n:n}let pe=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(fe)},providedIn:"root"}),n})();const le=new o.OlP("appBaseHref");let fe=(()=>{class n extends pe{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,o.f3M)(j).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Z(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+ie(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const a=this.prepareExternalUrl(r+ie(s));this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,s){const a=this.prepareExternalUrl(r+ie(s));this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(te),o.LFG(le,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),we=(()=>{class n extends pe{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Z(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let a=this.prepareExternalUrl(r+ie(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,s){let a=this.prepareExternalUrl(r+ie(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(te),o.LFG(le,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),ve=(()=>{class n{constructor(e){this._subject=new o.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function qe(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(z(Me(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+ie(i))}normalize(e){return n.stripTrailingSlash(function _e(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,Me(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ie(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ie(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=ie,n.joinWithSlash=Z,n.stripTrailingSlash=z,n.\u0275fac=function(e){return new(e||n)(o.LFG(pe))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function Se(){return new ve((0,o.LFG)(pe))}()},providedIn:"root"}),n})();function Me(n){return n.replace(/\/index.html$/,"")}var he=(()=>((he=he||{})[he.Decimal=0]="Decimal",he[he.Percent=1]="Percent",he[he.Currency=2]="Currency",he[he.Scientific=3]="Scientific",he))(),Ne=(()=>((Ne=Ne||{})[Ne.Format=0]="Format",Ne[Ne.Standalone=1]="Standalone",Ne))(),rt=(()=>((rt=rt||{})[rt.Narrow=0]="Narrow",rt[rt.Abbreviated=1]="Abbreviated",rt[rt.Wide=2]="Wide",rt[rt.Short=3]="Short",rt))(),Ze=(()=>((Ze=Ze||{})[Ze.Short=0]="Short",Ze[Ze.Medium=1]="Medium",Ze[Ze.Long=2]="Long",Ze[Ze.Full=3]="Full",Ze))(),lt=(()=>((lt=lt||{})[lt.Decimal=0]="Decimal",lt[lt.Group=1]="Group",lt[lt.List=2]="List",lt[lt.PercentSign=3]="PercentSign",lt[lt.PlusSign=4]="PlusSign",lt[lt.MinusSign=5]="MinusSign",lt[lt.Exponential=6]="Exponential",lt[lt.SuperscriptingExponent=7]="SuperscriptingExponent",lt[lt.PerMille=8]="PerMille",lt[lt.Infinity=9]="Infinity",lt[lt.NaN=10]="NaN",lt[lt.TimeSeparator=11]="TimeSeparator",lt[lt.CurrencyDecimal=12]="CurrencyDecimal",lt[lt.CurrencyGroup=13]="CurrencyGroup",lt))();function We(n,t){return Xe((0,o.cg1)(n)[o.wAp.DateFormat],t)}function Ke(n,t){return Xe((0,o.cg1)(n)[o.wAp.TimeFormat],t)}function ft(n,t){return Xe((0,o.cg1)(n)[o.wAp.DateTimeFormat],t)}function vt(n,t){const e=(0,o.cg1)(n),i=e[o.wAp.NumberSymbols][t];if(typeof i>"u"){if(t===lt.CurrencyDecimal)return e[o.wAp.NumberSymbols][lt.Decimal];if(t===lt.CurrencyGroup)return e[o.wAp.NumberSymbols][lt.Group]}return i}function ce(n){if(!n[o.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[o.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Xe(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function be(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const Mt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,vn={},Rt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Wt=(()=>((Wt=Wt||{})[Wt.Short=0]="Short",Wt[Wt.ShortGMT=1]="ShortGMT",Wt[Wt.Long=2]="Long",Wt[Wt.Extended=3]="Extended",Wt))(),Ot=(()=>((Ot=Ot||{})[Ot.FullYear=0]="FullYear",Ot[Ot.Month=1]="Month",Ot[Ot.Date=2]="Date",Ot[Ot.Hours=3]="Hours",Ot[Ot.Minutes=4]="Minutes",Ot[Ot.Seconds=5]="Seconds",Ot[Ot.FractionalSeconds=6]="FractionalSeconds",Ot[Ot.Day=7]="Day",Ot))(),$t=(()=>(($t=$t||{})[$t.DayPeriods=0]="DayPeriods",$t[$t.Days=1]="Days",$t[$t.Months=2]="Months",$t[$t.Eras=3]="Eras",$t))();function ni(n,t,e,i){let r=function $(n){if(et(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,a=1]=n.split("-").map(u=>+u);return An(r,s-1,a)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(Mt))return function Ce(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const a=Number(n[4]||0)-e,u=Number(n[5]||0)-i,f=Number(n[6]||0),m=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(t,a,u,f,m),t}(i)}const t=new Date(n);if(!et(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Jn(e,t)||t;let u,a=[];for(;t;){if(u=Rt.exec(t),!u){a.push(t);break}{a=a.concat(u.slice(1));const v=a.pop();if(!v)break;t=v}}let f=r.getTimezoneOffset();i&&(f=me(i,f),r=function X(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function K(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(me(t,r)-r))}(r,i,!0));let m="";return a.forEach(v=>{const x=function ye(n){if(Hr[n])return Hr[n];let t;switch(n){case"G":case"GG":case"GGG":t=bn($t.Eras,rt.Abbreviated);break;case"GGGG":t=bn($t.Eras,rt.Wide);break;case"GGGGG":t=bn($t.Eras,rt.Narrow);break;case"y":t=gn(Ot.FullYear,1,0,!1,!0);break;case"yy":t=gn(Ot.FullYear,2,0,!0,!0);break;case"yyy":t=gn(Ot.FullYear,3,0,!1,!0);break;case"yyyy":t=gn(Ot.FullYear,4,0,!1,!0);break;case"Y":t=Er(1);break;case"YY":t=Er(2,!0);break;case"YYY":t=Er(3);break;case"YYYY":t=Er(4);break;case"M":case"L":t=gn(Ot.Month,1,1);break;case"MM":case"LL":t=gn(Ot.Month,2,1);break;case"MMM":t=bn($t.Months,rt.Abbreviated);break;case"MMMM":t=bn($t.Months,rt.Wide);break;case"MMMMM":t=bn($t.Months,rt.Narrow);break;case"LLL":t=bn($t.Months,rt.Abbreviated,Ne.Standalone);break;case"LLLL":t=bn($t.Months,rt.Wide,Ne.Standalone);break;case"LLLLL":t=bn($t.Months,rt.Narrow,Ne.Standalone);break;case"w":t=Ur(1);break;case"ww":t=Ur(2);break;case"W":t=Ur(1,!0);break;case"d":t=gn(Ot.Date,1);break;case"dd":t=gn(Ot.Date,2);break;case"c":case"cc":t=gn(Ot.Day,1);break;case"ccc":t=bn($t.Days,rt.Abbreviated,Ne.Standalone);break;case"cccc":t=bn($t.Days,rt.Wide,Ne.Standalone);break;case"ccccc":t=bn($t.Days,rt.Narrow,Ne.Standalone);break;case"cccccc":t=bn($t.Days,rt.Short,Ne.Standalone);break;case"E":case"EE":case"EEE":t=bn($t.Days,rt.Abbreviated);break;case"EEEE":t=bn($t.Days,rt.Wide);break;case"EEEEE":t=bn($t.Days,rt.Narrow);break;case"EEEEEE":t=bn($t.Days,rt.Short);break;case"a":case"aa":case"aaa":t=bn($t.DayPeriods,rt.Abbreviated);break;case"aaaa":t=bn($t.DayPeriods,rt.Wide);break;case"aaaaa":t=bn($t.DayPeriods,rt.Narrow);break;case"b":case"bb":case"bbb":t=bn($t.DayPeriods,rt.Abbreviated,Ne.Standalone,!0);break;case"bbbb":t=bn($t.DayPeriods,rt.Wide,Ne.Standalone,!0);break;case"bbbbb":t=bn($t.DayPeriods,rt.Narrow,Ne.Standalone,!0);break;case"B":case"BB":case"BBB":t=bn($t.DayPeriods,rt.Abbreviated,Ne.Format,!0);break;case"BBBB":t=bn($t.DayPeriods,rt.Wide,Ne.Format,!0);break;case"BBBBB":t=bn($t.DayPeriods,rt.Narrow,Ne.Format,!0);break;case"h":t=gn(Ot.Hours,1,-12);break;case"hh":t=gn(Ot.Hours,2,-12);break;case"H":t=gn(Ot.Hours,1);break;case"HH":t=gn(Ot.Hours,2);break;case"m":t=gn(Ot.Minutes,1);break;case"mm":t=gn(Ot.Minutes,2);break;case"s":t=gn(Ot.Seconds,1);break;case"ss":t=gn(Ot.Seconds,2);break;case"S":t=gn(Ot.FractionalSeconds,1);break;case"SS":t=gn(Ot.FractionalSeconds,2);break;case"SSS":t=gn(Ot.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=on(Wt.Short);break;case"ZZZZZ":t=on(Wt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=on(Wt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=on(Wt.Long);break;default:return null}return Hr[n]=t,t}(v);m+=x?x(r,e,f):"''"===v?"'":v.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),m}function An(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Jn(n,t){const e=function Lt(n){return(0,o.cg1)(n)[o.wAp.LocaleId]}(n);if(vn[e]=vn[e]||{},vn[e][t])return vn[e][t];let i="";switch(t){case"shortDate":i=We(n,Ze.Short);break;case"mediumDate":i=We(n,Ze.Medium);break;case"longDate":i=We(n,Ze.Long);break;case"fullDate":i=We(n,Ze.Full);break;case"shortTime":i=Ke(n,Ze.Short);break;case"mediumTime":i=Ke(n,Ze.Medium);break;case"longTime":i=Ke(n,Ze.Long);break;case"fullTime":i=Ke(n,Ze.Full);break;case"short":const r=Jn(n,"shortTime"),s=Jn(n,"shortDate");i=Ui(ft(n,Ze.Short),[r,s]);break;case"medium":const a=Jn(n,"mediumTime"),u=Jn(n,"mediumDate");i=Ui(ft(n,Ze.Medium),[a,u]);break;case"long":const f=Jn(n,"longTime"),m=Jn(n,"longDate");i=Ui(ft(n,Ze.Long),[f,m]);break;case"full":const v=Jn(n,"fullTime"),x=Jn(n,"fullDate");i=Ui(ft(n,Ze.Full),[v,x])}return i&&(vn[e][t]=i),i}function Ui(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function zn(n,t,e="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=e));let a=String(n);for(;a.length<t;)a="0"+a;return i&&(a=a.slice(a.length-t)),s+a}function gn(n,t,e=0,i=!1,r=!1){return function(s,a){let u=function Vr(n,t){switch(n){case Ot.FullYear:return t.getFullYear();case Ot.Month:return t.getMonth();case Ot.Date:return t.getDate();case Ot.Hours:return t.getHours();case Ot.Minutes:return t.getMinutes();case Ot.Seconds:return t.getSeconds();case Ot.FractionalSeconds:return t.getMilliseconds();case Ot.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((e>0||u>-e)&&(u+=e),n===Ot.Hours)0===u&&-12===e&&(u=12);else if(n===Ot.FractionalSeconds)return function Di(n,t){return zn(n,3).substring(0,t)}(u,t);const f=vt(a,lt.MinusSign);return zn(u,t,f,i,r)}}function bn(n,t,e=Ne.Format,i=!1){return function(r,s){return function ur(n,t,e,i,r,s){switch(e){case $t.Months:return function Ae(n,t,e){const i=(0,o.cg1)(n),s=Xe([i[o.wAp.MonthsFormat],i[o.wAp.MonthsStandalone]],t);return Xe(s,e)}(t,r,i)[n.getMonth()];case $t.Days:return function Be(n,t,e){const i=(0,o.cg1)(n),s=Xe([i[o.wAp.DaysFormat],i[o.wAp.DaysStandalone]],t);return Xe(s,e)}(t,r,i)[n.getDay()];case $t.DayPeriods:const a=n.getHours(),u=n.getMinutes();if(s){const m=function ae(n){const t=(0,o.cg1)(n);return ce(t),(t[o.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?be(i):[be(i[0]),be(i[1])])}(t),v=function Te(n,t,e){const i=(0,o.cg1)(n);ce(i);const s=Xe([i[o.wAp.ExtraData][0],i[o.wAp.ExtraData][1]],t)||[];return Xe(s,e)||[]}(t,r,i),x=m.findIndex(I=>{if(Array.isArray(I)){const[B,q]=I,ue=a>=B.hours&&u>=B.minutes,ge=a<q.hours||a===q.hours&&u<q.minutes;if(B.hours<q.hours){if(ue&&ge)return!0}else if(ue||ge)return!0}else if(I.hours===a&&I.minutes===u)return!0;return!1});if(-1!==x)return v[x]}return function He(n,t,e){const i=(0,o.cg1)(n),s=Xe([i[o.wAp.DayPeriodsFormat],i[o.wAp.DayPeriodsStandalone]],t);return Xe(s,e)}(t,r,i)[a<12?0:1];case $t.Eras:return function De(n,t){return Xe((0,o.cg1)(n)[o.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,s,n,t,e,i)}}function on(n){return function(t,e,i){const r=-1*i,s=vt(e,lt.MinusSign),a=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Wt.Short:return(r>=0?"+":"")+zn(a,2,s)+zn(Math.abs(r%60),2,s);case Wt.ShortGMT:return"GMT"+(r>=0?"+":"")+zn(a,1,s);case Wt.Long:return"GMT"+(r>=0?"+":"")+zn(a,2,s)+":"+zn(Math.abs(r%60),2,s);case Wt.Extended:return 0===i?"Z":(r>=0?"+":"")+zn(a,2,s)+":"+zn(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}const si=0,_i=4;function Ei(n){return An(n.getFullYear(),n.getMonth(),n.getDate()+(_i-n.getDay()))}function Ur(n,t=!1){return function(e,i){let r;if(t){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,a=e.getDate();r=1+Math.floor((a+s)/7)}else{const s=Ei(e),a=function hr(n){const t=An(n,si,1).getDay();return An(n,0,1+(t<=_i?_i:_i+7)-t)}(s.getFullYear()),u=s.getTime()-a.getTime();r=1+Math.round(u/6048e5)}return zn(r,n,vt(i,lt.MinusSign))}}function Er(n,t=!1){return function(e,i){return zn(Ei(e).getFullYear(),n,vt(i,lt.MinusSign),t)}}const Hr={};function me(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function et(n){return n instanceof Date&&!isNaN(n.valueOf())}const At=/^(\d+)?\.((\d+)(-(\d+))?)?$/,en=22,Qt=".",xn="0",sn=";",ai=",",_n="#";function On(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}function Zs(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}const nr=/\s+/,Dt=[];let cn=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this.initialClasses=Dt,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(nr):Dt}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(nr):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,Boolean(e[i]));this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(nr).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.ZZ4),o.Y36(o.aQg),o.Y36(o.SBq),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class ir{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Fi=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,a)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new ir(r.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===s?void 0:s);else if(null!==s){const u=i.get(s);i.move(u,a),Si(u,r)}});for(let r=0,s=i.length;r<s;r++){const u=i.get(r).context;u.index=r,u.count=s,u.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Si(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Si(n,t){n.context.$implicit=t.item}let Vn=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new wn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Zc("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Zc("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class wn{constructor(){this.$implicit=null,this.ngIf=null}}function Zc(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,o.AaK)(t)}'.`)}class yo{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let xs=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const i of this._defaultViews)i.enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),vo=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new yo(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(xs,9))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Ti=(()=>{class n{constructor(e,i,r){r._addDefault(new yo(e,i))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(xs,9))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})(),es=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,s]=e.split("."),a=-1===r.indexOf("-")?void 0:o.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,a):this._renderer.removeStyle(this._ngEl.nativeElement,r,a)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.aQg),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),yi=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:a}=this;this._viewRef=i.createEmbeddedView(r,s,a?{injector:a}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[o.TTD]}),n})();function bo(n,t){return new o.vHH(2100,!1)}class su{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}}class ic{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const _l=new ic,Ys=new su;let Hi=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,o.QGY)(e))return _l;if((0,o.F4k)(e))return Ys;throw bo()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO,16))},n.\u0275pipe=o.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),lo=(()=>{class n{transform(e){if(null==e)return null;if("string"!=typeof e)throw bo();return e.toUpperCase()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=o.Yjl({name:"uppercase",type:n,pure:!0,standalone:!0}),n})();const $c=new o.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),rc=new o.OlP("DATE_PIPE_DEFAULT_OPTIONS");let rr=(()=>{class n{constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,s){if(null==e||""===e||e!=e)return null;try{return ni(e,i??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(a){throw bo()}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.soG,16),o.Y36($c,24),o.Y36(rc,24))},n.\u0275pipe=o.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),au=(()=>{class n{constructor(e){this.differs=e,this.keyValues=[],this.compareFn=Kp}transform(e,i=Kp){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const r=this.differ.diff(e),s=i!==this.compareFn;return r&&(this.keyValues=[],r.forEachItem(a=>{this.keyValues.push(function T_(n,t){return{key:n,value:t}}(a.key,a.currentValue))})),(r||s)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.aQg,16))},n.\u0275pipe=o.Yjl({name:"keyvalue",type:n,pure:!1,standalone:!0}),n})();function Kp(n,t){const e=n.key,i=t.key;if(e===i)return 0;if(void 0===e)return 1;if(void 0===i)return-1;if(null===e)return 1;if(null===i)return-1;if("string"==typeof e&&"string"==typeof i)return e<i?-1:1;if("number"==typeof e&&"number"==typeof i)return e-i;if("boolean"==typeof e&&"boolean"==typeof i)return e<i?-1:1;const r=String(e),s=String(i);return r==s?0:r<s?-1:1}let Ra=(()=>{class n{constructor(e){this._locale=e}transform(e,i,r){if(!function Bh(n){return!(null==n||""===n||n!=n)}(e))return null;r=r||this._locale;try{return function Ht(n,t,e){return function $e(n,t,e,i,r,s,a=!1){let u="",f=!1;if(isFinite(n)){let m=function qt(n){let i,r,s,a,u,t=Math.abs(n)+"",e=0;for((r=t.indexOf(Qt))>-1&&(t=t.replace(Qt,"")),(s=t.search(/e/i))>0?(r<0&&(r=s),r+=+t.slice(s+1),t=t.substring(0,s)):r<0&&(r=t.length),s=0;t.charAt(s)===xn;s++);if(s===(u=t.length))i=[0],r=1;else{for(u--;t.charAt(u)===xn;)u--;for(r-=s,i=[],a=0;s<=u;s++,a++)i[a]=Number(t.charAt(s))}return r>en&&(i=i.splice(0,en-1),e=r-1,r=1),{digits:i,exponent:e,integerLen:r}}(n);a&&(m=function Cn(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(m));let v=t.minInt,x=t.minFrac,I=t.maxFrac;if(s){const nt=s.match(At);if(null===nt)throw new Error(`${s} is not a valid digit info`);const it=nt[1],pt=nt[3],zt=nt[5];null!=it&&(v=On(it)),null!=pt&&(x=On(pt)),null!=zt?I=On(zt):null!=pt&&x>I&&(I=x)}!function qn(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let i=n.digits,r=i.length-n.integerLen;const s=Math.min(Math.max(t,r),e);let a=s+n.integerLen,u=i[a];if(a>0){i.splice(Math.max(n.integerLen,a));for(let x=a;x<i.length;x++)i[x]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,a=s+1),i[0]=0;for(let x=1;x<a;x++)i[x]=0}if(u>=5)if(a-1<0){for(let x=0;x>a;x--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[a-1]++;for(;r<Math.max(0,s);r++)i.push(0);let f=0!==s;const m=t+n.integerLen,v=i.reduceRight(function(x,I,B,q){return q[B]=(I+=x)<10?I:I-10,f&&(0===q[B]&&B>=m?q.pop():f=!1),I>=10?1:0},0);v&&(i.unshift(v),n.integerLen++)}(m,x,I);let B=m.digits,q=m.integerLen;const ue=m.exponent;let ge=[];for(f=B.every(nt=>!nt);q<v;q++)B.unshift(0);for(;q<0;q++)B.unshift(0);q>0?ge=B.splice(q,B.length):(ge=B,B=[0]);const Oe=[];for(B.length>=t.lgSize&&Oe.unshift(B.splice(-t.lgSize,B.length).join(""));B.length>t.gSize;)Oe.unshift(B.splice(-t.gSize,B.length).join(""));B.length&&Oe.unshift(B.join("")),u=Oe.join(vt(e,i)),ge.length&&(u+=vt(e,r)+ge.join("")),ue&&(u+=vt(e,lt.Exponential)+"+"+ue)}else u=vt(e,lt.Infinity);return u=n<0&&!f?t.negPre+u+t.negSuf:t.posPre+u+t.posSuf,u}(n,function tn(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(sn),r=i[0],s=i[1],a=-1!==r.indexOf(Qt)?r.split(Qt):[r.substring(0,r.lastIndexOf(xn)+1),r.substring(r.lastIndexOf(xn)+1)],u=a[0],f=a[1]||"";e.posPre=u.substring(0,u.indexOf(_n));for(let v=0;v<f.length;v++){const x=f.charAt(v);x===xn?e.minFrac=e.maxFrac=v+1:x===_n?e.maxFrac=v+1:e.posSuf+=x}const m=u.split(ai);if(e.gSize=m[1]?m[1].length:0,e.lgSize=m[2]||m[1]?(m[2]||m[1]).length:0,s){const v=r.length-e.posPre.length-e.posSuf.length,x=s.indexOf(_n);e.negPre=s.substring(0,x).replace(/'/g,""),e.negSuf=s.slice(x+v).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}(function Gt(n,t){return(0,o.cg1)(n)[o.wAp.NumberFormats][t]}(t,he.Decimal),vt(t,lt.MinusSign)),t,lt.Group,lt.Decimal,e)}(function Vh(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(e),r,i)}catch(s){throw bo()}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.soG,16))},n.\u0275pipe=o.Yjl({name:"number",type:n,pure:!0,standalone:!0}),n})();let Oa=(()=>{class n{transform(e,i,r){if(null==e)return null;if(!this.supports(e))throw bo();return e.slice(i,r)}supports(e){return"string"==typeof e||Array.isArray(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=o.Yjl({name:"slice",type:n,pure:!1,standalone:!0}),n})(),or=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const Qp="browser",yl="server";function Ar(n){return n===Qp}function wo(n){return n===yl}let Yc=(()=>{class n{}return n.\u0275prov=(0,o.Yz7)({token:n,providedIn:"root",factory:()=>new Xp((0,o.LFG)(j),window)}),n})();class Xp{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function lu(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const a=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(a)return a}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Qs(this.window.history)||Qs(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Qs(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class zh{}class sf extends G{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class od extends sf{static makeCurrent(){!function N(n){R||(R=n)}(new od)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function hc(){return Sl=Sl||document.querySelector("base"),Sl?Sl.getAttribute("href"):null}();return null==e?null:function O_(n){Es=Es||document.createElement("a"),Es.setAttribute("href",n);const t=Es.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Sl=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Zs(document.cookie,t)}}let Es,Sl=null;const nm=new o.OlP("TRANSITION_ID"),af=[{provide:o.ip1,useFactory:function sd(n,t,e){return()=>{e.get(o.CZH).donePromise.then(()=>{const i=A(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[nm,j,o.zs3],multi:!0}];let yu=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const fc=new o.OlP("EventManagerPlugins");let ad=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const a=r[s];if(a.supports(e))return this._eventNameToPlugin.set(e,a),a}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(fc),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class El{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=A().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let lf=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)0===this.changeUsageCount(i,-1)&&this.onStyleRemoved(i)}onStyleRemoved(e){}onStyleAdded(e){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(e,i){const r=this.usageCount;let s=r.get(e)??0;return s+=i,s>0?r.set(e,s):r.delete(e),s}ngOnDestroy(){for(const e of this.getAllStyles())this.onStyleRemoved(e);this.usageCount.clear()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),ta=(()=>{class n extends lf{constructor(e){super(),this.doc=e,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.forEach(s=>s.remove()),i.delete(e)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}addStyleToHost(e,i){const r=this.doc.createElement("style");r.textContent=i,e.appendChild(r);const s=this.styleRef.get(i);s?s.push(r):this.styleRef.set(i,[r])}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(j))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Ba={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Tl=/%COMP%/g,gc=new o.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function ld(n,t){return t.flat(100).map(e=>e.replace(Tl,n))}function wu(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let jr=(()=>{class n{constructor(e,i,r,s){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new cf(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;const r=this.getOrCreateRenderer(e,i);return r instanceof cd?r.applyToHost(e):r instanceof na&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const a=this.eventManager,u=this.sharedStylesHost,f=this.removeStylesOnCompDestory;switch(i.encapsulation){case o.ifc.Emulated:s=new cd(a,u,i,this.appId,f);break;case o.ifc.ShadowDom:return new ki(a,u,e,i);default:s=new na(a,u,i,f)}s.onDestroy=()=>r.delete(i.id),r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ad),o.LFG(ta),o.LFG(o.AFp),o.LFG(gc))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class cf{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Ba[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(df(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(df(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=Ba[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Ba[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(o.JOm.DashCase|o.JOm.Important)?t.style.setProperty(e,i,r&o.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&o.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,wu(i)):this.eventManager.addEventListener(t,e,wu(i))}}function df(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class ki extends cf{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=ld(r.id,r.styles);for(const a of s){const u=document.createElement("style");u.textContent=a,this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class na extends cf{constructor(t,e,i,r,s=i.id){super(t),this.sharedStylesHost=e,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=ld(s,i.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class cd extends na{constructor(t,e,i,r,s){const a=r+"-"+i.id;super(t,e,i,s,a),this.contentAttr=function im(n){return"_ngcontent-%COMP%".replace(Tl,n)}(a),this.hostAttr=function bu(n){return"_nghost-%COMP%".replace(Tl,n)}(a)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let uf=(()=>{class n extends El{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(j))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const _c=["alt","control","meta","shift"],hf={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},dd={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let zi=(()=>{class n extends El{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),a=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>A().onAndCancel(e,s.domEventName,a))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),_c.forEach(m=>{const v=i.indexOf(m);v>-1&&(i.splice(v,1),a+=m+".")}),a+=s,0!=i.length||0===s.length)return null;const f={};return f.domEventName=r,f.fullKey=a,f}static matchEventFullKeyCode(e,i){let r=hf[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),_c.forEach(a=>{a!==r&&(0,dd[a])(e)&&(s+=a+".")}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{n.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(j))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const om=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:Qp},{provide:o.g9A,useValue:function kl(){od.makeCurrent()},multi:!0},{provide:j,useFactory:function Du(){return(0,o.RDi)(document),document},deps:[]}]),Ua=new o.OlP(""),yc=[{provide:o.rWj,useClass:class Ts{addToWindow(t){o.dqk.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},o.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(i=>{const r=o.dqk.getAllAngularTestabilities();let s=r.length,a=!1;const u=function(f){a=a||f,s--,0==s&&i(a)};r.forEach(function(f){f.whenStable(u)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?A().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:o.lri,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]}],Ha=[{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function Cu(){return new o.qLn},deps:[]},{provide:fc,useClass:uf,multi:!0,deps:[j,o.R0b,o.Lbi]},{provide:fc,useClass:zi,multi:!0,deps:[j]},{provide:jr,useClass:jr,deps:[ad,ta,o.AFp,gc]},{provide:o.FYo,useExisting:jr},{provide:lf,useExisting:ta},{provide:ta,useClass:ta,deps:[j]},{provide:ad,useClass:ad,deps:[fc,o.R0b]},{provide:zh,useClass:yu,deps:[]},[]];let Ga=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:o.AFp,useValue:e.appId},{provide:nm,useExisting:o.AFp},af]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ua,12))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[...Ha,...yc],imports:[or,o.hGG]}),n})(),sm=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(j))},n.\u0275prov=o.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function za(){return new sm((0,o.LFG)(j))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let sa=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):o.LFG(md),i},providedIn:"root"}),n})(),md=(()=>{class n extends sa{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case o.q3G.NONE:return i;case o.q3G.HTML:return(0,o.qzn)(i,"HTML")?(0,o.z3N)(i):(0,o.EiD)(this._doc,String(i)).toString();case o.q3G.STYLE:return(0,o.qzn)(i,"Style")?(0,o.z3N)(i):i;case o.q3G.SCRIPT:if((0,o.qzn)(i,"Script"))return(0,o.z3N)(i);throw new Error("unsafe value used in a script context");case o.q3G.URL:return(0,o.qzn)(i,"URL")?(0,o.z3N)(i):(0,o.mCW)(String(i));case o.q3G.RESOURCE_URL:if((0,o.qzn)(i,"ResourceURL"))return(0,o.z3N)(i);throw new Error(`unsafe value used in a resource URL context (see ${o.JZr})`);default:throw new Error(`Unexpected SecurityContext ${e} (see ${o.JZr})`)}}bypassSecurityTrustHtml(e){return(0,o.JVY)(e)}bypassSecurityTrustStyle(e){return(0,o.L6k)(e)}bypassSecurityTrustScript(e){return(0,o.eBb)(e)}bypassSecurityTrustUrl(e){return(0,o.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,o.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(j))},n.\u0275prov=o.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function bc(n){return new md(n.get(j))}(o.LFG(o.zs3)),i},providedIn:"root"}),n})();const qa=new o.OlP("cdk-dir-doc",{providedIn:"root",factory:function Rl(){return(0,o.f3M)(j)}}),aa=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let ca,ri=(()=>{class n{constructor(e){this.value="ltr",this.change=new o.vpe,e&&(this.value=function gd(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?aa.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(qa,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),la=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();try{ca=typeof Intl<"u"&&Intl.v8BreakIterator}catch{ca=!1}let gr,li=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Ar(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ca)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.Lbi))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const As=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function _d(){if(gr)return gr;if("object"!=typeof document||!document)return gr=new Set(As),gr;let n=document.createElement("input");return gr=new Set(As.filter(t=>(n.setAttribute("type",t),n.type===t))),gr}let No,Ol,da,Mu;function qr(n){return function _f(){if(null==No&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>No=!0}))}finally{No=No||!1}return No}()?n:!!n.capture}function Do(){if(null==da){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return da=!1,da;if("scrollBehavior"in document.documentElement.style)da=!0;else{const n=Element.prototype.scrollTo;da=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return da}function Za(){if("object"!=typeof document||!document)return 0;if(null==Ol){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),Ol=0,0===n.scrollLeft&&(n.scrollLeft=1,Ol=0===n.scrollLeft?1:2),n.remove()}return Ol}function yd(n){if(function wc(){if(null==Mu){const n=typeof document<"u"?document.head:null;Mu=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Mu}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function os(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Zr(n){return n.composedPath?n.composedPath()[0]:n.target}function Ru(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var gt=H(7579),Mi=H(6451),pi=H(4482),mi=H(5403),Lo=H(8421),Ou=H(5032);function an(n){return(0,pi.e)((t,e)=>{(0,Lo.Xf)(n).subscribe((0,mi.x)(e,()=>e.complete(),Ou.Z)),!e.closed&&t.subscribe(e)})}function Nt(n){return null!=n&&"false"!=`${n}`}function So(n,t=0){return yf(n)?Number(n):t}function yf(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function $a(n){return Array.isArray(n)?n:[n]}function qi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function di(n){return n instanceof o.SBq?n.nativeElement:n}class vd{}class bf{}const $r="*";function _r(n,t){return{type:7,name:n,definitions:t,options:{}}}function ui(n,t=null){return{type:4,styles:t,timings:n}}function bd(n,t=null){return{type:2,steps:n,options:t}}function dn(n){return{type:6,styles:n,offset:null}}function $n(n,t,e){return{type:0,name:n,styles:t,options:e}}function wi(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function xc(n=null){return{type:9,options:n}}function ss(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function Cd(n){Promise.resolve().then(n)}class to{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Cd(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Bo{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?Cd(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==s&&this._onFinish()}),a.onDestroy(()=>{++i==s&&this._onDestroy()}),a.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((a,u)=>Math.max(a,u.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const Pu="!";var kn=H(9751),ua=H(4986);function Cc(n,t=ua.z){return(0,pi.e)((e,i)=>{let r=null,s=null,a=null;const u=()=>{if(r){r.unsubscribe(),r=null;const m=s;s=null,i.next(m)}};function f(){const m=a+n,v=t.now();if(v<m)return r=this.schedule(void 0,m-v),void i.add(r);u()}e.subscribe((0,mi.x)(i,m=>{s=m,a=t.now(),r||(r=t.schedule(f,n),i.add(r))},()=>{u(),i.complete()},void 0,()=>{s=r=null}))})}let Fu=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),um=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=di(e);return new kn.y(r=>{const a=this._observeElement(i).subscribe(r);return()=>{a.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new gt.x,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Fu))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hm=(()=>{class n{get disabled(){return this._disabled}set disabled(e){this._disabled=Nt(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=So(e),this._subscribe()}constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new o.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Cc(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(um),o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),xf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Fu]}),n})();var C=H(727);class E extends gt.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}var P=H(3269),ee=H(8996);function se(...n){const t=(0,P.yG)(n);return(0,ee.D)(n,t)}function Ka(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var Un=H(8505);function oi(n,t){return(0,pi.e)((e,i)=>{let r=0;e.subscribe((0,mi.x)(i,s=>n.call(t,s,r++)&&i.next(s)))})}var dt=H(4004),Sc=H(515);function Tt(n){return n<=0?()=>Sc.E:(0,pi.e)((t,e)=>{let i=0;t.subscribe((0,mi.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Db(n){return oi((t,e)=>n<=e)}var Sf=H(4671);function Nl(n,t=Sf.y){return n=n??bD,(0,pi.e)((e,i)=>{let r,s=!0;e.subscribe((0,mi.x)(i,a=>{const u=t(a);(s||!n(r,u))&&(s=!1,r=u,i.next(a))}))})}function bD(n,t){return n===t}const{isArray:Ak}=Array,{getPrototypeOf:Ik,prototype:kk,keys:Mk}=Object;function Sb(n){if(1===n.length){const t=n[0];if(Ak(t))return{args:t,keys:null};if(function DB(n){return n&&"object"==typeof n&&Ik(n)===kk}(t)){const e=Mk(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:SB}=Array;function Uu(n){return(0,dt.U)(t=>function xm(n,t){return SB(t)?n(...t):n(t)}(n,t))}function Eb(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var wD=H(9672);function Yr(...n){const t=(0,P.yG)(n),e=(0,P.jO)(n),{args:i,keys:r}=Sb(n);if(0===i.length)return(0,ee.D)([],t);const s=new kn.y(xD(i,t,r?a=>Eb(r,a):Sf.y));return e?s.pipe(Uu(e)):s}function xD(n,t,e=Sf.y){return i=>{CD(t,()=>{const{length:r}=n,s=new Array(r);let a=r,u=r;for(let f=0;f<r;f++)CD(t,()=>{const m=(0,ee.D)(n[f],t);let v=!1;m.subscribe((0,mi.x)(i,x=>{s[f]=x,v||(v=!0,u--),u||i.next(e(s.slice()))},()=>{--a||i.complete()}))},i)},i)}}function CD(n,t,e){n?(0,wD.f)(e,n,t):t()}var Ef=H(8189);function Hu(...n){return function DD(){return(0,Ef.J)(1)}()((0,ee.D)(n,(0,P.yG)(n)))}function yr(...n){const t=(0,P.yG)(n);return(0,pi.e)((e,i)=>{(t?Hu(n,e,t):Hu(n,e)).subscribe(i)})}const ED=new Set;let Td,TD=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Gu}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function AD(n){if(!ED.has(n))try{Td||(Td=document.createElement("style"),Td.setAttribute("type","text/css"),document.head.appendChild(Td)),Td.sheet&&(Td.sheet.insertRule(`@media ${n} {body{ }}`,0),ED.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(li))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Gu(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Tb=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new gt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return z_($a(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=Yr(z_($a(e)).map(a=>this._registerQuery(a).observable));return s=Hu(s.pipe(Tt(1)),s.pipe(Db(1),Cc(0))),s.pipe((0,dt.U)(a=>{const u={matches:!1,breakpoints:{}};return a.forEach(({matches:f,query:m})=>{u.matches=u.matches||f,u.breakpoints[m]=f}),u}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),s={observable:new kn.y(a=>{const u=f=>this._zone.run(()=>a.next(f));return i.addListener(u),()=>{i.removeListener(u)}}).pipe(yr(i),(0,dt.U)(({matches:a})=>({query:e,matches:a})),an(this._destroySubject)),mql:i};return this._queries.set(e,s),s}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(TD),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function z_(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function Ll(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const Z_="cdk-describedby-message",$_="cdk-describedby-host";let Ib=0,kD=(()=>{class n{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+Ib++,this._document=e,this._id=(0,o.f3M)(o.AFp)+"-"+Ib++}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const s=Ad(i,r);"string"!=typeof i?(MD(i,this._id),this._messageRegistry.set(s,{messageElement:i,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,s)||this._addMessageReference(e,s)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;const s=Ad(i,r);if(this._isElementDescribedByMessage(e,s)&&this._removeMessageReference(e,s),"string"==typeof i){const a=this._messageRegistry.get(s);a&&0===a.referenceCount&&this._deleteMessageElement(s)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${$_}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute($_);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");MD(r,this._id),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(Ad(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let s=0;s<i.length;s++)i[s].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const i=Ll(e,"aria-describedby").filter(r=>0!=r.indexOf(Z_));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=this._messageRegistry.get(i);(function Ab(n,t,e){const i=Ll(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))})(e,"aria-describedby",r.messageElement.id),e.setAttribute($_,this._id),r.referenceCount++}_removeMessageReference(e,i){const r=this._messageRegistry.get(i);r.referenceCount--,function q_(n,t,e){const r=Ll(n,t).filter(s=>s!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",r.messageElement.id),e.removeAttribute($_)}_isElementDescribedByMessage(e,i){const r=Ll(e,"aria-describedby"),s=this._messageRegistry.get(i),a=s&&s.messageElement.id;return!!a&&-1!=r.indexOf(a)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),s=e.getAttribute("aria-label");return!(!r||s&&s.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(j),o.LFG(li))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ad(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function MD(n,t){n.id||(n.id=`${Z_}-${t}-${Ib++}`)}class RD{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new gt.x,this._typeaheadSubscription=C.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new gt.x,this.change=new gt.x,t instanceof o.n_E&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Un.b)(e=>this._pressedLetters.push(e)),Cc(t),oi(()=>this._pressedLetters.length>0),(0,dt.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,a=i[s];if(!this._skipPredicateFn(a)&&0===a.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!t[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex+this._pageUpAndDown.delta,a=this._getItemsArray().length;this._setActiveItemByIndex(s<a?s:a-1,-1);break}return;default:return void((r||Ka(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof o.n_E?this._items.toArray():this._items}}class Ok extends RD{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class Y_ extends RD{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let Cm=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function OD(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function Pk(n){try{return n.frameElement}catch{return null}}(function Bk(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===PD(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=PD(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function FD(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function Lk(n){return!function Fk(n){return function Nk(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function TB(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function Dm(n){return function Tf(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||Af(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(li))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Af(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function PD(n){if(!Af(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class Vk{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,i,r,s=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Tt(1)).subscribe(t)}}let W_=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new Vk(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Cm),o.LFG(o.R0b),o.LFG(j))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Q_(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function J_(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const Hk=new o.OlP("cdk-input-modality-detector-options"),Gk={ignoreKeys:[18,17,224,91,16]},zu=qr({passive:!0,capture:!0});let zk=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new E(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(u=>u===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Zr(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Q_(a)?"keyboard":"mouse"),this._mostRecentTarget=Zr(a))},this._onTouchstart=a=>{J_(a)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Zr(a))},this._options={...Gk,...s},this.modalityDetected=this._modality.pipe(Db(1)),this.modalityChanged=this.modalityDetected.pipe(Nl()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,zu),r.addEventListener("mousedown",this._onMousedown,zu),r.addEventListener("touchstart",this._onTouchstart,zu)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,zu),document.removeEventListener("mousedown",this._onMousedown,zu),document.removeEventListener("touchstart",this._onTouchstart,zu))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(li),o.LFG(o.R0b),o.LFG(j),o.LFG(Hk,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const If=new o.OlP("liveAnnouncerElement",{providedIn:"root",factory:function Ec(){return null}}),jk=new o.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let qk=0,UD=(()=>{class n{constructor(e,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let s,a;return 1===i.length&&"number"==typeof i[0]?a=i[0]:[s,a]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==a&&r&&(a=r.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(u=>this._currentResolve=u)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof a&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+qk++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const s=i[r],a=s.getAttribute("aria-owns");a?-1===a.indexOf(e)&&s.setAttribute("aria-owns",a+" "+e):s.setAttribute("aria-owns",e)}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(If,8),o.LFG(o.R0b),o.LFG(j),o.LFG(jk,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const HD=new o.OlP("cdk-focus-monitor-default-options"),kb=qr({passive:!0,capture:!0});let Bl=(()=>{class n{constructor(e,i,r,s,a){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new gt.x,this._rootNodeFocusAndBlurListener=u=>{for(let m=Zr(u);m;m=m.parentElement)"focus"===u.type?this._onFocus(u,m):this._onBlur(u,m)},this._document=s,this._detectionMode=a?.detectionMode||0}monitor(e,i=!1){const r=di(e);if(!this._platform.isBrowser||1!==r.nodeType)return se(null);const s=yd(r)||this._getDocument(),a=this._elementInfo.get(r);if(a)return i&&(a.checkChildren=!0),a.subject;const u={checkChildren:i,subject:new gt.x,rootNode:s};return this._elementInfo.set(r,u),this._registerGlobalListeners(u),u.subject}stopMonitoring(e){const i=di(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=di(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([u,f])=>this._originChanged(u,i,f)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=Zr(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,kb),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,kb)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(an(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,kb),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,kb),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const s=e.labels;if(s)for(let a=0;a<s.length;a++)if(s[a].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b),o.LFG(li),o.LFG(zk),o.LFG(j,8),o.LFG(HD,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const GD="cdk-high-contrast-black-on-white",Mb="cdk-high-contrast-white-on-black",Rb="cdk-high-contrast-active";let zD=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,o.f3M)(Tb).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Rb,GD,Mb),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(Rb,GD):2===i&&e.add(Rb,Mb)}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(li),o.LFG(j))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ha=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(zD))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[xf]}),n})();const Yk=["text"];function Wk(n,t){if(1&n&&o._UZ(0,"mat-pseudo-checkbox",6),2&n){const e=o.oxw();o.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function Kk(n,t){if(1&n&&o._UZ(0,"mat-pseudo-checkbox",7),2&n){const e=o.oxw();o.Q6J("disabled",e.disabled)}}function qD(n,t){if(1&n&&(o.TgZ(0,"span",8),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.hij("(",e.group.label,")")}}const Qk=[[["mat-icon"]],"*"],Jk=["mat-icon","*"],WD=new o.OlP("mat-sanity-checks",{providedIn:"root",factory:function YD(){return!0}});let Mn=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!Ru()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(zD),o.LFG(WD,8),o.LFG(j))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[la,la]}),n})();function kf(n){return class extends n{get disabled(){return this._disabled}set disabled(t){this._disabled=Nt(t)}constructor(...t){super(...t),this._disabled=!1}}}function Sm(n,t){return class extends n{get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function Em(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Nt(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function KD(n,t=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?So(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}}}function Ob(n){return class extends n{updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}function QD(n){return class extends n{constructor(...t){super(...t),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new kn.y(e=>{this._isInitialized?this._notifySubscriber(e):this._pendingSubscribers.push(e)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(t){t.next(),t.complete()}}}let Tm=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Im=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Mn,Mn]}),n})();class nM{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Pb=qr({passive:!0,capture:!0});class iM{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=Zr(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(s=>s.handleEvent(t))})}}addHandler(t,e,i,r){const s=this._events.get(e);if(s){const a=s.get(i);a?a.add(r):s.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,Pb)})}removeHandler(t,e,i){const r=this._events.get(t);if(!r)return;const s=r.get(e);s&&(s.delete(i),0===s.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,Pb)))}}const eS={enterDuration:225,exitDuration:150},tS=qr({passive:!0,capture:!0}),nS=["mousedown","touchstart"],Fb=["mouseup","mouseleave","touchend","touchcancel"];class km{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=di(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...eS,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const a=i.radius||function iS(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),u=t-r.left,f=e-r.top,m=s.enterDuration,v=document.createElement("div");v.classList.add("mat-ripple-element"),v.style.left=u-a+"px",v.style.top=f-a+"px",v.style.height=2*a+"px",v.style.width=2*a+"px",null!=i.color&&(v.style.backgroundColor=i.color),v.style.transitionDuration=`${m}ms`,this._containerElement.appendChild(v);const x=window.getComputedStyle(v),B=x.transitionDuration,q="none"===x.transitionProperty||"0s"===B||"0s, 0s"===B||0===r.width&&0===r.height,ue=new nM(this,v,i,q);v.style.transform="scale3d(1, 1, 1)",ue.state=0,i.persistent||(this._mostRecentTransientRipple=ue);let ge=null;return!q&&(m||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Oe=()=>this._finishRippleTransition(ue),nt=()=>this._destroyRipple(ue);v.addEventListener("transitionend",Oe),v.addEventListener("transitioncancel",nt),ge={onTransitionEnd:Oe,onTransitionCancel:nt}}),this._activeRipples.set(ue,ge),(q||!m)&&this._finishRippleTransition(ue),ue}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...eS,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=di(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,nS.forEach(i=>{km._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Fb.forEach(e=>{this._triggerElement.addEventListener(e,this,tS)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=Q_(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!J_(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(nS.forEach(e=>km._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&Fb.forEach(e=>t.removeEventListener(e,this,tS)))}}km._eventManager=new iM;const rS=new o.OlP("mat-ripple-global-options");let ks=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,s,a){this._elementRef=e,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new km(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(li),o.Y36(rS,8),o.Y36(o.QbO,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Mm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Mn,Mn]}),n})(),Nb=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1,this.appearance="full"}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(e,i){2&e&&o.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("mat-pseudo-checkbox-minimal","minimal"===i.appearance)("mat-pseudo-checkbox-full","full"===i.appearance)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0}),n})(),oM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Mn]}),n})();const sM=new o.OlP("MAT_OPTION_PARENT_COMPONENT"),Lb=new o.OlP("MatOptgroup");let lM=0;class X_{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let Of=(()=>{class n{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Nt(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(e,i,r,s){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+lM++,this.onSelectionChange=new o.vpe,this._stateChanges=new gt.x}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Ka(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new X_(this,e))}}return n.\u0275fac=function(e){o.$Z()},n.\u0275dir=o.lG2({type:n,viewQuery:function(e,i){if(1&e&&o.Gf(Yk,7),2&e){let r;o.iGM(r=o.CRH())&&(i._text=r.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),ju=(()=>{class n extends Of{constructor(e,i,r,s){super(e,i,r,s)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(sM,8),o.Y36(Lb,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(e,i){1&e&&o.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(s){return i._handleKeydown(s)}),2&e&&(o.Ikx("id",i.id),o.uIk("aria-selected",i.selected)("aria-disabled",i.disabled.toString()),o.ekj("mdc-list-item--selected",i.selected)("mat-mdc-option-multiple",i.multiple)("mat-mdc-option-active",i.active)("mdc-list-item--disabled",i.disabled))},exportAs:["matOption"],features:[o.qOj],ngContentSelectors:Jk,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-mdc-option-pseudo-checkbox",3,"state","disabled"],["state","checked","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(o.F$t(Qk),o.YNc(0,Wk,1,2,"mat-pseudo-checkbox",0),o.Hsn(1),o.TgZ(2,"span",1,2),o.Hsn(4,1),o.qZA(),o.YNc(5,Kk,1,1,"mat-pseudo-checkbox",3),o.YNc(6,qD,2,1,"span",4),o._UZ(7,"div",5)),2&e&&(o.Q6J("ngIf",i.multiple),o.xp6(5),o.Q6J("ngIf",!i.multiple&&i.selected&&!i.hideSingleSelectionIndicator),o.xp6(1),o.Q6J("ngIf",i.group&&i.group._inert),o.xp6(1),o.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},dependencies:[ks,Vn,Nb],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{opacity:.38;cursor:default}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})(),Pm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Mm,or,Mn,oM]}),n})();const oS=["matFormFieldNotchedOutline",""],Vb=["*"],Ub=["textField"],Hb=["iconPrefixContainer"],sS=["textPrefixContainer"];function Gb(n,t){1&n&&o._UZ(0,"span",19)}function cM(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"label",17),o.NdJ("cdkObserveContent",function(){o.CHM(e);const r=o.oxw(2);return o.KtG(r._refreshOutlineNotchWidth())}),o.Hsn(1,1),o.YNc(2,Gb,1,0,"span",18),o.qZA()}if(2&n){const e=o.oxw(2);o.Q6J("floating",e._shouldLabelFloat())("cdkObserveContentDisabled",!e._hasOutline())("id",e._labelId),o.uIk("for",e._control.id)("aria-owns",e._control.id),o.xp6(2),o.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required)}}function dM(n,t){if(1&n&&o.YNc(0,cM,3,6,"label",16),2&n){const e=o.oxw();o.Q6J("ngIf",e._hasFloatingLabel())}}function aS(n,t){1&n&&o._UZ(0,"div",20)}function uM(n,t){}function lS(n,t){if(1&n&&o.YNc(0,uM,0,0,"ng-template",22),2&n){o.oxw(2);const e=o.MAs(1);o.Q6J("ngTemplateOutlet",e)}}function cS(n,t){if(1&n&&(o.TgZ(0,"div",21),o.YNc(1,lS,1,1,"ng-template",9),o.qZA()),2&n){const e=o.oxw();o.Q6J("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",e._labelWidth),o.xp6(1),o.Q6J("ngIf",!e._forceDisplayInfixLabel())}}function hM(n,t){1&n&&(o.TgZ(0,"div",23,24),o.Hsn(2,2),o.qZA())}function fM(n,t){1&n&&(o.TgZ(0,"div",25,26),o.Hsn(2,3),o.qZA())}function Ms(n,t){}function pM(n,t){if(1&n&&o.YNc(0,Ms,0,0,"ng-template",22),2&n){o.oxw();const e=o.MAs(1);o.Q6J("ngTemplateOutlet",e)}}function mM(n,t){1&n&&(o.TgZ(0,"div",27),o.Hsn(1,4),o.qZA())}function LB(n,t){1&n&&(o.TgZ(0,"div",28),o.Hsn(1,5),o.qZA())}function zb(n,t){1&n&&o._UZ(0,"div",29)}function dS(n,t){if(1&n&&(o.TgZ(0,"div",30),o.Hsn(1,6),o.qZA()),2&n){const e=o.oxw();o.Q6J("@transitionMessages",e._subscriptAnimationState)}}function gM(n,t){if(1&n&&(o.TgZ(0,"mat-hint",34),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.Q6J("id",e._hintLabelId),o.xp6(1),o.Oqu(e.hintLabel)}}function _M(n,t){if(1&n&&(o.TgZ(0,"div",31),o.YNc(1,gM,2,2,"mat-hint",32),o.Hsn(2,7),o._UZ(3,"div",33),o.Hsn(4,8),o.qZA()),2&n){const e=o.oxw();o.Q6J("@transitionMessages",e._subscriptAnimationState),o.xp6(1),o.Q6J("ngIf",e.hintLabel)}}const yM=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],uS=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let fa=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-label"]]}),n})(),vM=0;const ey=new o.OlP("MatError");let Fm=(()=>{class n{constructor(e,i){this.id="mat-mdc-error-"+vM++,e||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(o.$8M("aria-live"),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(e,i){2&e&&o.Ikx("id",i.id)},inputs:{id:"id"},features:[o._Bn([{provide:ey,useExisting:n}])]}),n})(),bM=0,jb=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+bM++}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(e,i){2&e&&(o.Ikx("id",i.id),o.uIk("align",null),o.ekj("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"}}),n})();const wM=new o.OlP("MatPrefix"),Vl=new o.OlP("MatSuffix");let fS=(()=>{class n{constructor(e){this._elementRef=e,this.floating=!1}getWidth(){return function xM(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const i=e.scrollWidth;return e.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating"}}),n})();const qb="mdc-line-ripple--active",ty="mdc-line-ripple--deactivating";let pS=(()=>{class n{constructor(e,i){this._elementRef=e,this._handleTransitionEnd=r=>{const s=this._elementRef.nativeElement.classList,a=s.contains(ty);"opacity"===r.propertyName&&a&&s.remove(qb,ty)},i.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(ty),e.add(qb)}deactivate(){this._elementRef.nativeElement.classList.add(ty)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275dir=o.lG2({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),mS=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mdc-notched-outline--notched",i.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:oS,ngContentSelectors:Vb,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(e,i){1&e&&(o.F$t(),o._UZ(0,"div",0),o.TgZ(1,"div",1),o.Hsn(2),o.qZA(),o._UZ(3,"div",2)),2&e&&(o.xp6(1),o.Udp("width",i._getNotchWidth()))},encapsulation:2,changeDetection:0}),n})();const Zb={transitionMessages:_r("transitionMessages",[$n("enter",dn({opacity:1,transform:"translateY(0%)"})),wi("void => enter",[dn({opacity:0,transform:"translateY(-5px)"}),ui("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let $b=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n}),n})();const Pf=new o.OlP("MatFormField"),UB=new o.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let ny=0,Rs=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Nt(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,i,r,s,a,u,f,m){this._elementRef=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=s,this._platform=a,this._defaults=u,this._animationMode=f,this._document=m,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+ny++,this._hintLabelId="mat-mdc-hint-"+ny++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new gt.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,u&&(u.appearance&&(this.appearance=u.appearance),this._hideRequiredMarker=Boolean(u?.hideRequiredMarker),u.color&&(this.color=u.color))}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(an(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,Mi.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(an(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(an(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,s=i?.getBoundingClientRect().width??0,a=r?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+a}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(o.R0b),o.Y36(ri),o.Y36(li),o.Y36(UB,8),o.Y36(o.QbO,8),o.Y36(j))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,fa,5),o.Suo(r,fa,7),o.Suo(r,$b,5),o.Suo(r,wM,5),o.Suo(r,Vl,5),o.Suo(r,ey,5),o.Suo(r,jb,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._labelChildNonStatic=s.first),o.iGM(s=o.CRH())&&(i._labelChildStatic=s.first),o.iGM(s=o.CRH())&&(i._formFieldControl=s.first),o.iGM(s=o.CRH())&&(i._prefixChildren=s),o.iGM(s=o.CRH())&&(i._suffixChildren=s),o.iGM(s=o.CRH())&&(i._errorChildren=s),o.iGM(s=o.CRH())&&(i._hintChildren=s)}},viewQuery:function(e,i){if(1&e&&(o.Gf(Ub,5),o.Gf(Hb,5),o.Gf(sS,5),o.Gf(fS,5),o.Gf(mS,5),o.Gf(pS,5)),2&e){let r;o.iGM(r=o.CRH())&&(i._textField=r.first),o.iGM(r=o.CRH())&&(i._iconPrefixContainer=r.first),o.iGM(r=o.CRH())&&(i._textPrefixContainer=r.first),o.iGM(r=o.CRH())&&(i._floatingLabel=r.first),o.iGM(r=o.CRH())&&(i._notchedOutline=r.first),o.iGM(r=o.CRH())&&(i._lineRipple=r.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(e,i){2&e&&o.ekj("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===i._animationMode)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[o._Bn([{provide:Pf,useExisting:n}])],ngContentSelectors:uS,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(e,i){1&e&&(o.F$t(yM),o.YNc(0,dM,1,1,"ng-template",null,0,o.W1O),o.TgZ(2,"div",1,2),o.NdJ("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),o.YNc(4,aS,1,0,"div",3),o.TgZ(5,"div",4),o.YNc(6,cS,2,3,"div",5),o.YNc(7,hM,3,0,"div",6),o.YNc(8,fM,3,0,"div",7),o.TgZ(9,"div",8),o.YNc(10,pM,1,1,"ng-template",9),o.Hsn(11),o.qZA(),o.YNc(12,mM,2,0,"div",10),o.YNc(13,LB,2,0,"div",11),o.qZA(),o.YNc(14,zb,1,0,"div",12),o.qZA(),o.TgZ(15,"div",13),o.YNc(16,dS,2,1,"div",14),o.YNc(17,_M,5,2,"div",15),o.qZA()),2&e&&(o.xp6(2),o.ekj("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),o.xp6(2),o.Q6J("ngIf",!i._hasOutline()&&!i._control.disabled),o.xp6(2),o.Q6J("ngIf",i._hasOutline()),o.xp6(1),o.Q6J("ngIf",i._hasIconPrefix),o.xp6(1),o.Q6J("ngIf",i._hasTextPrefix),o.xp6(2),o.Q6J("ngIf",!i._hasOutline()||i._forceDisplayInfixLabel()),o.xp6(2),o.Q6J("ngIf",i._hasTextSuffix),o.xp6(1),o.Q6J("ngIf",i._hasIconSuffix),o.xp6(1),o.Q6J("ngIf",!i._hasOutline()),o.xp6(1),o.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing),o.Q6J("ngSwitch",i._getDisplayedMessages()),o.xp6(1),o.Q6J("ngSwitchCase","error"),o.xp6(1),o.Q6J("ngSwitchCase","hint"))},dependencies:[Vn,yi,xs,vo,hm,jb,fS,mS,pS],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[Zb.transitionMessages]},changeDetection:0}),n})(),Ff=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Mn,or,xf,Mn]}),n})();const Ul=qr({passive:!0});let iy=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Sc.E;const i=di(e),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new gt.x,a="cdk-text-field-autofilled",u=f=>{"cdk-text-field-autofill-start"!==f.animationName||i.classList.contains(a)?"cdk-text-field-autofill-end"===f.animationName&&i.classList.contains(a)&&(i.classList.remove(a),this._ngZone.run(()=>s.next({target:f.target,isAutofilled:!1}))):(i.classList.add(a),this._ngZone.run(()=>s.next({target:f.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",u,Ul),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",u,Ul)}}),s}stopMonitoring(e){const i=di(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(li),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),DM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();function Jb(...n){const t=(0,P.jO)(n),{args:e,keys:i}=Sb(n),r=new kn.y(s=>{const{length:a}=e;if(!a)return void s.complete();const u=new Array(a);let f=a,m=a;for(let v=0;v<a;v++){let x=!1;(0,Lo.Xf)(e[v]).subscribe((0,mi.x)(s,I=>{x||(x=!0,m--),u[v]=I},()=>f--,void 0,()=>{(!f||!x)&&(m||s.next(i?Eb(i,u):u),s.complete())}))}});return t?r.pipe(Uu(t)):r}let Xb=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n}),n})(),qu=(()=>{class n extends Xb{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})();const pa=new o.OlP("NgValueAccessor"),Nm={provide:pa,useExisting:(0,o.Gpc)(()=>oy),multi:!0};let oy=(()=>{class n extends qu{writeValue(e){this.setProperty("checked",e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,i){1&e&&o.NdJ("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[o._Bn([Nm]),o.qOj]}),n})();const HB={provide:pa,useExisting:(0,o.Gpc)(()=>cs),multi:!0},EM=new o.OlP("CompositionEventMode");let cs=(()=>{class n extends Xb{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function SM(){const n=A()?A().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(EM,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&o.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[o._Bn([HB]),o.qOj]}),n})();const TM=!1;function Id(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function yS(n){return null!=n&&"number"==typeof n.length}const uo=new o.OlP("NgValidators"),Tc=new o.OlP("NgAsyncValidators"),e0=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ao{static min(t){return sy(t)}static max(t){return function vS(n){return t=>{if(Id(t.value)||Id(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function bS(n){return Id(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function wS(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function xS(n){return Id(n.value)||e0.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function CS(n){return t=>Id(t.value)||!yS(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return DS(t)}static pattern(t){return function SS(n){if(!n)return Lm;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Id(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return TS(t)}static composeAsync(t){return ay(t)}}function sy(n){return t=>{if(Id(t.value)||Id(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function DS(n){return t=>yS(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function Lm(n){return null}function t0(n){return null!=n}function ES(n){const t=(0,o.QGY)(n)?(0,ee.D)(n):n;if(TM&&!(0,o.CqO)(t)){let e="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(e+=" Are you using a synchronous validator where an async validator is expected?"),new o.vHH(-1101,e)}return t}function AM(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function n0(n,t){return t.map(e=>e(n))}function Bm(n){return n.map(t=>function GB(n){return!n.validate}(t)?t:e=>t.validate(e))}function TS(n){if(!n)return null;const t=n.filter(t0);return 0==t.length?null:function(e){return AM(n0(e,t))}}function r0(n){return null!=n?TS(Bm(n)):null}function ay(n){if(!n)return null;const t=n.filter(t0);return 0==t.length?null:function(e){return Jb(n0(e,t).map(ES)).pipe((0,dt.U)(AM))}}function o0(n){return null!=n?ay(Bm(n)):null}function Qa(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Nf(n){return n._rawValidators}function ho(n){return n._rawAsyncValidators}function Ac(n){return n?Array.isArray(n)?n:[n]:[]}function Zu(n,t){return Array.isArray(n)?n.includes(t):n===t}function Os(n,t){const e=Ac(t);return Ac(n).forEach(r=>{Zu(e,r)||e.push(r)}),e}function ly(n,t){return Ac(t).filter(e=>!Zu(n,e))}class $u{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=r0(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=o0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class kr extends $u{get formDirective(){return null}get path(){return null}}class Vo extends $u{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Yu{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Mr=(()=>{class n extends Yu{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Vo,2))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&o.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[o.qOj]}),n})(),Ps=(()=>{class n extends Yu{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(kr,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&o.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[o.qOj]}),n})();function MS(n,t){return n?`with name: '${t}'`:`at index: ${t}`}const l0=!1,Md="VALID",Wu="INVALID",Rd="PENDING",Gm="DISABLED";function Lf(n){return(Bf(n)?n.validators:n)||null}function zm(n,t){return(Bf(t)?t.asyncValidators:n)||null}function Bf(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function c0(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new o.vHH(1e3,l0?function RS(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(t):"");if(!i[e])throw new o.vHH(1001,l0?function s0(n,t){return`Cannot find form control ${MS(n,t)}`}(t,e):"")}function d0(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new o.vHH(1002,l0?function a0(n,t){return`Must supply a value for form control ${MS(n,t)}`}(t,r):"")})}class Vf{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Md}get invalid(){return this.status===Wu}get pending(){return this.status==Rd}get disabled(){return this.status===Gm}get enabled(){return this.status!==Gm}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Os(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Os(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(ly(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(ly(t,this._rawAsyncValidators))}hasValidator(t){return Zu(this._rawValidators,t)}hasAsyncValidator(t){return Zu(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Rd,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Gm,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Md,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Md||this.status===Rd)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Gm:Md}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Rd,this._hasOwnPendingAsyncValidator=!0;const e=ES(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?Gm:this.errors?Wu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Rd)?Rd:this._anyControlsHaveStatus(Wu)?Wu:Md}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Bf(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function dy(n){return Array.isArray(n)?r0(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function OS(n){return Array.isArray(n)?o0(n):n||null}(this._rawAsyncValidators)}}class Io extends Vf{constructor(t,e,i){super(Lf(e),zm(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){d0(this,!0,t),Object.keys(t).forEach(i=>{c0(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class u0 extends Io{}const Od=new o.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>jm}),jm="always";function qm(n,t){return[...t.path,n]}function Uf(n,t,e=jm){uy(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function FS(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&h0(n,t)})}(n,t),function LS(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function NS(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&h0(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function PS(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Hf(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Zm(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Gf(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function uy(n,t){const e=Nf(n);null!==t.validator?n.setValidators(Qa(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=ho(n);null!==t.asyncValidator?n.setAsyncValidators(Qa(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Gf(t._rawValidators,r),Gf(t._rawAsyncValidators,r)}function Zm(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=Nf(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(a=>a!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=ho(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(a=>a!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return Gf(t._rawValidators,i),Gf(t._rawAsyncValidators,i),e}function h0(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function f0(n,t){uy(n,t)}function $m(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function fy(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function VS(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===cs?e=s:function LM(n){return Object.getPrototypeOf(n.constructor)===qu}(s)?i=s:r=s}),r||i||e||null}const BM={provide:kr,useExisting:(0,o.Gpc)(()=>Ym)},jf=(()=>Promise.resolve())();let Ym=(()=>{class n extends kr{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new o.vpe,this.form=new Io({},r0(e),o0(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){jf.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Uf(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){jf.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){jf.then(()=>{const i=this._findContainer(e.path),r=new Io({});f0(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){jf.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){jf.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,fy(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(uo,10),o.Y36(Tc,10),o.Y36(Od,8))},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([BM]),o.qOj]}),n})();function Rr(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function m0(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const vr=class extends Vf{constructor(t=null,e,i){super(Lf(e),zm(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Bf(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=m0(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Rr(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Rr(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){m0(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},GM={provide:Vo,useExisting:(0,o.Gpc)(()=>Pd)},_0=(()=>Promise.resolve())();let Pd=(()=>{class n extends Vo{constructor(e,i,r,s,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new vr,this._registered=!1,this.update=new o.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=VS(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),$m(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Uf(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){_0.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&(0,o.D6c)(i);_0.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?qm(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(kr,9),o.Y36(uo,10),o.Y36(Tc,10),o.Y36(pa,10),o.Y36(o.sBO,8),o.Y36(Od,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o._Bn([GM]),o.qOj,o.TTD]}),n})(),Km=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const y0={provide:pa,useExisting:(0,o.Gpc)(()=>ma),multi:!0};let ma=(()=>{class n extends qu{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&o.NdJ("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[o._Bn([y0]),o.qOj]}),n})();const zM={provide:pa,useExisting:(0,o.Gpc)(()=>Fs),multi:!0};let Ja=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),Xa=(()=>{class n{constructor(){this._accessors=[]}add(e,i){this._accessors.push([e,i])}remove(e){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===e)return void this._accessors.splice(i,1)}select(e){this._accessors.forEach(i=>{this._isSameGroup(i,e)&&i[1]!==e&&i[1].fireUncheck(e.value)})}_isSameGroup(e,i){return!!e[0].control&&e[0]._parent===i._control._parent&&e[1].name===i.name}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:Ja}),n})(),Fs=(()=>{class n extends qu{constructor(e,i,r,s){super(e,i),this._registry=r,this._injector=s,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,o.f3M)(Od,{optional:!0})??jm}ngOnInit(){this._control=this._injector.get(Vo),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}setDisabledState(e){(this.setDisabledStateFired||e||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",e),this.setDisabledStateFired=!0}fireUncheck(e){this.writeValue(e)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(Xa),o.Y36(o.zs3))},n.\u0275dir=o.lG2({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,i){1&e&&o.NdJ("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[o._Bn([zM]),o.qOj]}),n})();const b0=new o.OlP("NgModelWithFormControlWarning"),qM={provide:Vo,useExisting:(0,o.Gpc)(()=>w0)};let w0=(()=>{class n extends Vo{set isDisabled(e){}constructor(e,i,r,s,a){super(),this._ngModelWarningConfig=s,this.callSetDisabledState=a,this.update=new o.vpe,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=VS(0,r)}ngOnChanges(e){if(this._isControlChanged(e)){const i=e.form.previousValue;i&&Hf(i,this,!1),Uf(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}$m(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Hf(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(o.Y36(uo,10),o.Y36(Tc,10),o.Y36(pa,10),o.Y36(b0,8),o.Y36(Od,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[o._Bn([qM]),o.qOj,o.TTD]}),n})();const ZM={provide:kr,useExisting:(0,o.Gpc)(()=>ds)};let ds=(()=>{class n extends kr{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Zm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Uf(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Hf(e.control||null,e,!1),function ZB(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,fy(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(Hf(i||null,e),(n=>n instanceof vr)(r)&&(Uf(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);f0(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function hy(n,t){return Zm(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){uy(this.form,this),this._oldForm&&Zm(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(uo,10),o.Y36(Tc,10),o.Y36(Od,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([ZM]),o.qOj,o.TTD]}),n})();const qS={provide:Vo,useExisting:(0,o.Gpc)(()=>Hl)};let Hl=(()=>{class n extends Vo{set isDisabled(e){}constructor(e,i,r,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.update=new o.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=VS(0,s)}ngOnChanges(e){this._added||this._setUpControl(),$m(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return qm(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(o.Y36(kr,13),o.Y36(uo,10),o.Y36(Tc,10),o.Y36(pa,10),o.Y36(b0,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[o._Bn([qS]),o.qOj,o.TTD]}),n})();let Fd=(()=>{class n{constructor(){this._validator=Lm}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Lm,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,features:[o.TTD]}),n})();const YM={provide:uo,useExisting:(0,o.Gpc)(()=>A0),multi:!0};let A0=(()=>{class n extends Fd{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>function T0(n){return"number"==typeof n?n:parseFloat(n)}(e),this.createValidator=e=>sy(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&o.uIk("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[o._Bn([YM]),o.qOj]}),n})();const XM={provide:uo,useExisting:(0,o.Gpc)(()=>M0),multi:!0};let M0=(()=>{class n extends Fd{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function E0(n){return"number"==typeof n?n:parseInt(n,10)}(e),this.createValidator=e=>DS(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&o.uIk("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[o._Bn([XM]),o.qOj]}),n})(),R0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Ja]}),n})();class O0 extends Vf{constructor(t,e,i){super(Lf(e),zm(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){d0(this,!1,t),t.forEach((i,r)=>{c0(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function P0(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let Jm=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let s={};return P0(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new Io(r,s)}record(e,i=null){const r=this._reduceControls(e);return new u0(r,i)}control(e,i,r){let s={};return this.useNonNullable?(P0(i)?s=i:(s.validators=i,s.asyncValidators=r),new vr(e,{...s,nonNullable:!0})):new vr(e,i,r)}array(e,i,r){const s=e.map(a=>this._createControl(a));return new O0(s,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof vr||e instanceof Vf?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),F0=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Od,useValue:e.callSetDisabledState??jm}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[R0]}),n})(),Qu=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:b0,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Od,useValue:e.callSetDisabledState??jm}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[R0]}),n})();const sR=new o.OlP("MAT_INPUT_VALUE_ACCESSOR"),qf=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let XB=0;const N0=Ob(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new gt.x}});let el=(()=>{class n extends N0{get disabled(){return this._disabled}set disabled(e){this._disabled=Nt(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Ao.required)??!1}set required(e){this._required=Nt(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&_d().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Nt(e)}constructor(e,i,r,s,a,u,f,m,v,x){super(u,s,a,r),this._elementRef=e,this._platform=i,this._autofillMonitor=m,this._formField=x,this._uid="mat-input-"+XB++,this.focused=!1,this.stateChanges=new gt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(q=>_d().has(q)),this._iOSKeyupListener=q=>{const ue=q.target;!ue.value&&0===ue.selectionStart&&0===ue.selectionEnd&&(ue.setSelectionRange(1,1),ue.setSelectionRange(0,0))};const I=this._elementRef.nativeElement,B=I.nodeName.toLowerCase();this._inputValueAccessor=f||I,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&v.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===B,this._isTextarea="textarea"===B,this._isInFormField=!!x,this._isNativeSelect&&(this.controlType=I.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){qf.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(li),o.Y36(Vo,10),o.Y36(Ym,8),o.Y36(ds,8),o.Y36(Tm),o.Y36(sR,10),o.Y36(iy),o.Y36(o.R0b),o.Y36(Pf,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(e,i){1&e&&o.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(o.Ikx("id",i.id)("disabled",i.disabled)("required",i.required),o.uIk("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),o.ekj("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[o._Bn([{provide:$b,useExisting:n}]),o.qOj,o.TTD]}),n})(),tE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Mn,Ff,Ff,DM,Mn]}),n})();const L0=(0,H(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Xt(n){return new kn.y(t=>{(0,Lo.Xf)(n()).subscribe(t)})}var Xm=H(9635),Uo=H(576);function Zf(n,t){const e=(0,Uo.m)(n)?n:()=>n,i=r=>r.error(e());return new kn.y(t?r=>t.schedule(i,0,r):i)}function Nd(){return(0,pi.e)((n,t)=>{let e=null;n._refCount++;const i=(0,mi.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class vy extends kn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,pi.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new C.w0;const e=this.getSubject();t.add(this.source.subscribe((0,mi.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=C.w0.EMPTY)}return t}refCount(){return Nd()(this)}}function Pn(n,t){return(0,pi.e)((e,i)=>{let r=null,s=0,a=!1;const u=()=>a&&!r&&i.complete();e.subscribe((0,mi.x)(i,f=>{r?.unsubscribe();let m=0;const v=s++;(0,Lo.Xf)(n(f,v)).subscribe(r=(0,mi.x)(i,x=>i.next(t?t(f,x,v,m++):x),()=>{r=null,u()}))},()=>{a=!0,u()}))})}var br=H(5577);function Ri(n){return(0,pi.e)((t,e)=>{let i=!1;t.subscribe((0,mi.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function aR(n=iE){return(0,pi.e)((t,e)=>{let i=!1;t.subscribe((0,mi.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function iE(){return new L0}function ga(n,t){const e=arguments.length>=2;return i=>i.pipe(n?oi((r,s)=>n(r,s,i)):Sf.y,Tt(1),e?Ri(t):aR(()=>new L0))}function Ld(n,t){return(0,Uo.m)(t)?(0,br.z)(n,t,1):(0,br.z)(n,1)}function Gl(n){return(0,pi.e)((t,e)=>{let s,i=null,r=!1;i=t.subscribe((0,mi.x)(e,void 0,void 0,a=>{s=(0,Lo.Xf)(n(a,Gl(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function Ic(n,t){return(0,pi.e)(function rE(n,t,e,i,r){return(s,a)=>{let u=e,f=t,m=0;s.subscribe((0,mi.x)(a,v=>{const x=m++;f=u?n(f,v,x):(u=!0,v),i&&a.next(f)},r&&(()=>{u&&a.next(f),a.complete()})))}}(n,t,arguments.length>=2,!0))}function by(n){return n<=0?()=>Sc.E:(0,pi.e)((t,e)=>{let i=[];t.subscribe((0,mi.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function oE(n,t){const e=arguments.length>=2;return i=>i.pipe(n?oi((r,s)=>n(r,s,i)):Sf.y,by(1),e?Ri(t):aR(()=>new L0))}function sE(n,t=!1){return(0,pi.e)((e,i)=>{let r=0;e.subscribe((0,mi.x)(i,s=>{const a=n(s,r++);(a||t)&&i.next(s),!a&&i.complete()}))})}function aE(n){return(0,dt.U)(()=>n)}function Bd(n){return(0,pi.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const In="primary",eg=Symbol("RouteTitle");class lR{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function kc(n){return new lR(n)}function lE(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const a=i[s],u=n[s];if(a.startsWith(":"))r[a.substring(1)]=u;else if(a!==u.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function tl(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!dE(n[r],t[r]))return!1;return!0}function dE(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function $f(n){return Array.prototype.concat.apply([],n)}function Yf(n){return n.length>0?n[n.length-1]:null}function fo(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Vd(n){return(0,o.CqO)(n)?n:(0,o.QGY)(n)?(0,ee.D)(Promise.resolve(n)):se(n)}const tg=!1,uE={exact:function pE(n,t,e){if(!Xu(n.segments,t.segments)||!V0(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!pE(n.children[i],t.children[i],e))return!1;return!0},subset:dR},B0={exact:function fE(n,t){return tl(n,t)},subset:function cR(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>dE(n[e],t[e]))},ignored:()=>!0};function hE(n,t,e){return uE[e.paths](n.root,t.root,e.matrixParams)&&B0[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function dR(n,t,e){return uR(n,t,t.segments,e)}function uR(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Xu(r,e)||t.hasChildren()||!V0(r,e,i))}if(n.segments.length===e.length){if(!Xu(n.segments,e)||!V0(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!dR(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(Xu(n.segments,r)&&V0(n.segments,r,i)&&n.children[In])&&uR(n.children[In],t,s,i)}}function V0(n,t,e){return t.every((i,r)=>B0[e](n[r].parameters,i.parameters))}class Ju{constructor(t=new Fn([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=kc(this.queryParams)),this._queryParamMap}toString(){return fR.serialize(this)}}class Fn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,fo(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wy(this)}}class Ud{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=kc(this.parameters)),this._parameterMap}toString(){return _E(this)}}function Xu(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let Mc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return new U0},providedIn:"root"}),n})();class U0{parse(t){const e=new wE(t);return new Ju(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${ng(t.root,!0)}`,i=function mR(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${xy(e)}=${xy(r)}`).join("&"):`${xy(e)}=${xy(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function gE(n){return encodeURI(n)}(t.fragment)}`:""}`}}const fR=new U0;function wy(n){return n.segments.map(t=>_E(t)).join("/")}function ng(n,t){if(!n.hasChildren())return wy(n);if(t){const e=n.children[In]?ng(n.children[In],!1):"",i=[];return fo(n.children,(r,s)=>{s!==In&&i.push(`${s}:${ng(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function mE(n,t){let e=[];return fo(n.children,(i,r)=>{r===In&&(e=e.concat(t(i,r)))}),fo(n.children,(i,r)=>{r!==In&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===In?[ng(n.children[In],!1)]:[`${r}:${ng(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[In]?`${wy(n)}/${e[0]}`:`${wy(n)}/(${e.join("//")})`}}function pR(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xy(n){return pR(n).replace(/%3B/gi,";")}function H0(n){return pR(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Cy(n){return decodeURIComponent(n)}function Wf(n){return Cy(n.replace(/\+/g,"%20"))}function _E(n){return`${H0(n.path)}${function yE(n){return Object.keys(n).map(t=>`;${H0(t)}=${H0(n[t])}`).join("")}(n.parameters)}`}const vE=/^[^\/()?;=#]+/;function Dy(n){const t=n.match(vE);return t?t[0]:""}const bE=/^[^=?&#]+/,G0=/^[^&#]+/;class wE{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Fn([],{}):new Fn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[In]=new Fn(t,e)),i}parseSegment(){const t=Dy(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new o.vHH(4009,tg);return this.capture(t),new Ud(Cy(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Dy(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Dy(this.remaining);r&&(i=r,this.capture(i))}t[Cy(e)]=Cy(i)}parseQueryParam(t){const e=function gR(n){const t=n.match(bE);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const a=function _R(n){const t=n.match(G0);return t?t[0]:""}(this.remaining);a&&(i=a,this.capture(i))}const r=Wf(e),s=Wf(i);if(t.hasOwnProperty(r)){let a=t[r];Array.isArray(a)||(a=[a],t[r]=a),a.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Dy(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new o.vHH(4010,tg);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=In);const a=this.parseChildren();e[s]=1===Object.keys(a).length?a[In]:new Fn([],a),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new o.vHH(4011,tg)}}function Sy(n){return n.segments.length>0?new Fn([],{[In]:n}):n}function Ey(n){const t={};for(const i of Object.keys(n.children)){const s=Ey(n.children[i]);(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function yR(n){if(1===n.numberOfChildren&&n.children[In]){const t=n.children[In];return new Fn(n.segments.concat(t.segments),t.children)}return n}(new Fn(n.segments,t))}function eh(n){return n instanceof Ju}const ig=!1;function vR(n,t,e,i,r){if(0===e.length)return Kf(t.root,t.root,t.root,i,r);const s=function SE(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new DE(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,a)=>{if("object"==typeof s&&null!=s){if(s.outlets){const u={};return fo(s.outlets,(f,m)=>{u[m]="string"==typeof f?f.split("/"):f}),[...r,{outlets:u}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===a?(s.split("/").forEach((u,f)=>{0==f&&"."===u||(0==f&&""===u?e=!0:".."===u?t++:""!=u&&r.push(u))}),r):[...r,s]},[]);return new DE(e,t,i)}(e);return s.toRoot()?Kf(t.root,t.root,new Fn([],{}),i,r):function a(f){const m=function bR(n,t,e,i){if(n.isAbsolute)return new th(t.root,!0,0);if(-1===i)return new th(e,e===t.root,0);return function TE(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new o.vHH(4005,ig&&"Invalid number of '../'");r=i.segments.length}return new th(i,!1,r-s)}(e,i+(rg(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,t,n.snapshot?._urlSegment,f),v=m.processChildren?Qf(m.segmentGroup,m.index,s.commands):j0(m.segmentGroup,m.index,s.commands);return Kf(t.root,m.segmentGroup,v,i,r)}(n.snapshot?._lastPathIndex)}function rg(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function og(n){return"object"==typeof n&&null!=n&&n.outlets}function Kf(n,t,e,i,r){let a,s={};i&&fo(i,(f,m)=>{s[m]=Array.isArray(f)?f.map(v=>`${v}`):`${f}`}),a=n===t?e:CE(n,t,e);const u=Sy(Ey(a));return new Ju(u,s,r)}function CE(n,t,e){const i={};return fo(n.children,(r,s)=>{i[s]=r===t?e:CE(r,t,e)}),new Fn(n.segments,i)}class DE{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&rg(i[0]))throw new o.vHH(4003,ig&&"Root segment cannot have matrix parameters");const r=i.find(og);if(r&&r!==Yf(i))throw new o.vHH(4004,ig&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class th{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function j0(n,t,e){if(n||(n=new Fn([],{})),0===n.segments.length&&n.hasChildren())return Qf(n,t,e);const i=function wR(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const a=n.segments[r],u=e[i];if(og(u))break;const f=`${u}`,m=i<e.length-1?e[i+1]:null;if(r>0&&void 0===f)break;if(f&&m&&"object"==typeof m&&void 0===m.outlets){if(!Ty(f,m,a))return s;i+=2}else{if(!Ty(f,{},a))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Fn(n.segments.slice(0,i.pathIndex),{});return s.children[In]=new Fn(n.segments.slice(i.pathIndex),n.children),Qf(s,0,r)}return i.match&&0===r.length?new Fn(n.segments,{}):i.match&&!n.hasChildren()?sg(n,t,e):i.match?Qf(n,0,r):sg(n,t,e)}function Qf(n,t,e){if(0===e.length)return new Fn(n.segments,{});{const i=function AE(n){return og(n[0])?n[0].outlets:{[In]:n}}(e),r={};if(!i[In]&&n.children[In]&&1===n.numberOfChildren&&0===n.children[In].segments.length){const s=Qf(n.children[In],t,e);return new Fn(n.segments,s.children)}return fo(i,(s,a)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[a]=j0(n.children[a],t,s))}),fo(n.children,(s,a)=>{void 0===i[a]&&(r[a]=s)}),new Fn(n.segments,r)}}function sg(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(og(s)){const f=q0(s.outlets);return new Fn(i,f)}if(0===r&&rg(e[0])){i.push(new Ud(n.segments[t].path,Z0(e[0]))),r++;continue}const a=og(s)?s.outlets[In]:`${s}`,u=r<e.length-1?e[r+1]:null;a&&u&&rg(u)?(i.push(new Ud(a,Z0(u))),r+=2):(i.push(new Ud(a,{})),r++)}return new Fn(i,{})}function q0(n){const t={};return fo(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=sg(new Fn([],{}),0,e))}),t}function Z0(n){const t={};return fo(n,(e,i)=>t[i]=`${e}`),t}function Ty(n,t,e){return n==e.path&&tl(t,e.parameters)}const ag="imperative";class zl{constructor(t,e){this.id=t,this.url=e}}class lg extends zl{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class nh extends zl{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class cg extends zl{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Rc extends zl{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class Ay extends zl{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class xR extends zl{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class n6 extends zl{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class IE extends zl{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $0 extends zl{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class CR extends zl{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Y0{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class DR{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class kE{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class W0{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ME{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class RE{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class K0{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let ER=(()=>{class n{createUrlTree(e,i,r,s,a,u){return vR(e||i.root,r,s,a,u)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),AR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(t){return ER.\u0275fac(t)},providedIn:"root"}),n})();class Q0{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=PE(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=PE(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Iy(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Iy(t,this._root).map(e=>e.value)}}function PE(n,t){if(n===t.value)return t;for(const e of t.children){const i=PE(n,e);if(i)return i}return null}function Iy(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Iy(n,e);if(i.length)return i.unshift(t),i}return[]}class Oc{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Jf(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class IR extends Q0{constructor(t,e){super(t),this.snapshot=e,ew(this,t)}toString(){return this.snapshot.toString()}}function FE(n,t){const e=function kR(n,t){const a=new dg([],{},{},"",{},In,t,null,n.root,-1,{});return new X0("",new Oc(a,[]))}(n,t),i=new E([new Ud("",{})]),r=new E({}),s=new E({}),a=new E({}),u=new E(""),f=new nl(i,r,a,u,s,In,t,e.root);return f.snapshot=e.root,new IR(new Oc(f,[]),e)}class nl{constructor(t,e,i,r,s,a,u,f){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=a,this.component=u,this.title=this.data?.pipe((0,dt.U)(m=>m[eg]))??se(void 0),this._futureSnapshot=f}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,dt.U)(t=>kc(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,dt.U)(t=>kc(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function J0(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function NE(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class dg{get title(){return this.data?.[eg]}constructor(t,e,i,r,s,a,u,f,m,v,x){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=a,this.component=u,this.routeConfig=f,this._urlSegment=m,this._lastPathIndex=v,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=kc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=kc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class X0 extends Q0{constructor(t,e){super(e),this.url=t,ew(this,e)}toString(){return LE(this._root)}}function ew(n,t){t.value._routerState=n,t.children.forEach(e=>ew(n,e))}function LE(n){const t=n.children.length>0?` { ${n.children.map(LE).join(", ")} } `:"";return`${n.value}${t}`}function tw(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,tl(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),tl(t.params,e.params)||n.params.next(e.params),function cE(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!tl(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),tl(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function nw(n,t){const e=tl(n.params,t.params)&&function hR(n,t){return Xu(n,t)&&n.every((e,i)=>tl(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||nw(n.parent,t.parent))}function Pc(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function BE(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Pc(n,i,r);return Pc(n,i)})}(n,t,e);return new Oc(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const a=s.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(u=>Pc(n,u)),a}}const i=function VE(n){return new nl(new E(n.url),new E(n.params),new E(n.queryParams),new E(n.fragment),new E(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>Pc(n,s));return new Oc(i,r)}}const ky="ngNavigationCancelingError";function iw(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=eh(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=rw(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function rw(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[ky]=!0,i.cancellationCode=t,e&&(i.url=e),i}function ow(n){return UE(n)&&eh(n.url)}function UE(n){return n&&n[ky]}class i6{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Xf,this.attachRef=null}}let Xf=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new i6,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ug=!1;let My=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=In,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.attachEvents=new o.vpe,this.detachEvents=new o.vpe,this.parentContexts=(0,o.f3M)(Xf),this.location=(0,o.f3M)(o.s_b),this.changeDetector=(0,o.f3M)(o.sBO),this.environmentInjector=(0,o.f3M)(o.lqb)}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new o.vHH(4012,ug);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new o.vHH(4012,ug);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new o.vHH(4012,ug);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new o.vHH(4013,ug);this._activatedRoute=e;const r=this.location,a=e.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,f=new RR(e,u,r.injector);if(i&&function OR(n){return!!n.resolveComponentFactory}(i)){const m=i.resolveComponentFactory(a);this.activated=r.createComponent(m,r.length,f)}else this.activated=r.createComponent(a,{index:r.length,injector:f,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[o.TTD]}),n})();class RR{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===nl?this.route:t===Xf?this.childContexts:this.parent.get(t,e)}}let ih=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[o.jDz],decls:1,vars:0,template:function(e,i){1&e&&o._UZ(0,"router-outlet")},dependencies:[My],encapsulation:2}),n})();function HE(n,t){return n.providers&&!n._injector&&(n._injector=(0,o.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function ep(n){const t=n.children&&n.children.map(ep),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==In&&(e.component=ih),e}function Ho(n){return n.outlet||In}function zE(n,t){const e=n.filter(i=>Ho(i)===t);return e.push(...n.filter(i=>Ho(i)!==t)),e}function hg(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class qE{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),tw(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Jf(e);t.children.forEach(s=>{const a=s.value.outlet;this.deactivateRoutes(s,r[a],i),delete r[a]}),fo(r,(s,a)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(t,e,a.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Jf(t);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],r);if(i&&i.outlet){const a=i.outlet.detach(),u=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:u})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Jf(t);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=Jf(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new RE(s.value.snapshot))}),t.children.length&&this.forwardEvent(new W0(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(tw(r),r===s)if(r.component){const a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,a.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const u=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(u.contexts),a.attachRef=u.componentRef,a.route=u.route.value,a.outlet&&a.outlet.attach(u.componentRef,u.route.value),tw(u.route.value),this.activateChildRoutes(t,null,a.children)}else{const u=hg(r.snapshot),f=u?.get(o._Vd)??null;a.attachRef=null,a.route=r,a.resolver=f,a.injector=u,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,i)}}class Ry{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class fg{constructor(t,e){this.component=t,this.route=e}}function aw(n,t,e){const i=n._root;return sh(i,t?t._root:null,e,[i.value])}function oh(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,o.Z0I)(n)?t.get(n):n:i}function sh(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Jf(t);return n.children.forEach(a=>{(function cw(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,a=t?t.value:null,u=e?e.getContext(n.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const f=function LR(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Xu(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Xu(n.url,t.url)||!tl(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!nw(n,t)||!tl(n.queryParams,t.queryParams);default:return!nw(n,t)}}(a,s,s.routeConfig.runGuardsAndResolvers);f?r.canActivateChecks.push(new Ry(i)):(s.data=a.data,s._resolvedData=a._resolvedData),sh(n,t,s.component?u?u.children:null:e,i,r),f&&u&&u.outlet&&u.outlet.isActivated&&r.canDeactivateChecks.push(new fg(u.outlet.component,a))}else a&&pg(t,u,r),r.canActivateChecks.push(new Ry(i)),sh(n,null,s.component?u?u.children:null:e,i,r)})(a,s[a.value.outlet],e,i.concat([a.value]),r),delete s[a.value.outlet]}),fo(s,(a,u)=>pg(a,e.getContext(u),r)),r}function pg(n,t,e){const i=Jf(n),r=n.value;fo(i,(s,a)=>{pg(s,r.component?t?t.children.getContext(a):null:t,e)}),e.canDeactivateChecks.push(new fg(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function mg(n){return"function"==typeof n}function Oy(n){return n instanceof L0||"EmptyError"===n?.name}const gg=Symbol("INITIAL_VALUE");function tp(){return Pn(n=>Yr(n.map(t=>t.pipe(Tt(1),yr(gg)))).pipe((0,dt.U)(t=>{for(const e of t)if(!0!==e){if(e===gg)return gg;if(!1===e||e instanceof Ju)return e}return!0}),oi(t=>t!==gg),Tt(1)))}function Py(n){return(0,Xm.z)((0,Un.b)(t=>{if(eh(t))throw iw(0,t)}),(0,dt.U)(t=>!0===t))}const uw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Fy(n,t,e,i,r){const s=hw(n,t,e);return s.matched?function _g(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?se(r.map(a=>{const u=oh(a,n);return Vd(function WE(n){return n&&mg(n.canMatch)}(u)?u.canMatch(t,e):n.runInContext(()=>u(t,e)))})).pipe(tp(),Py()):se(!0)}(i=HE(t,i),t,e).pipe((0,dt.U)(a=>!0===a?s:{...uw})):se(s)}function hw(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...uw}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||lE)(e,n,t);if(!r)return{...uw};const s={};fo(r.posParams,(u,f)=>{s[f]=u.path});const a=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function yg(n,t,e,i){if(e.length>0&&function qR(n,t,e){return e.some(i=>vg(n,t,i)&&Ho(i)!==In)}(n,e,i)){const s=new Fn(t,function jR(n,t,e,i){const r={};r[In]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&Ho(s)!==In){const a=new Fn([],{});a._sourceSegment=n,a._segmentIndexShift=t.length,r[Ho(s)]=a}return r}(n,t,i,new Fn(e,n.children)));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===e.length&&function fw(n,t,e){return e.some(i=>vg(n,t,i))}(n,e,i)){const s=new Fn(n.segments,function zR(n,t,e,i,r){const s={};for(const a of i)if(vg(n,e,a)&&!r[Ho(a)]){const u=new Fn([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,s[Ho(a)]=u}return{...r,...s}}(n,t,e,i,n.children));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}const r=new Fn(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:e}}function vg(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function pw(n,t,e,i){return!!(Ho(n)===i||i!==In&&vg(t,e,n))&&("**"===n.path||hw(t,n,e).matched)}function bg(n,t,e){return 0===t.length&&!n.children[e]}const ip=!1;class mw{constructor(t){this.segmentGroup=t||null}}class gw{constructor(t){this.urlTree=t}}function wg(n){return Zf(new mw(n))}function _w(n){return Zf(new gw(n))}class yw{constructor(t,e,i,r,s){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const t=yg(this.urlTree.root,[],[],this.config).segmentGroup,e=new Fn(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,In).pipe((0,dt.U)(s=>this.createUrlTree(Ey(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Gl(s=>{if(s instanceof gw)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof mw?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,In).pipe((0,dt.U)(r=>this.createUrlTree(Ey(r),t.queryParams,t.fragment))).pipe(Gl(r=>{throw r instanceof mw?this.noMatchError(r):r}))}noMatchError(t){return new o.vHH(4002,ip)}createUrlTree(t,e,i){const r=Sy(t);return new Ju(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,dt.U)(s=>new Fn([],s))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,ee.D)(r).pipe(Ld(s=>{const a=i.children[s],u=zE(e,s);return this.expandSegmentGroup(t,u,a,s).pipe((0,dt.U)(f=>({segment:f,outlet:s})))}),Ic((s,a)=>(s[a.outlet]=a.segment,s),{}),oE())}expandSegment(t,e,i,r,s,a){return(0,ee.D)(i).pipe(Ld(u=>this.expandSegmentAgainstRoute(t,e,i,u,r,s,a).pipe(Gl(m=>{if(m instanceof mw)return se(null);throw m}))),ga(u=>!!u),Gl((u,f)=>{if(Oy(u))return bg(e,r,s)?se(new Fn([],{})):wg(e);throw u}))}expandSegmentAgainstRoute(t,e,i,r,s,a,u){return pw(r,e,s,a)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,s,a):u&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,a):wg(e):wg(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,a){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,a):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?_w(s):this.lineralizeSegments(i,s).pipe((0,br.z)(a=>{const u=new Fn(a,{});return this.expandSegment(t,u,e,a,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,a){const{matched:u,consumedSegments:f,remainingSegments:m,positionalParamSegments:v}=hw(e,r,s);if(!u)return wg(e);const x=this.applyRedirectCommands(f,r.redirectTo,v);return r.redirectTo.startsWith("/")?_w(x):this.lineralizeSegments(r,x).pipe((0,br.z)(I=>this.expandSegment(t,e,i,I.concat(m),a,!1)))}matchSegmentAgainstRoute(t,e,i,r,s){return"**"===i.path?(t=HE(i,t),i.loadChildren?(i._loadedRoutes?se({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,dt.U)(u=>(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,new Fn(r,{})))):se(new Fn(r,{}))):Fy(e,i,r,t).pipe(Pn(({matched:a,consumedSegments:u,remainingSegments:f})=>a?this.getChildConfig(t=i._injector??t,i,r).pipe((0,br.z)(v=>{const x=v.injector??t,I=v.routes,{segmentGroup:B,slicedSegments:q}=yg(e,u,f,I),ue=new Fn(B.segments,B.children);if(0===q.length&&ue.hasChildren())return this.expandChildren(x,I,ue).pipe((0,dt.U)(it=>new Fn(u,it)));if(0===I.length&&0===q.length)return se(new Fn(u,{}));const ge=Ho(i)===s;return this.expandSegment(x,ue,I,q,ge?In:s,!0).pipe((0,dt.U)(nt=>new Fn(u.concat(nt.segments),nt.children)))})):wg(e)))}getChildConfig(t,e,i){return e.children?se({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?se({routes:e._loadedRoutes,injector:e._loadedInjector}):function JE(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?se(!0):se(r.map(a=>{const u=oh(a,n);return Vd(function ZE(n){return n&&mg(n.canLoad)}(u)?u.canLoad(t,e):n.runInContext(()=>u(t,e)))})).pipe(tp(),Py())}(t,e,i).pipe((0,br.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,Un.b)(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function ZR(n){return Zf(rw(ip,3))}())):se({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return se(i);if(r.numberOfChildren>1||!r.children[In])return t.redirectTo,Zf(new o.vHH(4e3,ip));r=r.children[In]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new Ju(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return fo(t,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const u=r.substring(1);i[s]=e[u]}else i[s]=r}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let a={};return fo(e.children,(u,f)=>{a[f]=this.createSegmentGroup(t,u,i,r)}),new Fn(s,a)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new o.vHH(4001,ip);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class l6{}class WR{constructor(t,e,i,r,s,a,u){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=a,this.urlSerializer=u}recognize(){const t=yg(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,In).pipe((0,dt.U)(e=>{if(null===e)return null;const i=new dg([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},In,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Oc(i,e),s=new X0(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(t){const e=t.value,i=J0(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,ee.D)(Object.keys(i.children)).pipe(Ld(r=>{const s=i.children[r],a=zE(e,r);return this.processSegmentGroup(t,a,s,r)}),Ic((r,s)=>r&&s?(r.push(...s),r):null),sE(r=>null!==r),Ri(null),oE(),(0,dt.U)(r=>{if(null===r)return null;const s=vw(r);return function tT(n){n.sort((t,e)=>t.value.outlet===In?-1:e.value.outlet===In?1:t.value.outlet.localeCompare(e.value.outlet))}(s),s}))}processSegment(t,e,i,r,s){return(0,ee.D)(e).pipe(Ld(a=>this.processSegmentAgainstRoute(a._injector??t,a,i,r,s)),ga(a=>!!a),Gl(a=>{if(Oy(a))return bg(i,r,s)?se([]):se(null);throw a}))}processSegmentAgainstRoute(t,e,i,r,s){if(e.redirectTo||!pw(e,i,r,s))return se(null);let a;if("**"===e.path){const u=r.length>0?Yf(r).parameters:{},f=oT(i)+r.length;a=se({snapshot:new dg(r,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,sT(e),Ho(e),e.component??e._loadedComponent??null,e,rT(i),f,bw(e)),consumedSegments:[],remainingSegments:[]})}else a=Fy(i,e,r,t).pipe((0,dt.U)(({matched:u,consumedSegments:f,remainingSegments:m,parameters:v})=>{if(!u)return null;const x=oT(i)+f.length;return{snapshot:new dg(f,v,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,sT(e),Ho(e),e.component??e._loadedComponent??null,e,rT(i),x,bw(e)),consumedSegments:f,remainingSegments:m}}));return a.pipe(Pn(u=>{if(null===u)return se(null);const{snapshot:f,consumedSegments:m,remainingSegments:v}=u;t=e._injector??t;const x=e._loadedInjector??t,I=function nT(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:B,slicedSegments:q}=yg(i,m,v,I.filter(ge=>void 0===ge.redirectTo));if(0===q.length&&B.hasChildren())return this.processChildren(x,I,B).pipe((0,dt.U)(ge=>null===ge?null:[new Oc(f,ge)]));if(0===I.length&&0===q.length)return se([new Oc(f,[])]);const ue=Ho(e)===s;return this.processSegment(x,I,B,q,ue?In:s).pipe((0,dt.U)(ge=>null===ge?null:[new Oc(f,ge)]))}))}}function KR(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function vw(n){const t=[],e=new Set;for(const i of n){if(!KR(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=vw(i.children);t.push(new Oc(i.value,r))}return t.filter(i=>!e.has(i))}function rT(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function oT(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function sT(n){return n.data||{}}function bw(n){return n.resolve||{}}function ww(n){return"string"==typeof n.title||null===n.title}function dT(n){return Pn(t=>{const e=n(t);return e?(0,ee.D)(e).pipe((0,dt.U)(()=>t)):se(t)})}const xg=new o.OlP("ROUTES");let uT=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,o.f3M)(o.Sil)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return se(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Vd(e.loadComponent()).pipe((0,dt.U)(tO),(0,Un.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),Bd(()=>{this.componentLoaders.delete(e)})),r=new vy(i,()=>new gt.x).pipe(Nd());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return se({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,dt.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(i);let f,m,v=!1;Array.isArray(u)?m=u:(f=u.create(e).injector,m=$f(f.get(xg,[],o.XFs.Self|o.XFs.Optional)));return{routes:m.map(ep),injector:f}}),Bd(()=>{this.childrenLoaders.delete(i)})),a=new vy(s,()=>new gt.x).pipe(Nd());return this.childrenLoaders.set(i,a),a}loadModuleFactoryOrRoutes(e){return Vd(e()).pipe((0,dt.U)(tO),(0,br.z)(i=>i instanceof o.YKP||Array.isArray(i)?se(i):(0,ee.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tO(n){return function d6(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Cw=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new gt.x,this.configLoader=(0,o.f3M)(uT),this.environmentInjector=(0,o.f3M)(o.lqb),this.urlSerializer=(0,o.f3M)(Mc),this.rootContexts=(0,o.f3M)(Xf),this.navigationId=0,this.afterPreactivation=()=>se(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new DR(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Y0(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e){return this.transitions=new E({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ag,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(oi(i=>0!==i.id),(0,dt.U)(i=>({...i,extractedUrl:e.urlHandlingStrategy.extract(i.rawUrl)})),Pn(i=>{let r=!1,s=!1;return se(i).pipe((0,Un.b)(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Pn(a=>{const u=e.browserUrlTree.toString(),f=!e.navigated||a.extractedUrl.toString()!==u||u!==e.currentUrlTree.toString();if(!f&&"reload"!==(a.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const v="";return this.events.next(new Rc(a.id,e.serializeUrl(i.rawUrl),v,0)),e.rawUrlTree=a.rawUrl,a.resolve(null),Sc.E}if(e.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Cg(a.source)&&(e.browserUrlTree=a.extractedUrl),se(a).pipe(Pn(v=>{const x=this.transitions?.getValue();return this.events.next(new lg(v.id,this.urlSerializer.serialize(v.extractedUrl),v.source,v.restoredState)),x!==this.transitions?.getValue()?Sc.E:Promise.resolve(v)}),function a6(n,t,e,i){return Pn(r=>function XE(n,t,e,i,r){return new yw(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,dt.U)(s=>({...r,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),(0,Un.b)(v=>{this.currentNavigation={...this.currentNavigation,finalUrl:v.urlAfterRedirects},i.urlAfterRedirects=v.urlAfterRedirects}),function aT(n,t,e,i,r){return(0,br.z)(s=>function YR(n,t,e,i,r,s,a="emptyOnly"){return new WR(n,t,e,i,r,a,s).recognize().pipe(Pn(u=>null===u?function $R(n){return new kn.y(t=>t.error(n))}(new l6):se(u)))}(n,t,e,s.urlAfterRedirects,i.serialize(s.urlAfterRedirects),i,r).pipe((0,dt.U)(a=>({...s,targetSnapshot:a}))))}(this.environmentInjector,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,Un.b)(v=>{if(i.targetSnapshot=v.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!v.extras.skipLocationChange){const I=e.urlHandlingStrategy.merge(v.urlAfterRedirects,v.rawUrl);e.setBrowserUrl(I,v)}e.browserUrlTree=v.urlAfterRedirects}const x=new xR(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(x)}));if(f&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:v,extractedUrl:x,source:I,restoredState:B,extras:q}=a,ue=new lg(v,this.urlSerializer.serialize(x),I,B);this.events.next(ue);const ge=FE(x,this.rootComponentType).snapshot;return se(i={...a,targetSnapshot:ge,urlAfterRedirects:x,extras:{...q,skipLocationChange:!1,replaceUrl:!1}})}{const v="";return this.events.next(new Rc(a.id,e.serializeUrl(i.extractedUrl),v,1)),e.rawUrlTree=a.rawUrl,a.resolve(null),Sc.E}}),(0,Un.b)(a=>{const u=new n6(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),(0,dt.U)(a=>i={...a,guards:aw(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function KE(n,t){return(0,br.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:a}}=e;return 0===a.length&&0===s.length?se({...e,guardsResult:!0}):function QE(n,t,e,i){return(0,ee.D)(n).pipe((0,br.z)(r=>function s6(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?se(s.map(u=>{const f=hg(t)??r,m=oh(u,f);return Vd(function YE(n){return n&&mg(n.canDeactivate)}(m)?m.canDeactivate(n,t,e,i):f.runInContext(()=>m(n,t,e,i))).pipe(ga())})).pipe(tp()):se(!0)}(r.component,r.route,e,t,i)),ga(r=>!0!==r,!0))}(a,i,r,n).pipe((0,br.z)(u=>u&&function BR(n){return"boolean"==typeof n}(u)?function Go(n,t,e,i){return(0,ee.D)(t).pipe(Ld(r=>Hu(function HR(n,t){return null!==n&&t&&t(new kE(n)),se(!0)}(r.route.parent,i),function np(n,t){return null!==n&&t&&t(new ME(n)),se(!0)}(r.route,i),function o6(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(a=>function lw(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(a)).filter(a=>null!==a).map(a=>Xt(()=>se(a.guards.map(f=>{const m=hg(a.node)??e,v=oh(f,m);return Vd(function $E(n){return n&&mg(n.canActivateChild)}(v)?v.canActivateChild(i,n):m.runInContext(()=>v(i,n))).pipe(ga())})).pipe(tp())));return se(s).pipe(tp())}(n,r.path,e),function GR(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return se(!0);const r=i.map(s=>Xt(()=>{const a=hg(t)??e,u=oh(s,a);return Vd(function dw(n){return n&&mg(n.canActivate)}(u)?u.canActivate(t,n):a.runInContext(()=>u(t,n))).pipe(ga())}));return se(r).pipe(tp())}(n,r.route,e))),ga(r=>!0!==r,!0))}(i,s,n,t):se(u)),(0,dt.U)(u=>({...e,guardsResult:u})))})}(this.environmentInjector,a=>this.events.next(a)),(0,Un.b)(a=>{if(i.guardsResult=a.guardsResult,eh(a.guardsResult))throw iw(0,a.guardsResult);const u=new IE(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(u)}),oi(a=>!!a.guardsResult||(e.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),dT(a=>{if(a.guards.canActivateChecks.length)return se(a).pipe((0,Un.b)(u=>{const f=new $0(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}),Pn(u=>{let f=!1;return se(u).pipe(function lT(n,t){return(0,br.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return se(e);let s=0;return(0,ee.D)(r).pipe(Ld(a=>function cT(n,t,e,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!ww(r)&&(s[eg]=r.title),function JR(n,t,e,i){const r=function XR(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return se({});const s={};return(0,ee.D)(r).pipe((0,br.z)(a=>function c6(n,t,e,i){const r=hg(t)??i,s=oh(n,r);return Vd(s.resolve?s.resolve(t,e):r.runInContext(()=>s(t,e)))}(n[a],t,e,i).pipe(ga(),(0,Un.b)(u=>{s[a]=u}))),by(1),aE(s),Gl(a=>Oy(a)?Sc.E:Zf(a)))}(s,n,t,i).pipe((0,dt.U)(a=>(n._resolvedData=a,n.data=J0(n,e).resolve,r&&ww(r)&&(n.data[eg]=r.title),null)))}(a.route,i,n,t)),(0,Un.b)(()=>s++),by(1),(0,br.z)(a=>s===r.length?se(e):Sc.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,Un.b)({next:()=>f=!0,complete:()=>{f||(e.restoreHistory(u),this.cancelNavigationTransition(u,"",2))}}))}),(0,Un.b)(u=>{const f=new CR(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}))}),dT(a=>{const u=f=>{const m=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(f.routeConfig).pipe((0,Un.b)(v=>{f.component=v}),(0,dt.U)(()=>{})));for(const v of f.children)m.push(...u(v));return m};return Yr(u(a.targetSnapshot.root)).pipe(Ri(),Tt(1))}),dT(()=>this.afterPreactivation()),(0,dt.U)(a=>{const u=function MR(n,t,e){const i=Pc(n,t._root,e?e._root:void 0);return new IR(i,t)}(e.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:u}}),(0,Un.b)(a=>{e.currentUrlTree=a.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),e.routerState=a.targetRouterState,"deferred"===e.urlUpdateStrategy&&(a.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,a),e.browserUrlTree=a.urlAfterRedirects)}),((n,t,e)=>(0,dt.U)(i=>(new qE(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,e.routeReuseStrategy,a=>this.events.next(a)),Tt(1),(0,Un.b)({next:a=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new nh(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{r=!0}}),Bd(()=>{r||s||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Gl(a=>{if(s=!0,UE(a)){ow(a)||(e.navigated=!0,e.restoreHistory(i,!0));const u=new cg(i.id,this.urlSerializer.serialize(i.extractedUrl),a.message,a.cancellationCode);if(this.events.next(u),ow(a)){const f=e.urlHandlingStrategy.merge(a.url,e.rawUrlTree),m={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||Cg(i.source)};e.scheduleNavigation(f,ag,null,m,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{e.restoreHistory(i,!0);const u=new Ay(i.id,this.urlSerializer.serialize(i.extractedUrl),a,i.targetSnapshot??void 0);this.events.next(u);try{i.resolve(e.errorHandler(a))}catch(f){i.reject(f)}}return Sc.E}))}))}cancelNavigationTransition(e,i,r){const s=new cg(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(s),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Cg(n){return n!==ag}let nO=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===In);return i}getResolvedTitleForRoute(e){return e.data[eg]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(hT)},providedIn:"root"}),n})(),hT=(()=>{class n extends nO{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(sm))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ny=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(pT)},providedIn:"root"}),n})();class fT{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let pT=(()=>{class n extends fT{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const op=new o.OlP("",{providedIn:"root",factory:()=>({})});let mT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(iO)},providedIn:"root"}),n})(),iO=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function rO(n){throw n}function oO(n,t,e){return t.parse("/")}const sO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ly={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let $i=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,o.f3M)(o.c2e),this.isNgZoneEnabled=!1,this.options=(0,o.f3M)(op,{optional:!0})||{},this.errorHandler=this.options.errorHandler||rO,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||oO,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,o.f3M)(mT),this.routeReuseStrategy=(0,o.f3M)(Ny),this.urlCreationStrategy=(0,o.f3M)(AR),this.titleStrategy=(0,o.f3M)(nO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=$f((0,o.f3M)(xg,{optional:!0})??[]),this.navigationTransitions=(0,o.f3M)(Cw),this.urlSerializer=(0,o.f3M)(Mc),this.location=(0,o.f3M)(ve),this.isNgZoneEnabled=(0,o.f3M)(o.R0b)instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ju,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=FE(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId??0},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ag,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const s={replaceUrl:!0},a=r?.navigationId?r:null;if(r){const f={...r};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(s.state=f)}const u=this.parseUrl(e);this.scheduleNavigation(u,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){this.config=e.map(ep),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:a,queryParamsHandling:u,preserveFragment:f}=i,m=f?this.currentUrlTree.fragment:a;let v=null;switch(u){case"merge":v={...this.currentUrlTree.queryParams,...s};break;case"preserve":v=this.currentUrlTree.queryParams;break;default:v=s||null}return null!==v&&(v=this.removeEmptyProps(v)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,e,v,m??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=eh(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,ag,null,i)}navigate(e,i={skipLocationChange:!1}){return function h6(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new o.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...sO}:!1===i?{...Ly}:i,eh(e))return hE(this.currentUrlTree,e,r);const s=this.parseUrl(e);return hE(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(e,i,r,s,a){if(this.disposed)return Promise.resolve(!1);let u,f,m,v;return a?(u=a.resolve,f=a.reject,m=a.promise):m=new Promise((x,I)=>{u=x,f=I}),v="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:v,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:s,resolve:u,reject:f,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(x=>Promise.reject(x))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",a)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.go(r,"",s)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),By=(()=>{class n{constructor(e,i,r,s,a,u){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=a,this.locationStrategy=u,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new gt.x;const f=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===f||"area"===f,this.isAnchorElement?this.subscription=e.events.subscribe(m=>{m instanceof nh&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,o.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,o.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,o.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,s,a){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||s||a||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,o.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,e,i):r.removeAttribute(s,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36($i),o.Y36(nl),o.$8M("tabindex"),o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(pe))},n.\u0275dir=o.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&o.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[o.TTD]}),n})();class _T{}let lO=(()=>{class n{constructor(e,i,r,s,a){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(oi(e=>e instanceof nh),Ld(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,o.MMx)(s.providers,e,`Route: ${s.path}`));const a=s._injector??e,u=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(u,s.children??s._loadedRoutes))}return(0,ee.D)(r).pipe((0,Ef.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):se(null);const s=r.pipe((0,br.z)(a=>null===a?se(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??e,a.routes))));if(i.loadComponent&&!i._loadedComponent){const a=this.loader.loadComponent(i);return(0,ee.D)([s,a]).pipe((0,Ef.J)())}return s})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG($i),o.LFG(o.Sil),o.LFG(o.lqb),o.LFG(_T),o.LFG(uT))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Vy=new o.OlP("");let Dw=(()=>{class n{constructor(e,i,r,s,a={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof lg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof nh&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof K0&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new K0(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();var _a=(()=>((_a=_a||{})[_a.COMPLETE=0]="COMPLETE",_a[_a.FAILED=1]="FAILED",_a[_a.REDIRECTING=2]="REDIRECTING",_a))();const sp=!1;function ah(n,t){return{\u0275kind:n,\u0275providers:t}}const us=new o.OlP("",{providedIn:"root",factory:()=>!1});function wT(){const n=(0,o.f3M)(o.zs3);return t=>{const e=n.get(o.z2F);if(t!==e.components[0])return;const i=n.get($i),r=n.get(Uy);1===n.get(Hy)&&i.initialNavigation(),n.get(Sw,null,o.XFs.Optional)?.setUpPreloading(),n.get(Vy,null,o.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const Uy=new o.OlP(sp?"bootstrap done indicator":"",{factory:()=>new gt.x}),Hy=new o.OlP(sp?"initial navigation":"",{providedIn:"root",factory:()=>1});function CT(){let n=[];return n=sp?[{provide:o.Xts,multi:!0,useFactory:()=>{const t=(0,o.f3M)($i);return()=>t.events.subscribe(e=>{console.group?.(`Router Event: ${e.constructor.name}`),console.log(function OE(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(e)),console.log(e),console.groupEnd?.()})}}]:[],ah(1,n)}const Sw=new o.OlP(sp?"router preloader":"");function uO(n){return ah(0,[{provide:Sw,useExisting:lO},{provide:_T,useExisting:n}])}const Ns=!1,Ew=new o.OlP(Ns?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Tw=[ve,{provide:Mc,useClass:U0},$i,Xf,{provide:nl,useFactory:function vT(n){return n.routerState.root},deps:[$i]},uT,Ns?{provide:us,useValue:!0}:[]];function ST(){return new o.PXZ("Router",$i)}let ET=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[Tw,Ns&&i?.enableTracing?CT().\u0275providers:[],{provide:xg,multi:!0,useValue:e},{provide:Ew,useFactory:mO,deps:[[$i,new o.FiY,new o.tp0]]},{provide:op,useValue:i||{}},i?.useHash?{provide:pe,useClass:we}:{provide:pe,useClass:fe},{provide:Vy,useFactory:()=>{const n=(0,o.f3M)(Yc),t=(0,o.f3M)(o.R0b),e=(0,o.f3M)(op),i=(0,o.f3M)(Cw),r=(0,o.f3M)(Mc);return e.scrollOffset&&n.setOffset(e.scrollOffset),new Dw(r,i,n,t,e)}},i?.preloadingStrategy?uO(i.preloadingStrategy).\u0275providers:[],{provide:o.PXZ,multi:!0,useFactory:ST},i?.initialNavigation?gO(i):[],[{provide:Aw,useFactory:wT},{provide:o.tb,multi:!0,useExisting:Aw}]]}}static forChild(e){return{ngModule:n,providers:[{provide:xg,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ew,8))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[ih]}),n})();function mO(n){if(Ns&&n)throw new o.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function gO(n){return["disabled"===n.initialNavigation?ah(3,[{provide:o.ip1,multi:!0,useFactory:()=>{const t=(0,o.f3M)($i);return()=>{t.setUpLocationChangeListener()}}},{provide:Hy,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?ah(2,[{provide:Hy,useValue:0},{provide:o.ip1,multi:!0,deps:[o.zs3],useFactory:t=>{const e=t.get(J,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get($i),s=t.get(Uy);(function il(n,t){n.events.pipe(oi(e=>e instanceof nh||e instanceof cg||e instanceof Ay||e instanceof Rc),(0,dt.U)(e=>e instanceof nh||e instanceof Rc?_a.COMPLETE:e instanceof cg&&(0===e.code||1===e.code)?_a.REDIRECTING:_a.FAILED),oi(e=>e!==_a.REDIRECTING),Tt(1)).subscribe(()=>{t()})})(r,()=>{i(!0)}),t.get(Cw).afterPreactivation=()=>(i(!0),s.closed?se(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const Aw=new o.OlP(Ns?"Router Initializer":"");var Xn=H(4976);function Gy(){return(0,pi.e)((n,t)=>{let e,i=!1;n.subscribe((0,mi.x)(t,r=>{const s=e;e=r,i&&t.next([s,r]),i=!0}))})}var It,io=H(2011),zy=(H(9568),H(3942)),Ge=H(5861),ko=H(6881),ya=H(4859),va=H(1877),ne=H(2090),jy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ba={},Iw=Iw||{},En=jy||self;function kw(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function qy(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var Mw="closure_uid_"+(1e9*Math.random()>>>0),yO=0;function vO(n,t,e){return n.call.apply(n.bind,arguments)}function v6(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function zo(n,t,e){return(zo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?vO:v6).apply(null,arguments)}function Rw(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function po(n,t){function e(){}e.prototype=t.prototype,n.$=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.ac=function(i,r,s){for(var a=Array(arguments.length-2),u=2;u<arguments.length;u++)a[u-2]=arguments[u];return t.prototype[r].apply(i,a)}}function ch(){this.s=this.s,this.o=this.o}ch.prototype.s=!1,ch.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function AT(n){Object.prototype.hasOwnProperty.call(n,Mw)&&n[Mw]||(n[Mw]=++yO)}(this)},ch.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Dg=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function Ow(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function IT(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(kw(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let a=0;a<s;a++)n[r+a]=i[a]}else n.push(i)}}function mo(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}mo.prototype.h=function(){this.defaultPrevented=!0};var dh=function(){if(!En.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{En.addEventListener("test",()=>{},t),En.removeEventListener("test",()=>{},t)}catch{}return n}();function ap(n){return/^[\s\xa0]*$/.test(n)}function lp(){var n=En.navigator;return n&&(n=n.userAgent)?n:""}function wa(n){return-1!=lp().indexOf(n)}function Pw(n){return Pw[" "](n),n}Pw[" "]=function(){};var Bw,n,Nw=wa("Opera"),Nc=wa("Trident")||wa("MSIE"),wO=wa("Edge"),kT=wO||Nc,xO=wa("Gecko")&&!(-1!=lp().toLowerCase().indexOf("webkit")&&!wa("Edge"))&&!(wa("Trident")||wa("MSIE"))&&!wa("Edge"),b6=-1!=lp().toLowerCase().indexOf("webkit")&&!wa("Edge");function Lw(){var n=En.document;return n?n.documentMode:void 0}e:{var Vw="",Uw=(n=lp(),xO?/rv:([^\);]+)(\)|;)/.exec(n):wO?/Edge\/([\d\.]+)/.exec(n):Nc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):b6?/WebKit\/(\S+)/.exec(n):Nw?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Uw&&(Vw=Uw?Uw[1]:""),Nc){var Hw=Lw();if(null!=Hw&&Hw>parseFloat(Vw)){Bw=String(Hw);break e}}Bw=Vw}var MT=En.document&&Nc&&(Lw()||parseInt(Bw,10))||void 0;function Sg(n,t){if(mo.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(xO){e:{try{Pw(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:CO[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Sg.$.h.call(this)}}po(Sg,mo);var CO={2:"touch",3:"pen",4:"mouse"};Sg.prototype.h=function(){Sg.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var cp="closure_listenable_"+(1e6*Math.random()|0),zw=0;function w6(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.la=r,this.key=++zw,this.fa=this.ia=!1}function Eg(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Tg(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function RT(n){const t={};for(const e in n)t[e]=n[e];return t}const SO="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function EO(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<SO.length;s++)e=SO[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function $y(n){this.src=n,this.g={},this.h=0}function jw(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=Dg(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(Eg(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function qw(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.fa&&s.listener==t&&s.capture==!!e&&s.la==i)return r}return-1}$y.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var a=qw(n,t,i,r);return-1<a?(t=n[a],e||(t.ia=!1)):((t=new w6(t,this.src,s,!!i,r)).ia=e,n.push(t)),t};var OT="closure_lm_"+(1e6*Math.random()|0),PT={};function TO(n,t,e,i,r){if(i&&i.once)return kO(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)TO(n,t[s],e,i,r);return null}return e=c(e),n&&n[cp]?n.O(t,e,qy(i)?!!i.capture:!!i,r):AO(n,t,e,!1,i,r)}function AO(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var a=qy(r)?!!r.capture:!!r,u=NT(n);if(u||(n[OT]=u=new $y(n)),(e=u.add(t,e,i,a,s)).proxy)return e;if(i=function IO(){const t=x6;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)dh||(r=a),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(RO(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function kO(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)kO(n,t[s],e,i,r);return null}return e=c(e),n&&n[cp]?n.P(t,e,qy(i)?!!i.capture:!!i,r):AO(n,t,e,!0,i,r)}function MO(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)MO(n,t[s],e,i,r);else i=qy(i)?!!i.capture:!!i,e=c(e),n&&n[cp]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=qw(s=n.g[t],e,i,r))&&(Eg(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=NT(n))&&(t=n.g[t.toString()],n=-1,t&&(n=qw(t,e,i,r)),(e=-1<n?t[n]:null)&&FT(e))}function FT(n){if("number"!=typeof n&&n&&!n.fa){var t=n.src;if(t&&t[cp])jw(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(RO(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=NT(t))?(jw(e,n),0==e.h&&(e.src=null,t[OT]=null)):Eg(n)}}}function RO(n){return n in PT?PT[n]:PT[n]="on"+n}function x6(n,t){if(n.fa)n=!0;else{t=new Sg(t,this);var e=n.listener,i=n.la||n.src;n.ia&&FT(n),n=e.call(i,t)}return n}function NT(n){return(n=n[OT])instanceof $y?n:null}var l="__closure_events_fn_"+(1e9*Math.random()>>>0);function c(n){return"function"==typeof n?n:(n[l]||(n[l]=function(t){return n.handleEvent(t)}),n[l])}function d(){ch.call(this),this.i=new $y(this),this.S=this,this.J=null}function h(n,t){var e,i=n.J;if(i)for(e=[];i;i=i.J)e.push(i);if(n=n.S,i=t.type||t,"string"==typeof t)t=new mo(t,n);else if(t instanceof mo)t.target=t.target||n;else{var r=t;EO(t=new mo(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var a=t.g=e[s];r=p(a,i,!0,t)&&r}if(r=p(a=t.g=n,i,!0,t)&&r,r=p(a,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=p(a=t.g=e[s],i,!1,t)&&r}function p(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.fa&&a.capture==e){var u=a.listener,f=a.la||a.src;a.ia&&jw(n.i,a),r=!1!==u.call(f,i)&&r}}return r&&!i.defaultPrevented}po(d,ch),d.prototype[cp]=!0,d.prototype.removeEventListener=function(n,t,e,i){MO(this,n,t,e,i)},d.prototype.N=function(){if(d.$.N.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)Eg(e[i]);delete n.g[t],n.h--}}this.J=null},d.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},d.prototype.P=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var _=En.JSON.stringify;function S(){var n=_t;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var F=new class b{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new Y,n=>n.reset());class Y{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function de(n){var t=1;n=n.split(":");const e=[];for(;0<t&&n.length;)e.push(n.shift()),t--;return n.length&&e.push(n.join(":")),e}function Ee(n){En.setTimeout(()=>{throw n},0)}let Fe,Je=!1,_t=new class T{constructor(){this.h=this.g=null}add(t,e){const i=F.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}},Ct=()=>{const n=En.Promise.resolve(void 0);Fe=()=>{n.then(Ut)}};var Ut=()=>{for(var n;n=S();){try{n.h.call(n.g)}catch(e){Ee(e)}var t=F;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}Je=!1};function nn(n,t){d.call(this),this.h=n||1,this.g=t||En,this.j=zo(this.qb,this),this.l=Date.now()}function ct(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function yn(n,t,e){if("function"==typeof n)e&&(n=zo(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=zo(n.handleEvent,n)}return 2147483647<Number(t)?-1:En.setTimeout(n,t||0)}function Oi(n){n.g=yn(()=>{n.g=null,n.i&&(n.i=!1,Oi(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}po(nn,d),(It=nn.prototype).ga=!1,It.T=null,It.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),h(this,"tick"),this.ga&&(ct(this),this.start()))}},It.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},It.N=function(){nn.$.N.call(this),ct(this),delete this.g};class wr extends ch{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Oi(this)}N(){super.N(),this.g&&(En.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yy(n){ch.call(this),this.h=n,this.g={}}po(Yy,ch);var C6=[];function D6(n,t,e,i){Array.isArray(e)||(e&&(C6[0]=e.toString()),e=C6);for(var r=0;r<e.length;r++){var s=TO(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function S6(n){Tg(n.g,function(t,e){this.g.hasOwnProperty(e)&&FT(t)},n),n.g={}}function LT(){this.g=!0}function Wy(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function Q$(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<r.length;a++)r[a]=""}}}return _(e)}catch{return t}}(n,e)+(i?" "+i:"")})}Yy.prototype.N=function(){Yy.$.N.call(this),S6(this)},Yy.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},LT.prototype.Ea=function(){this.g=!1},LT.prototype.info=function(){};var Ag={},E6=null;function BT(){return E6=E6||new d}function T6(n){mo.call(this,Ag.Ta,n)}function Zw(n){const t=BT();h(t,new T6(t))}function A6(n,t){mo.call(this,Ag.STAT_EVENT,n),this.stat=t}function Ls(n){const t=BT();h(t,new A6(t,n))}function I6(n,t){mo.call(this,Ag.Ua,n),this.size=t}function $w(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return En.setTimeout(function(){n()},t)}Ag.Ta="serverreachability",po(T6,mo),Ag.STAT_EVENT="statevent",po(A6,mo),Ag.Ua="timingevent",po(I6,mo);var VT={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},k6={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function OO(){}function R6(){}OO.prototype.h=null;var NO,Yw={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function PO(){mo.call(this,"d")}function FO(){mo.call(this,"c")}function UT(){}function Ww(n,t,e,i){this.l=n,this.j=t,this.m=e,this.W=i||1,this.U=new Yy(this),this.P=J$,this.V=new nn(n=kT?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new O6}function O6(){this.i=null,this.g="",this.h=!1}po(PO,mo),po(FO,mo),po(UT,OO),UT.prototype.g=function(){return new XMLHttpRequest},UT.prototype.i=function(){return{}},NO=new UT;var J$=45e3,LO={},HT={};function BO(n,t,e){n.L=1,n.v=qT(uh(t)),n.s=e,n.S=!0,P6(n,null)}function P6(n,t){n.G=Date.now(),Kw(n),n.A=uh(n.v);var e=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),j6(e.i,"t",i),n.C=0,e=n.l.J,n.h=new O6,n.g=pV(n.l,e?t:null,!n.s),0<n.O&&(n.M=new wr(zo(n.Pa,n,n.g),n.O)),D6(n.U,n.g,"readystatechange",n.nb),t=n.I?RT(n.I):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,t)):(n.u="GET",n.g.ha(n.A,n.u,null,t)),Zw(),function Y$(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var a="",u=s.split("&"),f=0;f<u.length;f++){var m=u[f].split("=");if(1<m.length){var v=m[0];m=m[1];var x=v.split("_");a=2<=x.length&&"type"==x[1]?a+(v+"=")+m+"&":a+(v+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+a})}(n.j,n.u,n.A,n.m,n.W,n.s)}function F6(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function N6(n,t,e){let r,i=!0;for(;!n.J&&n.C<e.length;){if(r=X$(n,e),r==HT){4==t&&(n.o=4,Ls(14),i=!1),Wy(n.j,n.m,null,"[Incomplete Response]");break}if(r==LO){n.o=4,Ls(15),Wy(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Wy(n.j,n.m,r,null),VO(n,r)}F6(n)&&r!=HT&&r!=LO&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Ls(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.ba&&(n.ba=!0,(t=n.l).g==n&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+e.length),ZO(t),t.M=!0,Ls(11))):(Wy(n.j,n.m,e,"[Invalid Chunked Response]"),Ig(n),Qw(n))}function X$(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?HT:(e=Number(t.substring(e,i)),isNaN(e)?LO:(i+=1)+e>t.length?HT:(t=t.slice(i,i+e),n.C=i+e,t))}function Kw(n){n.Y=Date.now()+n.P,L6(n,n.P)}function L6(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=$w(zo(n.lb,n),t)}function GT(n){n.B&&(En.clearTimeout(n.B),n.B=null)}function Qw(n){0==n.l.H||n.J||dV(n.l,n)}function Ig(n){GT(n);var t=n.M;t&&"function"==typeof t.sa&&t.sa(),n.M=null,ct(n.V),S6(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.sa())}function VO(n,t){try{var e=n.l;if(0!=e.H&&(e.g==n||UO(e.i,n)))if(!n.K&&UO(e.i,n)&&3==e.H){try{var i=e.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<n.G))break e;JT(e),KT(e)}qO(e),Ls(18)}}else e.Fa=r[1],0<e.Fa-e.V&&37500>r[2]&&e.G&&0==e.A&&!e.v&&(e.v=$w(zo(e.ib,e),6e3));if(1>=$6(e.i)&&e.oa){try{e.oa()}catch{}e.oa=void 0}}else Mg(e,11)}else if((n.K||e.g==n)&&JT(e),!ap(t))for(r=e.Ja.g.parse(t),t=0;t<r.length;t++){let m=r[t];if(e.V=m[0],m=m[1],2==e.H)if("c"==m[0]){e.K=m[1],e.pa=m[2];const v=m[3];null!=v&&(e.ra=v,e.l.info("VER="+e.ra));const x=m[4];null!=x&&(e.Ga=x,e.l.info("SVER="+e.Ga));const I=m[5];null!=I&&"number"==typeof I&&0<I&&(e.L=i=1.5*I,e.l.info("backChannelRequestTimeoutMs_="+i)),i=e;const B=n.g;if(B){const q=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(q){var s=i.i;s.g||-1==q.indexOf("spdy")&&-1==q.indexOf("quic")&&-1==q.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(HO(s,s.h),s.h=null))}if(i.F){const ue=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;ue&&(i.Da=ue,Yi(i.I,i.F,ue))}}e.H=3,e.h&&e.h.Ba(),e.ca&&(e.S=Date.now()-n.G,e.l.info("Handshake RTT: "+e.S+"ms"));var a=n;if((i=e).wa=fV(i,i.J?i.pa:null,i.Y),a.K){Y6(i.i,a);var u=a,f=i.L;f&&u.setTimeout(f),u.B&&(GT(u),Kw(u)),i.g=a}else lV(i);0<e.j.length&&QT(e)}else"stop"!=m[0]&&"close"!=m[0]||Mg(e,7);else 3==e.H&&("stop"==m[0]||"close"==m[0]?"stop"==m[0]?Mg(e,7):jO(e):"noop"!=m[0]&&e.h&&e.h.Aa(m),e.A=0)}Zw()}catch{}}function B6(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(kw(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function tY(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(kw(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function eY(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(kw(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}(It=Ww.prototype).setTimeout=function(n){this.P=n},It.nb=function(n){n=n.target;const t=this.M;t&&3==Hd(n)?t.l():this.Pa(n)},It.Pa=function(n){try{if(n==this.g)e:{const v=Hd(this.g);var t=this.g.Ia();if(this.g.da(),!(3>v)&&(3!=v||kT||this.g&&(this.h.h||this.g.ja()||nV(this.g)))){this.J||4!=v||7==t||Zw(),GT(this);var e=this.g.da();this.ca=e;t:if(F6(this)){var i=nV(this.g);n="";var r=i.length,s=4==Hd(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ig(this),Qw(this);var a="";break t}this.h.i=new En.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=200==e,function W$(n,t,e,i,r,s,a){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+a})}(this.j,this.u,this.A,this.m,this.W,v,e),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,f=this.g;if((u=f.g?f.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ap(u)){var m=u;break t}}m=null}if(!(e=m)){this.i=!1,this.o=3,Ls(12),Ig(this),Qw(this);break e}Wy(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,VO(this,e)}this.S?(N6(this,v,a),kT&&this.i&&3==v&&(D6(this.U,this.V,"tick",this.mb),this.V.start())):(Wy(this.j,this.m,a,null),VO(this,a)),4==v&&Ig(this),this.i&&!this.J&&(4==v?dV(this.l,this):(this.i=!1,Kw(this)))}else(function vY(n){const t={};n=(n.g&&2<=Hd(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(ap(n[i]))continue;var e=de(n[i]);const r=e[0];if("string"!=typeof(e=e[1]))continue;e=e.trim();const s=t[r]||[];t[r]=s,s.push(e)}!function DO(n,t){for(const e in n)t.call(void 0,n[e],e,n)}(t,function(i){return i.join(", ")})})(this.g),400==e&&0<a.indexOf("Unknown SID")?(this.o=3,Ls(12)):(this.o=0,Ls(13)),Ig(this),Qw(this)}}}catch{}},It.mb=function(){if(this.g){var n=Hd(this.g),t=this.g.ja();this.C<t.length&&(GT(this),N6(this,n,t),this.i&&4!=n&&Kw(this))}},It.cancel=function(){this.J=!0,Ig(this)},It.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function K$(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(Zw(),Ls(17)),Ig(this),this.o=2,Qw(this)):L6(this,this.Y-n)};var V6=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kg(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof kg){this.h=n.h,zT(this,n.j),this.s=n.s,this.g=n.g,jT(this,n.m),this.l=n.l;var t=n.i,e=new ex;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),U6(this,e),this.o=n.o}else n&&(t=String(n).match(V6))?(this.h=!1,zT(this,t[1]||"",!0),this.s=Jw(t[2]||""),this.g=Jw(t[3]||"",!0),jT(this,t[4]),this.l=Jw(t[5]||"",!0),U6(this,t[6]||"",!0),this.o=Jw(t[7]||"")):(this.h=!1,this.i=new ex(null,this.h))}function uh(n){return new kg(n)}function zT(n,t,e){n.j=e?Jw(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function jT(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function U6(n,t,e){t instanceof ex?(n.i=t,function lY(n,t){t&&!n.j&&(dp(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(G6(this,i),j6(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=Xw(t,sY)),n.i=new ex(t,n.h))}function Yi(n,t,e){n.i.set(t,e)}function qT(n){return Yi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Jw(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Xw(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,iY),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function iY(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}kg.prototype.toString=function(){var n=[],t=this.j;t&&n.push(Xw(t,H6,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(Xw(t,H6,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(Xw(e,"/"==e.charAt(0)?oY:rY,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",Xw(e,aY)),n.join("")};var H6=/[#\/\?@]/g,rY=/[#\?:]/g,oY=/[#\?]/g,sY=/[#\?@]/g,aY=/#/g;function ex(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function dp(n){n.g||(n.g=new Map,n.h=0,n.i&&function nY(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function G6(n,t){dp(n),t=Ky(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function z6(n,t){return dp(n),t=Ky(n,t),n.g.has(t)}function j6(n,t,e){G6(n,t),0<e.length&&(n.i=null,n.g.set(Ky(n,t),Ow(e)),n.h+=e.length)}function Ky(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function q6(n){this.l=n||dY,n=En.PerformanceNavigationTiming?0<(n=En.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(En.g&&En.g.Ka&&En.g.Ka()&&En.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(It=ex.prototype).add=function(n,t){dp(this),this.i=null,n=Ky(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},It.forEach=function(n,t){dp(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},It.ta=function(){dp(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let s=0;s<r.length;s++)e.push(t[i])}return e},It.Z=function(n){dp(this);let t=[];if("string"==typeof n)z6(this,n)&&(t=t.concat(this.g.get(Ky(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},It.set=function(n,t){return dp(this),this.i=null,z6(this,n=Ky(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},It.get=function(n,t){return n&&0<(n=this.Z(n)).length?String(n[0]):t},It.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const s=encodeURIComponent(String(i)),a=this.Z(i);for(i=0;i<a.length;i++){var r=s;""!==a[i]&&(r+="="+encodeURIComponent(String(a[i]))),n.push(r)}}return this.i=n.join("&")};var dY=10;function Z6(n){return!!n.h||!!n.g&&n.g.size>=n.j}function $6(n){return n.h?1:n.g?n.g.size:0}function UO(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function HO(n,t){n.g?n.g.add(t):n.h=t}function Y6(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function W6(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.F);return t}return Ow(n.i)}q6.prototype.cancel=function(){if(this.i=W6(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var uY=class{stringify(n){return En.JSON.stringify(n,void 0)}parse(n){return En.JSON.parse(n,void 0)}};function hY(){this.g=new uY}function fY(n,t,e){const i=e||"";try{B6(n,function(r,s){let a=r;qy(r)&&(a=_(r)),t.push(i+s+"="+encodeURIComponent(a))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function ZT(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function tx(n){this.l=n.fc||null,this.j=n.ob||!1}function $T(n,t){d.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=GO,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}po(tx,OO),tx.prototype.g=function(){return new $T(this.l,this.j)},tx.prototype.i=function(n){return function(){return n}}({}),po($T,d);var GO=0;function K6(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function nx(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ix(n)}function ix(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(It=$T.prototype).open=function(n,t){if(this.readyState!=GO)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,ix(this)},It.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||En).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},It.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,nx(this)),this.readyState=GO},It.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ix(this)),this.g&&(this.readyState=3,ix(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof En.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;K6(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},It.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?nx(this):ix(this),3==this.readyState&&K6(this)}},It.Za=function(n){this.g&&(this.response=this.responseText=n,nx(this))},It.Ya=function(n){this.g&&(this.response=n,nx(this))},It.ka=function(){this.g&&nx(this)},It.setRequestHeader=function(n,t){this.v.append(n,t)},It.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},It.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty($T.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var mY=En.JSON.parse;function Or(n){d.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Q6,this.L=this.M=!1}po(Or,d);var Q6="",gY=/^https?$/i,_Y=["POST","PUT"];function J6(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,X6(n),WT(n)}function X6(n){n.F||(n.F=!0,h(n,"complete"),h(n,"error"))}function eV(n){if(n.h&&typeof Iw<"u"&&(!n.C[1]||4!=Hd(n)||2!=n.da()))if(n.v&&4==Hd(n))yn(n.La,0,n);else if(h(n,"readystatechange"),4==Hd(n)){n.h=!1;try{const a=n.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===a){var r=String(n.I).match(V6)[1]||null;!r&&En.self&&En.self.location&&(r=En.self.location.protocol.slice(0,-1)),i=!gY.test(r?r.toLowerCase():"")}e=i}if(e)h(n,"complete"),h(n,"success");else{n.m=6;try{var s=2<Hd(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",X6(n)}}finally{WT(n)}}}function WT(n,t){if(n.g){tV(n);const e=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,t||h(n,"ready");try{e.onreadystatechange=i}catch{}}}function tV(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(En.clearTimeout(n.A),n.A=null)}function Hd(n){return n.g?n.g.readyState:0}function nV(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case Q6:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function iV(n){let t="";return Tg(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function zO(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=iV(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Yi(n,t,e))}function rx(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function rV(n){this.Ga=0,this.j=[],this.l=new LT,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=rx("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=rx("baseRetryDelayMs",5e3,n),this.hb=rx("retryDelaySeedMs",1e4,n),this.eb=rx("forwardChannelMaxRetries",2,n),this.xa=rx("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new q6(n&&n.concurrentRequestLimit),this.Ja=new hY,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function jO(n){if(oV(n),3==n.H){var t=n.W++,e=uh(n.I);if(Yi(e,"SID",n.K),Yi(e,"RID",t),Yi(e,"TYPE","terminate"),ox(n,e),(t=new Ww(n,n.l,t)).L=2,t.v=qT(uh(e)),e=!1,En.navigator&&En.navigator.sendBeacon)try{e=En.navigator.sendBeacon(t.v.toString(),"")}catch{}!e&&En.Image&&((new Image).src=t.v,e=!0),e||(t.g=pV(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Kw(t)}hV(n)}function KT(n){n.g&&(ZO(n),n.g.cancel(),n.g=null)}function oV(n){KT(n),n.u&&(En.clearTimeout(n.u),n.u=null),JT(n),n.i.cancel(),n.m&&("number"==typeof n.m&&En.clearTimeout(n.m),n.m=null)}function QT(n){if(!Z6(n.i)&&!n.m){n.m=!0;var t=n.Na;Fe||Ct(),Je||(Fe(),Je=!0),_t.add(t,n),n.C=0}}function sV(n,t){var e;e=t?t.m:n.W++;const i=uh(n.I);Yi(i,"SID",n.K),Yi(i,"RID",e),Yi(i,"AID",n.V),ox(n,i),n.o&&n.s&&zO(i,n.o,n.s),e=new Ww(n,n.l,e,n.C+1),null===n.o&&(e.I=n.s),t&&(n.j=t.F.concat(n.j)),t=aV(n,e,1e3),e.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),HO(n.i,e),BO(e,i,t)}function ox(n,t){n.na&&Tg(n.na,function(e,i){Yi(t,i,e)}),n.h&&B6({},function(e,i){Yi(t,i,e)})}function aV(n,t,e){e=Math.min(n.j.length,e);var i=n.h?zo(n.h.Va,n.h,n):null;e:{var r=n.j;let s=-1;for(;;){const a=["count="+e];-1==s?0<e?(s=r[0].g,a.push("ofs="+s)):s=0:a.push("ofs="+s);let u=!0;for(let f=0;f<e;f++){let m=r[f].g;const v=r[f].map;if(m-=s,0>m)s=Math.max(0,r[f].g-100),u=!1;else try{fY(v,a,"req"+m+"_")}catch{i&&i(v)}}if(u){i=a.join("&");break e}}}return n=n.j.splice(0,e),t.F=n,i}function lV(n){if(!n.g&&!n.u){n.ba=1;var t=n.Ma;Fe||Ct(),Je||(Fe(),Je=!0),_t.add(t,n),n.A=0}}function qO(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=$w(zo(n.Ma,n),uV(n,n.A)),n.A++,0))}function ZO(n){null!=n.B&&(En.clearTimeout(n.B),n.B=null)}function cV(n){n.g=new Ww(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var t=uh(n.wa);Yi(t,"RID","rpc"),Yi(t,"SID",n.K),Yi(t,"AID",n.V),Yi(t,"CI",n.G?"0":"1"),!n.G&&n.qa&&Yi(t,"TO",n.qa),Yi(t,"TYPE","xmlhttp"),ox(n,t),n.o&&n.s&&zO(t,n.o,n.s),n.L&&n.g.setTimeout(n.L);var e=n.g;n=n.pa,e.L=1,e.v=qT(uh(t)),e.s=null,e.S=!0,P6(e,n)}function JT(n){null!=n.v&&(En.clearTimeout(n.v),n.v=null)}function dV(n,t){var e=null;if(n.g==t){JT(n),ZO(n),n.g=null;var i=2}else{if(!UO(n.i,t))return;e=t.F,Y6(n.i,t),i=1}if(0!=n.H)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.G;var r=n.C;h(i=BT(),new I6(i,e)),QT(n)}else lV(n);else if(3==(r=t.o)||0==r&&0<t.ca||!(1==i&&function bY(n,t){return!($6(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=t.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=$w(zo(n.Na,n,t),uV(n,n.C)),n.C++,0)))}(n,t)||2==i&&qO(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:Mg(n,5);break;case 4:Mg(n,10);break;case 3:Mg(n,6);break;default:Mg(n,2)}}function uV(n,t){let e=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(e*=2),e*t}function Mg(n,t){if(n.l.info("Error code "+t),2==t){var e=null;n.h&&(e=null);var i=zo(n.pb,n);e||(e=new kg("//www.google.com/images/cleardot.gif"),En.location&&"http"==En.location.protocol||zT(e,"https"),qT(e)),function pY(n,t){const e=new LT;if(En.Image){const i=new Image;i.onload=Rw(ZT,e,i,"TestLoadImage: loaded",!0,t),i.onerror=Rw(ZT,e,i,"TestLoadImage: error",!1,t),i.onabort=Rw(ZT,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=Rw(ZT,e,i,"TestLoadImage: timeout",!1,t),En.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Ls(2);n.H=0,n.h&&n.h.za(t),hV(n),oV(n)}function hV(n){if(n.H=0,n.ma=[],n.h){const t=W6(n.i);(0!=t.length||0!=n.j.length)&&(IT(n.ma,t),IT(n.ma,n.j),n.i.i.length=0,Ow(n.j),n.j.length=0),n.h.ya()}}function fV(n,t,e){var i=e instanceof kg?uh(e):new kg(e);if(""!=i.g)t&&(i.g=t+"."+i.g),jT(i,i.m);else{var r=En.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new kg(null);i&&zT(s,i),t&&(s.g=t),r&&jT(s,r),e&&(s.l=e),i=s}return t=n.Da,(e=n.F)&&t&&Yi(i,e,t),Yi(i,"VER",n.ra),ox(n,i),i}function pV(n,t,e){if(t&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Or(e&&n.Ha&&!n.va?new tx({ob:!0}):n.va)).Oa(n.J),t}function mV(){}function XT(){if(Nc&&!(10<=Number(MT)))throw Error("Environmental error: no available transport.")}function rl(n,t){d.call(this),this.g=new rV(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!ap(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ap(t)&&(this.g.F=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new Qy(this)}function gV(n){PO.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function _V(){FO.call(this),this.status=1}function Qy(n){this.g=n}function Lc(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function $O(n,t,e){e||(e=0);var i=Array(16);if("string"==typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(r=0;16>r;++r)i[r]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var s=n.g[3],a=(t=n.g[0])+(s^(e=n.g[1])&((r=n.g[2])^s))+i[0]+3614090360&4294967295;a=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=e+(a<<7&4294967295|a>>>25))+((a=s+(r^t&(e^r))+i[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=r+(e^s&(t^e))+i[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=e+(t^r&(s^t))+i[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^e&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(r^t&(e^r))+i[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=r+(e^s&(t^e))+i[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=e+(t^r&(s^t))+i[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^e&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(r^t&(e^r))+i[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=r+(e^s&(t^e))+i[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=e+(t^r&(s^t))+i[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^e&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(r^t&(e^r))+i[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=r+(e^s&(t^e))+i[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=e+(t^r&(s^t))+i[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(r^s&(e^r))+i[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(e^r&(t^e))+i[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^e&(s^t))+i[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=e+(s^t&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(r^s&(e^r))+i[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(e^r&(t^e))+i[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^e&(s^t))+i[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=e+(s^t&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(r^s&(e^r))+i[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(e^r&(t^e))+i[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^e&(s^t))+i[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=e+(s^t&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(r^s&(e^r))+i[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(e^r&(t^e))+i[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^e&(s^t))+i[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=e+(s^t&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(e^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^e^r)+i[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=r+(s^t^e)+i[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=e+(r^s^t)+i[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(e^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^e^r)+i[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=r+(s^t^e)+i[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=e+(r^s^t)+i[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(e^r^s)+i[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^e^r)+i[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=r+(s^t^e)+i[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=e+(r^s^t)+i[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(e^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^e^r)+i[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=r+(s^t^e)+i[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=e+(r^s^t)+i[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(r^(e|~s))+i[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(e^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=r+(t^(s|~e))+i[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=e+(s^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(r^(e|~s))+i[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(e^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=r+(t^(s|~e))+i[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=e+(s^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(r^(e|~s))+i[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(e^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=r+(t^(s|~e))+i[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=e+(s^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=e+((a=t+(r^(e|~s))+i[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(e^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((r=s+((a=r+(t^(s|~e))+i[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(r+(a<<21&4294967295|a>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+s&4294967295}function xi(n,t){this.h=t;for(var e=[],i=!0,r=n.length-1;0<=r;r--){var s=0|n[r];i&&s==t||(e[r]=s,i=!1)}this.g=e}(It=Or.prototype).Oa=function(n){this.M=n},It.ha=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():NO.g(),this.C=function M6(n){return n.h||(n.h=n.i())}(this.u?this.u:NO),this.g.onreadystatechange=zo(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(s){return void J6(this,s)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())e.set(s,i.get(s))}i=Array.from(e.keys()).find(s=>"content-type"==s.toLowerCase()),r=En.FormData&&n instanceof En.FormData,!(0<=Dg(_Y,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of e)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{tV(this),0<this.B&&((this.L=function yY(n){return Nc&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=zo(this.ua,this)):this.A=yn(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){J6(this,s)}},It.ua=function(){typeof Iw<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,h(this,"timeout"),this.abort(8))},It.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,h(this,"complete"),h(this,"abort"),WT(this))},It.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),WT(this,!0)),Or.$.N.call(this)},It.La=function(){this.s||(this.G||this.v||this.l?eV(this):this.kb())},It.kb=function(){eV(this)},It.isActive=function(){return!!this.g},It.da=function(){try{return 2<Hd(this)?this.g.status:-1}catch{return-1}},It.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},It.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),mY(t)}},It.Ia=function(){return this.m},It.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(It=rV.prototype).ra=8,It.H=1,It.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new Ww(this,this.l,n);let s=this.s;if(this.U&&(s?(s=RT(s),EO(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var t=0,e=0;e<this.j.length;e++){var i=this.j[e];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.j.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=aV(this,r,t),Yi(e=uh(this.I),"RID",n),Yi(e,"CVER",22),this.F&&Yi(e,"X-HTTP-Session-Id",this.F),ox(this,e),s&&(this.O?t="headers="+encodeURIComponent(String(iV(s)))+"&"+t:this.o&&zO(e,this.o,s)),HO(this.i,r),this.bb&&Yi(e,"TYPE","init"),this.P?(Yi(e,"$req",t),Yi(e,"SID","null"),r.aa=!0,BO(r,e,null)):BO(r,e,t),this.H=2}}else 3==this.H&&(n?sV(this,n):0==this.j.length||Z6(this.i)||sV(this))},It.Ma=function(){if(this.u=null,cV(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=$w(zo(this.jb,this),n)}},It.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ls(10),KT(this),cV(this))},It.ib=function(){null!=this.v&&(this.v=null,KT(this),qO(this),Ls(19))},It.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Ls(2)):(this.l.info("Failed to ping google.com"),Ls(1))},It.isActive=function(){return!!this.h&&this.h.isActive(this)},(It=mV.prototype).Ba=function(){},It.Aa=function(){},It.za=function(){},It.ya=function(){},It.isActive=function(){return!0},It.Va=function(){},XT.prototype.g=function(n,t){return new rl(n,t)},po(rl,d),rl.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,t=this.l,e=this.h||void 0;Ls(0),n.Y=t,n.na=e||{},n.G=n.aa,n.I=fV(n,null,n.Y),QT(n)},rl.prototype.close=function(){jO(this.g)},rl.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=_(n),n=e);t.j.push(new class{constructor(n,t){this.g=n,this.map=t}}(t.fb++,n)),3==t.H&&QT(t)},rl.prototype.N=function(){this.g.h=null,delete this.j,jO(this.g),delete this.g,rl.$.N.call(this)},po(gV,PO),po(_V,FO),po(Qy,mV),Qy.prototype.Ba=function(){h(this.g,"a")},Qy.prototype.Aa=function(n){h(this.g,new gV(n))},Qy.prototype.za=function(n){h(this.g,new _V)},Qy.prototype.ya=function(){h(this.g,"b")},po(Lc,function wY(){this.blockSize=-1}),Lc.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Lc.prototype.j=function(n,t){void 0===t&&(t=n.length);for(var e=t-this.blockSize,i=this.m,r=this.h,s=0;s<t;){if(0==r)for(;s<=e;)$O(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<t;)if(i[r++]=n.charCodeAt(s++),r==this.blockSize){$O(this,i),r=0;break}}else for(;s<t;)if(i[r++]=n[s++],r==this.blockSize){$O(this,i),r=0;break}}this.h=r,this.i+=t},Lc.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var e=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=255&e,e/=256;for(this.j(n),n=Array(16),t=e=0;4>t;++t)for(var i=0;32>i;i+=8)n[e++]=this.g[t]>>>i&255;return n};var xY={};function YO(n){return-128<=n&&128>n?function Fw(n,t){var e=xY;return Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=t(n)}(n,function(t){return new xi([0|t],0>t?-1:0)}):new xi([0|n],0>n?-1:0)}function Gd(n){if(isNaN(n)||!isFinite(n))return Jy;if(0>n)return jo(Gd(-n));for(var t=[],e=1,i=0;n>=e;i++)t[i]=n/e|0,e*=WO;return new xi(t,0)}var WO=4294967296,Jy=YO(0),KO=YO(1),vV=YO(16777216);function hh(n){if(0!=n.h)return!1;for(var t=0;t<n.g.length;t++)if(0!=n.g[t])return!1;return!0}function jl(n){return-1==n.h}function jo(n){for(var t=n.g.length,e=[],i=0;i<t;i++)e[i]=~n.g[i];return new xi(e,~n.h).add(KO)}function e1(n,t){return n.add(jo(t))}function t1(n,t){for(;(65535&n[t])!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function sx(n,t){this.g=n,this.h=t}function n1(n,t){if(hh(t))throw Error("division by zero");if(hh(n))return new sx(Jy,Jy);if(jl(n))return t=n1(jo(n),t),new sx(jo(t.g),jo(t.h));if(jl(t))return t=n1(n,jo(t)),new sx(jo(t.g),t.h);if(30<n.g.length){if(jl(n)||jl(t))throw Error("slowDivide_ only works with positive integers.");for(var e=KO,i=t;0>=i.X(n);)e=bV(e),i=bV(i);var r=Xy(e,1),s=Xy(i,1);for(i=Xy(i,2),e=Xy(e,2);!hh(i);){var a=s.add(i);0>=a.X(n)&&(r=r.add(e),s=a),i=Xy(i,1),e=Xy(e,1)}return t=e1(n,r.R(t)),new sx(r,t)}for(r=Jy;0<=n.X(t);){for(e=Math.max(1,Math.floor(n.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,i-48),a=(s=Gd(e)).R(t);jl(a)||0<a.X(n);)a=(s=Gd(e-=i)).R(t);hh(s)&&(s=KO),r=r.add(s),n=e1(n,a)}return new sx(r,n)}function bV(n){for(var t=n.g.length+1,e=[],i=0;i<t;i++)e[i]=n.D(i)<<1|n.D(i-1)>>>31;return new xi(e,n.h)}function Xy(n,t){var e=t>>5;t%=32;for(var i=n.g.length-e,r=[],s=0;s<i;s++)r[s]=0<t?n.D(s+e)>>>t|n.D(s+e+1)<<32-t:n.D(s+e);return new xi(r,n.h)}(It=xi.prototype).ea=function(){if(jl(this))return-jo(this).ea();for(var n=0,t=1,e=0;e<this.g.length;e++){var i=this.D(e);n+=(0<=i?i:WO+i)*t,t*=WO}return n},It.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(hh(this))return"0";if(jl(this))return"-"+jo(this).toString(n);for(var t=Gd(Math.pow(n,6)),e=this,i="";;){var r=n1(e,t).g,s=((0<(e=e1(e,r.R(t))).g.length?e.g[0]:e.h)>>>0).toString(n);if(hh(e=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},It.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},It.X=function(n){return jl(n=e1(this,n))?-1:hh(n)?0:1},It.abs=function(){return jl(this)?jo(this):this},It.add=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0,r=0;r<=t;r++){var s=i+(65535&this.D(r))+(65535&n.D(r)),a=(s>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=a>>>16,e[r]=(a&=65535)<<16|(s&=65535)}return new xi(e,-2147483648&e[e.length-1]?-1:0)},It.R=function(n){if(hh(this)||hh(n))return Jy;if(jl(this))return jl(n)?jo(this).R(jo(n)):jo(jo(this).R(n));if(jl(n))return jo(this.R(jo(n)));if(0>this.X(vV)&&0>n.X(vV))return Gd(this.ea()*n.ea());for(var t=this.g.length+n.g.length,e=[],i=0;i<2*t;i++)e[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var s=this.D(i)>>>16,a=65535&this.D(i),u=n.D(r)>>>16,f=65535&n.D(r);e[2*i+2*r]+=a*f,t1(e,2*i+2*r),e[2*i+2*r+1]+=s*f,t1(e,2*i+2*r+1),e[2*i+2*r+1]+=a*u,t1(e,2*i+2*r+1),e[2*i+2*r+2]+=s*u,t1(e,2*i+2*r+2)}for(i=0;i<t;i++)e[i]=e[2*i+1]<<16|e[2*i];for(i=t;i<2*t;i++)e[i]=0;return new xi(e,0)},It.gb=function(n){return n1(this,n).h},It.and=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)&n.D(i);return new xi(e,this.h&n.h)},It.or=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)|n.D(i);return new xi(e,this.h|n.h)},It.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)^n.D(i);return new xi(e,this.h^n.h)},XT.prototype.createWebChannel=XT.prototype.g,rl.prototype.send=rl.prototype.u,rl.prototype.open=rl.prototype.m,rl.prototype.close=rl.prototype.close,VT.NO_ERROR=0,VT.TIMEOUT=8,VT.HTTP_ERROR=6,k6.COMPLETE="complete",R6.EventType=Yw,Yw.OPEN="a",Yw.CLOSE="b",Yw.ERROR="c",Yw.MESSAGE="d",d.prototype.listen=d.prototype.O,Or.prototype.listenOnce=Or.prototype.P,Or.prototype.getLastError=Or.prototype.Sa,Or.prototype.getLastErrorCode=Or.prototype.Ia,Or.prototype.getStatus=Or.prototype.da,Or.prototype.getResponseJson=Or.prototype.Wa,Or.prototype.getResponseText=Or.prototype.ja,Or.prototype.send=Or.prototype.ha,Or.prototype.setWithCredentials=Or.prototype.Oa,Lc.prototype.digest=Lc.prototype.l,Lc.prototype.reset=Lc.prototype.reset,Lc.prototype.update=Lc.prototype.j,xi.prototype.add=xi.prototype.add,xi.prototype.multiply=xi.prototype.R,xi.prototype.modulo=xi.prototype.gb,xi.prototype.compare=xi.prototype.X,xi.prototype.toNumber=xi.prototype.ea,xi.prototype.toString=xi.prototype.toString,xi.prototype.getBits=xi.prototype.D,xi.fromNumber=Gd,xi.fromString=function yV(n,t){if(0==n.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==n.charAt(0))return jo(yV(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=Gd(Math.pow(t,8)),i=Jy,r=0;r<n.length;r+=8){var s=Math.min(8,n.length-r),a=parseInt(n.substring(r,r+s),t);8>s?(s=Gd(Math.pow(t,s)),i=i.R(s).add(Gd(a))):i=(i=i.R(e)).add(Gd(a))}return i};var CY=ba.createWebChannelTransport=function(){return new XT},DY=ba.getStatEventTarget=function(){return BT()},QO=ba.ErrorCode=VT,SY=ba.EventType=k6,EY=ba.Event=Ag,wV=ba.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},TY=ba.FetchXmlHttpFactory=tx,r1=ba.WebChannel=R6,AY=ba.XhrIo=Or,IY=ba.Md5=Lc,ev=ba.Integer=xi;const xV="@firebase/firestore";class Mo{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Mo.UNAUTHENTICATED=new Mo(null),Mo.GOOGLE_CREDENTIALS=new Mo("google-credentials-uid"),Mo.FIRST_PARTY=new Mo("first-party-uid"),Mo.MOCK_USER=new Mo("mock-user");let tv="9.23.0";const up=new va.Yd("@firebase/firestore");function JO(){return up.logLevel}function mt(n,...t){if(up.logLevel<=va.in.DEBUG){const e=t.map(XO);up.debug(`Firestore (${tv}): ${n}`,...e)}}function Wr(n,...t){if(up.logLevel<=va.in.ERROR){const e=t.map(XO);up.error(`Firestore (${tv}): ${n}`,...e)}}function ql(n,...t){if(up.logLevel<=va.in.WARN){const e=t.map(XO);up.warn(`Firestore (${tv}): ${n}`,...e)}}function XO(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Vt(n="Unexpected state"){const t=`FIRESTORE (${tv}) INTERNAL ASSERTION FAILED: `+n;throw Wr(t),new Error(t)}function Kt(n,t){n||Vt()}function kt(n,t){return n}const je={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends ne.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class go{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class CV{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class RY{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Mo.UNAUTHENTICATED))}shutdown(){}}class OY{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class PY{constructor(t){this.t=t,this.currentUser=Mo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=m=>this.i!==r?(r=this.i,e(m)):Promise.resolve();let a=new go;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new go,t.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const m=a;t.enqueueRetryable((0,Ge.Z)(function*(){yield m.promise,yield s(i.currentUser)}))},f=m=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.auth.addAuthTokenListener(this.o),u()};this.t.onInit(m=>f(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new go)}},0),u()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Kt("string"==typeof i.accessToken),new CV(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Kt(null===t||"string"==typeof t),new Mo(t)}}class FY{constructor(t,e,i){this.h=t,this.l=e,this.m=i,this.type="FirstParty",this.user=Mo.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class NY{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new FY(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Mo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class DV{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LY{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,e){const i=s=>{null!=s.error&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.T;return this.T=s.token,mt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?r(s):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Kt("string"==typeof e.token),this.T=e.token,new DV(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function BY(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class SV{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=BY(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+=t.charAt(r[s]%t.length))}return i}}function Tn(n,t){return n<t?-1:n>t?1:0}function nv(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function EV(n){return n+"\0"}class ar{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new at(je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new at(je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new at(je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new at(je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ar.fromMillis(Date.now())}static fromDate(t){return ar.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new ar(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Tn(this.nanoseconds,t.nanoseconds):Tn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Jt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Jt(t)}static min(){return new Jt(new ar(0,0))}static max(){return new Jt(new ar(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ax{constructor(t,e,i){void 0===e?e=0:e>t.length&&Vt(),void 0===i?i=t.length-e:i>t.length-e&&Vt(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===ax.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof ax?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),a=e.get(r);if(s<a)return-1;if(s>a)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class ei extends ax{construct(t,e,i){return new ei(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new at(je.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new ei(e)}static emptyPath(){return new ei([])}}const VY=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pr extends ax{construct(t,e,i){return new Pr(t,e,i)}static isValidIdentifier(t){return VY.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Pr(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new at(je.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let a=!1;for(;r<t.length;){const u=t[r];if("\\"===u){if(r+1===t.length)throw new at(je.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[r+1];if("\\"!==f&&"."!==f&&"`"!==f)throw new at(je.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,r+=2}else"`"===u?(a=!a,r++):"."!==u||a?(i+=u,r++):(s(),r++)}if(s(),a)throw new at(je.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Pr(e)}static emptyPath(){return new Pr([])}}class Et{constructor(t){this.path=t}static fromPath(t){return new Et(ei.fromString(t))}static fromName(t){return new Et(ei.fromString(t).popFirst(5))}static empty(){return new Et(ei.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===ei.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return ei.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Et(new ei(t.slice()))}}class o1{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function eP(n){return n.fields.find(t=>2===t.kind)}function Rg(n){return n.fields.filter(t=>2!==t.kind)}o1.UNKNOWN_ID=-1;class s1{constructor(t,e){this.fieldPath=t,this.kind=e}}class lx{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new lx(0,ol.min())}}function TV(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Jt.fromTimestamp(1e9===i?new ar(e+1,0):new ar(e,i));return new ol(r,Et.empty(),t)}function AV(n){return new ol(n.readTime,n.key,-1)}class ol{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new ol(Jt.min(),Et.empty(),-1)}static max(){return new ol(Jt.max(),Et.empty(),-1)}}function tP(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Et.comparator(n.documentKey,t.documentKey),0!==e?e:Tn(n.largestBatchId,t.largestBatchId))}const IV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function hp(n){return nP.apply(this,arguments)}function nP(){return nP=(0,Ge.Z)(function*(n){if(n.code!==je.FAILED_PRECONDITION||n.message!==IV)throw n;mt("LocalStore","Unexpectedly lost primary lease")}),nP.apply(this,arguments)}class Ve{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Vt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Ve((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Ve?e:Ve.resolve(e)}catch(e){return Ve.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Ve.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Ve.reject(e)}static resolve(t){return new Ve((e,i)=>{e(t)})}static reject(t){return new Ve((e,i)=>{i(t)})}static waitFor(t){return new Ve((e,i)=>{let r=0,s=0,a=!1;t.forEach(u=>{++r,u.next(()=>{++s,a&&s===r&&e()},f=>i(f))}),a=!0,s===r&&e()})}static or(t){let e=Ve.resolve(!1);for(const i of t)e=e.next(r=>r?Ve.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new Ve((i,r)=>{const s=t.length,a=new Array(s);let u=0;for(let f=0;f<s;f++){const m=f;e(t[m]).next(v=>{a[m]=v,++u,u===s&&i(a)},v=>r(v))}})}static doWhile(t,e){return new Ve((i,r)=>{const s=()=>{!0===t()?e().next(()=>{s()},r):i()};s()})}}class a1{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.v=new go,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{e.error?this.v.reject(new cx(t,e.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=iP(i.target.error);this.v.reject(new cx(t,r))}}static open(t,e,i,r){try{return new a1(e,t.transaction(r,i))}catch(s){throw new cx(e,s)}}get R(){return this.v.promise}abort(t){t&&this.v.reject(t),this.aborted||(mt("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new zY(e)}}class Bc{constructor(t,e,i){this.name=t,this.version=e,this.V=i,12.2===Bc.S((0,ne.z$)())&&Wr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return mt("SimpleDb","Removing database:",t),Og(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,ne.hl)())return!1;if(Bc.C())return!0;const t=(0,ne.z$)(),e=Bc.S(t),i=0<e&&e<10,r=Bc.N(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.k)}static M(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(t){var e=this;return(0,Ge.Z)(function*(){return e.db||(mt("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const s=indexedDB.open(e.name,e.version);s.onsuccess=a=>{i(a.target.result)},s.onblocked=()=>{r(new cx(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=a=>{const u=a.target.error;r("VersionError"===u.name?new at(je.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===u.name?new at(je.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u):new cx(t,u))},s.onupgradeneeded=a=>{mt("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',a.oldVersion),e.V.O(a.target.result,s.transaction,a.oldVersion,e.version).next(()=>{mt("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.F&&(e.db.onversionchange=i=>e.F(i)),e.db})()}B(t){this.F=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var s=this;return(0,Ge.Z)(function*(){const a="readonly"===e;let u=0;for(;;){++u;try{s.db=yield s.$(t);const f=a1.open(s.db,t,a?"readonly":"readwrite",i),m=r(f).next(v=>(f.P(),v)).catch(v=>(f.abort(v),Ve.reject(v))).toPromise();return m.catch(()=>{}),yield f.R,m}catch(f){const m=f,v="FirebaseError"!==m.name&&u<3;if(mt("SimpleDb","Transaction failed with error:",m.message,"Retrying:",v),s.close(),!v)return Promise.reject(m)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class GY{constructor(t){this.L=t,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(t){this.L=t}done(){this.q=!0}G(t){this.U=t}delete(){return Og(this.L.delete())}}class cx extends at{constructor(t,e){super(je.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function fp(n){return"IndexedDbTransactionError"===n.name}class zY{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(mt("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(mt("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Og(i)}add(t){return mt("SimpleDb","ADD",this.store.name,t,t),Og(this.store.add(t))}get(t){return Og(this.store.get(t)).next(e=>(void 0===e&&(e=null),mt("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return mt("SimpleDb","DELETE",this.store.name,t),Og(this.store.delete(t))}count(){return mt("SimpleDb","COUNT",this.store.name),Og(this.store.count())}j(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.W(r,(a,u)=>{s.push(u)}).next(()=>s)}{const r=this.store.getAll(i.range);return new Ve((s,a)=>{r.onerror=u=>{a(u.target.error)},r.onsuccess=u=>{s(u.target.result)}})}}H(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new Ve((r,s)=>{i.onerror=a=>{s(a.target.error)},i.onsuccess=a=>{r(a.target.result)}})}J(t,e){mt("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.Y=!1;const r=this.cursor(i);return this.W(r,(s,a,u)=>u.delete())}X(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.W(r,e)}Z(t){const e=this.cursor({});return new Ve((i,r)=>{e.onerror=s=>{const a=iP(s.target.error);r(a)},e.onsuccess=s=>{const a=s.target.result;a?t(a.primaryKey,a.value).next(u=>{u?a.continue():i()}):i()}})}W(t,e){const i=[];return new Ve((r,s)=>{t.onerror=a=>{s(a.target.error)},t.onsuccess=a=>{const u=a.target.result;if(!u)return void r();const f=new GY(u),m=e(u.primaryKey,u.value,f);if(m instanceof Ve){const v=m.catch(x=>(f.done(),Ve.reject(x)));i.push(v)}f.isDone?r():null===f.K?u.continue():u.continue(f.K)}}).next(()=>Ve.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.Y?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Og(n){return new Ve((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=iP(i.target.error);e(r)}})}let MV=!1;function iP(n){const t=Bc.S((0,ne.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new at("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return MV||(MV=!0,setTimeout(()=>{throw i},0)),i}}return n}class jY{constructor(t,e){this.asyncQueue=t,this.tt=e,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(t){var e=this;mt("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,Ge.Z)(function*(){e.task=null;try{mt("IndexBackiller",`Documents written: ${yield e.tt.nt()}`)}catch(i){fp(i)?mt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield hp(i)}yield e.et(6e4)}))}}class qY{constructor(t,e){this.localStore=t,this.persistence=e}nt(t=50){var e=this;return(0,Ge.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.st(i,t))})()}st(t,e){const i=new Set;let r=e,s=!0;return Ve.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(a=>{if(null!==a&&!i.has(a))return mt("IndexBackiller",`Processing collection: ${a}`),this.it(t,a,r).next(u=>{r-=u,i.add(a)});s=!1})).next(()=>e-r)}it(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(s=>{const a=s.changes;return this.localStore.indexManager.updateIndexEntries(t,a).next(()=>this.rt(r,s)).next(u=>(mt("IndexBackiller",`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(t,e,u))).next(()=>a.size)}))}rt(t,e){let i=t;return e.changes.forEach((r,s)=>{const a=AV(s);tP(a,i)>0&&(i=a)}),new ol(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let sl=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}return n.ct=-1,n})();function dx(n){return null==n}function ux(n){return 0===n&&1/n==-1/0}function RV(n){return"number"==typeof n&&Number.isInteger(n)&&!ux(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function hs(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=OV(t)),t=ZY(n.get(e),t);return OV(t)}function ZY(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=s}}return e}function OV(n){return n+"\x01\x01"}function zd(n){const t=n.length;if(Kt(t>=2),2===t)return Kt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),ei.emptyPath();const e=t-2,i=[];let r="";for(let s=0;s<t;){const a=n.indexOf("\x01",s);switch((a<0||a>e)&&Vt(),n.charAt(a+1)){case"\x01":const u=n.substring(s,a);let f;0===r.length?f=u:(r+=u,f=r,r=""),i.push(f);break;case"\x10":r+=n.substring(s,a),r+="\0";break;case"\x11":r+=n.substring(s,a+1);break;default:Vt()}s=a+2}return new ei(i)}const PV=["userId","batchId"];function l1(n,t){return[n,hs(t)]}function FV(n,t,e){return[n,hs(t),e]}const $Y={},YY=["prefixPath","collectionGroup","readTime","documentId"],WY=["prefixPath","collectionGroup","documentId"],KY=["collectionGroup","readTime","prefixPath","documentId"],QY=["canonicalId","targetId"],JY=["targetId","path"],XY=["path","targetId"],e7=["collectionId","parent"],t7=["indexId","uid"],n7=["uid","sequenceNumber"],i7=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],r7=["indexId","uid","orderedDocumentKey"],o7=["userId","collectionPath","documentId"],s7=["userId","collectionPath","largestBatchId"],a7=["userId","collectionGroup","largestBatchId"],NV=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],l7=[...NV,"documentOverlays"],LV=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],BV=LV,c7=[...BV,"indexConfiguration","indexState","indexEntries"];class rP extends kV{constructor(t,e){super(),this.ht=t,this.currentSequenceNumber=e}}function Ro(n,t){const e=kt(n);return Bc.M(e.ht,t)}function VV(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function pp(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function UV(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Ni{constructor(t,e){this.comparator=t,this.root=e||qo.EMPTY}insert(t,e){return new Ni(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,qo.BLACK,null,null))}remove(t){return new Ni(this.comparator,this.root.remove(t,this.comparator).copy(null,null,qo.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new c1(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new c1(this.root,t,this.comparator,!1)}getReverseIterator(){return new c1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new c1(this.root,t,this.comparator,!0)}}class c1{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class qo{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=i??qo.RED,this.left=r??qo.EMPTY,this.right=s??qo.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new qo(t??this.key,e??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return qo.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return qo.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,qo.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,qo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Vt();const t=this.left.check();if(t!==this.right.check())throw Vt();return t+(this.isRed()?0:1)}}qo.EMPTY=null,qo.RED=!0,qo.BLACK=!1,qo.EMPTY=new class{constructor(){this.size=0}get key(){throw Vt()}get value(){throw Vt()}get color(){throw Vt()}get left(){throw Vt()}get right(){throw Vt()}copy(n,t,e,i,r){return this}insert(n,t,e){return new qo(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wi{constructor(t){this.comparator=t,this.data=new Ni(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new HV(this.data.getIterator())}getIteratorFrom(t){return new HV(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Wi)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Wi(this.comparator);return e.data=t,e}}class HV{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function iv(n){return n.hasNext()?n.getNext():void 0}class xa{constructor(t){this.fields=t,t.sort(Pr.comparator)}static empty(){return new xa([])}unionWith(t){let e=new Wi(Pr.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new xa(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return nv(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class GV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class _o{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new GV("Invalid base64 string: "+r):r}}(t);return new _o(e)}static fromUint8Array(t){const e=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(t);return new _o(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Tn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}_o.EMPTY_BYTE_STRING=new _o("");const u7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mp(n){if(Kt(!!n),"string"==typeof n){let t=0;const e=u7.exec(n);if(Kt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Fr(n.seconds),nanos:Fr(n.nanos)}}function Fr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function fh(n){return"string"==typeof n?_o.fromBase64String(n):_o.fromUint8Array(n)}function d1(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function u1(n){const t=n.mapValue.fields.__previous_value__;return d1(t)?u1(t):t}function hx(n){const t=mp(n.mapValue.fields.__local_write_time__.timestampValue);return new ar(t.seconds,t.nanos)}class h7{constructor(t,e,i,r,s,a,u,f,m){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=m}}class gp{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new gp("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof gp&&t.projectId===this.projectId&&t.database===this.database}}const _p={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},h1={nullValue:"NULL_VALUE"};function yp(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?d1(n)?4:ZV(n)?9007199254740991:10:Vt()}function jd(n,t){if(n===t)return!0;const e=yp(n);if(e!==yp(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return hx(n).isEqual(hx(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=mp(i.timestampValue),a=mp(r.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,fh(n.bytesValue).isEqual(fh(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return Fr(i.geoPointValue.latitude)===Fr(r.geoPointValue.latitude)&&Fr(i.geoPointValue.longitude)===Fr(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Fr(i.integerValue)===Fr(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=Fr(i.doubleValue),a=Fr(r.doubleValue);return s===a?ux(s)===ux(a):isNaN(s)&&isNaN(a)}return!1}(n,t);case 9:return nv(n.arrayValue.values||[],t.arrayValue.values||[],jd);case 10:return function(i,r){const s=i.mapValue.fields||{},a=r.mapValue.fields||{};if(VV(s)!==VV(a))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(void 0===a[u]||!jd(s[u],a[u])))return!1;return!0}(n,t);default:return Vt()}var r}function fx(n,t){return void 0!==(n.values||[]).find(e=>jd(e,t))}function vp(n,t){if(n===t)return 0;const e=yp(n),i=yp(t);if(e!==i)return Tn(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Tn(n.booleanValue,t.booleanValue);case 2:return function(r,s){const a=Fr(r.integerValue||r.doubleValue),u=Fr(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,t);case 3:return zV(n.timestampValue,t.timestampValue);case 4:return zV(hx(n),hx(t));case 5:return Tn(n.stringValue,t.stringValue);case 6:return function(r,s){const a=fh(r),u=fh(s);return a.compareTo(u)}(n.bytesValue,t.bytesValue);case 7:return function(r,s){const a=r.split("/"),u=s.split("/");for(let f=0;f<a.length&&f<u.length;f++){const m=Tn(a[f],u[f]);if(0!==m)return m}return Tn(a.length,u.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,s){const a=Tn(Fr(r.latitude),Fr(s.latitude));return 0!==a?a:Tn(Fr(r.longitude),Fr(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,s){const a=r.values||[],u=s.values||[];for(let f=0;f<a.length&&f<u.length;++f){const m=vp(a[f],u[f]);if(m)return m}return Tn(a.length,u.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,s){if(r===_p.mapValue&&s===_p.mapValue)return 0;if(r===_p.mapValue)return 1;if(s===_p.mapValue)return-1;const a=r.fields||{},u=Object.keys(a),f=s.fields||{},m=Object.keys(f);u.sort(),m.sort();for(let v=0;v<u.length&&v<m.length;++v){const x=Tn(u[v],m[v]);if(0!==x)return x;const I=vp(a[u[v]],f[m[v]]);if(0!==I)return I}return Tn(u.length,m.length)}(n.mapValue,t.mapValue);default:throw Vt()}}function zV(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Tn(n,t);const e=mp(n),i=mp(t),r=Tn(e.seconds,i.seconds);return 0!==r?r:Tn(e.nanos,i.nanos)}function rv(n){return oP(n)}function oP(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=mp(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?fh(n.bytesValue).toBase64():"referenceValue"in n?Et.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const a of i.values||[])s?s=!1:r+=",",r+=oP(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",a=!0;for(const u of r)a?a=!1:s+=",",s+=`${u}:${oP(i.fields[u])}`;return s+"}"}(n.mapValue):Vt();var t}function Pg(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function sP(n){return!!n&&"integerValue"in n}function px(n){return!!n&&"arrayValue"in n}function jV(n){return!!n&&"nullValue"in n}function qV(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function p1(n){return!!n&&"mapValue"in n}function mx(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return pp(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=mx(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=mx(n.arrayValue.values[e]);return t}return Object.assign({},n)}function ZV(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function f7(n){return"nullValue"in n?h1:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Pg(gp.empty(),Et.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Vt()}function p7(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Pg(gp.empty(),Et.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?_p:Vt()}function $V(n,t){const e=vp(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function YV(n,t){const e=vp(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class Zo{constructor(t){this.value=t}static empty(){return new Zo({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!p1(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=mx(e)}setAll(t){let e=Pr.emptyPath(),i={},r=[];t.forEach((a,u)=>{if(!e.isImmediateParentOf(u)){const f=this.getFieldsMap(e);this.applyChanges(f,i,r),i={},r=[],e=u.popLast()}a?i[u.lastSegment()]=mx(a):r.push(u.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());p1(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return jd(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];p1(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){pp(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new Zo(mx(this.value))}}function WV(n){const t=[];return pp(n.fields,(e,i)=>{const r=new Pr([e]);if(p1(i)){const s=WV(i.mapValue).fields;if(0===s.length)t.push(r);else for(const a of s)t.push(r.child(a))}else t.push(r)}),new xa(t)}class Ki{constructor(t,e,i,r,s,a,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=u}static newInvalidDocument(t){return new Ki(t,0,Jt.min(),Jt.min(),Jt.min(),Zo.empty(),0)}static newFoundDocument(t,e,i,r){return new Ki(t,1,e,Jt.min(),i,r,0)}static newNoDocument(t,e){return new Ki(t,2,e,Jt.min(),Jt.min(),Zo.empty(),0)}static newUnknownDocument(t,e){return new Ki(t,3,e,Jt.min(),Jt.min(),Zo.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Jt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Zo.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Zo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Jt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Ki&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ki(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class bp{constructor(t,e){this.position=t,this.inclusive=e}}function KV(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],a=n.position[r];if(i=s.field.isKeyField()?Et.comparator(Et.fromName(a.referenceValue),e.key):vp(a,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function QV(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!jd(n.position[e],t.position[e]))return!1;return!0}class ov{constructor(t,e="asc"){this.field=t,this.dir=e}}function m7(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class JV{}class Yn extends JV{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new g7(t,e,i):"array-contains"===e?new v7(t,i):"in"===e?new rU(t,i):"not-in"===e?new b7(t,i):"array-contains-any"===e?new w7(t,i):new Yn(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new _7(t,i):new y7(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(vp(e,this.value)):null!==e&&yp(this.value)===yp(e)&&this.matchesComparison(vp(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Vt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ci extends JV{constructor(t,e){super(),this.filters=t,this.op=e,this.lt=null}static create(t,e){return new Ci(t,e)}matches(t){return sv(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.ft(e=>e.isInequality());return null!==t?t.field:null}ft(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function sv(n){return"and"===n.op}function aP(n){return"or"===n.op}function lP(n){return XV(n)&&sv(n)}function XV(n){for(const t of n.filters)if(t instanceof Ci)return!1;return!0}function cP(n){if(n instanceof Yn)return n.field.canonicalString()+n.op.toString()+rv(n.value);if(lP(n))return n.filters.map(t=>cP(t)).join(",");{const t=n.filters.map(e=>cP(e)).join(",");return`${n.op}(${t})`}}function eU(n,t){return n instanceof Yn?(e=n,(i=t)instanceof Yn&&e.op===i.op&&e.field.isEqual(i.field)&&jd(e.value,i.value)):n instanceof Ci?function(e,i){return i instanceof Ci&&e.op===i.op&&e.filters.length===i.filters.length&&e.filters.reduce((r,s,a)=>r&&eU(s,i.filters[a]),!0)}(n,t):void Vt();var e,i}function tU(n,t){const e=n.filters.concat(t);return Ci.create(e,n.op)}function nU(n){return n instanceof Yn?`${(t=n).field.canonicalString()} ${t.op} ${rv(t.value)}`:n instanceof Ci?function(t){return t.op.toString()+" {"+t.getFilters().map(nU).join(" ,")+"}"}(n):"Filter";var t}class g7 extends Yn{constructor(t,e,i){super(t,e,i),this.key=Et.fromName(i.referenceValue)}matches(t){const e=Et.comparator(t.key,this.key);return this.matchesComparison(e)}}class _7 extends Yn{constructor(t,e){super(t,"in",e),this.keys=iU(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class y7 extends Yn{constructor(t,e){super(t,"not-in",e),this.keys=iU(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function iU(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>Et.fromName(i.referenceValue))}class v7 extends Yn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return px(e)&&fx(e.arrayValue,this.value)}}class rU extends Yn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&fx(this.value.arrayValue,e)}}class b7 extends Yn{constructor(t,e){super(t,"not-in",e)}matches(t){if(fx(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!fx(this.value.arrayValue,e)}}class w7 extends Yn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!px(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>fx(this.value.arrayValue,i))}}class x7{constructor(t,e=null,i=[],r=[],s=null,a=null,u=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=u,this.dt=null}}function dP(n,t=null,e=[],i=[],r=null,s=null,a=null){return new x7(n,t,e,i,r,s,a)}function Fg(n){const t=kt(n);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>cP(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),dx(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>rv(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>rv(i)).join(",")),t.dt=e}return t.dt}function gx(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!m7(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!eU(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!QV(n.startAt,t.startAt)&&QV(n.endAt,t.endAt)}function m1(n){return Et.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function g1(n,t){return n.filters.filter(e=>e instanceof Yn&&e.field.isEqual(t))}function oU(n,t,e){let i=h1,r=!0;for(const s of g1(n,t)){let a=h1,u=!0;switch(s.op){case"<":case"<=":a=f7(s.value);break;case"==":case"in":case">=":a=s.value;break;case">":a=s.value,u=!1;break;case"!=":case"not-in":a=h1}$V({value:i,inclusive:r},{value:a,inclusive:u})<0&&(i=a,r=u)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const a=e.position[s];$V({value:i,inclusive:r},{value:a,inclusive:e.inclusive})<0&&(i=a,r=e.inclusive);break}return{value:i,inclusive:r}}function sU(n,t,e){let i=_p,r=!0;for(const s of g1(n,t)){let a=_p,u=!0;switch(s.op){case">=":case">":a=p7(s.value),u=!1;break;case"==":case"in":case"<=":a=s.value;break;case"<":a=s.value,u=!1;break;case"!=":case"not-in":a=_p}YV({value:i,inclusive:r},{value:a,inclusive:u})>0&&(i=a,r=u)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const a=e.position[s];YV({value:i,inclusive:r},{value:a,inclusive:e.inclusive})>0&&(i=a,r=e.inclusive);break}return{value:i,inclusive:r}}class ph{constructor(t,e=null,i=[],r=[],s=null,a="F",u=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=u,this.endAt=f,this.wt=null,this._t=null}}function aU(n,t,e,i,r,s,a,u){return new ph(n,t,e,i,r,s,a,u)}function av(n){return new ph(n)}function lU(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function uP(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function _1(n){for(const t of n.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function hP(n){return null!==n.collectionGroup}function Ng(n){const t=kt(n);if(null===t.wt){t.wt=[];const e=_1(t),i=uP(t);if(null!==e&&null===i)e.isKeyField()||t.wt.push(new ov(e)),t.wt.push(new ov(Pr.keyField(),"asc"));else{let r=!1;for(const s of t.explicitOrderBy)t.wt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new ov(Pr.keyField(),s))}}}return t.wt}function Bs(n){const t=kt(n);if(!t._t)if("F"===t.limitType)t._t=dP(t.path,t.collectionGroup,Ng(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of Ng(t))e.push(new ov(s.field,"desc"===s.dir?"asc":"desc"));const i=t.endAt?new bp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new bp(t.startAt.position,t.startAt.inclusive):null;t._t=dP(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t._t}function fP(n,t){t.getFirstInequalityField(),_1(n);const e=n.filters.concat([t]);return new ph(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function y1(n,t,e){return new ph(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function _x(n,t){return gx(Bs(n),Bs(t))&&n.limitType===t.limitType}function cU(n){return`${Fg(Bs(n))}|lt:${n.limitType}`}function pP(n){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(i=>nU(i)).join(", ")}]`),dx(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>rv(i)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>rv(i)).join(",")),`Target(${e})`}(Bs(n))}; limitType=${n.limitType})`}function yx(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):Et.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of Ng(e))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,s,a){const u=KV(r,s,a);return r.inclusive?u<=0:u<0}(e.startAt,Ng(e),i)||e.endAt&&!function(r,s,a){const u=KV(r,s,a);return r.inclusive?u>=0:u>0}(e.endAt,Ng(e),i)));var e,i}function dU(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function uU(n){return(t,e)=>{let i=!1;for(const r of Ng(n)){const s=C7(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function C7(n,t,e){const i=n.field.isKeyField()?Et.comparator(t.key,e.key):function(r,s,a){const u=s.data.field(r),f=a.data.field(r);return null!==u&&null!==f?vp(u,f):Vt()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Vt()}}class mh{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){pp(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return UV(this.inner)}size(){return this.innerSize}}const D7=new Ni(Et.comparator);function Ca(){return D7}const hU=new Ni(Et.comparator);function vx(...n){let t=hU;for(const e of n)t=t.insert(e.key,e);return t}function fU(n){let t=hU;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function qd(){return bx()}function pU(){return bx()}function bx(){return new mh(n=>n.toString(),(n,t)=>n.isEqual(t))}const S7=new Ni(Et.comparator),E7=new Wi(Et.comparator);function Nn(...n){let t=E7;for(const e of n)t=t.add(e);return t}const T7=new Wi(Tn);function mP(){return T7}function mU(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ux(t)?"-0":t}}function gU(n){return{integerValue:""+n}}function _U(n,t){return RV(t)?gU(t):mU(n,t)}class v1{constructor(){this._=void 0}}function A7(n,t,e){return n instanceof lv?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&d1(r)&&(r=u1(r)),r&&(s.fields.__previous_value__=r),{mapValue:s}}(e,t):n instanceof Lg?vU(n,t):n instanceof Bg?bU(n,t):function(i,r){const s=yU(i,r),a=wU(s)+wU(i.gt);return sP(s)&&sP(i.gt)?gU(a):mU(i.serializer,a)}(n,t)}function I7(n,t,e){return n instanceof Lg?vU(n,t):n instanceof Bg?bU(n,t):e}function yU(n,t){return n instanceof cv?sP(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class lv extends v1{}class Lg extends v1{constructor(t){super(),this.elements=t}}function vU(n,t){const e=xU(t);for(const i of n.elements)e.some(r=>jd(r,i))||e.push(i);return{arrayValue:{values:e}}}class Bg extends v1{constructor(t){super(),this.elements=t}}function bU(n,t){let e=xU(t);for(const i of n.elements)e=e.filter(r=>!jd(r,i));return{arrayValue:{values:e}}}class cv extends v1{constructor(t,e){super(),this.serializer=t,this.gt=e}}function wU(n){return Fr(n.integerValue||n.doubleValue)}function xU(n){return px(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class wx{constructor(t,e){this.field=t,this.transform=e}}class M7{constructor(t,e){this.version=t,this.transformResults=e}}class lr{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new lr}static exists(t){return new lr(void 0,t)}static updateTime(t){return new lr(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function b1(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class w1{}function CU(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new uv(n.key,lr.none()):new dv(n.key,n.data,lr.none());{const e=n.data,i=Zo.empty();let r=new Wi(Pr.comparator);for(let s of t.fields)if(!r.has(s)){let a=e.field(s);null===a&&s.length>1&&(s=s.popLast(),a=e.field(s)),null===a?i.delete(s):i.set(s,a),r=r.add(s)}return new gh(n.key,i,new xa(r.toArray()),lr.none())}}function R7(n,t,e){n instanceof dv?function(i,r,s){const a=i.value.clone(),u=EU(i.fieldTransforms,r,s.transformResults);a.setAll(u),r.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,t,e):n instanceof gh?function(i,r,s){if(!b1(i.precondition,r))return void r.convertToUnknownDocument(s.version);const a=EU(i.fieldTransforms,r,s.transformResults),u=r.data;u.setAll(SU(i)),u.setAll(a),r.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function xx(n,t,e,i){return n instanceof dv?function(r,s,a,u){if(!b1(r.precondition,s))return a;const f=r.value.clone(),m=TU(r.fieldTransforms,u,s);return f.setAll(m),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null}(n,t,e,i):n instanceof gh?function(r,s,a,u){if(!b1(r.precondition,s))return a;const f=TU(r.fieldTransforms,u,s),m=s.data;return m.setAll(SU(r)),m.setAll(f),s.convertToFoundDocument(s.version,m).setHasLocalMutations(),null===a?null:a.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(v=>v.field))}(n,t,e,i):(a=e,b1(n.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function O7(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=yU(i.transform,r||null);null!=s&&(null===e&&(e=Zo.empty()),e.set(i.field,s))}return e||null}function DU(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&nv(e,i,(r,s)=>function k7(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Lg&&i instanceof Lg||e instanceof Bg&&i instanceof Bg?nv(e.elements,i.elements,jd):e instanceof cv&&i instanceof cv?jd(e.gt,i.gt):e instanceof lv&&i instanceof lv);var e,i}(r,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class dv extends w1{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class gh extends w1{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function SU(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function EU(n,t,e){const i=new Map;Kt(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],a=s.transform,u=t.data.field(s.field);i.set(s.field,I7(a,u,e[r]))}return i}function TU(n,t,e){const i=new Map;for(const r of n){const s=r.transform,a=e.data.field(r.field);i.set(r.field,A7(s,a,t))}return i}class uv extends w1{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gP extends w1{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class _P{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&R7(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=xx(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=xx(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=pU();return this.mutations.forEach(r=>{const s=t.get(r.key),a=s.overlayedDocument;let u=this.applyToLocalView(a,s.mutatedFields);u=e.has(r.key)?null:u;const f=CU(a,u);null!==f&&i.set(r.key,f),a.isValidDocument()||a.convertToNoDocument(Jt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Nn())}isEqual(t){return this.batchId===t.batchId&&nv(this.mutations,t.mutations,(e,i)=>DU(e,i))&&nv(this.baseMutations,t.baseMutations,(e,i)=>DU(e,i))}}class yP{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Kt(t.mutations.length===i.length);let r=S7;const s=t.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new yP(t,e,i,r)}}class vP{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class F7{constructor(t,e){this.count=t,this.unchangedNames=e}}var ro,ti;function AU(n){switch(n){default:return Vt();case je.CANCELLED:case je.UNKNOWN:case je.DEADLINE_EXCEEDED:case je.RESOURCE_EXHAUSTED:case je.INTERNAL:case je.UNAVAILABLE:case je.UNAUTHENTICATED:return!1;case je.INVALID_ARGUMENT:case je.NOT_FOUND:case je.ALREADY_EXISTS:case je.PERMISSION_DENIED:case je.FAILED_PRECONDITION:case je.ABORTED:case je.OUT_OF_RANGE:case je.UNIMPLEMENTED:case je.DATA_LOSS:return!0}}function IU(n){if(void 0===n)return Wr("GRPC error has no .code"),je.UNKNOWN;switch(n){case ro.OK:return je.OK;case ro.CANCELLED:return je.CANCELLED;case ro.UNKNOWN:return je.UNKNOWN;case ro.DEADLINE_EXCEEDED:return je.DEADLINE_EXCEEDED;case ro.RESOURCE_EXHAUSTED:return je.RESOURCE_EXHAUSTED;case ro.INTERNAL:return je.INTERNAL;case ro.UNAVAILABLE:return je.UNAVAILABLE;case ro.UNAUTHENTICATED:return je.UNAUTHENTICATED;case ro.INVALID_ARGUMENT:return je.INVALID_ARGUMENT;case ro.NOT_FOUND:return je.NOT_FOUND;case ro.ALREADY_EXISTS:return je.ALREADY_EXISTS;case ro.PERMISSION_DENIED:return je.PERMISSION_DENIED;case ro.FAILED_PRECONDITION:return je.FAILED_PRECONDITION;case ro.ABORTED:return je.ABORTED;case ro.OUT_OF_RANGE:return je.OUT_OF_RANGE;case ro.UNIMPLEMENTED:return je.UNIMPLEMENTED;case ro.DATA_LOSS:return je.DATA_LOSS;default:return Vt()}}(ti=ro||(ro={}))[ti.OK=0]="OK",ti[ti.CANCELLED=1]="CANCELLED",ti[ti.UNKNOWN=2]="UNKNOWN",ti[ti.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ti[ti.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ti[ti.NOT_FOUND=5]="NOT_FOUND",ti[ti.ALREADY_EXISTS=6]="ALREADY_EXISTS",ti[ti.PERMISSION_DENIED=7]="PERMISSION_DENIED",ti[ti.UNAUTHENTICATED=16]="UNAUTHENTICATED",ti[ti.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ti[ti.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ti[ti.ABORTED=10]="ABORTED",ti[ti.OUT_OF_RANGE=11]="OUT_OF_RANGE",ti[ti.UNIMPLEMENTED=12]="UNIMPLEMENTED",ti[ti.INTERNAL=13]="INTERNAL",ti[ti.UNAVAILABLE=14]="UNAVAILABLE",ti[ti.DATA_LOSS=15]="DATA_LOSS";class bP{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return x1}static getOrCreateInstance(){return null===x1&&(x1=new bP),x1}onExistenceFilterMismatch(t){const e=Symbol();return this.onExistenceFilterMismatchCallbacks.set(e,t),()=>this.onExistenceFilterMismatchCallbacks.delete(e)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(e=>e(t))}}let x1=null;function kU(){return new TextEncoder}const N7=new ev([4294967295,4294967295],0);function MU(n){const t=kU().encode(n),e=new IY;return e.update(t),new Uint8Array(e.digest())}function RU(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new ev([e,i],0),new ev([r,s],0)]}class wP{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Cx(`Invalid padding: ${e}`);if(i<0)throw new Cx(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new Cx(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new Cx(`Invalid padding when bitmap length is 0: ${e}`);this.It=8*t.length-e,this.Tt=ev.fromNumber(this.It)}Et(t,e,i){let r=t.add(e.multiply(ev.fromNumber(i)));return 1===r.compare(N7)&&(r=new ev([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}vt(t){if(0===this.It)return!1;const e=MU(t),[i,r]=RU(e);for(let s=0;s<this.hashCount;s++){const a=this.Et(i,r,s);if(!this.At(a))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),a=new wP(s,r,e);return i.forEach(u=>a.insert(u)),a}insert(t){if(0===this.It)return;const e=MU(t),[i,r]=RU(e);for(let s=0;s<this.hashCount;s++){const a=this.Et(i,r,s);this.Rt(a)}}Rt(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class Cx extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Dx{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,Sx.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Dx(Jt.min(),r,new Ni(Tn),Ca(),Nn())}}class Sx{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Sx(i,e,Nn(),Nn(),Nn())}}class C1{constructor(t,e,i,r){this.Pt=t,this.removedTargetIds=e,this.key=i,this.bt=r}}class OU{constructor(t,e){this.targetId=t,this.Vt=e}}class PU{constructor(t,e,i=_o.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class FU{constructor(){this.St=0,this.Dt=LU(),this.Ct=_o.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(t){t.approximateByteSize()>0&&(this.Nt=!0,this.Ct=t)}Ot(){let t=Nn(),e=Nn(),i=Nn();return this.Dt.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Vt()}}),new Sx(this.Ct,this.xt,t,e,i)}Ft(){this.Nt=!1,this.Dt=LU()}Bt(t,e){this.Nt=!0,this.Dt=this.Dt.insert(t,e)}Lt(t){this.Nt=!0,this.Dt=this.Dt.remove(t)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class L7{constructor(t){this.Gt=t,this.Qt=new Map,this.jt=Ca(),this.zt=NU(),this.Wt=new Ni(Tn)}Ht(t){for(const e of t.Pt)t.bt&&t.bt.isFoundDocument()?this.Jt(e,t.bt):this.Yt(e,t.key,t.bt);for(const e of t.removedTargetIds)this.Yt(e,t.key,t.bt)}Xt(t){this.forEachTarget(t,e=>{const i=this.Zt(e);switch(t.state){case 0:this.te(e)&&i.$t(t.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(t.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(e);break;case 3:this.te(e)&&(i.Kt(),i.$t(t.resumeToken));break;case 4:this.te(e)&&(this.ee(e),i.$t(t.resumeToken));break;default:Vt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Qt.forEach((i,r)=>{this.te(r)&&e(r)})}ne(t){var e;const i=t.targetId,r=t.Vt.count,s=this.se(i);if(s){const a=s.target;if(m1(a))if(0===r){const u=new Et(a.path);this.Yt(i,u,Ki.newNoDocument(u,Jt.min()))}else Kt(1===r);else{const u=this.ie(i);if(u!==r){const f=this.re(t,u);0!==f&&(this.ee(i),this.Wt=this.Wt.insert(i,2===f?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(e=bP.instance)||void 0===e||e.notifyOnExistenceFilterMismatch(function(m,v,x){var I,B,q,ue,ge,Oe;const nt={localCacheCount:v,existenceFilterCount:x.count},it=x.unchangedNames;return it&&(nt.bloomFilter={applied:0===m,hashCount:null!==(I=it?.hashCount)&&void 0!==I?I:0,bitmapLength:null!==(ue=null===(q=null===(B=it?.bits)||void 0===B?void 0:B.bitmap)||void 0===q?void 0:q.length)&&void 0!==ue?ue:0,padding:null!==(Oe=null===(ge=it?.bits)||void 0===ge?void 0:ge.padding)&&void 0!==Oe?Oe:0}),nt}(f,u,t.Vt))}}}}re(t,e){const{unchangedNames:i,count:r}=t.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:s="",padding:a=0},hashCount:u=0}=i;let f,m;try{f=fh(s).toUint8Array()}catch(v){if(v instanceof GV)return ql("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw v}try{m=new wP(f,a,u)}catch(v){return ql(v instanceof Cx?"BloomFilter error: ":"Applying bloom filter failed: ",v),1}return 0===m.It?1:r!==e-this.oe(t.targetId,m)?2:0}oe(t,e){const i=this.Gt.getRemoteKeysForTarget(t);let r=0;return i.forEach(s=>{const a=this.Gt.ue(),u=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.vt(u)||(this.Yt(t,s,null),r++)}),r}ce(t){const e=new Map;this.Qt.forEach((s,a)=>{const u=this.se(a);if(u){if(s.current&&m1(u.target)){const f=new Et(u.target.path);null!==this.jt.get(f)||this.ae(a,f)||this.Yt(a,f,Ki.newNoDocument(f,t))}s.Mt&&(e.set(a,s.Ot()),s.Ft())}});let i=Nn();this.zt.forEach((s,a)=>{let u=!0;a.forEachWhile(f=>{const m=this.se(f);return!m||"TargetPurposeLimboResolution"===m.purpose||(u=!1,!1)}),u&&(i=i.add(s))}),this.jt.forEach((s,a)=>a.setReadTime(t));const r=new Dx(t,e,this.Wt,this.jt,i);return this.jt=Ca(),this.zt=NU(),this.Wt=new Ni(Tn),r}Jt(t,e){if(!this.te(t))return;const i=this.ae(t,e.key)?2:0;this.Zt(t).Bt(e.key,i),this.jt=this.jt.insert(e.key,e),this.zt=this.zt.insert(e.key,this.he(e.key).add(t))}Yt(t,e,i){if(!this.te(t))return;const r=this.Zt(t);this.ae(t,e)?r.Bt(e,1):r.Lt(e),this.zt=this.zt.insert(e,this.he(e).delete(t)),i&&(this.jt=this.jt.insert(e,i))}removeTarget(t){this.Qt.delete(t)}ie(t){const e=this.Zt(t).Ot();return this.Gt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}qt(t){this.Zt(t).qt()}Zt(t){let e=this.Qt.get(t);return e||(e=new FU,this.Qt.set(t,e)),e}he(t){let e=this.zt.get(t);return e||(e=new Wi(Tn),this.zt=this.zt.insert(t,e)),e}te(t){const e=null!==this.se(t);return e||mt("WatchChangeAggregator","Detected inactive target",t),e}se(t){const e=this.Qt.get(t);return e&&e.kt?null:this.Gt.le(t)}ee(t){this.Qt.set(t,new FU),this.Gt.getRemoteKeysForTarget(t).forEach(e=>{this.Yt(t,e,null)})}ae(t,e){return this.Gt.getRemoteKeysForTarget(t).has(e)}}function NU(){return new Ni(Et.comparator)}function LU(){return new Ni(Et.comparator)}const B7={asc:"ASCENDING",desc:"DESCENDING"},V7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},U7={and:"AND",or:"OR"};class H7{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function xP(n,t){return n.useProto3Json||dx(t)?t:{value:t}}function hv(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function BU(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function G7(n,t){return hv(n,t.toTimestamp())}function Kr(n){return Kt(!!n),Jt.fromTimestamp(function(t){const e=mp(t);return new ar(e.seconds,e.nanos)}(n))}function CP(n,t){return(e=n,new ei(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function VU(n){const t=ei.fromString(n);return Kt(YU(t)),t}function Ex(n,t){return CP(n.databaseId,t.path)}function Zd(n,t){const e=VU(t);if(e.get(1)!==n.databaseId.projectId)throw new at(je.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new at(je.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Et(HU(e))}function DP(n,t){return CP(n.databaseId,t)}function UU(n){const t=VU(n);return 4===t.length?ei.emptyPath():HU(t)}function Tx(n){return new ei(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function HU(n){return Kt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function GU(n,t,e){return{name:Ex(n,t),fields:e.value.mapValue.fields}}function zU(n,t,e){const i=Zd(n,t.name),r=Kr(t.updateTime),s=t.createTime?Kr(t.createTime):Jt.min(),a=new Zo({mapValue:{fields:t.fields}}),u=Ki.newFoundDocument(i,r,s,a);return e&&u.setHasCommittedMutations(),e?u.setHasCommittedMutations():u}function Ax(n,t){let e;if(t instanceof dv)e={update:GU(n,t.key,t.value)};else if(t instanceof uv)e={delete:Ex(n,t.key)};else if(t instanceof gh)e={update:GU(n,t.key,t.data),updateMask:K7(t.fieldMask)};else{if(!(t instanceof gP))return Vt();e={verify:Ex(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,s){const a=s.transform;if(a instanceof lv)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Lg)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Bg)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof cv)return{fieldPath:s.field.canonicalString(),increment:a.gt};throw Vt()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:G7(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:Vt()),e;var r}function SP(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?lr.updateTime(Kr(r.updateTime)):void 0!==r.exists?lr.exists(r.exists):lr.none():lr.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(s,a){let u=null;"setToServerValue"in a?(Kt("REQUEST_TIME"===a.setToServerValue),u=new lv):"appendMissingElements"in a?u=new Lg(a.appendMissingElements.values||[]):"removeAllFromArray"in a?u=new Bg(a.removeAllFromArray.values||[]):"increment"in a?u=new cv(s,a.increment):Vt();const f=Pr.fromServerFormat(a.fieldPath);return new wx(f,u)}(n,r)):[];var r;if(t.update){const r=Zd(n,t.update.name),s=new Zo({mapValue:{fields:t.update.fields}});if(t.updateMask){const a=new xa((t.updateMask.fieldPaths||[]).map(m=>Pr.fromServerFormat(m)));return new gh(r,s,a,e,i)}return new dv(r,s,e,i)}if(t.delete){const r=Zd(n,t.delete);return new uv(r,e)}if(t.verify){const r=Zd(n,t.verify);return new gP(r,e)}return Vt()}function jU(n,t){return{documents:[DP(n,t.path)]}}function EP(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=DP(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=DP(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(f){if(0!==f.length)return $U(Ci.create(f,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const s=function(f){if(0!==f.length)return f.map(m=>{return{field:wp((v=m).field),direction:$7(v.dir)};var v})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const a=xP(n,t.limit);var u,f;return null!==a&&(e.structuredQuery.limit=a),t.startAt&&(e.structuredQuery.startAt={before:(u=t.startAt).inclusive,values:u.position}),t.endAt&&(e.structuredQuery.endAt={before:!(f=t.endAt).inclusive,values:f.position}),e}function qU(n){let t=UU(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Kt(1===i);const v=e.from[0];v.allDescendants?r=v.collectionId:t=t.child(v.collectionId)}let s=[];e.where&&(s=function(v){const x=ZU(v);return x instanceof Ci&&lP(x)?x.getFilters():[x]}(e.where));let a=[];e.orderBy&&(a=e.orderBy.map(v=>{return new ov(fv((x=v).field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let u=null;e.limit&&(u=function(v){let x;return x="object"==typeof v?v.value:v,dx(x)?null:x}(e.limit));let f=null;var v;e.startAt&&(f=new bp((v=e.startAt).values||[],!!v.before));let m=null;return e.endAt&&(m=function(v){return new bp(v.values||[],!v.before)}(e.endAt)),aU(t,r,a,s,u,"F",f,m)}function ZU(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=fv(t.unaryFilter.field);return Yn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=fv(t.unaryFilter.field);return Yn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=fv(t.unaryFilter.field);return Yn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=fv(t.unaryFilter.field);return Yn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Vt()}}(n):void 0!==n.fieldFilter?Yn.create(fv((t=n).fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Vt()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Ci.create(t.compositeFilter.filters.map(e=>ZU(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Vt()}}(t.compositeFilter.op))}(n):Vt();var t}function $7(n){return B7[n]}function Y7(n){return V7[n]}function W7(n){return U7[n]}function wp(n){return{fieldPath:n.canonicalString()}}function fv(n){return Pr.fromServerFormat(n.fieldPath)}function $U(n){return n instanceof Yn?function(t){if("=="===t.op){if(qV(t.value))return{unaryFilter:{field:wp(t.field),op:"IS_NAN"}};if(jV(t.value))return{unaryFilter:{field:wp(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(qV(t.value))return{unaryFilter:{field:wp(t.field),op:"IS_NOT_NAN"}};if(jV(t.value))return{unaryFilter:{field:wp(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wp(t.field),op:Y7(t.op),value:t.value}}}(n):n instanceof Ci?function(t){const e=t.getFilters().map(i=>$U(i));return 1===e.length?e[0]:{compositeFilter:{op:W7(t.op),filters:e}}}(n):Vt()}function K7(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function YU(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class _h{constructor(t,e,i,r,s=Jt.min(),a=Jt.min(),u=_o.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(t){return new _h(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new _h(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new _h(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new _h(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class WU{constructor(t){this.fe=t}}function KU(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:D1(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:Ex(r=n.fe,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:hv(r,s.version.toTimestamp()),createTime:hv(r,s.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:Vg(t.version)};else{if(!t.isUnknownDocument())return Vt();i.unknownDocument={path:e.path.toArray(),version:Vg(t.version)}}var r,s;return i}function D1(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Vg(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Ug(n){const t=new ar(n.seconds,n.nanoseconds);return Jt.fromTimestamp(t)}function Hg(n,t){const e=(t.baseMutations||[]).map(s=>SP(n.fe,s));for(let s=0;s<t.mutations.length-1;++s)s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(t.mutations[s].updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s);const i=t.mutations.map(s=>SP(n.fe,s)),r=ar.fromMillis(t.localWriteTimeMs);return new _P(t.batchId,r,e,i)}function Ix(n){const t=Ug(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Ug(n.lastLimboFreeSnapshotVersion):Jt.min();let i;var r;return void 0!==n.query.documents?(Kt(1===(r=n.query).documents.length),i=Bs(av(UU(r.documents[0])))):i=Bs(qU(n.query)),new _h(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,_o.fromBase64String(n.resumeToken))}function QU(n,t){const e=Vg(t.snapshotVersion),i=Vg(t.lastLimboFreeSnapshotVersion);let r;r=m1(t.target)?jU(n.fe,t.target):EP(n.fe,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Fg(t.target),readTime:e,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function TP(n){const t=qU({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?y1(t,t.limit,"L"):t}function AP(n,t){return new vP(t.largestBatchId,SP(n.fe,t.overlayMutation))}function JU(n,t){const e=t.path.lastSegment();return[n,hs(t.path.popLast()),e]}function XU(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:Vg(i.readTime),documentKey:hs(i.documentKey.path),largestBatchId:i.largestBatchId}}class J7{getBundleMetadata(t,e){return e4(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Ug(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return e4(t).put({bundleId:(i=e).id,createTime:Vg(Kr(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return t4(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:TP(r.bundledQuery),readTime:Ug(r.readTime)};var r})}saveNamedQuery(t,e){return t4(t).put({name:(i=e).name,readTime:Vg(Kr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function e4(n){return Ro(n,"bundles")}function t4(n){return Ro(n,"namedQueries")}class S1{constructor(t,e){this.serializer=t,this.userId=e}static de(t,e){return new S1(t,e.uid||"")}getOverlay(t,e){return kx(t).get(JU(this.userId,e)).next(i=>i?AP(this.serializer,i):null)}getOverlays(t,e){const i=qd();return Ve.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((s,a)=>{const u=new vP(e,a);r.push(this.we(t,u))}),Ve.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(a=>r.add(hs(a.getCollectionPath())));const s=[];return r.forEach(a=>{const u=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,i+1],!1,!0);s.push(kx(t).J("collectionPathOverlayIndex",u))}),Ve.waitFor(s)}getOverlaysForCollection(t,e,i){const r=qd(),s=hs(e),a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return kx(t).j("collectionPathOverlayIndex",a).next(u=>{for(const f of u){const m=AP(this.serializer,f);r.set(m.getKey(),m)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const s=qd();let a;const u=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return kx(t).X({index:"collectionGroupOverlayIndex",range:u},(f,m,v)=>{const x=AP(this.serializer,m);s.size()<r||x.largestBatchId===a?(s.set(x.getKey(),x),a=x.largestBatchId):v.done()}).next(()=>s)}we(t,e){return kx(t).put(function(i,r,s){const[a,u,f]=JU(r,s.mutation.key);return{userId:r,collectionPath:u,documentId:f,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Ax(i.fe,s.mutation)}}(this.serializer,this.userId,e))}}function kx(n){return Ro(n,"documentOverlays")}class Gg{constructor(){}_e(t,e){this.me(t,e),e.ge()}me(t,e){if("nullValue"in t)this.ye(e,5);else if("booleanValue"in t)this.ye(e,10),e.pe(t.booleanValue?1:0);else if("integerValue"in t)this.ye(e,15),e.pe(Fr(t.integerValue));else if("doubleValue"in t){const i=Fr(t.doubleValue);isNaN(i)?this.ye(e,13):(this.ye(e,15),ux(i)?e.pe(0):e.pe(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ye(e,20),"string"==typeof i?e.Ie(i):(e.Ie(`${i.seconds||""}`),e.pe(i.nanos||0))}else if("stringValue"in t)this.Te(t.stringValue,e),this.Ee(e);else if("bytesValue"in t)this.ye(e,30),e.Ae(fh(t.bytesValue)),this.Ee(e);else if("referenceValue"in t)this.ve(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ye(e,45),e.pe(i.latitude||0),e.pe(i.longitude||0)}else"mapValue"in t?ZV(t)?this.ye(e,Number.MAX_SAFE_INTEGER):(this.Re(t.mapValue,e),this.Ee(e)):"arrayValue"in t?(this.Pe(t.arrayValue,e),this.Ee(e)):Vt()}Te(t,e){this.ye(e,25),this.be(t,e)}be(t,e){e.Ie(t)}Re(t,e){const i=t.fields||{};this.ye(e,55);for(const r of Object.keys(i))this.Te(r,e),this.me(i[r],e)}Pe(t,e){const i=t.values||[];this.ye(e,50);for(const r of i)this.me(r,e)}ve(t,e){this.ye(e,37),Et.fromName(t).path.forEach(i=>{this.ye(e,60),this.be(i,e)})}ye(t,e){t.pe(e)}Ee(t){t.pe(2)}}function X7(n){if(0===n)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function n4(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const s=X7(255&e[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(t/8)}Gg.Ve=new Gg;class e9{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.De(i.value),i=e.next();this.Ce()}xe(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ne(i.value),i=e.next();this.ke()}Me(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=e.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=e.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(t){const e=this.Fe(t),i=n4(e);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Le(t){const e=this.Fe(t),i=n4(e);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(t){this.Be(t.length),this.buffer.set(t,this.position),this.position+=t.length}Qe(){return this.buffer.slice(0,this.position)}Fe(t){const e=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}De(t){const e=255&t;0===e?(this.Ue(0),this.Ue(255)):255===e?(this.Ue(255),this.Ue(0)):this.Ue(e)}Ne(t){const e=255&t;0===e?(this.Ge(0),this.Ge(255)):255===e?(this.Ge(255),this.Ge(0)):this.Ge(t)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(t){this.Be(1),this.buffer[this.position++]=t}Ge(t){this.Be(1),this.buffer[this.position++]=~t}Be(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class t9{constructor(t){this.je=t}Ae(t){this.je.Se(t)}Ie(t){this.je.Me(t)}pe(t){this.je.Oe(t)}ge(){this.je.qe()}}class n9{constructor(t){this.je=t}Ae(t){this.je.xe(t)}Ie(t){this.je.$e(t)}pe(t){this.je.Le(t)}ge(){this.je.Ke()}}class Mx{constructor(){this.je=new e9,this.ze=new t9(this.je),this.We=new n9(this.je)}seed(t){this.je.seed(t)}He(t){return 0===t?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class zg{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Je(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new zg(this.indexId,this.documentKey,this.arrayValue,i)}}function xp(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=r4(n.arrayValue,t.arrayValue),0!==e?e:(e=r4(n.directionalValue,t.directionalValue),0!==e?e:Et.comparator(n.documentKey,t.documentKey)))}function r4(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class i9{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];for(const e of t.filters){const i=e;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(t){Kt(t.collectionGroup===this.collectionId);const e=eP(t);if(void 0!==e&&!this.en(e))return!1;const i=Rg(t);let r=new Set,s=0,a=0;for(;s<i.length&&this.en(i[s]);++s)r=r.add(i[s].fieldPath.canonicalString());if(s===i.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const u=i[s];if(!this.nn(this.Ze,u)||!this.sn(this.Ye[a++],u))return!1}++s}for(;s<i.length;++s)if(a>=this.Ye.length||!this.sn(this.Ye[a++],i[s]))return!1;return!0}en(t){for(const e of this.Xe)if(this.nn(e,t))return!0;return!1}nn(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}sn(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function o4(n){var t,e;if(Kt(n instanceof Yn||n instanceof Ci),n instanceof Yn){if(n instanceof rU){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(s=>Yn.create(n.field,"==",s)))||[];return Ci.create(r,"or")}return n}const i=n.filters.map(r=>o4(r));return Ci.create(i,n.op)}function r9(n){if(0===n.getFilters().length)return[];const t=MP(o4(n));return Kt(s4(t)),IP(t)||kP(t)?[t]:t.getFilters()}function IP(n){return n instanceof Yn}function kP(n){return n instanceof Ci&&lP(n)}function s4(n){return IP(n)||kP(n)||function(t){if(t instanceof Ci&&aP(t)){for(const e of t.getFilters())if(!IP(e)&&!kP(e))return!1;return!0}return!1}(n)}function MP(n){if(Kt(n instanceof Yn||n instanceof Ci),n instanceof Yn)return n;if(1===n.filters.length)return MP(n.filters[0]);const t=n.filters.map(i=>MP(i));let e=Ci.create(t,n.op);return e=E1(e),s4(e)?e:(Kt(e instanceof Ci),Kt(sv(e)),Kt(e.filters.length>1),e.filters.reduce((i,r)=>RP(i,r)))}function RP(n,t){let e;return Kt(n instanceof Yn||n instanceof Ci),Kt(t instanceof Yn||t instanceof Ci),e=n instanceof Yn?t instanceof Yn?Ci.create([n,t],"and"):a4(n,t):t instanceof Yn?a4(t,n):function(i,r){if(Kt(i.filters.length>0&&r.filters.length>0),sv(i)&&sv(r))return tU(i,r.getFilters());const s=aP(i)?i:r,a=aP(i)?r:i,u=s.filters.map(f=>RP(f,a));return Ci.create(u,"or")}(n,t),E1(e)}function a4(n,t){if(sv(t))return tU(t,n.getFilters());{const e=t.filters.map(i=>RP(n,i));return Ci.create(e,"or")}}function E1(n){if(Kt(n instanceof Yn||n instanceof Ci),n instanceof Yn)return n;const t=n.getFilters();if(1===t.length)return E1(t[0]);if(XV(n))return n;const e=t.map(r=>E1(r)),i=[];return e.forEach(r=>{r instanceof Yn?i.push(r):r instanceof Ci&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Ci.create(i,n.op)}class o9{constructor(){this.rn=new OP}addToCollectionParentIndex(t,e){return this.rn.add(e),Ve.resolve()}getCollectionParents(t,e){return Ve.resolve(this.rn.getEntries(e))}addFieldIndex(t,e){return Ve.resolve()}deleteFieldIndex(t,e){return Ve.resolve()}getDocumentsMatchingTarget(t,e){return Ve.resolve(null)}getIndexType(t,e){return Ve.resolve(0)}getFieldIndexes(t,e){return Ve.resolve([])}getNextCollectionGroupToUpdate(t){return Ve.resolve(null)}getMinOffset(t,e){return Ve.resolve(ol.min())}getMinOffsetFromCollectionGroup(t,e){return Ve.resolve(ol.min())}updateCollectionGroup(t,e,i){return Ve.resolve()}updateIndexEntries(t,e){return Ve.resolve()}}class OP{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Wi(ei.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Wi(ei.comparator)).toArray()}}const T1=new Uint8Array(0);class s9{constructor(t,e){this.user=t,this.databaseId=e,this.on=new OP,this.un=new mh(i=>Fg(i),(i,r)=>gx(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.on.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.on.add(e)});const s={collectionId:i,parent:hs(r)};return l4(t).put(s)}return Ve.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[EV(e),""],!1,!0);return l4(t).j(r).next(s=>{for(const a of s){if(a.collectionId!==e)break;i.push(zd(a.parent))}return i})}addFieldIndex(t,e){const i=A1(t),r={indexId:(a=e).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var a;delete r.indexId;const s=i.add(r);if(e.indexState){const a=Ox(t);return s.next(u=>{a.put(XU(u,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return s.next()}deleteFieldIndex(t,e){const i=A1(t),r=Ox(t),s=Rx(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=Rx(t);let r=!0;const s=new Map;return Ve.forEach(this.cn(e),a=>this.an(t,a).next(u=>{r&&(r=!!u),s.set(a,u)})).next(()=>{if(r){let a=Nn();const u=[];return Ve.forEach(s,(f,m)=>{var v;mt("IndexedDbIndexManager",`Using index ${v=f,`id=${v.indexId}|cg=${v.collectionGroup}|f=${v.fields.map(it=>`${it.fieldPath}:${it.kind}`).join(",")}`} to execute ${Fg(e)}`);const x=function(it,pt){const zt=eP(pt);if(void 0===zt)return null;for(const jt of g1(it,zt.fieldPath))switch(jt.op){case"array-contains-any":return jt.value.arrayValue.values||[];case"array-contains":return[jt.value]}return null}(m,f),I=function(it,pt){const zt=new Map;for(const jt of Rg(pt))for(const Bn of g1(it,jt.fieldPath))switch(Bn.op){case"==":case"in":zt.set(jt.fieldPath.canonicalString(),Bn.value);break;case"not-in":case"!=":return zt.set(jt.fieldPath.canonicalString(),Bn.value),Array.from(zt.values())}return null}(m,f),B=function(it,pt){const zt=[];let jt=!0;for(const Bn of Rg(pt)){const Kn=0===Bn.kind?oU(it,Bn.fieldPath,it.startAt):sU(it,Bn.fieldPath,it.startAt);zt.push(Kn.value),jt&&(jt=Kn.inclusive)}return new bp(zt,jt)}(m,f),q=function(it,pt){const zt=[];let jt=!0;for(const Bn of Rg(pt)){const Kn=0===Bn.kind?sU(it,Bn.fieldPath,it.endAt):oU(it,Bn.fieldPath,it.endAt);zt.push(Kn.value),jt&&(jt=Kn.inclusive)}return new bp(zt,jt)}(m,f),ue=this.hn(f,m,B),ge=this.hn(f,m,q),Oe=this.ln(f,m,I),nt=this.fn(f.indexId,x,ue,B.inclusive,ge,q.inclusive,Oe);return Ve.forEach(nt,it=>i.H(it,e.limit).next(pt=>{pt.forEach(zt=>{const jt=Et.fromSegments(zt.documentKey);a.has(jt)||(a=a.add(jt),u.push(jt))})}))}).next(()=>u)}return Ve.resolve(null)})}cn(t){let e=this.un.get(t);return e||(e=0===t.filters.length?[t]:r9(Ci.create(t.filters,"and")).map(i=>dP(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.un.set(t,e),e)}fn(t,e,i,r,s,a,u){const f=(null!=e?e.length:1)*Math.max(i.length,s.length),m=f/(null!=e?e.length:1),v=[];for(let x=0;x<f;++x){const I=e?this.dn(e[x/m]):T1,B=this.wn(t,I,i[x%m],r),q=this._n(t,I,s[x%m],a),ue=u.map(ge=>this.wn(t,I,ge,!0));v.push(...this.createRange(B,q,ue))}return v}wn(t,e,i,r){const s=new zg(t,Et.empty(),e,i);return r?s:s.Je()}_n(t,e,i,r){const s=new zg(t,Et.empty(),e,i);return r?s.Je():s}an(t,e){const i=new i9(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(s=>{let a=null;for(const u of s)i.tn(u)&&(!a||u.fields.length>a.fields.length)&&(a=u);return a})}getIndexType(t,e){let i=2;const r=this.cn(e);return Ve.forEach(r,s=>this.an(t,s).next(a=>{a?0!==i&&a.fields.length<function(u){let f=new Wi(Pr.comparator),m=!1;for(const v of u.filters)for(const x of v.getFlattenedFilters())x.field.isKeyField()||("array-contains"===x.op||"array-contains-any"===x.op?m=!0:f=f.add(x.field));for(const v of u.orderBy)v.field.isKeyField()||(f=f.add(v.field));return f.size+(m?1:0)}(s)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}mn(t,e){const i=new Mx;for(const r of Rg(t)){const s=e.data.field(r.fieldPath);if(null==s)return null;const a=i.He(r.kind);Gg.Ve._e(s,a)}return i.Qe()}dn(t){const e=new Mx;return Gg.Ve._e(t,e.He(0)),e.Qe()}gn(t,e){const i=new Mx;return Gg.Ve._e(Pg(this.databaseId,e),i.He(function(r){const s=Rg(r);return 0===s.length?0:s[s.length-1].kind}(t))),i.Qe()}ln(t,e,i){if(null===i)return[];let r=[];r.push(new Mx);let s=0;for(const a of Rg(t)){const u=i[s++];for(const f of r)if(this.yn(e,a.fieldPath)&&px(u))r=this.pn(r,a,u);else{const m=f.He(a.kind);Gg.Ve._e(u,m)}}return this.In(r)}hn(t,e,i){return this.ln(t,e,i.position)}In(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Qe();return e}pn(t,e,i){const r=[...t],s=[];for(const a of i.arrayValue.values||[])for(const u of r){const f=new Mx;f.seed(u.Qe()),Gg.Ve._e(a,f.He(e.kind)),s.push(f)}return s}yn(t,e){return!!t.filters.find(i=>i instanceof Yn&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=A1(t),r=Ox(t);return(e?i.j("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.j()).next(s=>{const a=[];return Ve.forEach(s,u=>r.get([u.indexId,this.uid]).next(f=>{a.push(function(m,v){const x=v?new lx(v.sequenceNumber,new ol(Ug(v.readTime),new Et(zd(v.documentKey)),v.largestBatchId)):lx.empty(),I=m.fields.map(([B,q])=>new s1(Pr.fromServerFormat(B),q));return new o1(m.indexId,m.collectionGroup,I,x)}(u,f))})).next(()=>a)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:Tn(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=A1(t),s=Ox(t);return this.Tn(t).next(a=>r.j("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(u=>Ve.forEach(u,f=>s.put(XU(f.indexId,this.user,a,i)))))}updateIndexEntries(t,e){const i=new Map;return Ve.forEach(e,(r,s)=>{const a=i.get(r.collectionGroup);return(a?Ve.resolve(a):this.getFieldIndexes(t,r.collectionGroup)).next(u=>(i.set(r.collectionGroup,u),Ve.forEach(u,f=>this.En(t,r,f).next(m=>{const v=this.An(s,f);return m.isEqual(v)?Ve.resolve():this.vn(t,s,f,m,v)}))))})}Rn(t,e,i,r){return Rx(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,e.key),documentKey:e.key.path.toArray()})}Pn(t,e,i,r){return Rx(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,e.key),e.key.path.toArray()])}En(t,e,i){const r=Rx(t);let s=new Wi(xp);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,e)])},(a,u)=>{s=s.add(new zg(i.indexId,e,u.arrayValue,u.directionalValue))}).next(()=>s)}An(t,e){let i=new Wi(xp);const r=this.mn(e,t);if(null==r)return i;const s=eP(e);if(null!=s){const a=t.data.field(s.fieldPath);if(px(a))for(const u of a.arrayValue.values||[])i=i.add(new zg(e.indexId,t.key,this.dn(u),r))}else i=i.add(new zg(e.indexId,t.key,T1,r));return i}vn(t,e,i,r,s){mt("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const a=[];return function(u,f,m,v,x){const I=u.getIterator(),B=f.getIterator();let q=iv(I),ue=iv(B);for(;q||ue;){let ge=!1,Oe=!1;if(q&&ue){const nt=m(q,ue);nt<0?Oe=!0:nt>0&&(ge=!0)}else null!=q?Oe=!0:ge=!0;ge?(v(ue),ue=iv(B)):Oe?(x(q),q=iv(I)):(q=iv(I),ue=iv(B))}}(r,s,xp,u=>{a.push(this.Rn(t,e,i,u))},u=>{a.push(this.Pn(t,e,i,u))}),Ve.waitFor(a)}Tn(t){let e=1;return Ox(t).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((a,u)=>xp(a,u)).filter((a,u,f)=>!u||0!==xp(a,f[u-1]));const r=[];r.push(t);for(const a of i){const u=xp(a,t),f=xp(a,e);if(0===u)r[0]=t.Je();else if(u>0&&f<0)r.push(a),r.push(a.Je());else if(f>0)break}r.push(e);const s=[];for(let a=0;a<r.length;a+=2){if(this.bn(r[a],r[a+1]))return[];s.push(IDBKeyRange.bound([r[a].indexId,this.uid,r[a].arrayValue,r[a].directionalValue,T1,[]],[r[a+1].indexId,this.uid,r[a+1].arrayValue,r[a+1].directionalValue,T1,[]]))}return s}bn(t,e){return xp(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(c4)}getMinOffset(t,e){return Ve.mapArray(this.cn(e),i=>this.an(t,i).next(r=>r||Vt())).next(c4)}}function l4(n){return Ro(n,"collectionParents")}function Rx(n){return Ro(n,"indexEntries")}function A1(n){return Ro(n,"indexConfiguration")}function Ox(n){return Ro(n,"indexState")}function c4(n){Kt(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;tP(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new ol(t.readTime,t.documentKey,e)}const d4={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class fs{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new fs(t,fs.DEFAULT_COLLECTION_PERCENTILE,fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function u4(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],a=IDBKeyRange.only(e.batchId);let u=0;const f=i.X({range:a},(v,x,I)=>(u++,I.delete()));s.push(f.next(()=>{Kt(1===u)}));const m=[];for(const v of e.mutations){const x=FV(t,v.key.path,e.batchId);s.push(r.delete(x)),m.push(v.key)}return Ve.waitFor(s).next(()=>m)}function I1(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw Vt();t=n.noDocument}return JSON.stringify(t).length}fs.DEFAULT_COLLECTION_PERCENTILE=10,fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fs.DEFAULT=new fs(41943040,fs.DEFAULT_COLLECTION_PERCENTILE,fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fs.DISABLED=new fs(-1,0,0);class k1{constructor(t,e,i,r){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(t,e,i,r){Kt(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new k1(s,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Cp(t).X({index:"userMutationsIndex",range:i},(r,s,a)=>{e=!1,a.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const s=pv(t),a=Cp(t);return a.add({}).next(u=>{Kt("number"==typeof u);const f=new _P(u,e,i,r),m=function(I,B,q){const ue=q.baseMutations.map(Oe=>Ax(I.fe,Oe)),ge=q.mutations.map(Oe=>Ax(I.fe,Oe));return{userId:B,batchId:q.batchId,localWriteTimeMs:q.localWriteTime.toMillis(),baseMutations:ue,mutations:ge}}(this.serializer,this.userId,f),v=[];let x=new Wi((I,B)=>Tn(I.canonicalString(),B.canonicalString()));for(const I of r){const B=FV(this.userId,I.key.path,u);x=x.add(I.key.path.popLast()),v.push(a.put(m)),v.push(s.put(B,$Y))}return x.forEach(I=>{v.push(this.indexManager.addToCollectionParentIndex(t,I))}),t.addOnCommittedListener(()=>{this.Vn[u]=f.keys()}),Ve.waitFor(v).next(()=>f)})}lookupMutationBatch(t,e){return Cp(t).get(e).next(i=>i?(Kt(i.userId===this.userId),Hg(this.serializer,i)):null)}Sn(t,e){return this.Vn[e]?Ve.resolve(this.Vn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.Vn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return Cp(t).X({index:"userMutationsIndex",range:r},(a,u,f)=>{u.userId===this.userId&&(Kt(u.batchId>=i),s=Hg(this.serializer,u)),f.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Cp(t).X({index:"userMutationsIndex",range:e,reverse:!0},(r,s,a)=>{i=s.batchId,a.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Cp(t).j("userMutationsIndex",e).next(i=>i.map(r=>Hg(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=l1(this.userId,e.path),r=IDBKeyRange.lowerBound(i),s=[];return pv(t).X({range:r},(a,u,f)=>{const[m,v,x]=a,I=zd(v);if(m===this.userId&&e.path.isEqual(I))return Cp(t).get(x).next(B=>{if(!B)throw Vt();Kt(B.userId===this.userId),s.push(Hg(this.serializer,B))});f.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Wi(Tn);const r=[];return e.forEach(s=>{const a=l1(this.userId,s.path),u=IDBKeyRange.lowerBound(a),f=pv(t).X({range:u},(m,v,x)=>{const[I,B,q]=m,ue=zd(B);I===this.userId&&s.path.isEqual(ue)?i=i.add(q):x.done()});r.push(f)}),Ve.waitFor(r).next(()=>this.Dn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,s=l1(this.userId,i),a=IDBKeyRange.lowerBound(s);let u=new Wi(Tn);return pv(t).X({range:a},(f,m,v)=>{const[x,I,B]=f,q=zd(I);x===this.userId&&i.isPrefixOf(q)?q.length===r&&(u=u.add(B)):v.done()}).next(()=>this.Dn(t,u))}Dn(t,e){const i=[],r=[];return e.forEach(s=>{r.push(Cp(t).get(s).next(a=>{if(null===a)throw Vt();Kt(a.userId===this.userId),i.push(Hg(this.serializer,a))}))}),Ve.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return u4(t.ht,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.Cn(e.batchId)}),Ve.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}Cn(t){delete this.Vn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return Ve.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return pv(t).X({range:i},(s,a,u)=>{if(s[0]===this.userId){const f=zd(s[1]);r.push(f)}else u.done()}).next(()=>{Kt(0===r.length)})})}containsKey(t,e){return h4(t,this.userId,e)}xn(t){return f4(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function h4(n,t,e){const i=l1(t,e.path),r=i[1],s=IDBKeyRange.lowerBound(i);let a=!1;return pv(n).X({range:s,Y:!0},(u,f,m)=>{const[v,x,I]=u;v===t&&x===r&&(a=!0),m.done()}).next(()=>a)}function Cp(n){return Ro(n,"mutations")}function pv(n){return Ro(n,"documentMutations")}function f4(n){return Ro(n,"mutationQueues")}class jg{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static kn(){return new jg(0)}static Mn(){return new jg(-1)}}class a9{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.$n(t).next(e=>{const i=new jg(e.highestTargetId);return e.highestTargetId=i.next(),this.On(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.$n(t).next(e=>Jt.fromTimestamp(new ar(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.$n(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.$n(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.On(t,r)))}addTargetData(t,e){return this.Fn(t,e).next(()=>this.$n(t).next(i=>(i.targetCount+=1,this.Bn(e,i),this.On(t,i))))}updateTargetData(t,e){return this.Fn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>mv(t).delete(e.targetId)).next(()=>this.$n(t)).next(i=>(Kt(i.targetCount>0),i.targetCount-=1,this.On(t,i)))}removeTargets(t,e,i){let r=0;const s=[];return mv(t).X((a,u)=>{const f=Ix(u);f.sequenceNumber<=e&&null===i.get(f.targetId)&&(r++,s.push(this.removeTargetData(t,f)))}).next(()=>Ve.waitFor(s)).next(()=>r)}forEachTarget(t,e){return mv(t).X((i,r)=>{const s=Ix(r);e(s)})}$n(t){return p4(t).get("targetGlobalKey").next(e=>(Kt(null!==e),e))}On(t,e){return p4(t).put("targetGlobalKey",e)}Fn(t,e){return mv(t).put(QU(this.serializer,e))}Bn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.$n(t).next(e=>e.targetCount)}getTargetData(t,e){const i=Fg(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return mv(t).X({range:r,index:"queryTargetsIndex"},(a,u,f)=>{const m=Ix(u);gx(e,m.target)&&(s=m,f.done())}).next(()=>s)}addMatchingKeys(t,e,i){const r=[],s=Dp(t);return e.forEach(a=>{const u=hs(a.path);r.push(s.put({targetId:i,path:u})),r.push(this.referenceDelegate.addReference(t,i,a))}),Ve.waitFor(r)}removeMatchingKeys(t,e,i){const r=Dp(t);return Ve.forEach(e,s=>{const a=hs(s.path);return Ve.waitFor([r.delete([i,a]),this.referenceDelegate.removeReference(t,i,s)])})}removeMatchingKeysForTargetId(t,e){const i=Dp(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=Dp(t);let s=Nn();return r.X({range:i,Y:!0},(a,u,f)=>{const m=zd(a[1]),v=new Et(m);s=s.add(v)}).next(()=>s)}containsKey(t,e){const i=hs(e.path),r=IDBKeyRange.bound([i],[EV(i)],!1,!0);let s=0;return Dp(t).X({index:"documentTargetsIndex",Y:!0,range:r},([a,u],f,m)=>{0!==a&&(s++,m.done())}).next(()=>s>0)}le(t,e){return mv(t).get(e).next(i=>i?Ix(i):null)}}function mv(n){return Ro(n,"targets")}function p4(n){return Ro(n,"targetGlobal")}function Dp(n){return Ro(n,"targetDocuments")}function m4([n,t],[e,i]){const r=Tn(n,e);return 0===r?Tn(t,i):r}class l9{constructor(t){this.Ln=t,this.buffer=new Wi(m4),this.qn=0}Un(){return++this.qn}Kn(t){const e=[t,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();m4(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class g4{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(t){var e=this;mt("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,Ge.Z)(function*(){e.Gn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){fp(i)?mt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield hp(i)}yield e.Qn(3e5)}))}}class c9{constructor(t,e){this.jn=t,this.params=e}calculateTargetCount(t,e){return this.jn.zn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return Ve.resolve(sl.ct);const i=new l9(e);return this.jn.forEachTarget(t,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(t,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.jn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.jn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),Ve.resolve(d4)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),d4):this.Hn(t,e))}getCacheSize(t){return this.jn.getCacheSize(t)}Hn(t,e){let i,r,s,a,u,f,m;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),r=this.params.maximumSequenceNumbersToCollect):r=x,a=Date.now(),this.nthSequenceNumber(t,r))).next(x=>(i=x,u=Date.now(),this.removeTargets(t,i,e))).next(x=>(s=x,f=Date.now(),this.removeOrphanedDocuments(t,i))).next(x=>(m=Date.now(),JO()<=va.in.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${a-v}ms\n\tDetermined least recently used ${r} in `+(u-a)+`ms\n\tRemoved ${s} targets in `+(f-u)+`ms\n\tRemoved ${x} documents in `+(m-f)+`ms\nTotal Duration: ${m-v}ms`),Ve.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:x})))}}class d9{constructor(t,e){this.db=t,this.garbageCollector=function _4(n,t){return new c9(n,t)}(this,e)}zn(t){const e=this.Jn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Jn(t){let e=0;return this.Wn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Wn(t,e){return this.Yn(t,(i,r)=>e(r))}addReference(t,e,i){return M1(t,i)}removeReference(t,e,i){return M1(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return M1(t,e)}Xn(t,e){return function(i,r){let s=!1;return f4(i).Z(a=>h4(i,a,r).next(u=>(u&&(s=!0),Ve.resolve(!u)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Yn(t,(a,u)=>{if(u<=e){const f=this.Xn(t,a).next(m=>{if(!m)return s++,i.getEntry(t,a).next(()=>(i.removeEntry(a,Jt.min()),Dp(t).delete([0,hs(a.path)])))});r.push(f)}}).next(()=>Ve.waitFor(r)).next(()=>i.apply(t)).next(()=>s)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return M1(t,e)}Yn(t,e){const i=Dp(t);let r,s=sl.ct;return i.X({index:"documentTargetsIndex"},([a,u],{path:f,sequenceNumber:m})=>{0===a?(s!==sl.ct&&e(new Et(zd(r)),s),s=m,r=f):s=sl.ct}).next(()=>{s!==sl.ct&&e(new Et(zd(r)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function M1(n,t){return Dp(n).put((i=n.currentSequenceNumber,{targetId:0,path:hs(t.path),sequenceNumber:i}));var i}class y4{constructor(){this.changes=new mh(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Ki.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?Ve.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class u9{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return qg(t).put(i)}removeEntry(t,e,i){return qg(t).delete(function(r,s){const a=r.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],D1(s),a[a.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Zn(t,i)))}getEntry(t,e){let i=Ki.newInvalidDocument(e);return qg(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(Px(e))},(r,s)=>{i=this.ts(e,s)}).next(()=>i)}es(t,e){let i={size:0,document:Ki.newInvalidDocument(e)};return qg(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(Px(e))},(r,s)=>{i={document:this.ts(e,s),size:I1(s)}}).next(()=>i)}getEntries(t,e){let i=Ca();return this.ns(t,e,(r,s)=>{const a=this.ts(r,s);i=i.insert(r,a)}).next(()=>i)}ss(t,e){let i=Ca(),r=new Ni(Et.comparator);return this.ns(t,e,(s,a)=>{const u=this.ts(s,a);i=i.insert(s,u),r=r.insert(s,I1(a))}).next(()=>({documents:i,rs:r}))}ns(t,e,i){if(e.isEmpty())return Ve.resolve();let r=new Wi(x4);e.forEach(f=>r=r.add(f));const s=IDBKeyRange.bound(Px(r.first()),Px(r.last())),a=r.getIterator();let u=a.getNext();return qg(t).X({index:"documentKeyIndex",range:s},(f,m,v)=>{const x=Et.fromSegments([...m.prefixPath,m.collectionGroup,m.documentId]);for(;u&&x4(u,x)<0;)i(u,null),u=a.getNext();u&&u.isEqual(x)&&(i(u,m),u=a.hasNext()?a.getNext():null),u?v.G(Px(u)):v.done()}).next(()=>{for(;u;)i(u,null),u=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(t,e,i,r){const s=e.path,a=[s.popLast().toArray(),s.lastSegment(),D1(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],u=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return qg(t).j(IDBKeyRange.bound(a,u,!0)).next(f=>{let m=Ca();for(const v of f){const x=this.ts(Et.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);x.isFoundDocument()&&(yx(e,x)||r.has(x.key))&&(m=m.insert(x.key,x))}return m})}getAllFromCollectionGroup(t,e,i,r){let s=Ca();const a=w4(e,i),u=w4(e,ol.max());return qg(t).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,u,!0)},(f,m,v)=>{const x=this.ts(Et.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);s=s.insert(x.key,x),s.size===r&&v.done()}).next(()=>s)}newChangeBuffer(t){return new h9(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return b4(t).get("remoteDocumentGlobalKey").next(e=>(Kt(!!e),e))}Zn(t,e){return b4(t).put("remoteDocumentGlobalKey",e)}ts(t,e){if(e){const i=function Q7(n,t){let e;if(t.document)e=zU(n.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=Et.fromSegments(t.noDocument.path),r=Ug(t.noDocument.readTime);e=Ki.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return Vt();{const i=Et.fromSegments(t.unknownDocument.path),r=Ug(t.unknownDocument.version);e=Ki.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new ar(i[0],i[1]);return Jt.fromTimestamp(r)}(t.readTime)),e}(this.serializer,e);if(!i.isNoDocument()||!i.version.isEqual(Jt.min()))return i}return Ki.newInvalidDocument(t)}}function v4(n){return new u9(n)}class h9 extends y4{constructor(t,e){super(),this.os=t,this.trackRemovals=e,this.us=new mh(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Wi((s,a)=>Tn(s.canonicalString(),a.canonicalString()));return this.changes.forEach((s,a)=>{const u=this.us.get(s);if(e.push(this.os.removeEntry(t,s,u.readTime)),a.isValidDocument()){const f=KU(this.os.serializer,a);r=r.add(s.path.popLast());const m=I1(f);i+=m-u.size,e.push(this.os.addEntry(t,s,f))}else if(i-=u.size,this.trackRemovals){const f=KU(this.os.serializer,a.convertToNoDocument(Jt.min()));e.push(this.os.addEntry(t,s,f))}}),r.forEach(s=>{e.push(this.os.indexManager.addToCollectionParentIndex(t,s))}),e.push(this.os.updateMetadata(t,i)),Ve.waitFor(e)}getFromCache(t,e){return this.os.es(t,e).next(i=>(this.us.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.os.ss(t,e).next(({documents:i,rs:r})=>(r.forEach((s,a)=>{this.us.set(s,{size:a,readTime:i.get(s).readTime})}),i))}}function b4(n){return Ro(n,"remoteDocumentGlobal")}function qg(n){return Ro(n,"remoteDocumentsV14")}function Px(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function w4(n,t){const e=t.documentKey.path.toArray();return[n,D1(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function x4(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let s=0;s<e.length-2&&s<i.length-2;++s)if(r=Tn(e[s],i[s]),r)return r;return r=Tn(e.length,i.length),r||(r=Tn(e[e.length-2],i[i.length-2]),r||Tn(e[e.length-1],i[i.length-1]))}class f9{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class C4{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&xx(i.mutation,r,xa.empty(),ar.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Nn()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Nn()){const r=qd();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let a=vx();return s.forEach((u,f)=>{a=a.insert(u,f.overlayedDocument)}),a}))}getOverlayedDocuments(t,e){const i=qd();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Nn()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((a,u)=>{e.set(a,u)})})}computeViews(t,e,i,r){let s=Ca();const a=bx(),u=bx();return e.forEach((f,m)=>{const v=i.get(m.key);r.has(m.key)&&(void 0===v||v.mutation instanceof gh)?s=s.insert(m.key,m):void 0!==v?(a.set(m.key,v.mutation.getFieldMask()),xx(v.mutation,m,v.mutation.getFieldMask(),ar.now())):a.set(m.key,xa.empty())}),this.recalculateAndSaveOverlays(t,s).next(f=>(f.forEach((m,v)=>a.set(m,v)),e.forEach((m,v)=>{var x;return u.set(m,new f9(v,null!==(x=a.get(m))&&void 0!==x?x:null))}),u))}recalculateAndSaveOverlays(t,e){const i=bx();let r=new Ni((a,u)=>a-u),s=Nn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(a=>{for(const u of a)u.keys().forEach(f=>{const m=e.get(f);if(null===m)return;let v=i.get(f)||xa.empty();v=u.applyToLocalView(m,v),i.set(f,v);const x=(r.get(u.batchId)||Nn()).add(f);r=r.insert(u.batchId,x)})}).next(()=>{const a=[],u=r.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),m=f.key,v=f.value,x=pU();v.forEach(I=>{if(!s.has(I)){const B=CU(e.get(I),i.get(I));null!==B&&x.set(I,B),s=s.add(I)}}),a.push(this.documentOverlayCache.saveOverlays(t,m,x))}return Ve.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return Et.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):hP(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):Ve.resolve(qd());let u=-1,f=s;return a.next(m=>Ve.forEach(m,(v,x)=>(u<x.largestBatchId&&(u=x.largestBatchId),s.get(v)?Ve.resolve():this.remoteDocumentCache.getEntry(t,v).next(I=>{f=f.insert(v,I)}))).next(()=>this.populateOverlays(t,m,s)).next(()=>this.computeViews(t,f,m,Nn())).next(v=>({batchId:u,changes:fU(v)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Et(e)).next(i=>{let r=vx();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let s=vx();return this.indexManager.getCollectionParents(t,r).next(a=>Ve.forEach(a,u=>{const f=(m=e,v=u.child(r),new ph(v,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt));var m,v;return this.getDocumentsMatchingCollectionQuery(t,f,i).next(m=>{m.forEach((v,x)=>{s=s.insert(v,x)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,r))).next(s=>{r.forEach((u,f)=>{const m=f.getKey();null===s.get(m)&&(s=s.insert(m,Ki.newInvalidDocument(m)))});let a=vx();return s.forEach((u,f)=>{const m=r.get(u);void 0!==m&&xx(m.mutation,f,xa.empty(),ar.now()),yx(e,f)&&(a=a.insert(u,f))}),a})}}class p9{constructor(t){this.serializer=t,this.cs=new Map,this.hs=new Map}getBundleMetadata(t,e){return Ve.resolve(this.cs.get(e))}saveBundleMetadata(t,e){var i;return this.cs.set(e.id,{id:(i=e).id,version:i.version,createTime:Kr(i.createTime)}),Ve.resolve()}getNamedQuery(t,e){return Ve.resolve(this.hs.get(e))}saveNamedQuery(t,e){return this.hs.set(e.name,{name:(i=e).name,query:TP(i.bundledQuery),readTime:Kr(i.readTime)}),Ve.resolve();var i}}class m9{constructor(){this.overlays=new Ni(Et.comparator),this.ls=new Map}getOverlay(t,e){return Ve.resolve(this.overlays.get(e))}getOverlays(t,e){const i=qd();return Ve.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.we(t,e,s)}),Ve.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(i)),Ve.resolve()}getOverlaysForCollection(t,e,i){const r=qd(),s=e.length+1,a=new Et(e.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){const f=u.getNext().value,m=f.getKey();if(!e.isPrefixOf(m.path))break;m.path.length===s&&f.largestBatchId>i&&r.set(f.getKey(),f)}return Ve.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new Ni((m,v)=>m-v);const a=this.overlays.getIterator();for(;a.hasNext();){const m=a.getNext().value;if(m.getKey().getCollectionGroup()===e&&m.largestBatchId>i){let v=s.get(m.largestBatchId);null===v&&(v=qd(),s=s.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const u=qd(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((m,v)=>u.set(m,v)),!(u.size()>=r)););return Ve.resolve(u)}we(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const a=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new vP(e,i));let s=this.ls.get(e);void 0===s&&(s=Nn(),this.ls.set(e,s)),this.ls.set(e,s.add(i.key))}}class PP{constructor(){this.fs=new Wi(Oo.ds),this.ws=new Wi(Oo._s)}isEmpty(){return this.fs.isEmpty()}addReference(t,e){const i=new Oo(t,e);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.ys(new Oo(t,e))}ps(t,e){t.forEach(i=>this.removeReference(i,e))}Is(t){const e=new Et(new ei([])),i=new Oo(e,t),r=new Oo(e,t+1),s=[];return this.ws.forEachInRange([i,r],a=>{this.ys(a),s.push(a.key)}),s}Ts(){this.fs.forEach(t=>this.ys(t))}ys(t){this.fs=this.fs.delete(t),this.ws=this.ws.delete(t)}Es(t){const e=new Et(new ei([])),i=new Oo(e,t),r=new Oo(e,t+1);let s=Nn();return this.ws.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(t){const e=new Oo(t,0),i=this.fs.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Oo{constructor(t,e){this.key=t,this.As=e}static ds(t,e){return Et.comparator(t.key,e.key)||Tn(t.As,e.As)}static _s(t,e){return Tn(t.As,e.As)||Et.comparator(t.key,e.key)}}class g9{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.vs=1,this.Rs=new Wi(Oo.ds)}checkEmpty(t){return Ve.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const s=this.vs;this.vs++;const a=new _P(s,e,i,r);this.mutationQueue.push(a);for(const u of r)this.Rs=this.Rs.add(new Oo(u.key,s)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast());return Ve.resolve(a)}lookupMutationBatch(t,e){return Ve.resolve(this.Ps(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.bs(e+1),s=r<0?0:r;return Ve.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ve.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(t){return Ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Oo(e,0),r=new Oo(e,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([i,r],a=>{const u=this.Ps(a.As);s.push(u)}),Ve.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Wi(Tn);return e.forEach(r=>{const s=new Oo(r,0),a=new Oo(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,a],u=>{i=i.add(u.As)})}),Ve.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;Et.isDocumentKey(s)||(s=s.child(""));const a=new Oo(new Et(s),0);let u=new Wi(Tn);return this.Rs.forEachWhile(f=>{const m=f.key.path;return!!i.isPrefixOf(m)&&(m.length===r&&(u=u.add(f.As)),!0)},a),Ve.resolve(this.Vs(u))}Vs(t){const e=[];return t.forEach(i=>{const r=this.Ps(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Kt(0===this.Ss(e.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return Ve.forEach(e.mutations,r=>{const s=new Oo(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Rs=i})}Cn(t){}containsKey(t,e){const i=new Oo(e,0),r=this.Rs.firstAfterOrEqual(i);return Ve.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return Ve.resolve()}Ss(t,e){return this.bs(t)}bs(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Ps(t){const e=this.bs(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class _9{constructor(t){this.Ds=t,this.docs=new Ni(Et.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,a=this.Ds(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Ve.resolve(i?i.document.mutableCopy():Ki.newInvalidDocument(e))}getEntries(t,e){let i=Ca();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Ki.newInvalidDocument(r))}),Ve.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let s=Ca();const a=e.path,u=new Et(a.child("")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:m,value:{document:v}}=f.getNext();if(!a.isPrefixOf(m.path))break;m.path.length>a.length+1||tP(AV(v),i)<=0||(r.has(v.key)||yx(e,v))&&(s=s.insert(v.key,v.mutableCopy()))}return Ve.resolve(s)}getAllFromCollectionGroup(t,e,i,r){Vt()}Cs(t,e){return Ve.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new y9(this)}getSize(t){return Ve.resolve(this.size)}}class y9 extends y4{constructor(t){super(),this.os=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.os.addEntry(t,r)):this.os.removeEntry(i)}),Ve.waitFor(e)}getFromCache(t,e){return this.os.getEntry(t,e)}getAllFromCache(t,e){return this.os.getEntries(t,e)}}class v9{constructor(t){this.persistence=t,this.xs=new mh(e=>Fg(e),gx),this.lastRemoteSnapshotVersion=Jt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new PP,this.targetCount=0,this.Ms=jg.kn()}forEachTarget(t,e){return this.xs.forEach((i,r)=>e(r)),Ve.resolve()}getLastRemoteSnapshotVersion(t){return Ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Ve.resolve(this.Ns)}allocateTargetId(t){return this.highestTargetId=this.Ms.next(),Ve.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Ns&&(this.Ns=e),Ve.resolve()}Fn(t){this.xs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ms=new jg(e),this.highestTargetId=e),t.sequenceNumber>this.Ns&&(this.Ns=t.sequenceNumber)}addTargetData(t,e){return this.Fn(e),this.targetCount+=1,Ve.resolve()}updateTargetData(t,e){return this.Fn(e),Ve.resolve()}removeTargetData(t,e){return this.xs.delete(e.target),this.ks.Is(e.targetId),this.targetCount-=1,Ve.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.xs.forEach((a,u)=>{u.sequenceNumber<=e&&null===i.get(u.targetId)&&(this.xs.delete(a),s.push(this.removeMatchingKeysForTargetId(t,u.targetId)),r++)}),Ve.waitFor(s).next(()=>r)}getTargetCount(t){return Ve.resolve(this.targetCount)}getTargetData(t,e){const i=this.xs.get(e)||null;return Ve.resolve(i)}addMatchingKeys(t,e,i){return this.ks.gs(e,i),Ve.resolve()}removeMatchingKeys(t,e,i){this.ks.ps(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(a=>{s.push(r.markPotentiallyOrphaned(t,a))}),Ve.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.ks.Is(e),Ve.resolve()}getMatchingKeysForTargetId(t,e){const i=this.ks.Es(e);return Ve.resolve(i)}containsKey(t,e){return Ve.resolve(this.ks.containsKey(e))}}class FP{constructor(t,e){this.$s={},this.overlays={},this.Os=new sl(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new v9(this),this.indexManager=new o9,this.remoteDocumentCache=new _9(i=>this.referenceDelegate.Ls(i)),this.serializer=new WU(e),this.qs=new p9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new m9,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.$s[t.toKey()];return i||(i=new g9(e,this.referenceDelegate),this.$s[t.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(t,e,i){mt("MemoryPersistence","Starting transaction:",t);const r=new b9(this.Os.next());return this.referenceDelegate.Us(),i(r).next(s=>this.referenceDelegate.Ks(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gs(t,e){return Ve.or(Object.values(this.$s).map(i=>()=>i.containsKey(t,e)))}}class b9 extends kV{constructor(t){super(),this.currentSequenceNumber=t}}class R1{constructor(t){this.persistence=t,this.Qs=new PP,this.js=null}static zs(t){return new R1(t)}get Ws(){if(this.js)return this.js;throw Vt()}addReference(t,e,i){return this.Qs.addReference(i,e),this.Ws.delete(i.toString()),Ve.resolve()}removeReference(t,e,i){return this.Qs.removeReference(i,e),this.Ws.add(i.toString()),Ve.resolve()}markPotentiallyOrphaned(t,e){return this.Ws.add(e.toString()),Ve.resolve()}removeTarget(t,e){this.Qs.Is(e.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Ws.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}Us(){this.js=new Set}Ks(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ve.forEach(this.Ws,i=>{const r=Et.fromPath(i);return this.Hs(t,r).next(s=>{s||e.removeEntry(r,Jt.min())})}).next(()=>(this.js=null,e.apply(t)))}updateLimboDocument(t,e){return this.Hs(t,e).next(i=>{i?this.Ws.delete(e.toString()):this.Ws.add(e.toString())})}Ls(t){return 0}Hs(t,e){return Ve.or([()=>Ve.resolve(this.Qs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Gs(t,e)])}}class w9{constructor(t){this.serializer=t}O(t,e,i,r){const s=new a1("createOrUpgrade",e);var u;i<1&&r>=1&&(t.createObjectStore("owner"),(u=t).createObjectStore("mutationQueues",{keyPath:"userId"}),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",PV,{unique:!0}),u.createObjectStore("documentMutations"),D4(t),function(u){u.createObjectStore("remoteDocuments")}(t));let a=Ve.resolve();return i<3&&r>=3&&(0!==i&&(function(u){u.deleteObjectStore("targetDocuments"),u.deleteObjectStore("targets"),u.deleteObjectStore("targetGlobal")}(t),D4(t)),a=a.next(()=>function(u){const f=u.store("targetGlobal"),m={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Jt.min().toTimestamp(),targetCount:0};return f.put("targetGlobalKey",m)}(s))),i<4&&r>=4&&(0!==i&&(a=a.next(()=>function(u,f){return f.store("mutations").j().next(m=>{u.deleteObjectStore("mutations"),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",PV,{unique:!0});const v=f.store("mutations"),x=m.map(I=>v.put(I));return Ve.waitFor(x)})}(t,s))),a=a.next(()=>{!function(u){u.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(a=a.next(()=>this.Ys(s))),i<6&&r>=6&&(a=a.next(()=>(function(u){u.createObjectStore("remoteDocumentGlobal")}(t),this.Xs(s)))),i<7&&r>=7&&(a=a.next(()=>this.Zs(s))),i<8&&r>=8&&(a=a.next(()=>this.ti(t,s))),i<9&&r>=9&&(a=a.next(()=>{!function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(a=a.next(()=>this.ei(s))),i<11&&r>=11&&(a=a.next(()=>{(function(u){u.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(u){u.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(a=a.next(()=>{!function(u){const f=u.createObjectStore("documentOverlays",{keyPath:o7});f.createIndex("collectionPathOverlayIndex",s7,{unique:!1}),f.createIndex("collectionGroupOverlayIndex",a7,{unique:!1})}(t)})),i<13&&r>=13&&(a=a.next(()=>function(u){const f=u.createObjectStore("remoteDocumentsV14",{keyPath:YY});f.createIndex("documentKeyIndex",WY),f.createIndex("collectionGroupIndex",KY)}(t)).next(()=>this.ni(t,s)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(a=a.next(()=>this.si(t,s))),i<15&&r>=15&&(a=a.next(()=>function(u){u.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),u.createObjectStore("indexState",{keyPath:t7}).createIndex("sequenceNumberIndex",n7,{unique:!1}),u.createObjectStore("indexEntries",{keyPath:i7}).createIndex("documentKeyIndex",r7,{unique:!1})}(t))),a}Xs(t){let e=0;return t.store("remoteDocuments").X((i,r)=>{e+=I1(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.j().next(r=>Ve.forEach(r,s=>{const a=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",a).next(u=>Ve.forEach(u,f=>{Kt(f.userId===s.userId);const m=Hg(this.serializer,f);return u4(t,s.userId,m).next(()=>{})}))}))}Zs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.X((a,u)=>{const f=new ei(a),m=[0,hs(f)];s.push(e.get(m).next(v=>v?Ve.resolve():e.put({targetId:0,path:hs(f),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>Ve.waitFor(s))})}ti(t,e){t.createObjectStore("collectionParents",{keyPath:e7});const i=e.store("collectionParents"),r=new OP,s=a=>{if(r.add(a)){const u=a.lastSegment(),f=a.popLast();return i.put({collectionId:u,parent:hs(f)})}};return e.store("remoteDocuments").X({Y:!0},(a,u)=>{const f=new ei(a);return s(f.popLast())}).next(()=>e.store("documentMutations").X({Y:!0},([a,u,f],m)=>{const v=zd(u);return s(v.popLast())}))}ei(t){const e=t.store("targets");return e.X((i,r)=>{const s=Ix(r),a=QU(this.serializer,s);return e.put(a)})}ni(t,e){const i=e.store("remoteDocuments"),r=[];return i.X((s,a)=>{const u=e.store("remoteDocumentsV14"),f=(m=a,m.document?new Et(ei.fromString(m.document.name).popFirst(5)):m.noDocument?Et.fromSegments(m.noDocument.path):m.unknownDocument?Et.fromSegments(m.unknownDocument.path):Vt()).path.toArray();var m;const v={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};r.push(u.put(v))}).next(()=>Ve.waitFor(r))}si(t,e){const i=e.store("mutations"),r=v4(this.serializer),s=new FP(R1.zs,this.serializer.fe);return i.j().next(a=>{const u=new Map;return a.forEach(f=>{var m;let v=null!==(m=u.get(f.userId))&&void 0!==m?m:Nn();Hg(this.serializer,f).keys().forEach(x=>v=v.add(x)),u.set(f.userId,v)}),Ve.forEach(u,(f,m)=>{const v=new Mo(m),x=S1.de(this.serializer,v),I=s.getIndexManager(v),B=k1.de(v,this.serializer,I,s.referenceDelegate);return new C4(r,B,x,I).recalculateAndSaveOverlaysForDocumentKeys(new rP(e,sl.ct),f).next()})})}}function D4(n){n.createObjectStore("targetDocuments",{keyPath:JY}).createIndex("documentTargetsIndex",XY,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",QY,{unique:!0}),n.createObjectStore("targetGlobal")}const NP="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class LP{constructor(t,e,i,r,s,a,u,f,m,v,x=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.ii=s,this.window=a,this.document=u,this.ri=m,this.oi=v,this.ui=x,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=I=>Promise.resolve(),!LP.D())throw new at(je.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new d9(this,r),this.di=e+"main",this.serializer=new WU(f),this.wi=new Bc(this.di,this.ui,new w9(this.serializer)),this.Bs=new a9(this.referenceDelegate,this.serializer),this.remoteDocumentCache=v4(this.serializer),this.qs=new J7,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===v&&Wr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new at(je.FAILED_PRECONDITION,NP);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Bs.getHighestSequenceNumber(t))}).then(t=>{this.Os=new sl(t,this.ri)}).then(()=>{this.Fs=!0}).catch(t=>(this.wi&&this.wi.close(),Promise.reject(t)))}Ii(t){var e=this;return this.fi=function(){var i=(0,Ge.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.wi.B(function(){var e=(0,Ge.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ii.enqueueAndForget((0,Ge.Z)(function*(){e.started&&(yield e.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>P1(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(t).next(e=>{e||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(t)).next(e=>this.isPrimary&&!e?this.Ai(t).next(()=>!1):!!e&&this.vi(t).next(()=>!0))).catch(t=>{if(fp(t))return mt("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return mt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ii.enqueueRetryable(()=>this.fi(t)),this.isPrimary=t})}Ti(t){return Fx(t).get("owner").next(e=>Ve.resolve(this.Ri(e)))}Pi(t){return P1(t).delete(this.clientId)}bi(){var t=this;return(0,Ge.Z)(function*(){if(t.isPrimary&&!t.Vi(t.li,18e5)){t.li=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Ro(i,"clientMetadata");return r.j().next(s=>{const a=t.Si(s,18e5),u=s.filter(f=>-1===a.indexOf(f));return Ve.forEach(u,f=>r.delete(f.clientId)).next(()=>u)})}).catch(()=>[]);if(t._i)for(const i of e)t._i.removeItem(t.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(t){return!!t&&t.ownerId===this.clientId}Ei(t){return this.oi?Ve.resolve(!0):Fx(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)){if(this.Ri(e)&&this.networkEnabled)return!0;if(!this.Ri(e)){if(!e.allowTabSynchronization)throw new at(je.FAILED_PRECONDITION,NP);return!1}}return!(!this.networkEnabled||!this.inForeground)||P1(t).j().next(i=>void 0===this.Si(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(e=>(this.isPrimary!==e&&mt("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,Ge.Z)(function*(){t.Fs=!1,t.xi(),t.hi&&(t.hi.cancel(),t.hi=null),t.Ni(),t.ki(),yield t.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new rP(e,sl.ct);return t.Ai(i).next(()=>t.Pi(i))}),t.wi.close(),t.Mi()})()}Si(t,e){return t.filter(i=>this.Vi(i.updateTimeMs,e)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",t=>P1(t).j().next(e=>this.Si(e,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(t,e){return k1.de(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new s9(t,this.serializer.fe.databaseId)}getDocumentOverlayCache(t){return S1.de(this.serializer,t)}getBundleCache(){return this.qs}runTransaction(t,e,i){mt("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",s=15===(a=this.ui)?c7:14===a?BV:13===a?LV:12===a?l7:11===a?NV:void Vt();var a;let u;return this.wi.runTransaction(t,r,s,f=>(u=new rP(f,this.Os?this.Os.next():sl.ct),"readwrite-primary"===e?this.Ti(u).next(m=>!!m||this.Ei(u)).next(m=>{if(!m)throw Wr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new at(je.FAILED_PRECONDITION,IV);return i(u)}).next(m=>this.vi(u).next(()=>m)):this.Oi(u).next(()=>i(u)))).then(f=>(u.raiseOnCommittedEvent(),f))}Oi(t){return Fx(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)&&!this.Ri(e)&&!(this.oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new at(je.FAILED_PRECONDITION,NP)})}vi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Fx(t).put("owner",e)}static D(){return Bc.D()}Ai(t){const e=Fx(t);return e.get("owner").next(i=>this.Ri(i)?(mt("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):Ve.resolve())}Vi(t,e){const i=Date.now();return!(t<i-e||t>i&&(Wr(`Detected an update time that is in the future: ${t} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;(0,ne.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(t){var e;try{const i=null!==(null===(e=this._i)||void 0===e?void 0:e.getItem(this.Di(t)));return mt("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Wr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(t){Wr("Failed to set zombie client id.",t)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Fx(n){return Ro(n,"owner")}function P1(n){return Ro(n,"clientMetadata")}function BP(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class VP{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Fi=i,this.Bi=r}static Li(t,e){let i=Nn(),r=Nn();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new VP(t,e.fromCache,i,r)}}class S4{constructor(){this.qi=!1}initialize(t,e){this.Ui=t,this.indexManager=e,this.qi=!0}getDocumentsMatchingQuery(t,e,i,r){return this.Ki(t,e).next(s=>s||this.Gi(t,e,r,i)).next(s=>s||this.Qi(t,e))}Ki(t,e){if(lU(e))return Ve.resolve(null);let i=Bs(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=y1(e,null,"F"),i=Bs(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const a=Nn(...s);return this.Ui.getDocuments(t,a).next(u=>this.indexManager.getMinOffset(t,i).next(f=>{const m=this.ji(e,u);return this.zi(e,m,a,f.readTime)?this.Ki(t,y1(e,null,"F")):this.Wi(t,m,e,f)}))})))}Gi(t,e,i,r){return lU(e)||r.isEqual(Jt.min())?this.Qi(t,e):this.Ui.getDocuments(t,i).next(s=>{const a=this.ji(e,s);return this.zi(e,a,i,r)?this.Qi(t,e):(JO()<=va.in.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),pP(e)),this.Wi(t,a,e,TV(r,-1)))})}ji(t,e){let i=new Wi(uU(t));return e.forEach((r,s)=>{yx(t,s)&&(i=i.add(s))}),i}zi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Qi(t,e){return JO()<=va.in.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",pP(e)),this.Ui.getDocumentsMatchingQuery(t,e,ol.min())}Wi(t,e,i,r){return this.Ui.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(a=>{s=s.insert(a.key,a)}),s))}}class x9{constructor(t,e,i,r){this.persistence=t,this.Hi=e,this.serializer=r,this.Ji=new Ni(Tn),this.Yi=new mh(s=>Fg(s),gx),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(i)}tr(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new C4(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ji))}}function E4(n,t,e,i){return new x9(n,t,e,i)}function T4(n,t){return UP.apply(this,arguments)}function UP(){return UP=(0,Ge.Z)(function*(n,t){const e=kt(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.tr(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],u=[];let f=Nn();for(const m of r){a.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}for(const m of s){u.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}return e.localDocuments.getDocuments(i,f).next(m=>({er:m,removedBatchIds:a,addedBatchIds:u}))})})}),UP.apply(this,arguments)}function A4(n){const t=kt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Bs.getLastRemoteSnapshotVersion(e))}function I4(n,t,e){let i=Nn(),r=Nn();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let a=Ca();return e.forEach((u,f)=>{const m=s.get(u);f.isFoundDocument()!==m.isFoundDocument()&&(r=r.add(u)),f.isNoDocument()&&f.version.isEqual(Jt.min())?(t.removeEntry(u,f.readTime),a=a.insert(u,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||0===f.version.compareTo(m.version)&&m.hasPendingWrites?(t.addEntry(f),a=a.insert(u,f)):mt("LocalStore","Ignoring outdated watch update for ",u,". Current version:",m.version," Watch version:",f.version)}),{nr:a,sr:r}})}function S9(n,t){const e=kt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function gv(n,t){const e=kt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Bs.getTargetData(i,t).next(s=>s?(r=s,Ve.resolve(r)):e.Bs.allocateTargetId(i).next(a=>(r=new _h(t,a,"TargetPurposeListen",i.currentSequenceNumber),e.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ji=e.Ji.insert(i.targetId,i),e.Yi.set(t,i.targetId)),i})}function _v(n,t,e){return HP.apply(this,arguments)}function HP(){return HP=(0,Ge.Z)(function*(n,t,e){const i=kt(n),r=i.Ji.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r)))}catch(a){if(!fp(a))throw a;mt("LocalStore",`Failed to update sequence numbers for target ${t}: ${a}`)}i.Ji=i.Ji.remove(t),i.Yi.delete(r.target)}),HP.apply(this,arguments)}function F1(n,t,e){const i=kt(n);let r=Jt.min(),s=Nn();return i.persistence.runTransaction("Execute query","readonly",a=>function(u,f,m){const v=kt(u),x=v.Yi.get(m);return void 0!==x?Ve.resolve(v.Ji.get(x)):v.Bs.getTargetData(f,m)}(i,a,Bs(t)).next(u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(a,u.targetId).next(f=>{s=f})}).next(()=>i.Hi.getDocumentsMatchingQuery(a,t,e?r:Jt.min(),e?s:Nn())).next(u=>(R4(i,dU(t),u),{documents:u,ir:s})))}function k4(n,t){const e=kt(n),i=kt(e.Bs),r=e.Ji.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",s=>i.le(s,t).next(a=>a?a.target:null))}function M4(n,t){const e=kt(n),i=e.Xi.get(t)||Jt.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Zi.getAllFromCollectionGroup(r,t,TV(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(R4(e,t,r),r))}function R4(n,t,e){let i=n.Xi.get(t)||Jt.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Xi.set(t,i)}function GP(){return GP=(0,Ge.Z)(function*(n,t,e,i){const r=kt(n);let s=Nn(),a=Ca();for(const m of e){const v=t.rr(m.metadata.name);m.document&&(s=s.add(v));const x=t.ur(m);x.setReadTime(t.cr(m.metadata.readTime)),a=a.insert(v,x)}const u=r.Zi.newChangeBuffer({trackRemovals:!0}),f=yield gv(r,(m=i,Bs(av(ei.fromString(`__bundle__/docs/${m}`)))));var m;return r.persistence.runTransaction("Apply bundle documents","readwrite",m=>I4(m,u,a).next(v=>(u.apply(m),v)).next(v=>r.Bs.removeMatchingKeysForTargetId(m,f.targetId).next(()=>r.Bs.addMatchingKeys(m,s,f.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(m,v.nr,v.sr)).next(()=>v.nr)))}),GP.apply(this,arguments)}function T9(n,t){return zP.apply(this,arguments)}function zP(){return zP=(0,Ge.Z)(function*(n,t,e=Nn()){const i=yield gv(n,Bs(TP(t.bundledQuery))),r=kt(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const a=Kr(t.readTime);if(i.snapshotVersion.compareTo(a)>=0)return r.qs.saveNamedQuery(s,t);const u=i.withResumeToken(_o.EMPTY_BYTE_STRING,a);return r.Ji=r.Ji.insert(u.targetId,u),r.Bs.updateTargetData(s,u).next(()=>r.Bs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Bs.addMatchingKeys(s,e,i.targetId)).next(()=>r.qs.saveNamedQuery(s,t))})}),zP.apply(this,arguments)}function O4(n,t){return`firestore_clients_${n}_${t}`}function P4(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function jP(n,t){return`firestore_targets_${n}_${t}`}class N1{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static ar(t,e,i){const r=JSON.parse(i);let s,a="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(s=new at(r.error.code,r.error.message))),a?new N1(t,e,r.state,s):(Wr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Nx{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static ar(t,e){const i=JSON.parse(e);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new at(i.error.code,i.error.message))),s?new Nx(t,i.state,r):(Wr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class L1{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static ar(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=mP();for(let a=0;r&&a<i.activeTargetIds.length;++a)r=RV(i.activeTargetIds[a]),s=s.add(i.activeTargetIds[a]);return r?new L1(t,s):(Wr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class qP{constructor(t,e){this.clientId=t,this.onlineState=e}static ar(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new qP(e.clientId,e.onlineState):(Wr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class ZP{constructor(){this.activeTargetIds=mP()}lr(t){this.activeTargetIds=this.activeTargetIds.add(t)}dr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}hr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class $P{constructor(t,e,i,r,s){this.window=t,this.ii=e,this.persistenceKey=i,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Ni(Tn),this.started=!1,this.yr=[];const a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.pr=O4(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new ZP),this.Tr=new RegExp(`^firestore_clients_${a}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${a}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${a}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(u){return`firestore_bundle_loaded_v2_${u}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,Ge.Z)(function*(){const e=yield t.syncEngine.$i();for(const r of e){if(r===t.wr)continue;const s=t.getItem(O4(t.persistenceKey,r));if(s){const a=L1.ar(r,s);a&&(t.gr=t.gr.insert(a.clientId,a))}}t.Pr();const i=t.storage.getItem(t.vr);if(i){const r=t.br(i);r&&t.Vr(r)}for(const r of t.yr)t.mr(r);t.yr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Ir,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(t){let e=!1;return this.gr.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Dr(t,"pending")}updateMutationState(t,e,i){this.Dr(t,e,i),this.Cr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(jP(this.persistenceKey,t));if(i){const r=Nx.ar(t,i);r&&(e=r.state)}}return this.Nr.lr(t),this.Pr(),e}removeLocalQueryTarget(t){this.Nr.dr(t),this.Pr()}isLocalQueryTarget(t){return this.Nr.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(jP(this.persistenceKey,t))}updateQueryState(t,e,i){this.kr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Cr(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Mr(t)}notifyBundleLoaded(t){this.$r(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return mt("SharedClientState","READ",t,e),e}setItem(t,e){mt("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){mt("SharedClientState","REMOVE",t),this.storage.removeItem(t)}mr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(mt("SharedClientState","EVENT",i.key,i.newValue),i.key===this.pr)return void Wr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,Ge.Z)(function*(){if(e.started){if(null!==i.key)if(e.Tr.test(i.key)){if(null==i.newValue){const r=e.Or(i.key);return e.Fr(r,null)}{const r=e.Br(i.key,i.newValue);if(r)return e.Fr(r.clientId,r)}}else if(e.Er.test(i.key)){if(null!==i.newValue){const r=e.Lr(i.key,i.newValue);if(r)return e.qr(r)}}else if(e.Ar.test(i.key)){if(null!==i.newValue){const r=e.Ur(i.key,i.newValue);if(r)return e.Kr(r)}}else if(i.key===e.vr){if(null!==i.newValue){const r=e.br(i.newValue);if(r)return e.Vr(r)}}else if(i.key===e.Ir){const r=function(s){let a=sl.ct;if(null!=s)try{const u=JSON.parse(s);Kt("number"==typeof u),a=u}catch(u){Wr("SharedClientState","Failed to read sequence number from WebStorage",u)}return a}(i.newValue);r!==sl.ct&&e.sequenceNumberHandler(r)}else if(i.key===e.Rr){const r=e.Gr(i.newValue);yield Promise.all(r.map(s=>e.syncEngine.Qr(s)))}}else e.yr.push(i)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(t,e,i){const r=new N1(this.currentUser,t,e,i),s=P4(this.persistenceKey,this.currentUser,t);this.setItem(s,r.hr())}Cr(t){const e=P4(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Mr(t){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:t}))}kr(t,e,i){const r=jP(this.persistenceKey,t),s=new Nx(t,e,i);this.setItem(r,s.hr())}$r(t){const e=JSON.stringify(Array.from(t));this.setItem(this.Rr,e)}Or(t){const e=this.Tr.exec(t);return e?e[1]:null}Br(t,e){const i=this.Or(t);return L1.ar(i,e)}Lr(t,e){const i=this.Er.exec(t),r=Number(i[1]);return N1.ar(new Mo(void 0!==i[2]?i[2]:null),r,e)}Ur(t,e){const i=this.Ar.exec(t),r=Number(i[1]);return Nx.ar(r,e)}br(t){return qP.ar(t)}Gr(t){return JSON.parse(t)}qr(t){var e=this;return(0,Ge.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.jr(t.batchId,t.state,t.error);mt("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Kr(t){return this.syncEngine.zr(t.targetId,t.state,t.error)}Fr(t,e){const i=e?this.gr.insert(t,e):this.gr.remove(t),r=this.Sr(this.gr),s=this.Sr(i),a=[],u=[];return s.forEach(f=>{r.has(f)||a.push(f)}),r.forEach(f=>{s.has(f)||u.push(f)}),this.syncEngine.Wr(a,u).then(()=>{this.gr=i})}Vr(t){this.gr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Sr(t){let e=mP();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class F4{constructor(){this.Hr=new ZP,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Hr.lr(t),this.Jr[t]||"not-current"}updateQueryState(t,e,i){this.Jr[t]=e}removeLocalQueryTarget(t){this.Hr.dr(t)}isLocalQueryTarget(t){return this.Hr.activeTargetIds.has(t)}clearQueryState(t){delete this.Jr[t]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(t){return this.Hr.activeTargetIds.has(t)}start(){return this.Hr=new ZP,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class A9{Yr(t){}shutdown(){}}class N4{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(t){this.so.push(t)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){mt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.so)t(0)}no(){mt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.so)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let B1=null;function YP(){return null===B1?B1=268435456+Math.round(2147483648*Math.random()):B1++,"0x"+B1.toString(16)}const I9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class k9{constructor(t){this.ro=t.ro,this.oo=t.oo}uo(t){this.co=t}ao(t){this.ho=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.ro(t)}fo(){this.co()}wo(t){this.ho(t)}_o(t){this.lo(t)}}const ps="WebChannelConnection";class M9 extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.mo=(t.ssl?"https":"http")+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(t,e,i,r,s){const a=YP(),u=this.To(t,e);mt("RestConnection",`Sending RPC '${t}' ${a}:`,u,i);const f={};return this.Eo(f,r,s),this.Ao(t,u,f,i).then(m=>(mt("RestConnection",`Received RPC '${t}' ${a}: `,m),m),m=>{throw ql("RestConnection",`RPC '${t}' ${a} failed with error: `,m,"url: ",u,"request:",i),m})}vo(t,e,i,r,s,a){return this.Io(t,e,i,r,s)}Eo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+tv,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}To(t,e){return`${this.mo}/v1/${e}:${I9[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ao(t,e,i,r){const s=YP();return new Promise((a,u)=>{const f=new AY;f.setWithCredentials(!0),f.listenOnce(SY.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case QO.NO_ERROR:const v=f.getResponseJson();mt(ps,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(v)),a(v);break;case QO.TIMEOUT:mt(ps,`RPC '${t}' ${s} timed out`),u(new at(je.DEADLINE_EXCEEDED,"Request time out"));break;case QO.HTTP_ERROR:const x=f.getStatus();if(mt(ps,`RPC '${t}' ${s} failed with status:`,x,"response text:",f.getResponseText()),x>0){let I=f.getResponseJson();Array.isArray(I)&&(I=I[0]);const B=I?.error;if(B&&B.status&&B.message){const q=function(ue){const ge=ue.toLowerCase().replace(/_/g,"-");return Object.values(je).indexOf(ge)>=0?ge:je.UNKNOWN}(B.status);u(new at(q,B.message))}else u(new at(je.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new at(je.UNAVAILABLE,"Connection failed."));break;default:Vt()}}finally{mt(ps,`RPC '${t}' ${s} completed.`)}});const m=JSON.stringify(r);mt(ps,`RPC '${t}' ${s} sending request:`,r),f.send(e,"POST",m,i,15)})}Ro(t,e,i){const r=YP(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=CY(),u=DY(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;void 0!==m&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.xmlHttpFactory=new TY({})),this.Eo(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const v=s.join("");mt(ps,`Creating RPC '${t}' stream ${r}: ${v}`,f);const x=a.createWebChannel(v,f);let I=!1,B=!1;const q=new k9({ro:ge=>{B?mt(ps,`Not sending because RPC '${t}' stream ${r} is closed:`,ge):(I||(mt(ps,`Opening RPC '${t}' stream ${r} transport.`),x.open(),I=!0),mt(ps,`RPC '${t}' stream ${r} sending:`,ge),x.send(ge))},oo:()=>x.close()}),ue=(ge,Oe,nt)=>{ge.listen(Oe,it=>{try{nt(it)}catch(pt){setTimeout(()=>{throw pt},0)}})};return ue(x,r1.EventType.OPEN,()=>{B||mt(ps,`RPC '${t}' stream ${r} transport opened.`)}),ue(x,r1.EventType.CLOSE,()=>{B||(B=!0,mt(ps,`RPC '${t}' stream ${r} transport closed`),q.wo())}),ue(x,r1.EventType.ERROR,ge=>{B||(B=!0,ql(ps,`RPC '${t}' stream ${r} transport errored:`,ge),q.wo(new at(je.UNAVAILABLE,"The operation could not be completed")))}),ue(x,r1.EventType.MESSAGE,ge=>{var Oe;if(!B){const nt=ge.data[0];Kt(!!nt);const pt=nt.error||(null===(Oe=nt[0])||void 0===Oe?void 0:Oe.error);if(pt){mt(ps,`RPC '${t}' stream ${r} received error:`,pt);const zt=pt.status;let jt=function(Kn){const Xr=ro[Kn];if(void 0!==Xr)return IU(Xr)}(zt),Bn=pt.message;void 0===jt&&(jt=je.INTERNAL,Bn="Unknown error status: "+zt+" with message "+pt.message),B=!0,q.wo(new at(jt,Bn)),x.close()}else mt(ps,`RPC '${t}' stream ${r} received:`,nt),q._o(nt)}}),ue(u,EY.STAT_EVENT,ge=>{ge.stat===wV.PROXY?mt(ps,`RPC '${t}' stream ${r} detected buffering proxy`):ge.stat===wV.NOPROXY&&mt(ps,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{q.fo()},0),q}}function L4(){return typeof window<"u"?window:null}function V1(){return typeof document<"u"?document:null}function Lx(n){return new H7(n,!0)}class WP{constructor(t,e,i=1e3,r=1.5,s=6e4){this.ii=t,this.timerId=e,this.Po=i,this.bo=r,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(t){this.cancel();const e=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,e-i);r>0&&mt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),t())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class B4{constructor(t,e,i,r,s,a,u,f){this.ii=t,this.$o=i,this.Oo=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new WP(t,e)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var t=this;return(0,Ge.Z)(function*(){t.Uo()&&(yield t.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(t){this.Ho(),this.stream.send(t)}zo(){var t=this;return(0,Ge.Z)(function*(){if(t.Ko())return t.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(t,e){var i=this;return(0,Ge.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==t?i.qo.reset():e&&e.code===je.RESOURCE_EXHAUSTED?(Wr(e.toString()),Wr("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):e&&e.code===je.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.ao(e)})()}Yo(){}auth(){this.state=1;const t=this.Xo(this.Fo),e=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===e&&this.Zo(i,r)},i=>{t(()=>{const r=new at(je.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(t,e){const i=this.Xo(this.Fo);this.stream=this.eu(t,e),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var t=this;this.state=5,this.qo.No((0,Ge.Z)(function*(){t.state=0,t.start()}))}tu(t){return mt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return e=>{this.ii.enqueueAndForget(()=>this.Fo===t?e():(mt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class R9 extends B4{constructor(t,e,i,r,s,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,a),this.serializer=s}eu(t,e){return this.connection.Ro("Listen",t,e)}onMessage(t){this.qo.reset();const e=function j7(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(f=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===f?1:"REMOVE"===f?2:"CURRENT"===f?3:"RESET"===f?4:Vt(),r=t.targetChange.targetIds||[],s=function(f,m){return f.useProto3Json?(Kt(void 0===m||"string"==typeof m),_o.fromBase64String(m||"")):(Kt(void 0===m||m instanceof Uint8Array),_o.fromUint8Array(m||new Uint8Array))}(n,t.targetChange.resumeToken),a=t.targetChange.cause,u=a&&function(f){const m=void 0===f.code?je.UNKNOWN:IU(f.code);return new at(m,f.message||"")}(a);e=new PU(i,r,s,u||null)}else if("documentChange"in t){const i=t.documentChange,r=Zd(n,i.document.name),s=Kr(i.document.updateTime),a=i.document.createTime?Kr(i.document.createTime):Jt.min(),u=new Zo({mapValue:{fields:i.document.fields}}),f=Ki.newFoundDocument(r,s,a,u);e=new C1(i.targetIds||[],i.removedTargetIds||[],f.key,f)}else if("documentDelete"in t){const i=t.documentDelete,r=Zd(n,i.document),s=i.readTime?Kr(i.readTime):Jt.min(),a=Ki.newNoDocument(r,s);e=new C1([],i.removedTargetIds||[],a.key,a)}else if("documentRemove"in t){const i=t.documentRemove,r=Zd(n,i.document);e=new C1([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return Vt();{const i=t.filter,{count:r=0,unchangedNames:s}=i,a=new F7(r,s);e=new OU(i.targetId,a)}}var f;return e}(this.serializer,t),i=function(r){if(!("targetChange"in r))return Jt.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Jt.min():s.readTime?Kr(s.readTime):Jt.min()}(t);return this.listener.nu(e,i)}su(t){const e={};e.database=Tx(this.serializer),e.addTarget=function(r,s){let a;const u=s.target;if(a=m1(u)?{documents:jU(r,u)}:{query:EP(r,u)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=BU(r,s.resumeToken);const f=xP(r,s.expectedCount);null!==f&&(a.expectedCount=f)}else if(s.snapshotVersion.compareTo(Jt.min())>0){a.readTime=hv(r,s.snapshotVersion.toTimestamp());const f=xP(r,s.expectedCount);null!==f&&(a.expectedCount=f)}return a}(this.serializer,t);const i=function Z7(n,t){const e=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Vt()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Wo(e)}iu(t){const e={};e.database=Tx(this.serializer),e.removeTarget=t,this.Wo(e)}}class O9 extends B4{constructor(t,e,i,r,s,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,a),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(t,e){return this.connection.Ro("Write",t,e)}onMessage(t){if(Kt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.qo.reset();const e=function q7(n,t){return n&&n.length>0?(Kt(void 0!==t),n.map(e=>function(i,r){let s=Kr(i.updateTime?i.updateTime:r);return s.isEqual(Jt.min())&&(s=Kr(r)),new M7(s,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Kr(t.commitTime);return this.listener.cu(i,e)}return Kt(!t.writeResults||0===t.writeResults.length),this.ru=!0,this.listener.au()}hu(){const t={};t.database=Tx(this.serializer),this.Wo(t)}uu(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>Ax(this.serializer,i))};this.Wo(e)}}class P9 extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new at(je.FAILED_PRECONDITION,"The client has already been terminated.")}Io(t,e,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.Io(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new at(je.UNKNOWN,r.toString())})}vo(t,e,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(t,e,i,s,a,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new at(je.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class N9{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(t){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.yu("Offline")))}set(t){this.Tu(),this.wu=0,"Online"===t&&(this.mu=!1),this.yu(t)}yu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}pu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Wr(e),this.mu=!1):mt("OnlineStateTracker",e)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class L9{constructor(t,e,i,r,s){var a=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(u=>{i.enqueueAndForget((0,Ge.Z)(function*(){var f;Sp(a)&&(mt("RemoteStore","Restarting streams for network reachability change."),yield(f=(0,Ge.Z)(function*(m){const v=kt(m);v.vu.add(4),yield yv(v),v.bu.set("Unknown"),v.vu.delete(4),yield Bx(v)}),function(m){return f.apply(this,arguments)})(a))}))}),this.bu=new N9(i,r)}}function Bx(n){return QP.apply(this,arguments)}function QP(){return QP=(0,Ge.Z)(function*(n){if(Sp(n))for(const t of n.Ru)yield t(!0)}),QP.apply(this,arguments)}function yv(n){return JP.apply(this,arguments)}function JP(){return JP=(0,Ge.Z)(function*(n){for(const t of n.Ru)yield t(!1)}),JP.apply(this,arguments)}function U1(n,t){const e=kt(n);e.Au.has(t.targetId)||(e.Au.set(t.targetId,t),tF(e)?eF(e):bv(e).Ko()&&XP(e,t))}function Vx(n,t){const e=kt(n),i=bv(e);e.Au.delete(t),i.Ko()&&V4(e,t),0===e.Au.size&&(i.Ko()?i.jo():Sp(e)&&e.bu.set("Unknown"))}function XP(n,t){if(n.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Jt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}bv(n).su(t)}function V4(n,t){n.Vu.qt(t),bv(n).iu(t)}function eF(n){n.Vu=new L7({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),le:t=>n.Au.get(t)||null,ue:()=>n.datastore.serializer.databaseId}),bv(n).start(),n.bu.gu()}function tF(n){return Sp(n)&&!bv(n).Uo()&&n.Au.size>0}function Sp(n){return 0===kt(n).vu.size}function U4(n){n.Vu=void 0}function B9(n){return nF.apply(this,arguments)}function nF(){return nF=(0,Ge.Z)(function*(n){n.Au.forEach((t,e)=>{XP(n,t)})}),nF.apply(this,arguments)}function V9(n,t){return iF.apply(this,arguments)}function iF(){return iF=(0,Ge.Z)(function*(n,t){U4(n),tF(n)?(n.bu.Iu(t),eF(n)):n.bu.set("Unknown")}),iF.apply(this,arguments)}function U9(n,t,e){return rF.apply(this,arguments)}function rF(){return rF=(0,Ge.Z)(function*(n,t,e){if(n.bu.set("Online"),t instanceof PU&&2===t.state&&t.cause)try{yield(i=(0,Ge.Z)(function*(r,s){const a=s.cause;for(const u of s.targetIds)r.Au.has(u)&&(yield r.remoteSyncer.rejectListen(u,a),r.Au.delete(u),r.Vu.removeTarget(u))}),function(r,s){return i.apply(this,arguments)})(n,t)}catch(i){mt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield H1(n,i)}else if(t instanceof C1?n.Vu.Ht(t):t instanceof OU?n.Vu.ne(t):n.Vu.Xt(t),!e.isEqual(Jt.min()))try{const i=yield A4(n.localStore);e.compareTo(i)>=0&&(yield function(r,s){const a=r.Vu.ce(s);return a.targetChanges.forEach((u,f)=>{if(u.resumeToken.approximateByteSize()>0){const m=r.Au.get(f);m&&r.Au.set(f,m.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,f)=>{const m=r.Au.get(u);if(!m)return;r.Au.set(u,m.withResumeToken(_o.EMPTY_BYTE_STRING,m.snapshotVersion)),V4(r,u);const v=new _h(m.target,u,f,m.sequenceNumber);XP(r,v)}),r.remoteSyncer.applyRemoteEvent(a)}(n,e))}catch(i){mt("RemoteStore","Failed to raise snapshot:",i),yield H1(n,i)}var i}),rF.apply(this,arguments)}function H1(n,t,e){return oF.apply(this,arguments)}function oF(){return oF=(0,Ge.Z)(function*(n,t,e){if(!fp(t))throw t;n.vu.add(1),yield yv(n),n.bu.set("Offline"),e||(e=()=>A4(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ge.Z)(function*(){mt("RemoteStore","Retrying IndexedDB access"),yield e(),n.vu.delete(1),yield Bx(n)}))}),oF.apply(this,arguments)}function H4(n,t){return t().catch(e=>H1(n,e,t))}function vv(n){return sF.apply(this,arguments)}function sF(){return sF=(0,Ge.Z)(function*(n){const t=kt(n),e=Ep(t);let i=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;H9(t);)try{const r=yield S9(t.localStore,i);if(null===r){0===t.Eu.length&&e.jo();break}i=r.batchId,G9(t,r)}catch(r){yield H1(t,r)}G4(t)&&z4(t)}),sF.apply(this,arguments)}function H9(n){return Sp(n)&&n.Eu.length<10}function G9(n,t){n.Eu.push(t);const e=Ep(n);e.Ko()&&e.ou&&e.uu(t.mutations)}function G4(n){return Sp(n)&&!Ep(n).Uo()&&n.Eu.length>0}function z4(n){Ep(n).start()}function z9(n){return aF.apply(this,arguments)}function aF(){return aF=(0,Ge.Z)(function*(n){Ep(n).hu()}),aF.apply(this,arguments)}function j9(n){return lF.apply(this,arguments)}function lF(){return lF=(0,Ge.Z)(function*(n){const t=Ep(n);for(const e of n.Eu)t.uu(e.mutations)}),lF.apply(this,arguments)}function q9(n,t,e){return cF.apply(this,arguments)}function cF(){return cF=(0,Ge.Z)(function*(n,t,e){const i=n.Eu.shift(),r=yP.from(i,t,e);yield H4(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield vv(n)}),cF.apply(this,arguments)}function Z9(n,t){return dF.apply(this,arguments)}function dF(){return dF=(0,Ge.Z)(function*(n,t){var e;t&&Ep(n).ou&&(yield(e=(0,Ge.Z)(function*(i,r){if(AU(s=r.code)&&s!==je.ABORTED){const a=i.Eu.shift();Ep(i).Qo(),yield H4(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,r)),yield vv(i)}var s}),function(i,r){return e.apply(this,arguments)})(n,t)),G4(n)&&z4(n)}),dF.apply(this,arguments)}function j4(n,t){return uF.apply(this,arguments)}function uF(){return uF=(0,Ge.Z)(function*(n,t){const e=kt(n);e.asyncQueue.verifyOperationInProgress(),mt("RemoteStore","RemoteStore received new credentials");const i=Sp(e);e.vu.add(3),yield yv(e),i&&e.bu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.vu.delete(3),yield Bx(e)}),uF.apply(this,arguments)}function hF(n,t){return fF.apply(this,arguments)}function fF(){return fF=(0,Ge.Z)(function*(n,t){const e=kt(n);t?(e.vu.delete(2),yield Bx(e)):t||(e.vu.add(2),yield yv(e),e.bu.set("Unknown"))}),fF.apply(this,arguments)}function bv(n){return n.Su||(n.Su=function(t,e,i){const r=kt(t);return r.fu(),new R9(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:B9.bind(null,n),ao:V9.bind(null,n),nu:U9.bind(null,n)}),n.Ru.push(function(){var t=(0,Ge.Z)(function*(e){e?(n.Su.Qo(),tF(n)?eF(n):n.bu.set("Unknown")):(yield n.Su.stop(),U4(n))});return function(e){return t.apply(this,arguments)}}())),n.Su}function Ep(n){return n.Du||(n.Du=function(t,e,i){const r=kt(t);return r.fu(),new O9(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:z9.bind(null,n),ao:Z9.bind(null,n),au:j9.bind(null,n),cu:q9.bind(null,n)}),n.Ru.push(function(){var t=(0,Ge.Z)(function*(e){e?(n.Du.Qo(),yield vv(n)):(yield n.Du.stop(),n.Eu.length>0&&(mt("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Du}class pF{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new go,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}static createAndSchedule(t,e,i,r,s){const a=Date.now()+i,u=new pF(t,e,a,r,s);return u.start(i),u}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new at(je.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wv(n,t){if(Wr("AsyncQueue",`${t}: ${n}`),fp(n))return new at(je.UNAVAILABLE,`${t}: ${n}`);throw n}class xv{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Et.comparator(e.key,i.key):(e,i)=>Et.comparator(e.key,i.key),this.keyedMap=vx(),this.sortedSet=new Ni(this.comparator)}static emptySet(t){return new xv(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof xv)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new xv;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class q4{constructor(){this.Cu=new Ni(Et.comparator)}track(t){const e=t.doc.key,i=this.Cu.get(e);i?0!==t.type&&3===i.type?this.Cu=this.Cu.insert(e,t):3===t.type&&1!==i.type?this.Cu=this.Cu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Cu=this.Cu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Cu=this.Cu.remove(e):1===t.type&&2===i.type?this.Cu=this.Cu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):Vt():this.Cu=this.Cu.insert(e,t)}xu(){const t=[];return this.Cu.inorderTraversal((e,i)=>{t.push(i)}),t}}class Cv{constructor(t,e,i,r,s,a,u,f,m){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(t,e,i,r,s){const a=[];return e.forEach(u=>{a.push({type:0,doc:u})}),new Cv(t,e,xv.emptySet(e),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&_x(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class $9{constructor(){this.Nu=void 0,this.listeners=[]}}class Y9{constructor(){this.queries=new mh(t=>cU(t),_x),this.onlineState="Unknown",this.ku=new Set}}function mF(n,t){return gF.apply(this,arguments)}function gF(){return gF=(0,Ge.Z)(function*(n,t){const e=kt(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new $9),r)try{s.Nu=yield e.onListen(i)}catch(a){const u=wv(a,`Initialization of query '${pP(t.query)}' failed`);return void t.onError(u)}e.queries.set(i,s),s.listeners.push(t),t.Mu(e.onlineState),s.Nu&&t.$u(s.Nu)&&vF(e)}),gF.apply(this,arguments)}function _F(n,t){return yF.apply(this,arguments)}function yF(){return yF=(0,Ge.Z)(function*(n,t){const e=kt(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const a=s.listeners.indexOf(t);a>=0&&(s.listeners.splice(a,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),yF.apply(this,arguments)}function W9(n,t){const e=kt(n);let i=!1;for(const r of t){const a=e.queries.get(r.query);if(a){for(const u of a.listeners)u.$u(r)&&(i=!0);a.Nu=r}}i&&vF(e)}function K9(n,t,e){const i=kt(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function vF(n){n.ku.forEach(t=>{t.next()})}class bF{constructor(t,e,i){this.query=t,this.Ou=e,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Cv(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Fu?this.Lu(t)&&(this.Ou.next(t),e=!0):this.qu(t,this.onlineState)&&(this.Uu(t),e=!0),this.Bu=t,e}onError(t){this.Ou.error(t)}Mu(t){this.onlineState=t;let e=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,t)&&(this.Uu(this.Bu),e=!0),e}qu(t,e){return!t.fromCache||(!this.options.Ku||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Lu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(t){t=Cv.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Fu=!0,this.Ou.next(t)}}class Q9{constructor(t,e){this.Gu=t,this.byteLength=e}Qu(){return"metadata"in this.Gu}}class Z4{constructor(t){this.serializer=t}rr(t){return Zd(this.serializer,t)}ur(t){return t.metadata.exists?zU(this.serializer,t.document,!1):Ki.newNoDocument(this.rr(t.metadata.name),this.cr(t.metadata.readTime))}cr(t){return Kr(t)}}class J9{constructor(t,e,i){this.ju=t,this.localStore=e,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=$4(t)}zu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Gu.namedQuery)this.queries.push(t.Gu.namedQuery);else if(t.Gu.documentMetadata){this.documents.push({metadata:t.Gu.documentMetadata}),t.Gu.documentMetadata.exists||++e;const i=ei.fromString(t.Gu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.Gu.document&&(this.documents[this.documents.length-1].document=t.Gu.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Wu(t){const e=new Map,i=new Z4(this.serializer);for(const r of t)if(r.metadata.queries){const s=i.rr(r.metadata.name);for(const a of r.metadata.queries){const u=(e.get(a)||Nn()).add(s);e.set(a,u)}}return e}complete(){var t=this;return(0,Ge.Z)(function*(){const e=yield function E9(n,t,e,i){return GP.apply(this,arguments)}(t.localStore,new Z4(t.serializer),t.documents,t.ju.id),i=t.Wu(t.documents);for(const r of t.queries)yield T9(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Hu:t.collectionGroups,Ju:e}})()}}function $4(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Y4{constructor(t){this.key=t}}class W4{constructor(t){this.key=t}}class K4{constructor(t,e){this.query=t,this.Yu=e,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Nn(),this.mutatedKeys=Nn(),this.tc=uU(t),this.ec=new xv(this.tc)}get nc(){return this.Yu}sc(t,e){const i=e?e.ic:new q4,r=e?e.ec:this.ec;let s=e?e.mutatedKeys:this.mutatedKeys,a=r,u=!1;const f="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,m="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((v,x)=>{const I=r.get(v),B=yx(this.query,x)?x:null,q=!!I&&this.mutatedKeys.has(I.key),ue=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let ge=!1;I&&B?I.data.isEqual(B.data)?q!==ue&&(i.track({type:3,doc:B}),ge=!0):this.rc(I,B)||(i.track({type:2,doc:B}),ge=!0,(f&&this.tc(B,f)>0||m&&this.tc(B,m)<0)&&(u=!0)):!I&&B?(i.track({type:0,doc:B}),ge=!0):I&&!B&&(i.track({type:1,doc:I}),ge=!0,(f||m)&&(u=!0)),ge&&(B?(a=a.add(B),s=ue?s.add(v):s.delete(v)):(a=a.delete(v),s=s.delete(v)))}),null!==this.query.limit)for(;a.size>this.query.limit;){const v="F"===this.query.limitType?a.last():a.first();a=a.delete(v.key),s=s.delete(v.key),i.track({type:1,doc:v})}return{ec:a,ic:i,zi:u,mutatedKeys:s}}rc(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.ec;this.ec=t.ec,this.mutatedKeys=t.mutatedKeys;const s=t.ic.xu();s.sort((m,v)=>function(x,I){const B=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Vt()}};return B(x)-B(I)}(m.type,v.type)||this.tc(m.doc,v.doc)),this.oc(i);const a=e?this.uc():[],u=0===this.Zu.size&&this.current?1:0,f=u!==this.Xu;return this.Xu=u,0!==s.length||f?{snapshot:new Cv(this.query,t.ec,r,s,t.mutatedKeys,0===u,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:a}:{cc:a}}Mu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({ec:this.ec,ic:new q4,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(t){return!this.Yu.has(t)&&!!this.ec.has(t)&&!this.ec.get(t).hasLocalMutations}oc(t){t&&(t.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=t.current)}uc(){if(!this.current)return[];const t=this.Zu;this.Zu=Nn(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const e=[];return t.forEach(i=>{this.Zu.has(i)||e.push(new W4(i))}),this.Zu.forEach(i=>{t.has(i)||e.push(new Y4(i))}),e}hc(t){this.Yu=t.ir,this.Zu=Nn();const e=this.sc(t.documents);return this.applyChanges(e,!0)}lc(){return Cv.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class X9{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class eW{constructor(t){this.key=t,this.fc=!1}}class tW{constructor(t,e,i,r,s,a){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.dc={},this.wc=new mh(u=>cU(u),_x),this._c=new Map,this.mc=new Set,this.gc=new Ni(Et.comparator),this.yc=new Map,this.Ic=new PP,this.Tc={},this.Ec=new Map,this.Ac=jg.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function nW(n,t){return wF.apply(this,arguments)}function wF(){return wF=(0,Ge.Z)(function*(n,t){const e=jF(n);let i,r;const s=e.wc.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.lc();else{const a=yield gv(e.localStore,Bs(t)),u=e.sharedClientState.addLocalQueryTarget(a.targetId);i=a.targetId,r=yield xF(e,t,i,"current"===u,a.resumeToken),e.isPrimaryClient&&U1(e.remoteStore,a)}return r}),wF.apply(this,arguments)}function xF(n,t,e,i,r){return CF.apply(this,arguments)}function CF(){return CF=(0,Ge.Z)(function*(n,t,e,i,r){n.Rc=(x,I,B)=>{return(q=(0,Ge.Z)(function*(ue,ge,Oe,nt){let it=ge.view.sc(Oe);it.zi&&(it=yield F1(ue.localStore,ge.query,!1).then(({documents:jt})=>ge.view.sc(jt,it)));const pt=nt&&nt.targetChanges.get(ge.targetId),zt=ge.view.applyChanges(it,ue.isPrimaryClient,pt);return OF(ue,ge.targetId,zt.cc),zt.snapshot}),function(ue,ge,Oe,nt){return q.apply(this,arguments)})(n,x,I,B);var q};const s=yield F1(n.localStore,t,!0),a=new K4(t,s.ir),u=a.sc(s.documents),f=Sx.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),m=a.applyChanges(u,n.isPrimaryClient,f);OF(n,e,m.cc);const v=new X9(t,e,a);return n.wc.set(t,v),n._c.has(e)?n._c.get(e).push(t):n._c.set(e,[t]),m.snapshot}),CF.apply(this,arguments)}function iW(n,t){return DF.apply(this,arguments)}function DF(){return DF=(0,Ge.Z)(function*(n,t){const e=kt(n),i=e.wc.get(t),r=e._c.get(i.targetId);if(r.length>1)return e._c.set(i.targetId,r.filter(s=>!_x(s,t))),void e.wc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield _v(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),Vx(e.remoteStore,i.targetId),Dv(e,i.targetId)}).catch(hp))):(Dv(e,i.targetId),yield _v(e.localStore,i.targetId,!0))}),DF.apply(this,arguments)}function SF(){return SF=(0,Ge.Z)(function*(n,t,e){const i=qF(n);try{const r=yield function(s,a){const u=kt(s),f=ar.now(),m=a.reduce((I,B)=>I.add(B.key),Nn());let v,x;return u.persistence.runTransaction("Locally write mutations","readwrite",I=>{let B=Ca(),q=Nn();return u.Zi.getEntries(I,m).next(ue=>{B=ue,B.forEach((ge,Oe)=>{Oe.isValidDocument()||(q=q.add(ge))})}).next(()=>u.localDocuments.getOverlayedDocuments(I,B)).next(ue=>{v=ue;const ge=[];for(const Oe of a){const nt=O7(Oe,v.get(Oe.key).overlayedDocument);null!=nt&&ge.push(new gh(Oe.key,nt,WV(nt.value.mapValue),lr.exists(!0)))}return u.mutationQueue.addMutationBatch(I,f,ge,a)}).next(ue=>{x=ue;const ge=ue.applyToLocalDocumentSet(v,q);return u.documentOverlayCache.saveOverlays(I,ue.batchId,ge)})}).then(()=>({batchId:x.batchId,changes:fU(v)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,u){let f=s.Tc[s.currentUser.toKey()];f||(f=new Ni(Tn)),f=f.insert(a,u),s.Tc[s.currentUser.toKey()]=f}(i,r.batchId,e),yield yh(i,r.changes),yield vv(i.remoteStore)}catch(r){const s=wv(r,"Failed to persist write");e.reject(s)}}),SF.apply(this,arguments)}function Q4(n,t){return EF.apply(this,arguments)}function EF(){return EF=(0,Ge.Z)(function*(n,t){const e=kt(n);try{const i=yield function D9(n,t){const e=kt(n),i=t.snapshotVersion;let r=e.Ji;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=e.Zi.newChangeBuffer({trackRemovals:!0});r=e.Ji;const u=[];t.targetChanges.forEach((v,x)=>{const I=r.get(x);if(!I)return;u.push(e.Bs.removeMatchingKeys(s,v.removedDocuments,x).next(()=>e.Bs.addMatchingKeys(s,v.addedDocuments,x)));let B=I.withSequenceNumber(s.currentSequenceNumber);var q,ue,ge;null!==t.targetMismatches.get(x)?B=B.withResumeToken(_o.EMPTY_BYTE_STRING,Jt.min()).withLastLimboFreeSnapshotVersion(Jt.min()):v.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(v.resumeToken,i)),r=r.insert(x,B),ue=B,ge=v,(0===(q=I).resumeToken.approximateByteSize()||ue.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=3e8||ge.addedDocuments.size+ge.modifiedDocuments.size+ge.removedDocuments.size>0)&&u.push(e.Bs.updateTargetData(s,B))});let f=Ca(),m=Nn();if(t.documentUpdates.forEach(v=>{t.resolvedLimboDocuments.has(v)&&u.push(e.persistence.referenceDelegate.updateLimboDocument(s,v))}),u.push(I4(s,a,t.documentUpdates).next(v=>{f=v.nr,m=v.sr})),!i.isEqual(Jt.min())){const v=e.Bs.getLastRemoteSnapshotVersion(s).next(x=>e.Bs.setTargetsMetadata(s,s.currentSequenceNumber,i));u.push(v)}return Ve.waitFor(u).next(()=>a.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,f,m)).next(()=>f)}).then(s=>(e.Ji=r,s))}(e.localStore,t);t.targetChanges.forEach((r,s)=>{const a=e.yc.get(s);a&&(Kt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?a.fc=!0:r.modifiedDocuments.size>0?Kt(a.fc):r.removedDocuments.size>0&&(Kt(a.fc),a.fc=!1))}),yield yh(e,i,t)}catch(i){yield hp(i)}}),EF.apply(this,arguments)}function J4(n,t,e){const i=kt(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.wc.forEach((s,a)=>{const u=a.view.Mu(t);u.snapshot&&r.push(u.snapshot)}),function(s,a){const u=kt(s);u.onlineState=a;let f=!1;u.queries.forEach((m,v)=>{for(const x of v.listeners)x.Mu(a)&&(f=!0)}),f&&vF(u)}(i.eventManager,t),r.length&&i.dc.nu(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function oW(n,t,e){return TF.apply(this,arguments)}function TF(){return TF=(0,Ge.Z)(function*(n,t,e){const i=kt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.yc.get(t),s=r&&r.key;if(s){let a=new Ni(Et.comparator);a=a.insert(s,Ki.newNoDocument(s,Jt.min()));const u=Nn().add(s),f=new Dx(Jt.min(),new Map,new Ni(Tn),a,u);yield Q4(i,f),i.gc=i.gc.remove(s),i.yc.delete(t),PF(i)}else yield _v(i.localStore,t,!1).then(()=>Dv(i,t,e)).catch(hp)}),TF.apply(this,arguments)}function sW(n,t){return AF.apply(this,arguments)}function AF(){return AF=(0,Ge.Z)(function*(n,t){const e=kt(n),i=t.batch.batchId;try{const r=yield function C9(n,t){const e=kt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.Zi.newChangeBuffer({trackRemovals:!0});return function(a,u,f,m){const v=f.batch,x=v.keys();let I=Ve.resolve();return x.forEach(B=>{I=I.next(()=>m.getEntry(u,B)).next(q=>{const ue=f.docVersions.get(B);Kt(null!==ue),q.version.compareTo(ue)<0&&(v.applyToRemoteDocument(q,f),q.isValidDocument()&&(q.setReadTime(f.commitVersion),m.addEntry(q)))})}),I.next(()=>a.mutationQueue.removeMutationBatch(u,v))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let u=Nn();for(let f=0;f<a.mutationResults.length;++f)a.mutationResults[f].transformResults.length>0&&(u=u.add(a.batch.mutations[f].key));return u}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}(e.localStore,t);RF(e,i,null),MF(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield yh(e,r)}catch(r){yield hp(r)}}),AF.apply(this,arguments)}function aW(n,t,e){return IF.apply(this,arguments)}function IF(){return IF=(0,Ge.Z)(function*(n,t,e){const i=kt(n);try{const r=yield function(s,a){const u=kt(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let m;return u.mutationQueue.lookupMutationBatch(f,a).next(v=>(Kt(null!==v),m=v.keys(),u.mutationQueue.removeMutationBatch(f,v))).next(()=>u.mutationQueue.performConsistencyCheck(f)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(f,m,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m)).next(()=>u.localDocuments.getDocuments(f,m))})}(i.localStore,t);RF(i,t,e),MF(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield yh(i,r)}catch(r){yield hp(r)}}),IF.apply(this,arguments)}function kF(){return kF=(0,Ge.Z)(function*(n,t){const e=kt(n);Sp(e.remoteStore)||mt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const a=kt(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",u=>a.mutationQueue.getHighestUnacknowledgedBatchId(u))}(e.localStore);if(-1===i)return void t.resolve();const r=e.Ec.get(i)||[];r.push(t),e.Ec.set(i,r)}catch(i){const r=wv(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),kF.apply(this,arguments)}function MF(n,t){(n.Ec.get(t)||[]).forEach(e=>{e.resolve()}),n.Ec.delete(t)}function RF(n,t,e){const i=kt(n);let r=i.Tc[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.Tc[i.currentUser.toKey()]=r}}function Dv(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n._c.get(t))n.wc.delete(i),e&&n.dc.Pc(i,e);n._c.delete(t),n.isPrimaryClient&&n.Ic.Is(t).forEach(i=>{n.Ic.containsKey(i)||X4(n,i)})}function X4(n,t){n.mc.delete(t.path.canonicalString());const e=n.gc.get(t);null!==e&&(Vx(n.remoteStore,e),n.gc=n.gc.remove(t),n.yc.delete(e),PF(n))}function OF(n,t,e){for(const i of e)i instanceof Y4?(n.Ic.addReference(i.key,t),cW(n,i)):i instanceof W4?(mt("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,t),n.Ic.containsKey(i.key)||X4(n,i.key)):Vt()}function cW(n,t){const e=t.key,i=e.path.canonicalString();n.gc.get(e)||n.mc.has(i)||(mt("SyncEngine","New document in limbo: "+e),n.mc.add(i),PF(n))}function PF(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const t=n.mc.values().next().value;n.mc.delete(t);const e=new Et(ei.fromString(t)),i=n.Ac.next();n.yc.set(i,new eW(e)),n.gc=n.gc.insert(e,i),U1(n.remoteStore,new _h(Bs(av(e.path)),i,"TargetPurposeLimboResolution",sl.ct))}}function yh(n,t,e){return FF.apply(this,arguments)}function FF(){return FF=(0,Ge.Z)(function*(n,t,e){const i=kt(n),r=[],s=[],a=[];var u;i.wc.isEmpty()||(i.wc.forEach((u,f)=>{a.push(i.Rc(f,t,e).then(m=>{if((m||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(f.targetId,m?.fromCache?"not-current":"current"),m){r.push(m);const v=VP.Li(f.targetId,m);s.push(v)}}))}),yield Promise.all(a),i.dc.nu(r),yield(u=(0,Ge.Z)(function*(f,m){const v=kt(f);try{yield v.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>Ve.forEach(m,I=>Ve.forEach(I.Fi,B=>v.persistence.referenceDelegate.addReference(x,I.targetId,B)).next(()=>Ve.forEach(I.Bi,B=>v.persistence.referenceDelegate.removeReference(x,I.targetId,B)))))}catch(x){if(!fp(x))throw x;mt("LocalStore","Failed to update sequence numbers: "+x)}for(const x of m){const I=x.targetId;if(!x.fromCache){const B=v.Ji.get(I),ue=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);v.Ji=v.Ji.insert(I,ue)}}}),function(f,m){return u.apply(this,arguments)})(i.localStore,s))}),FF.apply(this,arguments)}function dW(n,t){return NF.apply(this,arguments)}function NF(){return NF=(0,Ge.Z)(function*(n,t){const e=kt(n);if(!e.currentUser.isEqual(t)){mt("SyncEngine","User change. New user:",t.toKey());const i=yield T4(e.localStore,t);e.currentUser=t,(r=e).Ec.forEach(a=>{a.forEach(u=>{u.reject(new at(je.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield yh(e,i.er)}var r}),NF.apply(this,arguments)}function uW(n,t){const e=kt(n),i=e.yc.get(t);if(i&&i.fc)return Nn().add(i.key);{let r=Nn();const s=e._c.get(t);if(!s)return r;for(const a of s){const u=e.wc.get(a);r=r.unionWith(u.view.nc)}return r}}function hW(n,t){return LF.apply(this,arguments)}function LF(){return LF=(0,Ge.Z)(function*(n,t){const e=kt(n),i=yield F1(e.localStore,t.query,!0),r=t.view.hc(i);return e.isPrimaryClient&&OF(e,t.targetId,r.cc),r}),LF.apply(this,arguments)}function fW(n,t){return BF.apply(this,arguments)}function BF(){return BF=(0,Ge.Z)(function*(n,t){const e=kt(n);return M4(e.localStore,t).then(i=>yh(e,i))}),BF.apply(this,arguments)}function pW(n,t,e,i){return VF.apply(this,arguments)}function VF(){return VF=(0,Ge.Z)(function*(n,t,e,i){const r=kt(n),s=yield function(a,u){const f=kt(a),m=kt(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",v=>m.Sn(v,u).next(x=>x?f.localDocuments.getDocuments(v,x):Ve.resolve(null)))}(r.localStore,t);var u;null!==s?("pending"===e?yield vv(r.remoteStore):"acknowledged"===e||"rejected"===e?(RF(r,t,i||null),MF(r,t),u=t,kt(kt(r.localStore).mutationQueue).Cn(u)):Vt(),yield yh(r,s)):mt("SyncEngine","Cannot apply mutation batch with id: "+t)}),VF.apply(this,arguments)}function UF(){return UF=(0,Ge.Z)(function*(n,t){const e=kt(n);if(jF(e),qF(e),!0===t&&!0!==e.vc){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield e5(e,i.toArray());e.vc=!0,yield hF(e.remoteStore,!0);for(const s of r)U1(e.remoteStore,s)}else if(!1===t&&!1!==e.vc){const i=[];let r=Promise.resolve();e._c.forEach((s,a)=>{e.sharedClientState.isLocalQueryTarget(a)?i.push(a):r=r.then(()=>(Dv(e,a),_v(e.localStore,a,!0))),Vx(e.remoteStore,a)}),yield r,yield e5(e,i),function(s){const a=kt(s);a.yc.forEach((u,f)=>{Vx(a.remoteStore,f)}),a.Ic.Ts(),a.yc=new Map,a.gc=new Ni(Et.comparator)}(e),e.vc=!1,yield hF(e.remoteStore,!1)}}),UF.apply(this,arguments)}function e5(n,t,e){return HF.apply(this,arguments)}function HF(){return HF=(0,Ge.Z)(function*(n,t,e){const i=kt(n),r=[],s=[];for(const a of t){let u;const f=i._c.get(a);if(f&&0!==f.length){u=yield gv(i.localStore,Bs(f[0]));for(const m of f){const v=i.wc.get(m),x=yield hW(i,v);x.snapshot&&s.push(x.snapshot)}}else{const m=yield k4(i.localStore,a);u=yield gv(i.localStore,m),yield xF(i,t5(m),a,!1,u.resumeToken)}r.push(u)}return i.dc.nu(s),r}),HF.apply(this,arguments)}function t5(n){return aU(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function gW(n){const t=kt(n);return kt(kt(t.localStore).persistence).$i()}function _W(n,t,e,i){return GF.apply(this,arguments)}function GF(){return GF=(0,Ge.Z)(function*(n,t,e,i){const r=kt(n);if(r.vc)return void mt("SyncEngine","Ignoring unexpected query state notification.");const s=r._c.get(t);if(s&&s.length>0)switch(e){case"current":case"not-current":{const a=yield M4(r.localStore,dU(s[0])),u=Dx.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,_o.EMPTY_BYTE_STRING);yield yh(r,a,u);break}case"rejected":yield _v(r.localStore,t,!0),Dv(r,t,i);break;default:Vt()}}),GF.apply(this,arguments)}function yW(n,t,e){return zF.apply(this,arguments)}function zF(){return zF=(0,Ge.Z)(function*(n,t,e){const i=jF(n);if(i.vc){for(const r of t){if(i._c.has(r)){mt("SyncEngine","Adding an already active target "+r);continue}const s=yield k4(i.localStore,r),a=yield gv(i.localStore,s);yield xF(i,t5(s),a.targetId,!1,a.resumeToken),U1(i.remoteStore,a)}for(const r of e)i._c.has(r)&&(yield _v(i.localStore,r,!1).then(()=>{Vx(i.remoteStore,r),Dv(i,r)}).catch(hp))}}),zF.apply(this,arguments)}function jF(n){const t=kt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=Q4.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=uW.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=oW.bind(null,t),t.dc.nu=W9.bind(null,t.eventManager),t.dc.Pc=K9.bind(null,t.eventManager),t}function qF(n){const t=kt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=sW.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=aW.bind(null,t),t}class Ux{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,Ge.Z)(function*(){e.serializer=Lx(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return E4(this.persistence,new S4,t.initialUser,this.serializer)}createPersistence(t){return new FP(R1.zs,this.serializer)}createSharedClientState(t){return new F4}terminate(){var t=this;return(0,Ge.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class ZF extends Ux{constructor(t,e,i){super(),this.Vc=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,Ge.Z)(function*(){yield e().call(i,t),yield i.Vc.initialize(i,t),yield qF(i.Vc.syncEngine),yield vv(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return E4(this.persistence,new S4,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){return new g4(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const i=new qY(e,this.persistence);return new jY(t.asyncQueue,i)}createPersistence(t){const e=BP(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?fs.withCacheSize(this.cacheSizeBytes):fs.DEFAULT;return new LP(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,L4(),V1(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new F4}}class n5 extends ZF{constructor(t,e){super(t,e,!1),this.Vc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,Ge.Z)(function*(){yield e().call(i,t);const r=i.Vc.syncEngine;i.sharedClientState instanceof $P&&(i.sharedClientState.syncEngine={jr:pW.bind(null,r),zr:_W.bind(null,r),Wr:yW.bind(null,r),$i:gW.bind(null,r),Qr:fW.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ii(function(){var s=(0,Ge.Z)(function*(a){yield function mW(n,t){return UF.apply(this,arguments)}(i.Vc.syncEngine,a),i.gcScheduler&&(a&&!i.gcScheduler.started?i.gcScheduler.start():a||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(a&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():a||i.indexBackfillerScheduler.stop())});return function(a){return s.apply(this,arguments)}}())})()}createSharedClientState(t){const e=L4();if(!$P.D(e))throw new at(je.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=BP(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new $P(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class Sv{initialize(t,e){var i=this;return(0,Ge.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>J4(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=dW.bind(null,i.syncEngine),yield hF(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new Y9}createDatastore(t){const e=Lx(t.databaseInfo.databaseId),i=new M9(t.databaseInfo);return new P9(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,s=u=>J4(this.syncEngine,u,0),a=N4.D()?new N4:new A9,new L9(e,i,r,s,a);var e,i,r,s,a}createSyncEngine(t,e){return function(i,r,s,a,u,f,m){const v=new tW(i,r,s,a,u,f);return m&&(v.vc=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,Ge.Z)(function*(e){const i=kt(e);mt("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield yv(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function i5(n,t=10240){let e=0;return{read:()=>(0,Ge.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,Ge.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class G1{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Sc(this.observer.next,t)}error(t){this.observer.error?this.Sc(this.observer.error,t):Wr("Uncaught Error in snapshot listener:",t.toString())}Dc(){this.muted=!0}Sc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class wW{constructor(t,e){this.Cc=t,this.serializer=e,this.metadata=new go,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(i=>{i&&i.Qu()?this.metadata.resolve(i.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Gu)}`))},i=>this.metadata.reject(i))}close(){return this.Cc.cancel()}getMetadata(){var t=this;return(0,Ge.Z)(function*(){return t.metadata.promise})()}bc(){var t=this;return(0,Ge.Z)(function*(){return yield t.getMetadata(),t.Nc()})()}Nc(){var t=this;return(0,Ge.Z)(function*(){const e=yield t.kc();if(null===e)return null;const i=t.xc.decode(e),r=Number(i);isNaN(r)&&t.Mc(`length string (${i}) is not valid number`);const s=yield t.$c(r);return new Q9(JSON.parse(s),e.length+r)})()}Oc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}kc(){var t=this;return(0,Ge.Z)(function*(){for(;t.Oc()<0&&!(yield t.Fc()););if(0===t.buffer.length)return null;const e=t.Oc();e<0&&t.Mc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}$c(t){var e=this;return(0,Ge.Z)(function*(){for(;e.buffer.length<t;)(yield e.Fc())&&e.Mc("Reached the end of bundle when more is expected.");const i=e.xc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Mc(t){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${t}`)}Fc(){var t=this;return(0,Ge.Z)(function*(){const e=yield t.Cc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class xW{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,Ge.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new at(je.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Ge.Z)(function*(s,a){const u=kt(s),f=Tx(u.serializer)+"/documents",m={documents:a.map(B=>Ex(u.serializer,B))},v=yield u.vo("BatchGetDocuments",f,m,a.length),x=new Map;v.forEach(B=>{const q=function z7(n,t){return"found"in t?function(e,i){Kt(!!i.found);const r=Zd(e,i.found.name),s=Kr(i.found.updateTime),a=i.found.createTime?Kr(i.found.createTime):Jt.min(),u=new Zo({mapValue:{fields:i.found.fields}});return Ki.newFoundDocument(r,s,a,u)}(n,t):"missing"in t?function(e,i){Kt(!!i.missing),Kt(!!i.readTime);const r=Zd(e,i.missing),s=Kr(i.readTime);return Ki.newNoDocument(r,s)}(n,t):Vt()}(u.serializer,B);x.set(q.key.toString(),q)});const I=[];return a.forEach(B=>{const q=x.get(B.toString());Kt(!!q),I.push(q)}),I}),function(s,a){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new uv(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,Ge.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const s=Et.fromPath(r);t.mutations.push(new gP(s,t.precondition(s)))}),yield(i=(0,Ge.Z)(function*(r,s){const a=kt(r),u=Tx(a.serializer)+"/documents",f={writes:s.map(m=>Ax(a.serializer,m))};yield a.Io("Commit",u,f)}),function(r,s){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Vt();e=Jt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new at(je.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Jt.min())?lr.exists(!1):lr.updateTime(e):lr.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Jt.min()))throw new at(je.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return lr.updateTime(e)}return lr.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class CW{constructor(t,e,i,r,s){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=s,this.Bc=i.maxAttempts,this.qo=new WP(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var t=this;this.qo.No((0,Ge.Z)(function*(){const e=new xW(t.datastore),i=t.qc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(s=>{t.Uc(s)}))}).catch(r=>{t.Uc(r)})}))}qc(t){try{const e=this.updateFunction(t);return!dx(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Uc(t){this.Bc>0&&this.Kc(t)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(t)}Kc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!AU(e)}return!1}}class DW{constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Mo.UNAUTHENTICATED,this.clientId=SV.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var a=(0,Ge.Z)(function*(u){mt("FirestoreClient","Received user=",u.uid),yield s.authCredentialListener(u),s.user=u});return function(u){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(i,a=>(mt("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}getConfiguration(){var t=this;return(0,Ge.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new at(je.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new go;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ge.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=wv(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function z1(n,t){return $F.apply(this,arguments)}function $F(){return $F=(0,Ge.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),mt("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,Ge.Z)(function*(s){i.isEqual(s)||(yield T4(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),$F.apply(this,arguments)}function YF(n,t){return WF.apply(this,arguments)}function WF(){return WF=(0,Ge.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield KF(n);mt("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>j4(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>j4(t.remoteStore,s)),n._onlineComponents=t}),WF.apply(this,arguments)}function r5(n){return"FirebaseError"===n.name?n.code===je.FAILED_PRECONDITION||n.code===je.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function KF(n){return QF.apply(this,arguments)}function QF(){return QF=(0,Ge.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){mt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield z1(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!r5(e))throw e;ql("Error using user provided cache. Falling back to memory cache: "+e),yield z1(n,new Ux)}}else mt("FirestoreClient","Using default OfflineComponentProvider"),yield z1(n,new Ux);return n._offlineComponents}),QF.apply(this,arguments)}function j1(n){return JF.apply(this,arguments)}function JF(){return JF=(0,Ge.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(mt("FirestoreClient","Using user provided OnlineComponentProvider"),yield YF(n,n._uninitializedComponentsProvider._online)):(mt("FirestoreClient","Using default OnlineComponentProvider"),yield YF(n,new Sv))),n._onlineComponents}),JF.apply(this,arguments)}function o5(n){return KF(n).then(t=>t.persistence)}function q1(n){return KF(n).then(t=>t.localStore)}function s5(n){return j1(n).then(t=>t.remoteStore)}function XF(n){return j1(n).then(t=>t.syncEngine)}function Ev(n){return e2.apply(this,arguments)}function e2(){return e2=(0,Ge.Z)(function*(n){const t=yield j1(n),e=t.eventManager;return e.onListen=nW.bind(null,t.syncEngine),e.onUnlisten=iW.bind(null,t.syncEngine),e}),e2.apply(this,arguments)}function l5(n,t,e={}){const i=new go;return n.asyncQueue.enqueueAndForget((0,Ge.Z)(function*(){return function(r,s,a,u,f){const m=new G1({next:x=>{s.enqueueAndForget(()=>_F(r,v));const I=x.docs.has(a);!I&&x.fromCache?f.reject(new at(je.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&x.fromCache&&u&&"server"===u.source?f.reject(new at(je.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(x)},error:x=>f.reject(x)}),v=new bF(av(a.path),m,{includeMetadataChanges:!0,Ku:!0});return mF(r,v)}(yield Ev(n),n.asyncQueue,t,e,i)})),i.promise}function c5(n,t,e={}){const i=new go;return n.asyncQueue.enqueueAndForget((0,Ge.Z)(function*(){return function(r,s,a,u,f){const m=new G1({next:x=>{s.enqueueAndForget(()=>_F(r,v)),x.fromCache&&"server"===u.source?f.reject(new at(je.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(x)},error:x=>f.reject(x)}),v=new bF(a,m,{includeMetadataChanges:!0,Ku:!0});return mF(r,v)}(yield Ev(n),n.asyncQueue,t,e,i)})),i.promise}function d5(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const u5=new Map;function t2(n,t,e){if(!e)throw new at(je.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function h5(n,t,e,i){if(!0===t&&!0===i)throw new at(je.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function f5(n){if(!Et.isDocumentKey(n))throw new at(je.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function p5(n){if(Et.isDocumentKey(n))throw new at(je.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Z1(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":Vt()}function Wn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new at(je.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Z1(n);throw new at(je.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function m5(n,t){if(t<=0)throw new at(je.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class g5{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new at(je.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new at(je.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}h5("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=d5(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new at(je.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new at(je.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new at(je.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Hx{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new g5({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new at(je.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new at(je.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new g5(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new RY;switch(e.type){case"firstParty":return new NY(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new at(je.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=u5.get(t);e&&(mt("ComponentProvider","Removing Datastore"),u5.delete(t),e.terminate())}(this),Promise.resolve()}}class Qi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $d(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Qi(this.firestore,t,this._key)}}class $o{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new $o(this.firestore,t,this._query)}}class $d extends $o{constructor(t,e,i){super(t,e,av(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Qi(this.firestore,null,new Et(t))}withConverter(t){return new $d(this.firestore,t,this._path)}}function y5(n,t,...e){if(n=(0,ne.m9)(n),t2("collection","path",t),n instanceof Hx){const i=ei.fromString(t,...e);return p5(i),new $d(n,null,i)}{if(!(n instanceof Qi||n instanceof $d))throw new at(je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ei.fromString(t,...e));return p5(i),new $d(n.firestore,null,i)}}function $1(n,t,...e){if(n=(0,ne.m9)(n),1===arguments.length&&(t=SV.A()),t2("doc","path",t),n instanceof Hx){const i=ei.fromString(t,...e);return f5(i),new Qi(n,null,new Et(i))}{if(!(n instanceof Qi||n instanceof $d))throw new at(je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ei.fromString(t,...e));return f5(i),new Qi(n.firestore,n instanceof $d?n.converter:null,new Et(i))}}function v5(n,t){return n=(0,ne.m9)(n),t=(0,ne.m9)(t),(n instanceof Qi||n instanceof $d)&&(t instanceof Qi||t instanceof $d)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function n2(n,t){return n=(0,ne.m9)(n),t=(0,ne.m9)(t),n instanceof $o&&t instanceof $o&&n.firestore===t.firestore&&_x(n._query,t._query)&&n.converter===t.converter}class PW{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new WP(this,"async_queue_retry"),this.Xc=()=>{const e=V1();e&&mt("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const t=V1();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Zc(),this.ta(t)}enterRestrictedMode(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;const e=V1();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Xc)}}enqueue(t){if(this.Zc(),this.jc)return new Promise(()=>{});const e=new go;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qc.push(t),this.ea()))}ea(){var t=this;return(0,Ge.Z)(function*(){if(0!==t.Qc.length){try{yield t.Qc[0](),t.Qc.shift(),t.qo.reset()}catch(e){if(!fp(e))throw e;mt("AsyncQueue","Operation failed with retryable error: "+e)}t.Qc.length>0&&t.qo.No(()=>t.ea())}})()}ta(t){const e=this.Gc.then(()=>(this.Hc=!0,t().catch(i=>{throw this.Wc=i,this.Hc=!1,Wr("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=e,e}enqueueAfterDelay(t,e,i){this.Zc(),this.Yc.indexOf(t)>-1&&(e=0);const r=pF.createAndSchedule(this,t,e,i,s=>this.na(s));return this.zc.push(r),r}Zc(){this.Wc&&Vt()}verifyOperationInProgress(){}sa(){var t=this;return(0,Ge.Z)(function*(){let e;do{e=t.Gc,yield e}while(e!==t.Gc)})()}ia(t){for(const e of this.zc)if(e.timerId===t)return!0;return!1}ra(t){return this.sa().then(()=>{this.zc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.zc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.sa()})}oa(t){this.Yc.push(t)}na(t){const e=this.zc.indexOf(t);this.zc.splice(e,1)}}function r2(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class FW{constructor(){this._progressObserver={},this._taskCompletionResolver=new go,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Ji extends Hx{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new PW,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||b5(this),this._firestoreClient.terminate()}}function Qr(n){return n._firestoreClient||b5(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function b5(n){var t,e,i;const r=n._freezeSettings(),s=(u=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new h7(n._databaseId,u,n._persistenceKey,(m=r).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,d5(m.experimentalLongPollingOptions),m.useFetchStreams));var u,m;n._firestoreClient=new DW(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(e=r.cache)&&void 0!==e&&e._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function w5(n,t,e){const i=new go;return n.asyncQueue.enqueue((0,Ge.Z)(function*(){try{yield z1(n,e),yield YF(n,t),i.resolve()}catch(r){const s=r;if(!r5(s))throw s;ql("Error enabling indexeddb cache. Falling back to memory cache: "+s),i.reject(s)}})).then(()=>i.promise)}function x5(n){if(n._initialized||n._terminated)throw new at(je.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Yd{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Yd(_o.fromBase64String(t))}catch(e){throw new at(je.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Yd(_o.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class vh{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new at(je.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Zg{constructor(t){this._methodName=t}}class Y1{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new at(je.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new at(je.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Tn(this._lat,t._lat)||Tn(this._long,t._long)}}const ZW=/^__.*__$/;class $W{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new gh(t,this.data,this.fieldMask,e,this.fieldTransforms):new dv(t,this.data,e,this.fieldTransforms)}}class C5{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new gh(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function D5(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Vt()}}class W1{constructor(t,e,i,r,s,a){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(t){return new W1(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.aa({path:i,la:!1});return r.fa(t),r}da(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.aa({path:i,la:!1});return r.ua(),r}wa(t){return this.aa({path:void 0,la:!0})}_a(t){return J1(t,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}ua(){if(this.path)for(let t=0;t<this.path.length;t++)this.fa(this.path.get(t))}fa(t){if(0===t.length)throw this._a("Document fields must not be empty");if(D5(this.ca)&&ZW.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class YW{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Lx(t)}ya(t,e,i,r=!1){return new W1({ca:t,methodName:e,ga:i,path:Pr.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $g(n){const t=n._freezeSettings(),e=Lx(n._databaseId);return new YW(n._databaseId,!!t.ignoreUndefinedProperties,e)}function K1(n,t,e,i,r,s={}){const a=n.ya(s.merge||s.mergeFields?2:0,t,e,r);l2("Data must be an object, but it was:",a,i);const u=T5(i,a);let f,m;if(s.merge)f=new xa(a.fieldMask),m=a.fieldTransforms;else if(s.mergeFields){const v=[];for(const x of s.mergeFields){const I=jx(t,x,e);if(!a.contains(I))throw new at(je.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);I5(v,I)||v.push(I)}f=new xa(v),m=a.fieldTransforms.filter(x=>f.covers(x.field))}else f=null,m=a.fieldTransforms;return new $W(new Zo(u),f,m)}class zx extends Zg{_toFieldTransform(t){if(2!==t.ca)throw t._a(1===t.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof zx}}function S5(n,t,e){return new W1({ca:3,ga:t.settings.ga,methodName:n._methodName,la:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class o2 extends Zg{_toFieldTransform(t){return new wx(t.path,new lv)}isEqual(t){return t instanceof o2}}class WW extends Zg{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=S5(this,t,!0),i=this.pa.map(s=>Yg(s,e)),r=new Lg(i);return new wx(t.path,r)}isEqual(t){return this===t}}class KW extends Zg{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=S5(this,t,!0),i=this.pa.map(s=>Yg(s,e)),r=new Bg(i);return new wx(t.path,r)}isEqual(t){return this===t}}class QW extends Zg{constructor(t,e){super(t),this.Ia=e}_toFieldTransform(t){const e=new cv(t.serializer,_U(t.serializer,this.Ia));return new wx(t.path,e)}isEqual(t){return this===t}}function s2(n,t,e,i){const r=n.ya(1,t,e);l2("Data must be an object, but it was:",r,i);const s=[],a=Zo.empty();pp(i,(f,m)=>{const v=Q1(t,f,e);m=(0,ne.m9)(m);const x=r.da(v);if(m instanceof zx)s.push(v);else{const I=Yg(m,x);null!=I&&(s.push(v),a.set(v,I))}});const u=new xa(s);return new C5(a,u,r.fieldTransforms)}function a2(n,t,e,i,r,s){const a=n.ya(1,t,e),u=[jx(t,i,e)],f=[r];if(s.length%2!=0)throw new at(je.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<s.length;I+=2)u.push(jx(t,s[I])),f.push(s[I+1]);const m=[],v=Zo.empty();for(let I=u.length-1;I>=0;--I)if(!I5(m,u[I])){const B=u[I];let q=f[I];q=(0,ne.m9)(q);const ue=a.da(B);if(q instanceof zx)m.push(B);else{const ge=Yg(q,ue);null!=ge&&(m.push(B),v.set(B,ge))}}const x=new xa(m);return new C5(v,x,a.fieldTransforms)}function E5(n,t,e,i=!1){return Yg(e,n.ya(i?4:3,t))}function Yg(n,t){if(A5(n=(0,ne.m9)(n)))return l2("Unsupported field value:",t,n),T5(n,t);if(n instanceof Zg)return function(e,i){if(!D5(i.ca))throw i._a(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,i){const r=[];let s=0;for(const a of e){let u=Yg(a,i.wa(s));null==u&&(u={nullValue:"NULL_VALUE"}),r.push(u),s++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,ne.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return _U(i.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=ar.fromDate(e);return{timestampValue:hv(i.serializer,r)}}if(e instanceof ar){const r=new ar(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:hv(i.serializer,r)}}if(e instanceof Y1)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Yd)return{bytesValue:BU(i.serializer,e._byteString)};if(e instanceof Qi){const r=i.databaseId,s=e.firestore._databaseId;if(!s.isEqual(r))throw i._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:CP(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i._a(`Unsupported field value: ${Z1(e)}`)}(n,t)}function T5(n,t){const e={};return UV(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):pp(n,(i,r)=>{const s=Yg(r,t.ha(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function A5(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ar||n instanceof Y1||n instanceof Yd||n instanceof Qi||n instanceof Zg)}function l2(n,t,e){if(!A5(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=Z1(e);throw t._a("an object"===i?n+" a custom object":n+" "+i)}var i}function jx(n,t,e){if((t=(0,ne.m9)(t))instanceof vh)return t._internalPath;if("string"==typeof t)return Q1(n,t);throw J1("Field path arguments must be of type string or ",n,!1,void 0,e)}const JW=new RegExp("[~\\*/\\[\\]]");function Q1(n,t,e){if(t.search(JW)>=0)throw J1(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new vh(...t.split("."))._internalPath}catch{throw J1(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function J1(n,t,e,i,r){const s=i&&!i.isEmpty(),a=void 0!==r;let u=`Function ${t}() called with invalid data`;e&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(s||a)&&(f+=" (found",s&&(f+=` in field ${i}`),a&&(f+=` in document ${r}`),f+=")"),new at(je.INVALID_ARGUMENT,u+n+f)}function I5(n,t){return n.some(e=>e.isEqual(t))}class qx{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Qi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new XW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(X1("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class XW extends qx{data(){return super.data()}}function X1(n,t){return"string"==typeof t?Q1(n,t):t instanceof vh?t._internalPath:t._delegate._internalPath}function k5(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new at(je.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class c2{}class Zx extends c2{}function Tp(n,t,...e){let i=[];t instanceof c2&&i.push(t),i=i.concat(e),function(r){const s=r.filter(u=>u instanceof Tv).length,a=r.filter(u=>u instanceof $x).length;if(s>1||s>0&&a>0)throw new at(je.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class $x extends Zx{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new $x(t,e,i)}_apply(t){const e=this._parse(t);return P5(t._query,e),new $o(t.firestore,t.converter,fP(t._query,e))}_parse(t){const e=$g(t.firestore);return function(r,s,a,u,f,m,v){let x;if(f.isKeyField()){if("array-contains"===m||"array-contains-any"===m)throw new at(je.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if("in"===m||"not-in"===m){O5(v,m);const I=[];for(const B of v)I.push(R5(u,r,B));x={arrayValue:{values:I}}}else x=R5(u,r,v)}else"in"!==m&&"not-in"!==m&&"array-contains-any"!==m||O5(v,m),x=E5(a,"where",v,"in"===m||"not-in"===m);return Yn.create(f,m,x)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class Tv extends c2{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Tv(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:Ci.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(i,r){let s=i;const a=r.getFlattenedFilters();for(const u of a)P5(s,u),s=fP(s,u)}(t._query,e),new $o(t.firestore,t.converter,fP(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class d2 extends Zx{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new d2(t,e)}_apply(t){const e=function(i,r,s){if(null!==i.startAt)throw new at(je.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new at(je.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new ov(r,s);return function(u,f){if(null===uP(u)){const m=_1(u);null!==m&&F5(0,m,f.field)}}(i,a),a}(t._query,this._field,this._direction);return new $o(t.firestore,t.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new ph(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class eA extends Zx{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new eA(t,e,i)}_apply(t){return new $o(t.firestore,t.converter,y1(t._query,this._limit,this._limitType))}}class tA extends Zx{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new tA(t,e,i)}_apply(t){const e=M5(t,this.type,this._docOrFields,this._inclusive);return new $o(t.firestore,t.converter,(r=e,new ph((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class nA extends Zx{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new nA(t,e,i)}_apply(t){const e=M5(t,this.type,this._docOrFields,this._inclusive);return new $o(t.firestore,t.converter,(r=e,new ph((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function M5(n,t,e,i){if(e[0]=(0,ne.m9)(e[0]),e[0]instanceof qx)return function(r,s,a,u,f){if(!u)throw new at(je.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const m=[];for(const v of Ng(r))if(v.field.isKeyField())m.push(Pg(s,u.key));else{const x=u.data.field(v.field);if(d1(x))throw new at(je.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+v.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const I=v.field.canonicalString();throw new at(je.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${I}' (used as the orderBy) does not exist.`)}m.push(x)}return new bp(m,f)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=$g(n.firestore);return function(s,a,u,f,m,v){const x=s.explicitOrderBy;if(m.length>x.length)throw new at(je.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const I=[];for(let B=0;B<m.length;B++){const q=m[B];if(x[B].field.isKeyField()){if("string"!=typeof q)throw new at(je.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof q}`);if(!hP(s)&&-1!==q.indexOf("/"))throw new at(je.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${q}' contains a slash.`);const ue=s.path.child(ei.fromString(q));if(!Et.isDocumentKey(ue))throw new at(je.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${ue}' is not because it contains an odd number of segments.`);const ge=new Et(ue);I.push(Pg(a,ge))}else{const ue=E5(u,f,q);I.push(ue)}}return new bp(I,v)}(n._query,n.firestore._databaseId,r,t,e,i)}}function R5(n,t,e){if("string"==typeof(e=(0,ne.m9)(e))){if(""===e)throw new at(je.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hP(t)&&-1!==e.indexOf("/"))throw new at(je.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(ei.fromString(e));if(!Et.isDocumentKey(i))throw new at(je.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Pg(n,new Et(i))}if(e instanceof Qi)return Pg(n,e._key);throw new at(je.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Z1(e)}.`)}function O5(n,t){if(!Array.isArray(n)||0===n.length)throw new at(je.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function P5(n,t){if(t.isInequality()){const i=_1(n),r=t.field;if(null!==i&&!i.isEqual(r))throw new at(je.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const s=uP(n);null!==s&&F5(0,r,s)}const e=function(i,r){for(const s of i)for(const a of s.getFlattenedFilters())if(r.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new at(je.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function F5(n,t,e){if(!e.isEqual(t))throw new at(je.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class u2{convertValue(t,e="none"){switch(yp(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Fr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(fh(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Vt()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return pp(t,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new Y1(Fr(t.latitude),Fr(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=u1(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(hx(t));default:return null}}convertTimestamp(t){const e=mp(t);return new ar(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=ei.fromString(t);Kt(YU(i));const r=new gp(i.get(1),i.get(3)),s=new Et(i.popFirst(5));return r.isEqual(e)||Wr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}function iA(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class lK extends u2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Yd(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Qi(this.firestore,null,e)}}class Wg{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class bh extends qx{constructor(t,e,i,r,s,a){super(t,e,i,r,a),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Yx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(X1("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class Yx extends bh{data(t={}){return super.data(t)}}class Ap{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Wg(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Yx(this._firestore,this._userDataWriter,i.key,i,new Wg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new at(je.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new Yx(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Wg(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>r||3!==a.type).map(a=>{const u=new Yx(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Wg(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,m=-1;return 0!==a.type&&(f=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),m=s.indexOf(a.doc.key)),{type:dK(a.type),doc:u,oldIndex:f,newIndex:m}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function dK(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Vt()}}function L5(n,t){return n instanceof bh&&t instanceof bh?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Ap&&t instanceof Ap&&n._firestore===t._firestore&&n2(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class Ip extends u2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Yd(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Qi(this.firestore,null,e)}}function B5(n,t,e){n=Wn(n,Qi);const i=Wn(n.firestore,Ji),r=iA(n.converter,t,e);return Av(i,[K1($g(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,lr.none())])}function V5(n,t,e,...i){n=Wn(n,Qi);const r=Wn(n.firestore,Ji),s=$g(r);let a;return a="string"==typeof(t=(0,ne.m9)(t))||t instanceof vh?a2(s,"updateDoc",n._key,t,e,i):s2(s,"updateDoc",n._key,t),Av(r,[a.toMutation(n._key,lr.exists(!0))])}function U5(n,...t){var e,i,r;n=(0,ne.m9)(n);let s={includeMetadataChanges:!1},a=0;"object"!=typeof t[a]||r2(t[a])||(s=t[a],a++);const u={includeMetadataChanges:s.includeMetadataChanges};if(r2(t[a])){const x=t[a];t[a]=null===(e=x.next)||void 0===e?void 0:e.bind(x),t[a+1]=null===(i=x.error)||void 0===i?void 0:i.bind(x),t[a+2]=null===(r=x.complete)||void 0===r?void 0:r.bind(x)}let f,m,v;if(n instanceof Qi)m=Wn(n.firestore,Ji),v=av(n._key.path),f={next:x=>{t[a]&&t[a](h2(m,n,x))},error:t[a+1],complete:t[a+2]};else{const x=Wn(n,$o);m=Wn(x.firestore,Ji),v=x._query;const I=new Ip(m);f={next:B=>{t[a]&&t[a](new Ap(m,I,x,B))},error:t[a+1],complete:t[a+2]},k5(n._query)}return function(x,I,B,q){const ue=new G1(q),ge=new bF(I,ue,B);return x.asyncQueue.enqueueAndForget((0,Ge.Z)(function*(){return mF(yield Ev(x),ge)})),()=>{ue.Dc(),x.asyncQueue.enqueueAndForget((0,Ge.Z)(function*(){return _F(yield Ev(x),ge)}))}}(Qr(m),v,u,f)}function Av(n,t){return function(e,i){const r=new go;return e.asyncQueue.enqueueAndForget((0,Ge.Z)(function*(){return function rW(n,t,e){return SF.apply(this,arguments)}(yield XF(e),i,r)})),r.promise}(Qr(n),t)}function h2(n,t,e){const i=e.docs.get(t._key),r=new Ip(n);return new bh(n,r,t._key,i,new Wg(e.hasPendingWrites,e.fromCache),t.converter)}const AK={maxAttempts:5};class H5{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=$g(t)}set(t,e,i){this._verifyNotCommitted();const r=kp(t,this._firestore),s=iA(r.converter,e,i),a=K1(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(a.toMutation(r._key,lr.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const s=kp(t,this._firestore);let a;return a="string"==typeof(e=(0,ne.m9)(e))||e instanceof vh?a2(this._dataReader,"WriteBatch.update",s._key,e,i,r):s2(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(a.toMutation(s._key,lr.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=kp(t,this._firestore);return this._mutations=this._mutations.concat(new uv(e._key,lr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new at(je.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function kp(n,t){if((n=(0,ne.m9)(n)).firestore!==t)throw new at(je.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class IK extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=$g(t)}get(t){const e=kp(t,this._firestore),i=new lK(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return Vt();const s=r[0];if(s.isFoundDocument())return new qx(this._firestore,i,s.key,s,e.converter);if(s.isNoDocument())return new qx(this._firestore,i,e._key,null,e.converter);throw Vt()})}set(t,e,i){const r=kp(t,this._firestore),s=iA(r.converter,e,i),a=K1(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,a),this}update(t,e,i,...r){const s=kp(t,this._firestore);let a;return a="string"==typeof(e=(0,ne.m9)(e))||e instanceof vh?a2(this._dataReader,"Transaction.update",s._key,e,i,r):s2(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,a),this}delete(t){const e=kp(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=kp(t,this._firestore),i=new Ip(this._firestore);return super.get(t).then(r=>new bh(this._firestore,i,e._key,r._document,new Wg(!1,!1),e.converter))}}!function(n,t=!0){tv=ko.SDK_VERSION,(0,ko._registerComponent)(new ya.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const s=e.getProvider("app").getImmediate(),a=new Ji(new PY(e.getProvider("auth-internal")),new LY(e.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new at(je.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gp(u.options.projectId,f)}(s,i),s);return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a},"PUBLIC").setMultipleInstances(!0)),(0,ko.registerVersion)(xV,"3.13.0",n),(0,ko.registerVersion)(xV,"3.13.0","esm2017")}();function f2(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new at("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function z5(){if(typeof Uint8Array>"u")throw new at("unimplemented","Uint8Arrays are not available in this environment.")}function j5(){if(!function d7(){return typeof atob<"u"}())throw new at("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Wx{constructor(t){this._delegate=t}static fromBase64String(t){return j5(),new Wx(Yd.fromBase64String(t))}static fromUint8Array(t){return z5(),new Wx(Yd.fromUint8Array(t))}toBase64(){return j5(),this._delegate.toBase64()}toUint8Array(){return z5(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function p2(n){return function BK(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class VK{enableIndexedDbPersistence(t,e){return function LW(n,t){x5(n=Wn(n,Ji));const e=Qr(n);if(e._uninitializedComponentsProvider)throw new at(je.FAILED_PRECONDITION,"SDK cache is already specified.");ql("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new Sv;return w5(e,r,new ZF(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function BW(n){x5(n=Wn(n,Ji));const t=Qr(n);if(t._uninitializedComponentsProvider)throw new at(je.FAILED_PRECONDITION,"SDK cache is already specified.");ql("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings(),i=new Sv;return w5(t,i,new n5(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function VW(n){if(n._initialized&&!n._terminated)throw new at(je.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new go;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ge.Z)(function*(){try{yield(e=(0,Ge.Z)(function*(i){if(!Bc.D())return Promise.resolve();const r=i+"main";yield Bc.delete(r)}),function(i){return e.apply(this,arguments)})(BP(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class q5{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof gp||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&ql("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function _5(n,t,e,i={}){var r;const s=(n=Wn(n,Hx))._getSettings(),a=`${t}:${e}`;if("firestore.googleapis.com"!==s.host&&s.host!==a&&ql("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),i.mockUserToken){let u,f;if("string"==typeof i.mockUserToken)u=i.mockUserToken,f=Mo.MOCK_USER;else{u=(0,ne.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new at(je.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Mo(m)}n._authCredentials=new OY(new CV(u,f))}}(this._delegate,t,e,i)}enableNetwork(){return function HW(n){return function SW(n){return n.asyncQueue.enqueue((0,Ge.Z)(function*(){const t=yield o5(n),e=yield s5(n);return t.setNetworkEnabled(!0),function(i){const r=kt(i);return r.vu.delete(0),Bx(r)}(e)}))}(Qr(n=Wn(n,Ji)))}(this._delegate)}disableNetwork(){return function GW(n){return function EW(n){return n.asyncQueue.enqueue((0,Ge.Z)(function*(){const t=yield o5(n),e=yield s5(n);return t.setNetworkEnabled(!1),(i=(0,Ge.Z)(function*(r){const s=kt(r);s.vu.add(0),yield yv(s),s.bu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(Qr(n=Wn(n,Ji)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,h5("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function UW(n){return function(t){const e=new go;return t.asyncQueue.enqueueAndForget((0,Ge.Z)(function*(){return function lW(n,t){return kF.apply(this,arguments)}(yield XF(t),e)})),e.promise}(Qr(n=Wn(n,Ji)))}(this._delegate)}onSnapshotsInSync(t){return function vK(n,t){return function IW(n,t){const e=new G1(t);return n.asyncQueue.enqueueAndForget((0,Ge.Z)(function*(){return i=yield Ev(n),r=e,kt(i).ku.add(r),void r.next();var i,r})),()=>{e.Dc(),n.asyncQueue.enqueueAndForget((0,Ge.Z)(function*(){return i=yield Ev(n),r=e,void kt(i).ku.delete(r);var i,r}))}}(Qr(n=Wn(n,Ji)),r2(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new at("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Iv(this,y5(this._delegate,t))}catch(e){throw Vs(e,"collection()","Firestore.collection()")}}doc(t){try{return new Zl(this,$1(this._delegate,t))}catch(e){throw Vs(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Us(this,function OW(n,t){if(n=Wn(n,Hx),t2("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new at(je.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new $o(n,null,(e=t,new ph(ei.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Vs(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function kK(n,t,e){n=Wn(n,Ji);const i=Object.assign(Object.assign({},AK),e);return function(r){if(r.maxAttempts<1)throw new at(je.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,s,a){const u=new go;return r.asyncQueue.enqueueAndForget((0,Ge.Z)(function*(){const f=yield function a5(n){return j1(n).then(t=>t.datastore)}(r);new CW(r.asyncQueue,f,a,s,u).run()})),u.promise}(Qr(n),r=>t(new IK(n,r)),i)}(this._delegate,e=>t(new Z5(this,e)))}batch(){return Qr(this._delegate),new $5(new H5(this._delegate,t=>Av(this._delegate,t)))}loadBundle(t){return function zW(n,t){const e=Qr(n=Wn(n,Ji)),i=new FW;return function kW(n,t,e,i){const r=function(s,a){let u;return u="string"==typeof s?kU().encode(s):s,f=function(f,m){if(f instanceof Uint8Array)return i5(f,m);if(f instanceof ArrayBuffer)return i5(new Uint8Array(f),m);if(f instanceof ReadableStream)return f.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(u),new wW(f,a);var f}(e,Lx(t));n.asyncQueue.enqueueAndForget((0,Ge.Z)(function*(){!function vW(n,t,e){const i=kt(n);var r;(r=(0,Ge.Z)(function*(s,a,u){try{const f=yield a.getMetadata();if(yield function(I,B){const q=kt(I),ue=Kr(B.createTime);return q.persistence.runTransaction("hasNewerBundle","readonly",ge=>q.qs.getBundleMetadata(ge,B.id)).then(ge=>!!ge&&ge.createTime.compareTo(ue)>=0)}(s.localStore,f))return yield a.close(),u._completeWith({taskState:"Success",documentsLoaded:(I=f).totalDocuments,bytesLoaded:I.totalBytes,totalDocuments:I.totalDocuments,totalBytes:I.totalBytes}),Promise.resolve(new Set);u._updateProgress($4(f));const m=new J9(f,s.localStore,a.serializer);let v=yield a.bc();for(;v;){const I=yield m.zu(v);I&&u._updateProgress(I),v=yield a.bc()}const x=yield m.complete();return yield yh(s,x.Ju,void 0),yield function(I,B){const q=kt(I);return q.persistence.runTransaction("Save bundle","readwrite",ue=>q.qs.saveBundleMetadata(ue,B))}(s.localStore,f),u._completeWith(x.progress),Promise.resolve(x.Hu)}catch(f){return ql("SyncEngine",`Loading bundle failed with ${f}`),u._failWith(f),Promise.resolve(new Set)}var I}),function(s,a,u){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield XF(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function jW(n,t){return function MW(n,t){return n.asyncQueue.enqueue((0,Ge.Z)(function*(){return function(e,i){const r=kt(e);return r.persistence.runTransaction("Get named query","readonly",s=>r.qs.getNamedQuery(s,i))}(yield q1(n),t)}))}(Qr(n=Wn(n,Ji)),t).then(e=>e?new $o(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Us(this,e):null)}}class rA extends u2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Wx(new Yd(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Zl.forKey(e,this.firestore,null)}}class Z5{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new rA(t)}get(t){const e=Qg(t);return this._delegate.get(e).then(i=>new Kx(this._firestore,new bh(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=Qg(t);return i?(f2("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=Qg(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=Qg(t);return this._delegate.delete(e),this}}class $5{constructor(t){this._delegate=t}set(t,e,i){const r=Qg(t);return i?(f2("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=Qg(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=Qg(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Kg{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new Yx(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Qx(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=Kg.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let s=r.get(e);return s||(s=new Kg(t,new rA(t),e),r.set(e,s)),s}}Kg.INSTANCES=new WeakMap;class Zl{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new rA(t)}static forPath(t,e,i){if(t.length%2!=0)throw new at("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Zl(e,new Qi(e._delegate,i,new Et(t)))}static forKey(t,e,i){return new Zl(e,new Qi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new Iv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Iv(this.firestore,y5(this._delegate,t))}catch(e){throw Vs(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,ne.m9)(t))instanceof Qi&&v5(this._delegate,t)}set(t,e){e=f2("DocumentReference.set",e);try{return e?B5(this._delegate,t,e):B5(this._delegate,t)}catch(i){throw Vs(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?V5(this._delegate,t):V5(this._delegate,t,e,...i)}catch(r){throw Vs(r,"updateDoc()","DocumentReference.update()")}}delete(){return function _K(n){return Av(Wn(n.firestore,Ji),[new uv(n._key,lr.none())])}(this._delegate)}onSnapshot(...t){const e=Y5(t),i=W5(t,r=>new Kx(this.firestore,new bh(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return U5(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function hK(n){n=Wn(n,Qi);const t=Wn(n.firestore,Ji),e=Qr(t),i=new Ip(t);return function TW(n,t){const e=new go;return n.asyncQueue.enqueueAndForget((0,Ge.Z)(function*(){return(i=(0,Ge.Z)(function*(r,s,a){try{const u=yield function(f,m){const v=kt(f);return v.persistence.runTransaction("read document","readonly",x=>v.localDocuments.getDocument(x,m))}(r,s);u.isFoundDocument()?a.resolve(u):u.isNoDocument()?a.resolve(null):a.reject(new at(je.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const f=wv(u,`Failed to get document '${s} from cache`);a.reject(f)}}),function(r,s,a){return i.apply(this,arguments)})(yield q1(n),t,e);var i})),e.promise}(e,n._key).then(r=>new bh(t,i,n._key,r,new Wg(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function fK(n){n=Wn(n,Qi);const t=Wn(n.firestore,Ji);return l5(Qr(t),n._key,{source:"server"}).then(e=>h2(t,n,e))}(this._delegate):function uK(n){n=Wn(n,Qi);const t=Wn(n.firestore,Ji);return l5(Qr(t),n._key).then(e=>h2(t,n,e))}(this._delegate),e.then(i=>new Kx(this.firestore,new bh(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Zl(this.firestore,this._delegate.withConverter(t?Kg.getInstance(this.firestore,t):null))}}function Vs(n,t,e){return n.message=n.message.replace(t,e),n}function Y5(n){for(const t of n)if("object"==typeof t&&!p2(t))return t;return{}}function W5(n,t){var e,i;let r;return r=p2(n[0])?n[0]:p2(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(t(s))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Kx{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Zl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return L5(this._delegate,t._delegate)}}class Qx extends Kx{data(t){const e=this._delegate.data(t);return function MY(n,t){n||Vt()}(void 0!==e),e}}class Us{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new rA(t)}where(t,e,i){try{return new Us(this.firestore,Tp(this._delegate,function eK(n,t,e){const i=t,r=X1("where",n);return $x._create(r,i,e)}(t,e,i)))}catch(r){throw Vs(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Us(this.firestore,Tp(this._delegate,function tK(n,t="asc"){const e=t,i=X1("orderBy",n);return d2._create(i,e)}(t,e)))}catch(i){throw Vs(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Us(this.firestore,Tp(this._delegate,function nK(n){return m5("limit",n),eA._create("limit",n,"F")}(t)))}catch(e){throw Vs(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Us(this.firestore,Tp(this._delegate,function iK(n){return m5("limitToLast",n),eA._create("limitToLast",n,"L")}(t)))}catch(e){throw Vs(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Us(this.firestore,Tp(this._delegate,function rK(...n){return tA._create("startAt",n,!0)}(...t)))}catch(e){throw Vs(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Us(this.firestore,Tp(this._delegate,function oK(...n){return tA._create("startAfter",n,!1)}(...t)))}catch(e){throw Vs(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Us(this.firestore,Tp(this._delegate,function sK(...n){return nA._create("endBefore",n,!1)}(...t)))}catch(e){throw Vs(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Us(this.firestore,Tp(this._delegate,function aK(...n){return nA._create("endAt",n,!0)}(...t)))}catch(e){throw Vs(e,"endAt()","Query.endAt()")}}isEqual(t){return n2(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function mK(n){n=Wn(n,$o);const t=Wn(n.firestore,Ji),e=Qr(t),i=new Ip(t);return function AW(n,t){const e=new go;return n.asyncQueue.enqueueAndForget((0,Ge.Z)(function*(){return(i=(0,Ge.Z)(function*(r,s,a){try{const u=yield F1(r,s,!0),f=new K4(s,u.ir),m=f.sc(u.documents),v=f.applyChanges(m,!1);a.resolve(v.snapshot)}catch(u){const f=wv(u,`Failed to execute query '${s} against cache`);a.reject(f)}}),function(r,s,a){return i.apply(this,arguments)})(yield q1(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Ap(t,i,n,r))}(this._delegate):"server"===t?.source?function gK(n){n=Wn(n,$o);const t=Wn(n.firestore,Ji),e=Qr(t),i=new Ip(t);return c5(e,n._query,{source:"server"}).then(r=>new Ap(t,i,n,r))}(this._delegate):function pK(n){n=Wn(n,$o);const t=Wn(n.firestore,Ji),e=Qr(t),i=new Ip(t);return k5(n._query),c5(e,n._query).then(r=>new Ap(t,i,n,r))}(this._delegate),e.then(i=>new m2(this.firestore,new Ap(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=Y5(t),i=W5(t,r=>new m2(this.firestore,new Ap(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return U5(this._delegate,e,i)}withConverter(t){return new Us(this.firestore,this._delegate.withConverter(t?Kg.getInstance(this.firestore,t):null))}}class HK{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new Qx(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class m2{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Us(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Qx(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new HK(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new Qx(this._firestore,i))})}isEqual(t){return L5(this._delegate,t._delegate)}}class Iv extends Us{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Zl(this.firestore,t):null}doc(t){try{return new Zl(this.firestore,void 0===t?$1(this._delegate):$1(this._delegate,t))}catch(e){throw Vs(e,"doc()","CollectionReference.doc()")}}add(t){return function yK(n,t){const e=Wn(n.firestore,Ji),i=$1(n),r=iA(n.converter,t);return Av(e,[K1($g(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,lr.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Zl(this.firestore,e))}isEqual(t){return v5(this._delegate,t._delegate)}withConverter(t){return new Iv(this.firestore,this._delegate.withConverter(t?Kg.getInstance(this.firestore,t):null))}}function Qg(n){return Wn(n,Qi)}class g2{constructor(...t){this._delegate=new vh(...t)}static documentId(){return new g2(Pr.keyField().canonicalString())}isEqual(t){return(t=(0,ne.m9)(t))instanceof vh&&this._delegate._internalPath.isEqual(t._internalPath)}}class Jg{constructor(t){this._delegate=t}static serverTimestamp(){const t=function RK(){return new o2("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Jg(t)}static delete(){const t=function MK(){return new zx("deleteField")}();return t._methodName="FieldValue.delete",new Jg(t)}static arrayUnion(...t){const e=function OK(...n){return new WW("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Jg(e)}static arrayRemove(...t){const e=function PK(...n){return new KW("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Jg(e)}static increment(t){const e=function FK(n){return new QW("increment",n)}(t);return e._methodName="FieldValue.increment",new Jg(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const GK={Firestore:q5,GeoPoint:Y1,Timestamp:ar,Blob:Wx,Transaction:Z5,WriteBatch:$5,DocumentReference:Zl,DocumentSnapshot:Kx,Query:Us,QueryDocumentSnapshot:Qx,QuerySnapshot:m2,CollectionReference:Iv,FieldPath:g2,FieldValue:Jg,setLogLevel:function UK(n){!function kY(n){up.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function jK(n){(function zK(n,t){n.INTERNAL.registerComponent(new ya.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},GK)))})(n,(t,e)=>new q5(t,e,new VK)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(zy.Z);var oA=H(5363),qK=H(6063);class ZK extends gt.x{constructor(t=1/0,e=1/0,i=qK.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:a}=this;e||(i.push(t),!r&&i.push(s.now()+a)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let a=0;a<s.length&&!t.closed;a+=i?1:2)t.next(s[a]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const a=e.now();let u=0;for(let f=1;f<i.length&&i[f]<=a;f+=2)u=f;u&&i.splice(0,u+1)}}}var _2=H(3099);function K5(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,_2.B)({connector:()=>new ZK(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function Q5(n,t){return(0,Uo.m)(t)?Pn(()=>n,t):Pn(()=>n)}var y2=H(9468);H(259);const b2=new Map,X5={activated:!1,tokenObservers:[]},QK={initialized:!1,enabled:!1};function Nr(n){return b2.get(n)||Object.assign({},X5)}function aA(){return QK}const w2="https://content-firebaseappcheck.googleapis.com/v1",tQ="exchangeDebugToken",eH={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class iQ{constructor(t,e,i,r,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Ge.Z)(function*(){e.stop();try{e.pending=new ne.BH,yield function rQ(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new ne.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Yo=new ne.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function x2(n){if(!Nr(n).activated)throw Yo.create("use-before-activation",{appName:n.name})}function dA(n,t){return D2.apply(this,arguments)}function D2(){return D2=(0,Ge.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const x=yield r.getHeartbeatsHeader();x&&(i["X-Firebase-Client"]=x)}const s={method:"POST",body:JSON.stringify(t),headers:i};let a,u;try{a=yield fetch(n,s)}catch(x){throw Yo.create("fetch-network-error",{originalErrorMessage:x?.message})}if(200!==a.status)throw Yo.create("fetch-status-error",{httpStatus:a.status});try{u=yield a.json()}catch(x){throw Yo.create("fetch-parse-error",{originalErrorMessage:x?.message})}const f=u.ttl.match(/^([\d.]+)(s)$/);if(!f||!f[2]||isNaN(Number(f[1])))throw Yo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});const m=1e3*Number(f[1]),v=Date.now();return{token:u.token,expireTimeMillis:v+m,issuedAtTimeMillis:v}}),D2.apply(this,arguments)}function tH(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`${w2}/projects/${e}/apps/${i}:${tQ}?key=${r}`,body:{debug_token:t}}}const lQ="firebase-app-check-database",cQ=1,Jx="firebase-app-check-store";let uA=null;function S2(){return S2=(0,Ge.Z)(function*(n,t){const i=(yield function iH(){return uA||(uA=new Promise((n,t)=>{try{const e=indexedDB.open(lQ,cQ);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(Yo.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Jx,{keyPath:"compositeKey"})}}catch(e){t(Yo.create("storage-open",{originalErrorMessage:e?.message}))}}),uA)}()).transaction(Jx,"readwrite"),s=i.objectStore(Jx).put({compositeKey:n,value:t});return new Promise((a,u)=>{s.onsuccess=f=>{a()},i.onerror=f=>{var m;u(Yo.create("storage-set",{originalErrorMessage:null===(m=f.target.error)||void 0===m?void 0:m.message}))}})}),S2.apply(this,arguments)}const Xx=new va.Yd("@firebase/app-check");function A2(n,t){return(0,ne.hl)()?function uQ(n,t){return function rH(n,t){return S2.apply(this,arguments)}(function sH(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Xx.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function k2(){return aA().enabled}function M2(){return R2.apply(this,arguments)}function R2(){return R2=(0,Ge.Z)(function*(){const n=aA();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),R2.apply(this,arguments)}const _Q={error:"UNKNOWN_ERROR"};function yQ(n){return ne.US.encodeString(JSON.stringify(n),!1)}function hA(n){return O2.apply(this,arguments)}function O2(){return O2=(0,Ge.Z)(function*(n,t=!1){const e=n.app;x2(e);const i=Nr(e);let s,r=i.token;if(r&&!kv(r)&&(i.token=void 0,r=void 0),!r){const f=yield i.cachedTokenPromise;f&&(kv(f)?r=f:yield A2(e,void 0))}if(!t&&r&&kv(r))return{token:r.token};let u,a=!1;if(k2()){i.exchangeTokenPromise||(i.exchangeTokenPromise=dA(tH(e,yield M2()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);const f=yield i.exchangeTokenPromise;return yield A2(e,f),i.token=f,{token:f.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),r=yield Nr(e).exchangeTokenPromise}catch(f){"appCheck/throttled"===f.code?Xx.warn(f.message):Xx.error(f),s=f}return r?s?u=kv(r)?{token:r.token,internalError:s}:dH(s):(u={token:r.token},i.token=r,yield A2(e,r)):u=dH(s),a&&function cH(n,t){const e=Nr(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}(e,u),u}),O2.apply(this,arguments)}function P2(){return P2=(0,Ge.Z)(function*(n){const t=n.app;x2(t);const{provider:e}=Nr(t);if(k2()){const i=yield M2(),{token:r}=yield dA(tH(t,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield e.getToken();return{token:i}}}),P2.apply(this,arguments)}function N2(n,t){const e=Nr(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function lH(n){const{app:t}=n,e=Nr(t);let i=e.tokenRefresher;i||(i=function vQ(n){const{app:t}=n;return new iQ((0,Ge.Z)(function*(){let i;if(i=Nr(t).token?yield hA(n,!0):yield hA(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=Nr(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},eH.RETRIAL_MIN_WAIT,eH.RETRIAL_MAX_WAIT)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function kv(n){return n.expireTimeMillis-Date.now()>0}function dH(n){return{token:yQ(_Q),error:n}}class bQ{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Nr(this.app);for(const e of t)N2(this.app,e.next);return Promise.resolve()}}const yH="app-check-internal";!function PQ(){(0,ko._registerComponent)(new ya.wA("app-check",n=>function wQ(n,t){return new bQ(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(yH).initialize()})),(0,ko._registerComponent)(new ya.wA(yH,n=>function xQ(n){return{getToken:t=>hA(n,t),getLimitedUseToken:()=>function aH(n){return P2.apply(this,arguments)}(n),addTokenListener:t=>function F2(n,t,e,i){const{app:r}=n,s=Nr(r);if(s.tokenObservers=[...s.tokenObservers,{next:e,error:i,type:t}],s.token&&kv(s.token)){const u=s.token;Promise.resolve().then(()=>{e({token:u.token}),lH(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>lH(n))}(n,"INTERNAL",t),removeTokenListener:t=>N2(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ko.registerVersion)("@firebase/app-check","0.8.0")}();class eC{constructor(){return(0,Xn.vb)("app-check")}}typeof window<"u"&&window;var pA=H(9260);const H2=new o.OlP("angularfire2.auth.use-emulator"),G2=new o.OlP("angularfire2.auth.settings"),z2=new o.OlP("angularfire2.auth.tenant-id"),j2=new o.OlP("angularfire2.auth.langugage-code"),q2=new o.OlP("angularfire2.auth.use-device-language"),Z2=new o.OlP("angularfire.auth.persistence"),$2=(n,t,e,i,r,s,a,u)=>(0,io.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const f=t.runOutsideAngular(()=>n.auth());if(e&&f.useEmulator(...e),i&&(f.tenantId=i),f.languageCode=r,s&&f.useDeviceLanguage(),a)for(const[m,v]of Object.entries(a))f.settings[m]=v;return u&&f.setPersistence(u),f},[e,i,r,s,a,u]);let Mv=(()=>{class n{constructor(e,i,r,s,a,u,f,m,v,x,I,B){const q=new gt.x,ue=se(void 0).pipe((0,oA.Q)(a.outsideAngular),Pn(()=>s.runOutsideAngular(()=>Promise.resolve().then(H.bind(H,9568)))),(0,dt.U)(()=>(0,io.on)(e,s,i)),(0,dt.U)(ge=>$2(ge,s,u,m,v,x,f,I)),K5({bufferSize:1,refCount:!1}));if(wo(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=se(null);else{ue.pipe(ga()).subscribe();const Oe=ue.pipe(Pn(pt=>pt.getRedirectResult().then(zt=>zt,()=>null)),Xn.iC,K5({bufferSize:1,refCount:!1})),nt=ue.pipe(Pn(pt=>new kn.y(zt=>({unsubscribe:s.runOutsideAngular(()=>pt.onAuthStateChanged(jt=>zt.next(jt),jt=>zt.error(jt),()=>zt.complete()))})))),it=ue.pipe(Pn(pt=>new kn.y(zt=>({unsubscribe:s.runOutsideAngular(()=>pt.onIdTokenChanged(jt=>zt.next(jt),jt=>zt.error(jt),()=>zt.complete()))}))));this.authState=Oe.pipe(Q5(nt),(0,y2.R)(a.outsideAngular),(0,oA.Q)(a.insideAngular)),this.user=Oe.pipe(Q5(it),(0,y2.R)(a.outsideAngular),(0,oA.Q)(a.insideAngular)),this.idToken=this.user.pipe(Pn(pt=>pt?(0,ee.D)(pt.getIdToken()):se(null))),this.idTokenResult=this.user.pipe(Pn(pt=>pt?(0,ee.D)(pt.getIdTokenResult()):se(null))),this.credential=(0,Mi.T)(Oe,q,this.authState.pipe(oi(pt=>!pt))).pipe((0,dt.U)(pt=>pt?.user?pt:null),(0,y2.R)(a.outsideAngular),(0,oA.Q)(a.insideAngular))}return(0,io.pX)(this,ue,s,{spy:{apply:(ge,Oe,nt)=>{(ge.startsWith("signIn")||ge.startsWith("createUser"))&&nt.then(it=>q.next(it))}}})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(io.Dh),o.LFG(io.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Xn.HU),o.LFG(H2,8),o.LFG(G2,8),o.LFG(z2,8),o.LFG(j2,8),o.LFG(q2,8),o.LFG(Z2,8),o.LFG(eC,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),UQ=(()=>{class n{constructor(){pA.Z.registerVersion("angularfire",Xn.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Mv]}),n})();function bH(n,t){return function HQ(n,t=ua.z){return new kn.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function Y2(n,t){return bH(n,t).pipe((0,dt.U)(e=>({payload:e,type:"query"})))}function mA(n,t){return Y2(n,t).pipe(yr(void 0),Gy(),(0,dt.U)(([e,i])=>{const r=i.payload.docChanges(),s=r.map(a=>({type:a.type,payload:a}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,u)=>{const f=r.find(v=>v.doc.ref.isEqual(a.ref)),m=e?.payload.docs.find(v=>v.ref.isEqual(a.ref));f&&JSON.stringify(f.doc.metadata)===JSON.stringify(a.metadata)||!f&&m&&JSON.stringify(m.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:u,newIndex:u,type:"modified",doc:a}})}),s}))}function wH(n,t,e){return mA(n,e).pipe(Ic((i,r)=>function zQ(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function jQ(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return W2(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return W2(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return W2(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),t),[]),Nl(),(0,dt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function W2(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function xH(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class CH{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=mA(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,dt.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(yr(void 0),Gy(),oi(([i,r])=>r.length>0||!i),(0,dt.U)(([i,r])=>r),Xn.iC)}auditTrail(t){return this.stateChanges(t).pipe(Ic((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=xH(t);return wH(this.query,e,this.afs.schedulers.outsideAngular).pipe(Xn.iC)}valueChanges(t={}){return Y2(this.query,this.afs.schedulers.outsideAngular).pipe((0,dt.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),Xn.iC)}get(t){return(0,ee.D)(this.query.get(t)).pipe(Xn.iC)}add(t){return this.ref.add(t)}doc(t){return new DH(this.ref.doc(t),this.afs)}}class DH{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:s}=TH(i,e);return new CH(r,s,this.afs)}snapshotChanges(){return function GQ(n,t){return bH(n,t).pipe(yr(void 0),Gy(),(0,dt.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Xn.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,dt.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,ee.D)(this.ref.get(t)).pipe(Xn.iC)}}class qQ{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?mA(this.query,this.afs.schedulers.outsideAngular).pipe((0,dt.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),oi(e=>e.length>0),Xn.iC):mA(this.query,this.afs.schedulers.outsideAngular).pipe(Xn.iC)}auditTrail(t){return this.stateChanges(t).pipe(Ic((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=xH(t);return wH(this.query,e,this.afs.schedulers.outsideAngular).pipe(Xn.iC)}valueChanges(t={}){return Y2(this.query,this.afs.schedulers.outsideAngular).pipe((0,dt.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),Xn.iC)}get(t){return(0,ee.D)(this.query.get(t)).pipe(Xn.iC)}}const SH=new o.OlP("angularfire2.enableFirestorePersistence"),EH=new o.OlP("angularfire2.firestore.persistenceSettings"),ZQ=new o.OlP("angularfire2.firestore.settings"),$Q=new o.OlP("angularfire2.firestore.use-emulator");function TH(n,t=(e=>e)){return{query:t(n),ref:n}}let al=(()=>{class n{constructor(e,i,r,s,a,u,f,m,v,x,I,B,q,ue,ge,Oe,nt){this.schedulers=f;const it=(0,io.on)(e,u,i),pt=v;x&&$2(it,u,I,q,ue,ge,B,Oe),[this.firestore,this.persistenceEnabled$]=(0,io.cc)(`${it.name}.firestore`,"AngularFirestore",it.name,()=>{const zt=u.runOutsideAngular(()=>it.firestore());if(s&&zt.settings(s),pt&&zt.useEmulator(...pt),r&&!wo(a)){const jt=()=>{try{return(0,ee.D)(zt.enablePersistence(m||void 0).then(()=>!0,()=>!1))}catch(Bn){return typeof console<"u"&&console.warn(Bn),se(!1)}};return[zt,u.runOutsideAngular(jt)]}return[zt,se(!1)]},[s,pt,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:s,query:a}=TH(r,i),u=this.schedulers.ngZone.run(()=>s);return new CH(u,a,this)}collectionGroup(e,i){const r=i||(a=>a),s=this.firestore.collectionGroup(e);return new qQ(r(s),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new DH(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(io.Dh),o.LFG(io.xv,8),o.LFG(SH,8),o.LFG(ZQ,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Xn.HU),o.LFG(EH,8),o.LFG($Q,8),o.LFG(Mv,8),o.LFG(H2,8),o.LFG(G2,8),o.LFG(z2,8),o.LFG(j2,8),o.LFG(q2,8),o.LFG(Z2,8),o.LFG(eC,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),YQ=(()=>{class n{constructor(){pA.Z.registerVersion("angularfire",Xn.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:SH,useValue:!0},{provide:EH,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[al]}),n})();var WQ=H(1389);const KQ=["mat-button",""],K2=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Q2=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],JQ=["mat-fab",""],XQ=["mat-mini-fab",""],tJ=["mat-icon-button",""],nJ=["*"],iJ=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],rJ=Sm(kf(Em(class{constructor(n){this._elementRef=n}})));let gA=(()=>{class n extends rJ{constructor(e,i,r,s){super(e),this._platform=i,this._ngZone=r,this._animationMode=s,this._focusMonitor=(0,o.f3M)(Bl),this._isFab=!1;const a=e.nativeElement.classList;for(const u of iJ)this._hasHostAttributes(u.selector)&&u.mdcClasses.forEach(f=>{a.add(f)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...e){return e.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(e){o.$Z()},n.\u0275dir=o.lG2({type:n,viewQuery:function(e,i){if(1&e&&o.Gf(ks,5),2&e){let r;o.iGM(r=o.CRH())&&(i.ripple=r.first)}},features:[o.qOj]}),n})(),Lr=(()=>{class n extends gA{constructor(e,i,r,s){super(e,i,r,s)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(li),o.Y36(o.R0b),o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(e,i){2&e&&(o.uIk("disabled",i.disabled||null),o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[o.qOj],attrs:KQ,ngContentSelectors:Q2,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,i){1&e&&(o.F$t(K2),o._UZ(0,"span",0),o.Hsn(1),o.TgZ(2,"span",1),o.Hsn(3,1),o.qZA(),o.Hsn(4,2),o._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&e&&(o.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),o.xp6(6),o.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[ks],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})();const AH=new o.OlP("mat-mdc-fab-default-options",{providedIn:"root",factory:IH});function IH(){return{color:"accent"}}const _A=IH();let sJ=(()=>{class n extends gA{get extended(){return this._extended}set extended(e){this._extended=Nt(e)}constructor(e,i,r,s,a){super(e,i,r,s),this._options=a,this._isFab=!0,this._options=this._options||_A,this.color=this.defaultColor=this._options.color||_A.color}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(li),o.Y36(o.R0b),o.Y36(o.QbO,8),o.Y36(AH,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["button","mat-fab",""]],hostVars:11,hostBindings:function(e,i){2&e&&(o.uIk("disabled",i.disabled||null),o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0)("mdc-fab--extended",i.extended)("mat-mdc-extended-fab",i.extended))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",extended:"extended"},exportAs:["matButton"],features:[o.qOj],attrs:JQ,ngContentSelectors:Q2,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,i){1&e&&(o.F$t(K2),o._UZ(0,"span",0),o.Hsn(1),o.TgZ(2,"span",1),o.Hsn(3,1),o.qZA(),o.Hsn(4,2),o._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&e&&(o.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),o.xp6(6),o.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[ks],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    )}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab .mdc-fab__icon{width:24px;height:24px;font-size:24px}.mdc-fab:not(.mdc-fab--extended){border-radius:50%}.mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:50%}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);background-color:var(--mdc-fab-container-color, transparent);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);color:var(--mat-mdc-fab-color, inherit);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:not(:disabled) .mdc-fab__icon,.mat-mdc-mini-fab:not(:disabled) .mdc-fab__icon{color:var(--mdc-fab-icon-color, inherit)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-extended-fab{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mat-mdc-extended-fab .mdc-fab__ripple{border-radius:24px}.mat-mdc-extended-fab .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0}),n})(),tC=(()=>{class n extends gA{constructor(e,i,r,s,a){super(e,i,r,s),this._options=a,this._isFab=!0,this._options=this._options||_A,this.color=this.defaultColor=this._options.color||_A.color}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(li),o.Y36(o.R0b),o.Y36(o.QbO,8),o.Y36(AH,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["button","mat-mini-fab",""]],hostVars:7,hostBindings:function(e,i){2&e&&(o.uIk("disabled",i.disabled||null),o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[o.qOj],attrs:XQ,ngContentSelectors:Q2,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,i){1&e&&(o.F$t(K2),o._UZ(0,"span",0),o.Hsn(1),o.TgZ(2,"span",1),o.Hsn(3,1),o.qZA(),o.Hsn(4,2),o._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&e&&(o.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),o.xp6(6),o.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[ks],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    )}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab .mdc-fab__icon{width:24px;height:24px;font-size:24px}.mdc-fab:not(.mdc-fab--extended){border-radius:50%}.mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:50%}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);background-color:var(--mdc-fab-container-color, transparent);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);color:var(--mat-mdc-fab-color, inherit);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:not(:disabled) .mdc-fab__icon,.mat-mdc-mini-fab:not(:disabled) .mdc-fab__icon{color:var(--mdc-fab-icon-color, inherit)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-extended-fab{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mat-mdc-extended-fab .mdc-fab__ripple{border-radius:24px}.mat-mdc-extended-fab .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0}),n})(),Xg=(()=>{class n extends gA{constructor(e,i,r,s){super(e,i,r,s)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(li),o.Y36(o.R0b),o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(e,i){2&e&&(o.uIk("disabled",i.disabled||null),o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[o.qOj],attrs:tJ,ngContentSelectors:nJ,decls:5,vars:3,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,i){1&e&&(o.F$t(),o._UZ(0,"span",0),o.Hsn(1),o._UZ(2,"span",1)(3,"span",2)(4,"span",3)),2&e&&(o.xp6(3),o.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0)("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[ks],styles:['.mdc-icon-button{font-size:24px;width:48px;height:48px;padding:12px}.mdc-icon-button .mdc-icon-button__focus-ring{max-height:48px;max-width:48px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:40px;height:40px;margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:40px;max-width:40px}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size, 48px);width:var(--mdc-icon-button-state-layer-size, 48px);color:var(--mdc-icon-button-icon-color, inherit);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity, 0.38)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color, #000)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),kH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Mn,Mm,Mn]}),n})();class J2{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Rv extends J2{constructor(t,e,i,r,s){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}}class Ov extends J2{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class aJ extends J2{constructor(t){super(),this.element=t instanceof o.SBq?t.nativeElement:t}}class yA{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Rv?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Ov?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof aJ?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class lJ extends yA{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=a=>{const u=a.element,f=this._document.createComment("dom-portal");u.parentNode.insertBefore(f,u),this.outletElement.appendChild(u),this._attachedPortal=a,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(u,f)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||o.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Pv=(()=>{class n extends yA{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new o.vpe,this.attachDomPortal=s=>{const a=s.element,u=this._document.createComment("dom-portal");s.setAttachedHost(this),a.parentNode.insertBefore(u,a),this._getRootNode().appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{u.parentNode&&u.parentNode.replaceChild(a,u)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),a=i.createComponent(s,i.length,e.injector||i.injector,e.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=e,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o._Vd),o.Y36(o.s_b),o.Y36(j))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[o.qOj]}),n})(),Fv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();var cJ=H(1144);const dJ=["addListener","removeListener"],uJ=["addEventListener","removeEventListener"],hJ=["on","off"];function vA(n,t,e,i){if((0,Uo.m)(e)&&(i=e,e=void 0),i)return vA(n,t,e).pipe(Uu(i));const[r,s]=function mJ(n){return(0,Uo.m)(n.addEventListener)&&(0,Uo.m)(n.removeEventListener)}(n)?uJ.map(a=>u=>n[a](t,u,e)):function fJ(n){return(0,Uo.m)(n.addListener)&&(0,Uo.m)(n.removeListener)}(n)?dJ.map(MH(n,t)):function pJ(n){return(0,Uo.m)(n.on)&&(0,Uo.m)(n.off)}(n)?hJ.map(MH(n,t)):[];if(!r&&(0,cJ.z)(n))return(0,br.z)(a=>vA(a,t,e))((0,Lo.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new kn.y(a=>{const u=(...f)=>a.next(1<f.length?f:f[0]);return r(u),()=>s(u)})}function MH(n,t){return e=>i=>n[e](t,i)}var RH=H(4408);const nC={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=nC;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new C.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=nC;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=nC;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var OH=H(7565);const PH=new class _J extends OH.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class gJ extends RH.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=nC.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(nC.cancelAnimationFrame(e),t._scheduled=void 0)}});let X2,yJ=1;const bA={};function FH(n){return n in bA&&(delete bA[n],!0)}const vJ={setImmediate(n){const t=yJ++;return bA[t]=!0,X2||(X2=Promise.resolve()),X2.then(()=>FH(t)&&n()),t},clearImmediate(n){FH(n)}},{setImmediate:bJ,clearImmediate:wJ}=vJ,wA={setImmediate(...n){const{delegate:t}=wA;return(t?.setImmediate||bJ)(...n)},clearImmediate(n){const{delegate:t}=wA;return(t?.clearImmediate||wJ)(n)},delegate:void 0},eN=new class CJ extends OH.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class xJ extends RH.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=wA.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(wA.clearImmediate(e),t._scheduled=void 0)}});var SJ=H(3532);function tN(n=0,t,e=ua.P){let i=-1;return null!=t&&((0,SJ.K)(t)?e=t:i=t),new kn.y(r=>{let s=function EJ(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let a=0;return e.schedule(function(){r.closed||(r.next(a++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function nN(n,t=ua.z){return function DJ(n){return(0,pi.e)((t,e)=>{let i=!1,r=null,s=null,a=!1;const u=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const m=r;r=null,e.next(m)}a&&e.complete()},f=()=>{s=null,a&&e.complete()};t.subscribe((0,mi.x)(e,m=>{i=!0,r=m,s||(0,Lo.Xf)(n(m)).subscribe(s=(0,mi.x)(e,u,f))},()=>{a=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>tN(n,t))}const TJ=["contentWrapper"],AJ=["*"],IJ=new o.OlP("VIRTUAL_SCROLL_STRATEGY");let Nv=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new gt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new kn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(nN(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):se()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(oi(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=di(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>vA(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b),o.LFG(li),o.LFG(j,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),NH=(()=>{class n{constructor(e,i,r,s){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=s,this._destroyed=new gt.x,this._elementScrolled=new kn.y(a=>this.ngZone.runOutsideAngular(()=>vA(this.elementRef.nativeElement,"scroll").pipe(an(this._destroyed)).subscribe(a)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=Za()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==Za()?e.left=e.right:1==Za()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;Do()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",s=this.elementRef.nativeElement;if("top"==e)return s.scrollTop;if("bottom"==e)return s.scrollHeight-s.clientHeight-s.scrollTop;const a=this.dir&&"rtl"==this.dir.value;return"start"==e?e=a?r:i:"end"==e&&(e=a?i:r),a&&2==Za()?e==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:a&&1==Za()?e==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:e==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Nv),o.Y36(o.R0b),o.Y36(ri,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),Lv=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new gt.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(nN(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(li),o.LFG(o.R0b),o.LFG(j,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const LH=new o.OlP("VIRTUAL_SCROLLABLE");let RJ=(()=>{class n extends NH{constructor(e,i,r,s){super(e,i,r,s)}measureViewportSize(e){const i=this.elementRef.nativeElement;return"horizontal"===e?i.clientWidth:i.clientHeight}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Nv),o.Y36(o.R0b),o.Y36(ri,8))},n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})();const PJ=typeof requestAnimationFrame<"u"?PH:eN;let FJ=(()=>{class n extends RJ{get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=Nt(e)}constructor(e,i,r,s,a,u,f,m){super(e,u,r,a),this.elementRef=e,this._changeDetectorRef=i,this._scrollStrategy=s,this.scrollable=m,this._platform=(0,o.f3M)(li),this._detachedSubject=new gt.x,this._renderedRangeSubject=new gt.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new kn.y(v=>this._scrollStrategy.scrolledIndexChange.subscribe(x=>Promise.resolve().then(()=>this.ngZone.run(()=>v.next(x))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=C.w0.EMPTY,this._viewportChanges=f.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(yr(null),nN(0,PJ)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(an(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(e){return this.getElementRef().nativeElement.getBoundingClientRect()[e]}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function OJ(n,t){return n.start==t.start&&n.end==t.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,i="to-start"){e=this.appendOnly&&"to-start"===i?0:e;const s="horizontal"==this.orientation,a=s?"X":"Y";let f=`translate${a}(${Number((s&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e,"to-end"===i&&(f+=` translate${a}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=f&&(this._renderedContentTransform=f,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=e:r.top=e,this.scrollable.scrollTo(r)}scrollToIndex(e,i="auto"){this._scrollStrategy.scrollToIndex(e,i)}measureScrollOffset(e){let i;return i=this.scrollable==this?r=>super.measureScrollOffset(r):r=>this.scrollable.measureScrollOffset(r),Math.max(0,i(e??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(e){let i;const r="left",s="right",a="rtl"==this.dir?.value;i="start"==e?a?s:r:"end"==e?a?r:s:e||("horizontal"===this.orientation?"left":"top");const u=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-u}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of e)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(o.R0b),o.Y36(IJ,8),o.Y36(ri,8),o.Y36(Nv),o.Y36(Lv),o.Y36(LH,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,i){if(1&e&&o.Gf(TJ,7),2&e){let r;o.iGM(r=o.CRH())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,i){2&e&&o.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[o._Bn([{provide:NH,useFactory:(t,e)=>t||e,deps:[[new o.FiY,new o.tBr(LH)],n]}]),o.qOj,o.jDz],ngContentSelectors:AJ,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"div",0,1),o.Hsn(2),o.qZA(),o._UZ(3,"div",2)),2&e&&(o.xp6(3),o.Udp("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),Bv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),iN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[la,Bv,FJ,la,Bv]}),n})();const BH=Do();class NJ{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=qi(-this._previousScrollPosition.left),t.style.top=qi(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",a=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),BH&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),BH&&(i.scrollBehavior=s,r.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class LJ{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(oi(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class iC{enable(){}disable(){}attach(){}}function rN(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function VH(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class BJ{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();rN(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let VJ=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new iC,this.close=a=>new LJ(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new NJ(this._viewportRuler,this._document),this.reposition=a=>new BJ(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=s}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Nv),o.LFG(Lv),o.LFG(o.R0b),o.LFG(j))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class rC{constructor(t){if(this.scrollStrategy=new iC,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class UJ{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let UH=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(j))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HJ=(()=>{class n extends UH{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let a=s.length-1;a>-1;a--)if(s[a]._keydownEvents.observers.length>0){const u=s[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>u.next(r)):u.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(j),o.LFG(o.R0b,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GJ=(()=>{class n extends UH{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Zr(s)},this._clickListener=s=>{const a=Zr(s),u="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const f=this._attachedOverlays.slice();for(let m=f.length-1;m>-1;m--){const v=f[m];if(v._outsidePointerEvents.observers.length<1||!v.hasAttached())continue;if(v.overlayElement.contains(a)||v.overlayElement.contains(u))break;const x=v._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>x.next(s)):x.next(s)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(j),o.LFG(li),o.LFG(o.R0b,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xA=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||Ru()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),Ru()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(j),o.LFG(li))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class oC{constructor(t,e,i,r,s,a,u,f,m,v=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=a,this._document=u,this._location=f,this._outsideClickDispatcher=m,this._animationsDisabled=v,this._backdropElement=null,this._backdropClick=new gt.x,this._attachments=new gt.x,this._detachments=new gt.x,this._locationChanges=C.w0.EMPTY,this._backdropClickHandler=x=>this._backdropClick.next(x),this._backdropTransitionendHandler=x=>{this._disposeBackdrop(x.target)},this._keydownEvents=new gt.x,this._outsidePointerEvents=new gt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Tt(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=qi(this._config.width),t.height=qi(this._config.height),t.minWidth=qi(this._config.minWidth),t.minHeight=qi(this._config.minHeight),t.maxWidth=qi(this._config.maxWidth),t.maxHeight=qi(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=$a(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(an((0,Mi.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const HH="cdk-overlay-connected-position-bounding-box",zJ=/([A-Za-z%]+)$/;class jJ{get positions(){return this._preferredPositions}constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new gt.x,this._resizeSubscription=C.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(HH),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let a;for(let u of this._preferredPositions){let f=this._getOriginPoint(t,r,u),m=this._getOverlayPoint(f,e,u),v=this._getOverlayFit(m,e,i,u);if(v.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(u,f);this._canFitWithFlexibleDimensions(v,m,i)?s.push({position:u,origin:f,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(f,u)}):(!a||a.overlayFit.visibleArea<v.visibleArea)&&(a={overlayFit:v,overlayPoint:m,originPoint:f,position:u,overlayRect:e})}if(s.length){let u=null,f=-1;for(const m of s){const v=m.boundingBoxRect.width*m.boundingBoxRect.height*(m.position.weight||1);v>f&&(f=v,u=m)}return this._isPushed=!1,void this._applyPosition(u.position,u.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&e_(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(HH),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,s;if("center"==i.originX)r=t.left+t.width/2;else{const a=this._isRtl()?t.right:t.left,u=this._isRtl()?t.left:t.right;r="start"==i.originX?a:u}return e.left<0&&(r-=e.left),s="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=zH(e);let{x:a,y:u}=t,f=this._getOffset(r,"x"),m=this._getOffset(r,"y");f&&(a+=f),m&&(u+=m);let I=0-u,B=u+s.height-i.height,q=this._subtractOverflows(s.width,0-a,a+s.width-i.width),ue=this._subtractOverflows(s.height,I,B),ge=q*ue;return{visibleArea:ge,isCompletelyWithinViewport:s.width*s.height===ge,fitsInViewportVertically:ue===s.height,fitsInViewportHorizontally:q==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,a=GH(this._overlayRef.getConfig().minHeight),u=GH(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=a&&a<=r)&&(t.fitsInViewportHorizontally||null!=u&&u<=s)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=zH(e),s=this._viewportRect,a=Math.max(t.x+r.width-s.width,0),u=Math.max(t.y+r.height-s.height,0),f=Math.max(s.top-i.top-t.y,0),m=Math.max(s.left-i.left-t.x,0);let v=0,x=0;return v=r.width<=s.width?m||-a:t.x<this._viewportMargin?s.left-i.left-t.x:0,x=r.height<=s.height?f||-u:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:v,y:x},{x:t.x+v,y:t.y+x}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new UJ(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,a,u,v,x,I;if("top"===e.overlayY)a=t.y,s=i.height-a+this._viewportMargin;else if("bottom"===e.overlayY)u=i.height-t.y+2*this._viewportMargin,s=i.height-u+this._viewportMargin;else{const B=Math.min(i.bottom-t.y+i.top,t.y),q=this._lastBoundingBoxSize.height;s=2*B,a=t.y-B,s>q&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.y-q/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)I=i.width-t.x+this._viewportMargin,v=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)x=t.x,v=i.right-t.x;else{const B=Math.min(i.right-t.x+i.left,t.x),q=this._lastBoundingBoxSize.width;v=2*B,x=t.x-B,v>q&&!this._isInitialRender&&!this._growAfterOpen&&(x=t.x-q/2)}return{top:a,left:x,bottom:u,right:I,width:v,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;r.height=qi(i.height),r.top=qi(i.top),r.bottom=qi(i.bottom),r.width=qi(i.width),r.left=qi(i.left),r.right=qi(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=qi(s)),a&&(r.maxWidth=qi(a))}this._lastBoundingBoxSize=i,e_(this._boundingBox.style,r)}_resetBoundingBoxStyles(){e_(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){e_(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(r){const v=this._viewportRuler.getViewportScrollPosition();e_(i,this._getExactOverlayY(e,t,v)),e_(i,this._getExactOverlayX(e,t,v))}else i.position="static";let u="",f=this._getOffset(e,"x"),m=this._getOffset(e,"y");f&&(u+=`translateX(${f}px) `),m&&(u+=`translateY(${m}px)`),i.transform=u.trim(),a.maxHeight&&(r?i.maxHeight=qi(a.maxHeight):s&&(i.maxHeight="")),a.maxWidth&&(r?i.maxWidth=qi(a.maxWidth):s&&(i.maxWidth="")),e_(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=qi(s.y),r}_getExactOverlayX(t,e,i){let a,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),a=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===a?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=qi(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:VH(t,i),isOriginOutsideView:rN(t,i),isOverlayClipped:VH(e,i),isOverlayOutsideView:rN(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&$a(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof o.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function e_(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function GH(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(zJ);return e&&"px"!==e?null:parseFloat(t)}return n||null}function zH(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const jH="cdk-global-overlay-wrapper";class qJ{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(jH),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:a,maxHeight:u}=i,f=!("100%"!==r&&"100vw"!==r||a&&"100%"!==a&&"100vw"!==a),m=!("100%"!==s&&"100vh"!==s||u&&"100%"!==u&&"100vh"!==u),v=this._xPosition,x=this._xOffset,I="rtl"===this._overlayRef.getConfig().direction;let B="",q="",ue="";f?ue="flex-start":"center"===v?(ue="center",I?q=x:B=x):I?"left"===v||"end"===v?(ue="flex-end",B=x):("right"===v||"start"===v)&&(ue="flex-start",q=x):"left"===v||"start"===v?(ue="flex-start",B=x):("right"===v||"end"===v)&&(ue="flex-end",q=x),t.position=this._cssPosition,t.marginLeft=f?"0":B,t.marginTop=m?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=f?"0":q,e.justifyContent=ue,e.alignItems=m?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(jH),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let ZJ=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new qJ}flexibleConnectedTo(e){return new jJ(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Lv),o.LFG(j),o.LFG(li),o.LFG(xA))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$J=0,Da=(()=>{class n{constructor(e,i,r,s,a,u,f,m,v,x,I,B){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=a,this._injector=u,this._ngZone=f,this._document=m,this._directionality=v,this._location=x,this._outsideClickDispatcher=I,this._animationsModuleType=B}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),a=new rC(e);return a.direction=a.direction||this._directionality.value,new oC(s,i,r,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+$J++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(o.z2F)),new lJ(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(VJ),o.LFG(xA),o.LFG(o._Vd),o.LFG(ZJ),o.LFG(HJ),o.LFG(o.zs3),o.LFG(o.R0b),o.LFG(j),o.LFG(ri),o.LFG(ve),o.LFG(GJ),o.LFG(o.QbO,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const YJ=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],qH=new o.OlP("cdk-connected-overlay-scroll-strategy");let oN=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0}),n})(),ZH=(()=>{class n{get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Nt(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=Nt(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=Nt(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=Nt(e)}get push(){return this._push}set push(e){this._push=Nt(e)}constructor(e,i,r,s,a){this._overlay=e,this._dir=a,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=C.w0.EMPTY,this._attachSubscription=C.w0.EMPTY,this._detachSubscription=C.w0.EMPTY,this._positionSubscription=C.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new o.vpe,this.positionChange=new o.vpe,this.attach=new o.vpe,this.detach=new o.vpe,this.overlayKeydown=new o.vpe,this.overlayOutsideClick=new o.vpe,this._templatePortal=new Ov(i,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=YJ);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Ka(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new rC({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof oN?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(sE(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Da),o.Y36(o.Rgc),o.Y36(o.s_b),o.Y36(qH),o.Y36(ri,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[o.TTD]}),n})();const KJ={provide:qH,deps:[Da],useFactory:function WJ(n){return()=>n.scrollStrategies.reposition()}};let Vv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Da,KJ],imports:[la,Fv,iN,iN]}),n})();function QJ(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",2)(1,"button",3),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.action())}),o._uU(2),o.qZA()()}if(2&n){const e=o.oxw();o.xp6(2),o.hij(" ",e.data.action," ")}}const JJ=["label"];function XJ(n,t){}const eX=Math.pow(2,31)-1;class sN{constructor(t,e){this._overlayRef=e,this._afterDismissed=new gt.x,this._afterOpened=new gt.x,this._onAction=new gt.x,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,eX))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const $H=new o.OlP("MatSnackBarData");class CA{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let tX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]}),n})(),nX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]}),n})(),iX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]}),n})(),rX=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(sN),o.Y36($H))},n.\u0275cmp=o.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o._uU(1),o.qZA(),o.YNc(2,QJ,3,1,"div",1)),2&e&&(o.xp6(1),o.hij(" ",i.data.message,"\n"),o.xp6(1),o.Q6J("ngIf",i.hasAction))},dependencies:[Vn,Lr,tX,nX,iX],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0}),n})();const oX={snackBarState:_r("state",[$n("void, hidden",dn({transform:"scale(0.8)",opacity:0})),$n("visible",dn({transform:"scale(1)",opacity:1})),wi("* => visible",ui("150ms cubic-bezier(0, 0, 0.2, 1)")),wi("* => void, * => hidden",ui("75ms cubic-bezier(0.4, 0.0, 1, 1)",dn({opacity:0})))])};let sX=0,aX=(()=>{class n extends yA{constructor(e,i,r,s,a){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=r,this._platform=s,this.snackBarConfig=a,this._document=(0,o.f3M)(j),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new gt.x,this._onExit=new gt.x,this._onEnter=new gt.x,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+sX++,this.attachDomPortal=u=>{this._assertNotAttached();const f=this._portalOutlet.attachDomPortal(u);return this._afterPortalAttached(),f},this._live="assertive"!==a.politeness||a.announcementMessage?"off"===a.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),i}attachTemplatePortal(e){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),i}onAnimationEnd(e){const{fromState:i,toState:r}=e;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Tt(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>e.classList.add(r)):e.classList.add(i)),this._exposeToModals()}_exposeToModals(){const e=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const s=i[r],a=s.getAttribute("aria-owns");this._trackedModals.add(s),a?-1===a.indexOf(e)&&s.setAttribute("aria-owns",a+" "+e):s.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{const i=e.getAttribute("aria-owns");if(i){const r=i.replace(this._liveElementId,"").trim();r.length>0?e.setAttribute("aria-owns",r):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.R0b),o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(li),o.Y36(CA))},n.\u0275dir=o.lG2({type:n,viewQuery:function(e,i){if(1&e&&o.Gf(Pv,7),2&e){let r;o.iGM(r=o.CRH())&&(i._portalOutlet=r.first)}},features:[o.qOj]}),n})(),lX=(()=>{class n extends aX{_afterPortalAttached(){super._afterPortalAttached();const e=this._label.nativeElement,i="mdc-snackbar__label";e.classList.toggle(i,!e.querySelector(`.${i}`))}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(e,i){if(1&e&&o.Gf(JJ,7),2&e){let r;o.iGM(r=o.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(e,i){1&e&&o.WFA("@state.done",function(s){return i.onAnimationEnd(s)}),2&e&&o.d8E("@state",i._animationState)},features:[o.qOj],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3),o.YNc(4,XJ,0,0,"ng-template",4),o.qZA(),o._UZ(5,"div"),o.qZA()()),2&e&&(o.xp6(5),o.uIk("aria-live",i._live)("role",i._role)("id",i._liveElementId))},dependencies:[Pv],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__dismiss .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px))}.mat-mdc-snack-bar-container .mdc-snackbar__dismiss svg,.mat-mdc-snack-bar-container .mdc-snackbar__dismiss img{width:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px));height:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px))}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color, inherit)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color, inherit)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size, inherit);font-family:var(--mdc-snackbar-supporting-text-font, inherit);font-weight:var(--mdc-snackbar-supporting-text-weight, inherit);line-height:var(--mdc-snackbar-supporting-text-line-height, inherit)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-mdc-snack-bar-button-color, transparent);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[oX.snackBarState]}}),n})(),YH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Vv,Fv,or,kH,Mn,Mn]}),n})();const WH=new o.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function cX(){return new CA}});let dX=(()=>{class n{get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(e,i,r,s,a,u){this._overlay=e,this._live=i,this._injector=r,this._breakpointObserver=s,this._parentSnackBar=a,this._defaultConfig=u,this._snackBarRefAtThisLevel=null}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){const s={...this._defaultConfig,...r};return s.data={message:e,action:i},s.announcementMessage===e&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const s=o.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:CA,useValue:i}]}),a=new Rv(this.snackBarContainerComponent,i.viewContainerRef,s),u=e.attach(a);return u.instance.snackBarConfig=i,u.instance}_attach(e,i){const r={...new CA,...this._defaultConfig,...i},s=this._createOverlay(r),a=this._attachSnackBarContainer(s,r),u=new sN(a,s);if(e instanceof o.Rgc){const f=new Ov(e,null,{$implicit:r.data,snackBarRef:u});u.instance=a.attachTemplatePortal(f)}else{const f=this._createInjector(r,u),m=new Rv(e,void 0,f),v=a.attachComponentPortal(m);u.instance=v.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(an(s.detachments())).subscribe(f=>{s.overlayElement.classList.toggle(this.handsetCssClass,f.matches)}),r.announcementMessage&&a._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(u,r),this._openedSnackBarRef=u,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new rC;i.direction=e.direction;let r=this._overlay.position().global();const s="rtl"===e.direction,a="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!s||"end"===e.horizontalPosition&&s,u=!a&&"center"!==e.horizontalPosition;return a?r.left("0"):u?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){return o.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:sN,useValue:i},{provide:$H,useValue:e.data}]})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Da),o.LFG(UD),o.LFG(o.zs3),o.LFG(Tb),o.LFG(n,12),o.LFG(WH))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Sa=(()=>{class n extends dX{constructor(e,i,r,s,a,u){super(e,i,r,s,a,u),this.simpleSnackBarComponent=rX,this.snackBarContainerComponent=lX,this.handsetCssClass="mat-mdc-snack-bar-handset"}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Da),o.LFG(UD),o.LFG(o.zs3),o.LFG(Tb),o.LFG(n,12),o.LFG(WH))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:YH}),n})(),Ea=(()=>{class n{constructor(e,i,r,s){this.fireAuth=e,this.firestore=i,this.router=r,this.snackbar=s,this.loggedIn$=new E(null),this.user$=this.fireAuth.authState.pipe(Pn(a=>a?(this.loggedIn$.next(!0),this.firestore.doc(`users/${a.uid}`).valueChanges()):(this.loggedIn$.next(!1),se(null))))}get user(){return this.user$}get isLoggedIn(){return this.loggedIn$.value}googleSignIn(){var e=this;return(0,Ge.Z)(function*(){const i=new WQ.V,r=yield e.fireAuth.signInWithPopup(i);r.user&&e.firestore.doc(`users/${r.user.uid}`).get().subscribe(a=>{a.exists?(e.updateUserData(r.user),e.router.navigate(["dashboard"])):(e.createNewUserData(r.user),e.snackbar.open("As a new user please set up your account","OK",{duration:6e3}),e.router.navigate(["profile"]))})})()}signOut(){var e=this;return(0,Ge.Z)(function*(){yield e.fireAuth.signOut(),e.router.navigate([""])})()}createNewUserData(e){return this.firestore.doc(`users/${e.uid}`).set({uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL,bio:"",ethnicity:"",mother_language:""})}updateUserData(e){return this.firestore.doc(`users/${e.uid}`).set({uid:e.uid,email:e.email,photoURL:e.photoURL},{merge:!0})}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(Mv),o.LFG(al),o.LFG($i),o.LFG(Sa))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),KH=(()=>{class n{constructor(e,i){this.firestore=e,this.auth=i}get getUserVideos(){return this.userVideos$}get getUserSharedVideos(){return this.sharedVideos$}get communityVideos(){return this.communityVideos$}getVideos(e){return this.userVideos$=this.firestore.collection(`users/${e}/videos/`).valueChanges()}getSharedVideos(e){return this.firestore.collection("sharedVideos").snapshotChanges().pipe((0,dt.U)(i=>i.map(r=>{const s=r.payload.doc.data(),a=r.payload.doc.id,u=s.usersRights.find(f=>"Owner"===f.right)?.userEmail;return{id:a,...s,owner:u}}).filter(r=>r.usersRights.some(s=>s.userEmail===e))),(0,dt.U)(i=>[...new Map(i.map(r=>[r.videoId,r])).values()]))}getCommunityVideos(){return this.firestore.collection("helpRequests",e=>e.where("status","==","open")).snapshotChanges().pipe(Pn(e=>e.length?Yr(e.map(i=>{const r=i.payload.doc.id,s=i.payload.doc.data().videoId;return this.firestore.collection("videos").doc(s).snapshotChanges().pipe((0,dt.U)(()=>({requestId:r,...i.payload.doc.data()})))})):se([])),(0,dt.U)(e=>e.flat()))}addVideo(e,i){this.firestore.doc(`users/${i}/videos/${e.items[0].id}`).set({videoId:e.items[0].id,title:e.items[0].snippet.title}),this.userVideos$=this.firestore.collection(`users/${i}/videos/`).valueChanges()}updateVideo(e,i){const r=this.firestore.doc(`users/${i}`),s={videoId:e.id,title:e.snippet.title,channel:e.snippet.channelTitle,views:e.statistics.viewCount,published:e.snippet.publishedAt};r.collection("videos").doc(e.id).update(s)}deleteVideo(e,i){this.firestore.doc(`users/${i}/videos/${e}`).delete()}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(al),o.LFG(Ea))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function uX(n,t){}class DA{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let QH=(()=>{class n extends yA{constructor(e,i,r,s,a,u,f,m){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=s,this._interactivityChecker=a,this._ngZone=u,this._overlayRef=f,this._focusMonitor=m,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=v=>{this._portalOutlet.hasAttached();const x=this._portalOutlet.attachDomPortal(v);return this._contentAttached(),x},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=os(),s=this._elementRef.nativeElement;(!r||r===this._document.body||r===s||s.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=os();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=os())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(W_),o.Y36(j,8),o.Y36(DA),o.Y36(Cm),o.Y36(o.R0b),o.Y36(oC),o.Y36(Bl))},n.\u0275cmp=o.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(1&e&&o.Gf(Pv,7),2&e){let r;o.iGM(r=o.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){2&e&&o.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[o.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&o.YNc(0,uX,0,0,"ng-template",0)},dependencies:[Pv],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class aN{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new gt.x,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Ka(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{!1!==e.closeOnOverlayDetachments&&this.close()})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const JH=new o.OlP("DialogScrollStrategy"),hX=new o.OlP("DialogData"),fX=new o.OlP("DefaultDialogConfig"),mX={provide:JH,deps:[Da],useFactory:function pX(n){return()=>n.scrollStrategies.block()}};let gX=0,XH=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,i,r,s,a,u){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new gt.x,this._afterOpenedAtThisLevel=new gt.x,this._ariaHiddenElements=new Map,this.afterAllClosed=Xt(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(yr(void 0))),this._scrollStrategy=u}open(e,i){(i={...this._defaultOptions||new DA,...i}).id=i.id||"cdk-dialog-"+gX++,i.id&&this.getDialogById(i.id);const s=this._getOverlayConfig(i),a=this._overlay.create(s),u=new aN(a,i),f=this._attachContainer(a,u,i);return u.containerInstance=f,this._attachDialogContent(e,u,f,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(u),u.closed.subscribe(()=>this._removeOpenDialog(u,!0)),this.afterOpened.next(u),u}closeAll(){lN(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){lN(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),lN(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new rC({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const s=r.injector||r.viewContainerRef?.injector,a=[{provide:DA,useValue:r},{provide:aN,useValue:i},{provide:oC,useValue:e}];let u;r.container?"function"==typeof r.container?u=r.container:(u=r.container.type,a.push(...r.container.providers(r))):u=QH;const f=new Rv(u,r.viewContainerRef,o.zs3.create({parent:s||this._injector,providers:a}),r.componentFactoryResolver);return e.attach(f).instance}_attachDialogContent(e,i,r,s){if(e instanceof o.Rgc){const a=this._createInjector(s,i,r,void 0);let u={$implicit:s.data,dialogRef:i};s.templateContext&&(u={...u,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),r.attachTemplatePortal(new Ov(e,null,u,a))}else{const a=this._createInjector(s,i,r,this._injector),u=r.attachComponentPortal(new Rv(e,s.viewContainerRef,a,s.componentFactoryResolver));i.componentInstance=u.instance}}_createInjector(e,i,r,s){const a=e.injector||e.viewContainerRef?.injector,u=[{provide:hX,useValue:e.data},{provide:aN,useValue:i}];return e.providers&&("function"==typeof e.providers?u.push(...e.providers(i,e,r)):u.push(...e.providers)),e.direction&&(!a||!a.get(ri,null,{optional:!0}))&&u.push({provide:ri,useValue:{value:e.direction,change:se()}}),o.zs3.create({parent:a||s,providers:u})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,a)=>{s?a.setAttribute("aria-hidden",s):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const s=i[r];s!==e&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Da),o.LFG(o.zs3),o.LFG(fX,8),o.LFG(n,12),o.LFG(xA),o.LFG(JH))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function lN(n,t){let e=n.length;for(;e--;)t(n[e])}let _X=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[XH,mX],imports:[Vv,Fv,ha,Fv]}),n})();function yX(n,t){}class SA{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const cN="mdc-dialog--open",eG="mdc-dialog--opening",tG="mdc-dialog--closing";let wX=(()=>{class n extends QH{constructor(e,i,r,s,a,u,f,m){super(e,i,r,s,a,u,f,m),this._animationStateChanged=new o.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(W_),o.Y36(j,8),o.Y36(SA),o.Y36(Cm),o.Y36(o.R0b),o.Y36(oC),o.Y36(Bl))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],features:[o.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();const nG="--mat-dialog-transition-duration";function iG(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?So(n.substring(0,n.length-2)):n.endsWith("s")?1e3*So(n.substring(0,n.length-1)):"0"===n?0:null}let xX=(()=>{class n extends wX{constructor(e,i,r,s,a,u,f,m,v){super(e,i,r,s,a,u,f,v),this._animationMode=m,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._openAnimationDuration=this._animationsEnabled?iG(this._config.enterAnimationDuration)??150:0,this._closeAnimationDuration=this._animationsEnabled?iG(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._openAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._closeAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._openAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(nG,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(eG,cN)),this._waitForAnimationToComplete(this._openAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(cN),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._closeAnimationDuration}),this._hostElement.classList.remove(cN),this._animationsEnabled?(this._hostElement.style.setProperty(nG,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(tG)),this._waitForAnimationToComplete(this._closeAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(eG,tG)}_waitForAnimationToComplete(e,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(e):e()})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(W_),o.Y36(j,8),o.Y36(SA),o.Y36(Cm),o.Y36(o.R0b),o.Y36(oC),o.Y36(o.QbO,8),o.Y36(Bl))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(e,i){2&e&&(o.Ikx("id",i._config.id),o.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),o.ekj("_mat-animation-noopable",!i._animationsEnabled))},features:[o.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"div",1),o.YNc(2,yX,0,0,"ng-template",2),o.qZA()())},dependencies:[Pv],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title,.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__actions,.mat-mdc-dialog-container.mdc-dialog--scrollable.mdc-dialog-scroll-divider-footer .mdc-dialog__actions{border-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title{border-bottom-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, "Arial");line-height:var(--mdc-dialog-subhead-line-height, 14px);font-size:var(--mdc-dialog-subhead-size, 14px);font-weight:var(--mdc-dialog-subhead-weight, 500);letter-spacing:var(--mdc-dialog-subhead-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, black)}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, "Arial");line-height:var(--mdc-dialog-supporting-text-line-height, 14px);font-size:var(--mdc-dialog-supporting-text-size, 14px);font-weight:var(--mdc-dialog-supporting-text-weight, 500);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, black)}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),n})();class Wd{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new gt.x,this._beforeClosed=new gt.x,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe(oi(r=>"opened"===r.state),Tt(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(oi(r=>"closed"===r.state),Tt(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Mi.T)(this.backdropClick(),this.keydownEvents().pipe(oi(r=>27===r.keyCode&&!this.disableClose&&!Ka(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),rG(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(oi(e=>"closing"===e.state),Tt(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function rG(n,t,e){return n._closeInteractionType=t,n.close(e)}const ll=new o.OlP("MatMdcDialogData"),CX=new o.OlP("mat-mdc-dialog-default-options"),oG=new o.OlP("mat-mdc-dialog-scroll-strategy"),SX={provide:oG,deps:[Da],useFactory:function DX(n){return()=>n.scrollStrategies.block()}};let EX=0,TX=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,i,r,s,a,u,f,m,v,x){this._overlay=e,this._defaultOptions=r,this._parentDialog=s,this._dialogRefConstructor=f,this._dialogContainerType=m,this._dialogDataToken=v,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new gt.x,this._afterOpenedAtThisLevel=new gt.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=SA,this.afterAllClosed=Xt(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(yr(void 0))),this._scrollStrategy=u,this._dialog=i.get(XH)}open(e,i){let r;(i={...this._defaultOptions||new SA,...i}).id=i.id||`${this._idPrefix}${EX++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:DA,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(a,u,f)=>(r=new this._dialogRefConstructor(a,i,f),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:f},{provide:this._dialogDataToken,useValue:u.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=s.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const a=this.openDialogs.indexOf(r);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),cl=(()=>{class n extends TX{constructor(e,i,r,s,a,u,f,m){super(e,i,s,u,f,a,Wd,xX,ll,m),this._idPrefix="mat-mdc-dialog-"}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Da),o.LFG(o.zs3),o.LFG(ve,8),o.LFG(CX,8),o.LFG(oG),o.LFG(n,12),o.LFG(xA),o.LFG(o.QbO,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),AX=0,ms=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this._elementRef=i,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=sG(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){rG(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Wd,8),o.Y36(o.SBq),o.Y36(cl))},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i._onButtonClick(s)}),2&e&&o.uIk("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[o.TTD]}),n})(),Wo=(()=>{class n{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r,this.id="mat-mdc-dialog-title-"+AX++}ngOnInit(){this._dialogRef||(this._dialogRef=sG(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Wd,8),o.Y36(o.SBq),o.Y36(cl))},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(e,i){2&e&&o.Ikx("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),Ko=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"]}),n})(),gs=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:4,hostBindings:function(e,i){2&e&&o.ekj("mat-mdc-dialog-actions-align-center","center"===i.align)("mat-mdc-dialog-actions-align-end","end"===i.align)},inputs:{align:"align"}}),n})();function sG(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}let aG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[cl,SX],imports:[_X,Vv,Fv,Mn,Mn]}),n})();class EA{}class dN{}class Kd{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),a=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(a):this.headers.set(s,[a])}})}:()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{let r;if(r="string"==typeof i?[i]:"number"==typeof i?[i.toString()]:i.map(s=>s.toString()),r.length>0){const s=e.toLowerCase();this.headers.set(s,r),this.maybeSetNormalizedName(e,s)}})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Kd?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Kd;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Kd?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let a=this.headers.get(e);if(!a)return;a=a.filter(u=>-1===s.indexOf(u)),0===a.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class IX{encodeKey(t){return cG(t)}encodeValue(t){return cG(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const MX=/%(\d[a-f0-9])/gi,RX={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function cG(n){return encodeURIComponent(n).replace(MX,(t,e)=>RX[e]??t)}function TA(n){return`${n}`}class Mp{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new IX,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function kX(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[a,u]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],f=e.get(a)||[];f.push(u),e.set(a,f)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(TA):[TA(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Mp({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(TA(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(TA(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class OX{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function dG(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function uG(n){return typeof Blob<"u"&&n instanceof Blob}function hG(n){return typeof FormData<"u"&&n instanceof FormData}class sC{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function PX(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Kd),this.context||(this.context=new OX),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=e;else{const u=e.indexOf("?");this.urlWithParams=e+(-1===u?"?":u<e.length-1?"&":"")+a}}else this.params=new Mp,this.urlWithParams=e}serializeBody(){return null===this.body?null:dG(this.body)||uG(this.body)||hG(this.body)||function FX(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Mp?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||hG(this.body)?null:uG(this.body)?this.body.type||null:dG(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Mp?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,u=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let f=t.headers||this.headers,m=t.params||this.params;const v=t.context??this.context;return void 0!==t.setHeaders&&(f=Object.keys(t.setHeaders).reduce((x,I)=>x.set(I,t.setHeaders[I]),f)),t.setParams&&(m=Object.keys(t.setParams).reduce((x,I)=>x.set(I,t.setParams[I]),m)),new sC(e,i,s,{params:m,headers:f,context:v,reportProgress:u,responseType:r,withCredentials:a})}}var oo=(()=>((oo=oo||{})[oo.Sent=0]="Sent",oo[oo.UploadProgress=1]="UploadProgress",oo[oo.ResponseHeader=2]="ResponseHeader",oo[oo.DownloadProgress=3]="DownloadProgress",oo[oo.Response=4]="Response",oo[oo.User=5]="User",oo))();class uN{constructor(t,e=200,i="OK"){this.headers=t.headers||new Kd,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class hN extends uN{constructor(t={}){super(t),this.type=oo.ResponseHeader}clone(t={}){return new hN({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class AA extends uN{constructor(t={}){super(t),this.type=oo.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new AA({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class fG extends uN{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function fN(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let wh=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof sC)s=e;else{let f,m;f=r.headers instanceof Kd?r.headers:new Kd(r.headers),r.params&&(m=r.params instanceof Mp?r.params:new Mp({fromObject:r.params})),s=new sC(e,i,void 0!==r.body?r.body:null,{headers:f,context:r.context,params:m,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const a=se(s).pipe(Ld(f=>this.handler.handle(f)));if(e instanceof sC||"events"===r.observe)return a;const u=a.pipe(oi(f=>f instanceof AA));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return u.pipe((0,dt.U)(f=>{if(null!==f.body&&!(f.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return f.body}));case"blob":return u.pipe((0,dt.U)(f=>{if(null!==f.body&&!(f.body instanceof Blob))throw new Error("Response is not a Blob.");return f.body}));case"text":return u.pipe((0,dt.U)(f=>{if(null!==f.body&&"string"!=typeof f.body)throw new Error("Response is not a string.");return f.body}));default:return u.pipe((0,dt.U)(f=>f.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Mp).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,fN(r,i))}post(e,i,r={}){return this.request("POST",e,fN(r,i))}put(e,i,r={}){return this.request("PUT",e,fN(r,i))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(EA))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function pG(n,t){return t(n)}function NX(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}const BX=new o.OlP("HTTP_INTERCEPTORS"),aC=new o.OlP("HTTP_INTERCEPTOR_FNS");function VX(){let n=null;return(t,e)=>(null===n&&(n=((0,o.f3M)(BX,{optional:!0})??[]).reduceRight(NX,pG)),n(t,e))}let mG=(()=>{class n extends EA{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=Array.from(new Set(this.injector.get(aC)));this.chain=i.reduceRight((r,s)=>function LX(n,t,e){return(i,r)=>e.runInContext(()=>t(i,s=>n(s,r)))}(r,s,this.injector),pG)}return this.chain(e,i=>this.backend.handle(i))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(dN),o.LFG(o.lqb))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const zX=/^\)\]\}',?\n/;let _G=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new kn.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((B,q)=>r.setRequestHeader(B,q.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const B=e.detectContentTypeHeader();null!==B&&r.setRequestHeader("Content-Type",B)}if(e.responseType){const B=e.responseType.toLowerCase();r.responseType="json"!==B?B:"text"}const s=e.serializeBody();let a=null;const u=()=>{if(null!==a)return a;const B=r.statusText||"OK",q=new Kd(r.getAllResponseHeaders()),ue=function jX(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return a=new hN({headers:q,status:r.status,statusText:B,url:ue}),a},f=()=>{let{headers:B,status:q,statusText:ue,url:ge}=u(),Oe=null;204!==q&&(Oe=typeof r.response>"u"?r.responseText:r.response),0===q&&(q=Oe?200:0);let nt=q>=200&&q<300;if("json"===e.responseType&&"string"==typeof Oe){const it=Oe;Oe=Oe.replace(zX,"");try{Oe=""!==Oe?JSON.parse(Oe):null}catch(pt){Oe=it,nt&&(nt=!1,Oe={error:pt,text:Oe})}}nt?(i.next(new AA({body:Oe,headers:B,status:q,statusText:ue,url:ge||void 0})),i.complete()):i.error(new fG({error:Oe,headers:B,status:q,statusText:ue,url:ge||void 0}))},m=B=>{const{url:q}=u(),ue=new fG({error:B,status:r.status||0,statusText:r.statusText||"Unknown Error",url:q||void 0});i.error(ue)};let v=!1;const x=B=>{v||(i.next(u()),v=!0);let q={type:oo.DownloadProgress,loaded:B.loaded};B.lengthComputable&&(q.total=B.total),"text"===e.responseType&&r.responseText&&(q.partialText=r.responseText),i.next(q)},I=B=>{let q={type:oo.UploadProgress,loaded:B.loaded};B.lengthComputable&&(q.total=B.total),i.next(q)};return r.addEventListener("load",f),r.addEventListener("error",m),r.addEventListener("timeout",m),r.addEventListener("abort",m),e.reportProgress&&(r.addEventListener("progress",x),null!==s&&r.upload&&r.upload.addEventListener("progress",I)),r.send(s),i.next({type:oo.Sent}),()=>{r.removeEventListener("error",m),r.removeEventListener("abort",m),r.removeEventListener("load",f),r.removeEventListener("timeout",m),e.reportProgress&&(r.removeEventListener("progress",x),null!==s&&r.upload&&r.upload.removeEventListener("progress",I)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(zh))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const pN=new o.OlP("XSRF_ENABLED"),yG=new o.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),vG=new o.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class bG{}let $X=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Zs(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(j),o.LFG(o.Lbi),o.LFG(yG))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function YX(n,t){const e=n.url.toLowerCase();if(!(0,o.f3M)(pN)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=(0,o.f3M)(bG).getToken(),r=(0,o.f3M)(vG);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var Jr=(()=>((Jr=Jr||{})[Jr.Interceptors=0]="Interceptors",Jr[Jr.LegacyInterceptors=1]="LegacyInterceptors",Jr[Jr.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Jr[Jr.NoXsrfProtection=3]="NoXsrfProtection",Jr[Jr.JsonpSupport=4]="JsonpSupport",Jr[Jr.RequestsMadeViaParent=5]="RequestsMadeViaParent",Jr))();function WX(...n){const t=[wh,_G,mG,{provide:EA,useExisting:mG},{provide:dN,useExisting:_G},{provide:aC,useValue:YX,multi:!0},{provide:pN,useValue:!0},{provide:bG,useClass:$X}];for(const e of n)t.push(...e.\u0275providers);return(0,o.MR2)(t)}const wG=new o.OlP("LEGACY_INTERCEPTOR_FN");function KX(){return function Uv(n,t){return{\u0275kind:n,\u0275providers:t}}(Jr.LegacyInterceptors,[{provide:wG,useFactory:VX},{provide:aC,useExisting:wG,multi:!0}])}const QX=["*"];let IA;function lC(n){return function JX(){if(void 0===IA&&(IA=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(IA=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return IA}()?.createHTML(n)||n}function xG(n){return Error(`Unable to find icon with the name "${n}"`)}function CG(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function DG(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class t_{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let kA=(()=>{class n{constructor(e,i,r,s){this._httpClient=e,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,s){return this._addSvgIconConfig(e,i,new t_(r,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,s){const a=this._sanitizer.sanitize(o.q3G.HTML,r);if(!a)throw DG(r);const u=lC(a);return this._addSvgIconConfig(e,i,new t_("",u,s))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new t_(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const s=this._sanitizer.sanitize(o.q3G.HTML,i);if(!s)throw DG(i);const a=lC(s);return this._addSvgIconSetConfig(e,new t_("",a,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,e);if(!i)throw CG(e);const r=this._cachedIconsByUrl.get(i);return r?se(MA(r)):this._loadSvgIconFromConfig(new t_(e,null)).pipe((0,Un.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,dt.U)(s=>MA(s)))}getNamedSvgIcon(e,i=""){const r=SG(i,e);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,e),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const a=this._iconSetConfigs.get(i);return a?this._getSvgFromIconSetConfigs(e,a):Zf(xG(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?se(MA(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,dt.U)(i=>MA(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?se(r):Jb(i.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(Gl(u=>{const m=`Loading icon set URL: ${this._sanitizer.sanitize(o.q3G.RESOURCE_URL,a.url)} failed: ${u.message}`;return this._errorHandler.handleError(new Error(m)),se(null)})))).pipe((0,dt.U)(()=>{const a=this._extractIconWithNameFromAnySet(e,i);if(!a)throw xG(e);return a}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const a=this._svgElementFromConfig(s),u=this._extractSvgIconFromSet(a,e,s.options);if(u)return u}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,Un.b)(i=>e.svgText=i),(0,dt.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?se(null):this._fetchIcon(e).pipe((0,Un.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const s=e.querySelector(`[id="${i}"]`);if(!s)return null;const a=s.cloneNode(!0);if(a.removeAttribute("id"),"svg"===a.nodeName.toLowerCase())return this._setSvgAttributes(a,r);if("symbol"===a.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(a),r);const u=this._svgElementFromString(lC("<svg></svg>"));return u.appendChild(a),this._setSvgAttributes(u,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(lC("<svg></svg>")),r=e.attributes;for(let s=0;s<r.length;s++){const{name:a,value:u}=r[s];"id"!==a&&i.setAttribute(a,u)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,s=r?.withCredentials??!1;if(!this._httpClient)throw function XX(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const a=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,i);if(!a)throw CG(i);const u=this._inProgressUrlFetches.get(a);if(u)return u;const f=this._httpClient.get(a,{responseType:"text",withCredentials:s}).pipe((0,dt.U)(m=>lC(m)),Bd(()=>this._inProgressUrlFetches.delete(a)),(0,_2.B)());return this._inProgressUrlFetches.set(a,f),f}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(SG(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,e);if(s)return tee(s)?new t_(s.url,null,s.options):new t_(s,null)}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(wh,8),o.LFG(sa),o.LFG(j,8),o.LFG(o.qLn))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function MA(n){return n.cloneNode(!0)}function SG(n,t){return n+":"+t}function tee(n){return!(!n.url||!n.options)}const nee=Sm(class{constructor(n){this._elementRef=n}}),iee=new o.OlP("MAT_ICON_DEFAULT_OPTIONS"),ree=new o.OlP("mat-icon-location",{providedIn:"root",factory:function oee(){const n=(0,o.f3M)(j),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),EG=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],see=EG.map(n=>`[${n}]`).join(", "),aee=/^url\(['"]?#(.*?)['"]?\)$/;let Qo=(()=>{class n extends nee{get inline(){return this._inline}set inline(e){this._inline=Nt(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(e,i,r,s,a,u){super(e),this._iconRegistry=i,this._location=s,this._errorHandler=a,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=C.w0.EMPTY,u&&(u.color&&(this.color=this.defaultColor=u.color),u.fontSet&&(this.fontSet=u.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(a=>{s.setAttribute(a.name,`url('${e}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(see),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)EG.forEach(a=>{const u=i[s],f=u.getAttribute(a),m=f?f.match(aee):null;if(m){let v=r.get(u);v||(v=[],r.set(u,v)),v.push({name:a,value:m[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Tt(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(kA),o.$8M("aria-hidden"),o.Y36(ree),o.Y36(o.qLn),o.Y36(iee,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,i){2&e&&(o.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),o.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[o.qOj],ngContentSelectors:QX,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),TG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Mn,Mn]}),n})();const lee=["*"],uee=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],hee=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],fee=new o.OlP("MAT_CARD_CONFIG");let n_=(()=>{class n{constructor(e){this.appearance=e?.appearance||"raised"}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(fee,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(e,i){2&e&&o.ekj("mat-mdc-card-outlined","outlined"===i.appearance)("mdc-card--outlined","outlined"===i.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:lee,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mat-mdc-card{position:relative;border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px));background-color:var(--mdc-elevated-card-container-color, transparent);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color, transparent)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width, 1px);border-style:solid;border-color:var(--mdc-outlined-card-outline-color, transparent)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),n})(),Rp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]}),n})(),cC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),n})(),AG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"]}),n})(),Hv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:hee,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(e,i){1&e&&(o.F$t(uee),o.Hsn(0),o.TgZ(1,"div",0),o.Hsn(2,1),o.qZA(),o.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),Cee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Mn,or,Mn]}),n})(),IG=(()=>{class n{constructor(e,i){this.fb=e,this.dialogRef=i}ngOnInit(){this.form=new Io({youtubeUrl:this.fb.control("",[Ao.required,Ao.pattern(/^(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:watch\?(?=.*v=\w+)(?:\S+)?|embed\/\w+|v\/\w+|\S+)|youtu\.be\/\w+)(?:\S+)?$/)])},{updateOn:"submit"})}onSubmit(){if(this.form.valid){const e=this.form?.get("youtubeUrl")?.value;let r=e.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/);this.youtubeVideoId=r&&11===r[7].length?r[7]:null,this.dialogRef.close(this.youtubeVideoId)}}onNoClick(){this.dialogRef.close()}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(Jm),o.Y36(Wd))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-video-init-form"]],decls:19,vars:1,consts:[[3,"formGroup","submit"],[1,"url-wrapper"],["color","primary",1,"form-field"],["formControlName","youtubeUrl","matInput","","type","text"],["mat-raised-button","","color","primary","type","submit",1,"add-vid-btn"],[1,"add-span-txt"]],template:function(i,r){1&i&&(o.TgZ(0,"form",0),o.NdJ("submit",function(){return r.onSubmit()}),o.TgZ(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),o._uU(4,"Enter YouTube Video URL"),o.qZA()(),o.TgZ(5,"mat-form-field",2)(6,"mat-label"),o._uU(7,"Enter YouTube URL"),o.qZA(),o._UZ(8,"input",3),o.TgZ(9,"mat-hint"),o._uU(10,"Enter the YouTube video URL which you want subtitles/dubbing for"),o.qZA(),o.TgZ(11,"mat-error"),o._uU(12,"Invalid URL"),o.qZA()(),o.TgZ(13,"button",4)(14,"div",5)(15,"span"),o._uU(16,"Add"),o.qZA(),o.TgZ(17,"mat-icon"),o._uU(18,"add"),o.qZA()()()()()),2&i&&o.Q6J("formGroup",r.form)},dependencies:[Rs,fa,jb,Fm,el,Km,cs,Mr,Ps,ds,Hl,Lr,Qo,Hv,Rp],styles:[".mat-mdc-form-field[_ngcontent-%COMP%]{max-width:550px;width:550px}.url-wrapper[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:column;justify-content:center;align-items:center}.mdc-button[_ngcontent-%COMP%]{margin-top:10px;height:42px;width:100px}.add-vid-btn[_ngcontent-%COMP%]{border-radius:15px}.add-span-txt[_ngcontent-%COMP%]{display:flex}.add-span-txt[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:4px}.add-span-txt[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:5px}"]})}return n})(),kG=(()=>{class n{constructor(e,i){this.data=e,this.dialogRef=i}onNoClick(){this.dialogRef.close()}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(ll),o.Y36(Wd))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-dialog-confirmation"]],decls:8,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions","","align","end"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","warn","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(i,r){1&i&&(o.TgZ(0,"h1",0),o._uU(1),o.qZA(),o._UZ(2,"div",1),o.TgZ(3,"div",2)(4,"button",3),o.NdJ("click",function(){return r.onNoClick()}),o._uU(5,"Discard"),o.qZA(),o.TgZ(6,"button",4),o._uU(7,"DELETE"),o.qZA()()),2&i&&(o.xp6(1),o.Oqu(r.data),o.xp6(5),o.Q6J("mat-dialog-close",!0))},dependencies:[Lr,ms,Wo,Ko,gs]})}return n})(),Op=(()=>{class n{constructor(e){this.firestore=e}setCommunityRequestDetails(e){this.communityRequestDetails=e}getUserNameFromEmail(e){return this.firestore.collection("users",i=>i.where("email","==",e)).valueChanges().pipe((0,dt.U)(i=>i&&i.length>0?i[0].displayName:null),ga())}getSharedSubID(e,i,r,s){return this.firestore.collection("users").doc(e).collection("videos").doc(i).collection("subtitleLanguages").doc(r).collection("subtitles").doc(s).valueChanges().pipe((0,dt.U)(a=>a?a.subtitleSharedId:null),ga())}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(al))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac})}return n})();const Dee={apiKey:"AIzaSyDmX1BROuq6PA5hJddgG60WyvyKAKBZo7o",authDomain:"yousubndub.firebaseapp.com",projectId:"yousubndub",storageBucket:"yousubndub.appspot.com",messagingSenderId:"380319580066",appId:"1:380319580066:web:6b0ec5397557a658d4bcfb"},Gv="AIzaSyC-Ej1pCtGQ7ltiKbFuA7NQs0_2EecnBng";let i_=(()=>{class n{constructor(e){this.http=e,this.currentTimeSubject=new E(0),this.currentCaption=new E("")}playerRefSetter(e){this.playerRef=e}getAllVideoDetails(e){return this.http.get(`https://www.googleapis.com/youtube/v3/videos?part=snippet&part=statistics&part=contentDetails&id=${e}&key=${Gv}`).pipe((0,dt.U)(r=>{if(r)return r.items}))}getVideoDetails(e){return this.http.get(`https://www.googleapis.com/youtube/v3/videos?part=snippet&part=statistics&part=contentDetails&id=${e}&key=${Gv}`)}getCaptionDetails(e){return this.http.get(`https://www.googleapis.com/youtube/v3/captions?part=snippet&videoId=${e}&key=${Gv}`).pipe((0,dt.U)(s=>{if(s)return s.items}))}getCurrentTime(){return this.currentTimeSubject.asObservable()}getCurrentCaption(){return this.currentCaption.asObservable()}startTimeTracking(){this.stopTimeTracking(),this.timer=setInterval(()=>{this.updateCurrentTime()},300)}stopTimeTracking(){clearInterval(this.timer)}updateCurrentTime(){const e=this.playerRef.getCurrentTime();this.currentTimeSubject.next(e)}updateCurrentCaption(e){this.currentCaption.next(e)}seekToPoint(e){this.playerRef.getPlayerState()===YT.PlayerState.PAUSED&&this.playerRef.seekTo(e,!0)}ngOnDestroy(){this.stopTimeTracking()}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(wh))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function MG(n,t,e){return e?MG(n,t).pipe(Uu(e)):new kn.y(i=>{const r=(...a)=>i.next(1===a.length?a[0]:a),s=n(r);return(0,Uo.m)(t)?()=>t(r,s):void 0})}const Tee={connector:()=>new gt.x};function RG(n,t=Tee){const{connector:e}=t;return(0,pi.e)((i,r)=>{const s=e();(0,Lo.Xf)(n(function Eee(n){return new kn.y(t=>n.subscribe(t))}(s))).subscribe(r),r.add(i.subscribe(s))})}function RA(...n){const t=(0,P.jO)(n);return(0,pi.e)((e,i)=>{const r=n.length,s=new Array(r);let a=n.map(()=>!1),u=!1;for(let f=0;f<r;f++)(0,Lo.Xf)(n[f]).subscribe((0,mi.x)(i,m=>{s[f]=m,!u&&!a[f]&&(a[f]=!0,(u=a.every(Sf.y))&&(a=null))},Ou.Z));e.subscribe((0,mi.x)(i,f=>{if(u){const m=[f,...s];i.next(t?t(...m):m)}}))})}const{isArray:kee}=Array;function Mee(n){return 1===n.length&&kee(n[0])?n[0]:n}function OG(...n){const t=(0,P.jO)(n);return t?(0,Xm.z)(OG(...n),Uu(t)):(0,pi.e)((e,i)=>{xD([e,...Mee(n)])(i)})}function PG(n){return(0,pi.e)((t,e)=>{let i=!1,r=0;t.subscribe((0,mi.x)(e,s=>(i||(i=!n(s,r++)))&&e.next(s)))})}const Ree=["youtubeContainer"];let mN=(()=>{class n{get videoId(){return this._videoId.value}set videoId(e){this._videoId.next(e)}get height(){return this._height.value}set height(e){this._height.next(e||390)}get width(){return this._width.value}set width(e){this._width.next(e||640)}set startSeconds(e){this._startSeconds.next(e)}set endSeconds(e){this._endSeconds.next(e)}set suggestedQuality(e){this._suggestedQuality.next(e)}get playerVars(){return this._playerVars.value}set playerVars(e){this._playerVars.next(e)}get disableCookies(){return this._disableCookies.value}set disableCookies(e){this._disableCookies.next(!!e)}constructor(e,i){this._ngZone=e,this._youtubeContainer=new gt.x,this._destroyed=new gt.x,this._playerChanges=new E(void 0),this._videoId=new E(void 0),this._height=new E(390),this._width=new E(640),this._startSeconds=new E(void 0),this._endSeconds=new E(void 0),this._suggestedQuality=new E(void 0),this._playerVars=new E(void 0),this._disableCookies=new E(!1),this.ready=this._getLazyEmitter("onReady"),this.stateChange=this._getLazyEmitter("onStateChange"),this.error=this._getLazyEmitter("onError"),this.apiChange=this._getLazyEmitter("onApiChange"),this.playbackQualityChange=this._getLazyEmitter("onPlaybackQualityChange"),this.playbackRateChange=this._getLazyEmitter("onPlaybackRateChange"),this._isBrowser=Ar(i)}ngOnInit(){if(!this._isBrowser)return;let e=se(!0);if(!window.YT||!window.YT.Player){const s=new gt.x;this._existingApiReadyCallback=window.onYouTubeIframeAPIReady,window.onYouTubeIframeAPIReady=()=>{this._existingApiReadyCallback&&this._existingApiReadyCallback(),this._ngZone.run(()=>s.next(!0))},e=s.pipe(Tt(1),yr(!1))}const i=this._disableCookies.pipe((0,dt.U)(s=>s?"https://www.youtube-nocookie.com":void 0)),r=function Nee(n,t,e,i,r,s,a,u){const f=Yr([t,e,a]).pipe(RA(Yr([r,s])),(0,dt.U)(([m,v])=>{const[x,I,B]=m,[q,ue]=v;return x?{videoId:x,playerVars:B,width:q,height:ue,host:I}:void 0}));return Yr([n,f,se(u)]).pipe(function Lee(n){return(0,Xm.z)(OG(n),PG(([t,e])=>!e),(0,dt.U)(([t])=>t))}(i),Ic(Bee,void 0),Nl())}(this._youtubeContainer,this._videoId,i,e,this._width,this._height,this._playerVars,this._ngZone).pipe((0,Un.b)(s=>{this._playerChanges.next(s)}),function Fee(n){return(0,br.z)(t=>t?LG(t)?se(t):new kn.y(e=>{let i=!1,r=!1;const s=a=>{r=!0,i||(a.target.removeEventListener("onReady",s),e.next(a.target))};return t.addEventListener("onReady",s),()=>{i=!0,r||n(t)}}).pipe(Tt(1),yr(void 0)):se(void 0))}(s=>{LG(s)||s.destroy()}),an(this._destroyed),function Iee(n){return n?t=>RG(n)(t):t=>function Aee(n,t){const e=(0,Uo.m)(n)?n:()=>n;return(0,Uo.m)(t)?RG(t,{connector:e}):i=>new vy(i,e)}(new gt.x)(t)}());r.subscribe(s=>{this._player=s,s&&this._pendingPlayerState&&this._initializePlayer(s,this._pendingPlayerState),this._pendingPlayerState=void 0}),function Oee(n,t,e){Yr([n,t,e]).subscribe(([i,r,s])=>i&&i.setSize(r,s))}(r,this._width,this._height),function Pee(n,t){Yr([n,t]).subscribe(([e,i])=>e&&i&&e.setPlaybackQuality(i))}(r,this._suggestedQuality),function Vee(n,t,e,i,r,s){const a=Yr([e,i]).pipe((0,dt.U)(([v,x])=>({startSeconds:v,endSeconds:x}))),u=a.pipe(gN(n,v=>!!v&&!function Uee(n){const t=n.getPlayerState();return t!==YT.PlayerState.UNSTARTED&&t!==YT.PlayerState.CUED}(v))),f=t.pipe(gN(n,(v,x)=>!!v&&v.videoId!==x)),m=n.pipe(gN(Yr([t,a]),([v,x],I)=>!(!I||v==I.videoId&&!x.startSeconds&&!x.endSeconds)));(0,Mi.T)(m,f,u).pipe(RA(Yr([n,t,a,r])),(0,dt.U)(([v,x])=>x),an(s)).subscribe(([v,x,I,B])=>{!x||!v||(v.videoId=x,v.cueVideoById({videoId:x,suggestedQuality:B,...I}))})}(r,this._videoId,this._startSeconds,this._endSeconds,this._suggestedQuality,this._destroyed),r.connect()}ngAfterViewInit(){this._youtubeContainer.next(this.youtubeContainer.nativeElement)}ngOnDestroy(){this._player&&(this._player.destroy(),window.onYouTubeIframeAPIReady=this._existingApiReadyCallback),this._playerChanges.complete(),this._videoId.complete(),this._height.complete(),this._width.complete(),this._startSeconds.complete(),this._endSeconds.complete(),this._suggestedQuality.complete(),this._youtubeContainer.complete(),this._playerVars.complete(),this._destroyed.next(),this._destroyed.complete()}playVideo(){this._player?this._player.playVideo():this._getPendingState().playbackState=YT.PlayerState.PLAYING}pauseVideo(){this._player?this._player.pauseVideo():this._getPendingState().playbackState=YT.PlayerState.PAUSED}stopVideo(){this._player?this._player.stopVideo():this._getPendingState().playbackState=YT.PlayerState.CUED}seekTo(e,i){this._player?this._player.seekTo(e,i):this._getPendingState().seek={seconds:e,allowSeekAhead:i}}mute(){this._player?this._player.mute():this._getPendingState().muted=!0}unMute(){this._player?this._player.unMute():this._getPendingState().muted=!1}isMuted(){return this._player?this._player.isMuted():!!this._pendingPlayerState&&!!this._pendingPlayerState.muted}setVolume(e){this._player?this._player.setVolume(e):this._getPendingState().volume=e}getVolume(){return this._player?this._player.getVolume():this._pendingPlayerState&&null!=this._pendingPlayerState.volume?this._pendingPlayerState.volume:0}setPlaybackRate(e){if(this._player)return this._player.setPlaybackRate(e);this._getPendingState().playbackRate=e}getPlaybackRate(){return this._player?this._player.getPlaybackRate():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackRate?this._pendingPlayerState.playbackRate:0}getAvailablePlaybackRates(){return this._player?this._player.getAvailablePlaybackRates():[]}getVideoLoadedFraction(){return this._player?this._player.getVideoLoadedFraction():0}getPlayerState(){if(this._isBrowser&&window.YT)return this._player?this._player.getPlayerState():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackState?this._pendingPlayerState.playbackState:YT.PlayerState.UNSTARTED}getCurrentTime(){return this._player?this._player.getCurrentTime():this._pendingPlayerState&&this._pendingPlayerState.seek?this._pendingPlayerState.seek.seconds:0}getPlaybackQuality(){return this._player?this._player.getPlaybackQuality():"default"}getAvailableQualityLevels(){return this._player?this._player.getAvailableQualityLevels():[]}getDuration(){return this._player?this._player.getDuration():0}getVideoUrl(){return this._player?this._player.getVideoUrl():""}getVideoEmbedCode(){return this._player?this._player.getVideoEmbedCode():""}_getPendingState(){return this._pendingPlayerState||(this._pendingPlayerState={}),this._pendingPlayerState}_initializePlayer(e,i){const{playbackState:r,playbackRate:s,volume:a,muted:u,seek:f}=i;switch(r){case YT.PlayerState.PLAYING:e.playVideo();break;case YT.PlayerState.PAUSED:e.pauseVideo();break;case YT.PlayerState.CUED:e.stopVideo()}null!=s&&e.setPlaybackRate(s),null!=a&&e.setVolume(a),null!=u&&(u?e.mute():e.unMute()),null!=f&&e.seekTo(f.seconds,f.allowSeekAhead)}_getLazyEmitter(e){return this._playerChanges.pipe(Pn(i=>i?MG(r=>{i.addEventListener(e,r)},r=>{try{i.removeEventListener&&i.removeEventListener(e,r)}catch{}}):se()),i=>new kn.y(r=>i.subscribe({next:s=>this._ngZone.run(()=>r.next(s)),error:s=>r.error(s),complete:()=>r.complete()})),an(this._destroyed))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.R0b),o.Y36(o.Lbi))},n.\u0275cmp=o.Xpm({type:n,selectors:[["youtube-player"]],viewQuery:function(e,i){if(1&e&&o.Gf(Ree,5),2&e){let r;o.iGM(r=o.CRH())&&(i.youtubeContainer=r.first)}},inputs:{videoId:"videoId",height:"height",width:"width",startSeconds:"startSeconds",endSeconds:"endSeconds",suggestedQuality:"suggestedQuality",playerVars:"playerVars",disableCookies:"disableCookies",showBeforeIframeApiLoads:"showBeforeIframeApiLoads"},outputs:{ready:"ready",stateChange:"stateChange",error:"error",apiChange:"apiChange",playbackQualityChange:"playbackQualityChange",playbackRateChange:"playbackRateChange"},decls:2,vars:0,consts:[["youtubeContainer",""]],template:function(e,i){1&e&&o._UZ(0,"div",null,0)},encapsulation:2,changeDetection:0}),n})();function Bee(n,[t,e,i]){if(n&&e&&(n.playerVars!==e.playerVars||n.host!==e.host))n.destroy();else{if(!e)return void(n&&n.destroy());if(n)return n}const r=i.runOutsideAngular(()=>new YT.Player(t,e));return r.videoId=e.videoId,r.playerVars=e.playerVars,r.host=e.host,r}function LG(n){return"getPlayerStatus"in n}function gN(n,t){return(0,Xm.z)(RA(n),oi(([e,i])=>t(i,e)),(0,dt.U)(([e])=>e))}let Hee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const Gee=["tooltip"],BG=new o.OlP("mat-tooltip-scroll-strategy"),qee={provide:BG,deps:[Da],useFactory:function jee(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},$ee=new o.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function Zee(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),VG="tooltip-panel",UG=qr({passive:!0});let Xee=(()=>{class n{get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=Nt(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Nt(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=So(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=So(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(e,i,r,s,a,u,f,m,v,x,I,B){this._overlay=e,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=s,this._ngZone=a,this._platform=u,this._ariaDescriber=f,this._focusMonitor=m,this._dir=x,this._defaultOptions=I,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new gt.x,this._scrollStrategy=v,this._document=B,I&&(I.position&&(this.position=I.position),I.positionAtOrigin&&(this.positionAtOrigin=I.positionAtOrigin),I.touchGestures&&(this.touchGestures=I.touchGestures)),x.change.pipe(an(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(an(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,UG)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const r=this._createOverlay(i);this._detach(),this._portal=this._portal||new Rv(this._tooltipComponent,this._viewContainerRef);const s=this._tooltipInstance=r.attach(this._portal).instance;s._triggerElement=this._elementRef.nativeElement,s._mouseLeaveHideDelay=this._hideDelay,s.afterHidden().pipe(an(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),s.show(e)}hide(e=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(e):(i._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){const s=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&s._origin instanceof o.SBq)return this._overlayRef;this._detach()}const i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&e||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return r.positionChanges.pipe(an(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${VG}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(an(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(an(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(an(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&27===s.keyCode&&!Ka(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,r=this._getOrigin(),s=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...s.main}),this._addOffset({...r.fallback,...s.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={originX:"end",originY:"center"});const{x:s,y:a}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:s,originY:a}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:s,y:a}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:s,overlayY:a}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Tt(1),an(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:r,originY:s}=e;let a;if(a="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===s?"above":"below",a!==this._currentPosition){const u=this._overlayRef;if(u){const f=`${this._cssClassPrefix}-${VG}-`;u.removePanelClass(f+this._currentPosition),u.addPanelClass(f+a)}this._currentPosition=a}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{let i;this._setupPointerExitEventsIfNeeded(),void 0!==e.x&&void 0!==e.y&&(i=e),this.show(void 0,i)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{const i=e.targetTouches?.[0],r=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,r),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,UG)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,r=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){o.$Z()},n.\u0275dir=o.lG2({type:n,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),_s=(()=>{class n extends Xee{constructor(e,i,r,s,a,u,f,m,v,x,I,B){super(e,i,r,s,a,u,f,m,v,x,I,B),this._tooltipComponent=tte,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(e){const r=!this._dir||"ltr"==this._dir.value;return"top"===e.originY?e.offsetY=-8:"bottom"===e.originY?e.offsetY=8:"start"===e.originX?e.offsetX=r?-8:8:"end"===e.originX&&(e.offsetX=r?8:-8),e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Da),o.Y36(o.SBq),o.Y36(Nv),o.Y36(o.s_b),o.Y36(o.R0b),o.Y36(li),o.Y36(kD),o.Y36(Bl),o.Y36(BG),o.Y36(ri,8),o.Y36($ee,8),o.Y36(j))},n.\u0275dir=o.lG2({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],exportAs:["matTooltip"],features:[o.qOj]}),n})(),ete=(()=>{class n{constructor(e,i){this._changeDetectorRef=e,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new gt.x,this._animationsDisabled="NoopAnimations"===i}show(e){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,r=this._showAnimation,s=this._hideAnimation;if(i.classList.remove(e?s:r),i.classList.add(e?r:s),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const a=getComputedStyle(i);("0s"===a.getPropertyValue("animation-duration")||"none"===a.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36(o.QbO,8))},n.\u0275dir=o.lG2({type:n}),n})(),tte=(()=>{class n extends ete{constructor(e,i,r){super(e,r),this._elementRef=i,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>24&&e.width>=200}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(e,i){if(1&e&&o.Gf(Gee,7),2&e){let r;o.iGM(r=o.CRH())&&(i._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,i){1&e&&o.NdJ("mouseleave",function(s){return i._handleMouseLeave(s)}),2&e&&o.Udp("zoom",i.isVisible()?1:null)},features:[o.qOj],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0,1),o.NdJ("animationend",function(s){return i._handleAnimationEnd(s)}),o.TgZ(2,"div",2),o._uU(3),o.qZA()()),2&e&&(o.ekj("mdc-tooltip--multiline",i._isMultiline),o.Q6J("ngClass",i.tooltipClass),o.xp6(3),o.Oqu(i.message))},dependencies:[cn],styles:['.mdc-tooltip__surface{word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color, #fff)}.mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color, #000)}.mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font, inherit);font-size:var(--mdc-plain-tooltip-supporting-text-size, inherit);font-weight:var(--mdc-plain-tooltip-supporting-text-weight, inherit);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, inherit)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0}),n})(),nte=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[qee],imports:[ha,or,Vv,Mn,Mn,Bv]}),n})(),ite=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=Nt(e)}get inset(){return this._inset}set inset(e){this._inset=Nt(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,i){2&e&&(o.uIk("aria-orientation",i.vertical?"vertical":"horizontal"),o.ekj("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),n})(),rte=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Mn,Mn]}),n})(),ote=(()=>{class n{constructor(){this.editVideoEmitter=new o.vpe,this.deleteVideoEmitter=new o.vpe,this.videoIdEmitter=new o.vpe}ngOnInit(){this.publishDate=_N(new Date(this.videoDetails?.snippet?.publishedAt))}editVideo(e){this.editVideoEmitter.emit(e)}deleteVideo(e){this.deleteVideoEmitter.emit(e)}emitVideoId(e){this.videoIdEmitter.emit(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["video-card"]],inputs:{videoId:"videoId",videoDetails:"videoDetails"},outputs:{editVideoEmitter:"editVideoEmitter",deleteVideoEmitter:"deleteVideoEmitter",videoIdEmitter:"videoIdEmitter"},decls:22,vars:11,consts:[[1,"yt-card"],[1,"thumb",3,"click"],["alt","video image",3,"src"],[1,"details"],[1,"info"],[1,"title",3,"click"],[1,"channel-name"],[1,"views"],["id","views"],[1,"actions"],["matTooltip","Go to Video Details",1,"go-to-settings-icon",3,"click"],["matTooltip","Delete Video from your collection",1,"delete-action-icon",3,"click"]],template:function(i,r){1&i&&(o.TgZ(0,"div",0)(1,"div",1),o.NdJ("click",function(){return r.emitVideoId(r.videoDetails.id)}),o._UZ(2,"img",2),o.qZA(),o.TgZ(3,"div",3)(4,"div",4)(5,"div",5),o.NdJ("click",function(){return r.emitVideoId(r.videoDetails.id)}),o._uU(6),o.ALo(7,"slice"),o.qZA(),o.TgZ(8,"div",6),o._uU(9),o.qZA(),o.TgZ(10,"div",7)(11,"span",8),o._uU(12),o.ALo(13,"number"),o.qZA(),o._uU(14," \xb7 "),o.TgZ(15,"span"),o._uU(16),o.qZA()()()(),o.TgZ(17,"div",9)(18,"mat-icon",10),o.NdJ("click",function(){return r.editVideo(r.videoDetails.id)}),o._uU(19,"edit"),o.qZA(),o.TgZ(20,"mat-icon",11),o.NdJ("click",function(){return r.deleteVideo(r.videoDetails.id)}),o._uU(21,"delete"),o.qZA()()()),2&i&&(o.xp6(2),o.Q6J("src",null==r.videoDetails||null==r.videoDetails.snippet||null==r.videoDetails.snippet.thumbnails?null:r.videoDetails.snippet.thumbnails.medium.url,o.LSH),o.xp6(4),o.hij(" ",(null==r.videoDetails||null==r.videoDetails.snippet||null==r.videoDetails.snippet.title?null:r.videoDetails.snippet.title.length)>50?o.Dn7(7,5,null==r.videoDetails||null==r.videoDetails.snippet?null:r.videoDetails.snippet.title,0,50)+"...":null==r.videoDetails||null==r.videoDetails.snippet?null:r.videoDetails.snippet.title," "),o.xp6(3),o.Oqu(null==r.videoDetails||null==r.videoDetails.snippet?null:r.videoDetails.snippet.channelTitle),o.xp6(3),o.hij("",o.lcZ(13,9,null==r.videoDetails||null==r.videoDetails.statistics?null:r.videoDetails.statistics.viewCount)," views"),o.xp6(4),o.hij("",r.publishDate," ago"))},dependencies:[Qo,_s,Oa,Ra],styles:[".yt-card[_ngcontent-%COMP%]{max-width:400px;max-height:350px;width:420px;height:350px;font-family:sans-serif;display:flex;flex-direction:column;overflow:hidden;margin:10px 10px 10px 0;box-shadow:#717172 0 10px 35px -10px;border-radius:4px}.yt-card[_ngcontent-%COMP%]   .thumb[_ngcontent-%COMP%]{height:56%;overflow:hidden;margin-bottom:10px}.yt-card[_ngcontent-%COMP%]   .thumb[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;cursor:pointer}.yt-card[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{display:flex;padding:10px;gap:10px}.yt-card[_ngcontent-%COMP%]   .channel[_ngcontent-%COMP%]{flex:1}.yt-card[_ngcontent-%COMP%]   .channel[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:50%}.yt-card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{flex:6;font-size:16px;color:gray}.yt-card[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:18px;color:#000;font-weight:700;text-decoration:none}.yt-card[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:10px;cursor:pointer}.yt-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:gray;text-decoration:none}.actions[_ngcontent-%COMP%]{height:30px;display:flex;padding-left:15px;padding-bottom:15px;flex-grow:1;align-items:flex-end;gap:20px}.actions[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover{cursor:pointer}.yt-card[_ngcontent-%COMP%]:hover{border-radius:0;transition:.3s}.go-to-settings-icon[_ngcontent-%COMP%]:hover{color:#436c21}.delete-action-icon[_ngcontent-%COMP%]:hover{color:#6b0b0b}"]})}return n})();function _N(n){let t=Math.floor(((new Date).valueOf()-n.valueOf())/1e3),e=t/31536e3;return e>1?Math.floor(e)+" years":(e=t/2592e3,e>1?Math.floor(e)+" months":(e=t/86400,e>1?Math.floor(e)+" days":(e=t/3600,e>1?Math.floor(e)+" hours":(e=t/60,e>1?Math.floor(e)+" minutes":Math.floor(t)+" seconds"))))}let r_=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["fullscreen-loader"]],decls:2,vars:0,consts:[[1,"cssload-container"],[1,"cssload-speeding-wheel"]],template:function(i,r){1&i&&(o.TgZ(0,"div",0),o._UZ(1,"div",1),o.qZA())},styles:['.cssload-container[_ngcontent-%COMP%]{position:fixed;width:100%;inset:0;background-color:#ffffffb3;z-index:9999}.cssload-speeding-wheel[_ngcontent-%COMP%]{content:"";display:block;position:absolute;left:48%;top:40%;width:33px;height:33px;margin:0 auto;border:4px solid rgb(0,0,0);border-radius:50%;border-left-color:transparent;border-right-color:transparent;animation:_ngcontent-%COMP%_cssload-spin .5s infinite linear;-o-animation:cssload-spin .5s infinite linear;-ms-animation:cssload-spin .5s infinite linear;-webkit-animation:_ngcontent-%COMP%_cssload-spin .5s infinite linear;-moz-animation:cssload-spin .5s infinite linear}@keyframes _ngcontent-%COMP%_cssload-spin{to{transform:rotate(360deg)}}']})}return n})();function ste(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div")(1,"p"),o._uU(2,"Offer Deadline:"),o.qZA(),o.TgZ(3,"input",10),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.bidDeadline=r)}),o.ALo(4,"date"),o.qZA()()}if(2&n){const e=o.oxw();o.xp6(3),o.Q6J("ngModel",e.bidDeadline)("min",e.today)("max",o.xi3(4,3,e.deadline,"yyyy-MM-dd"))}}const ate=function(n){return{yourBidAmount:n}};let lte=(()=>{class n{constructor(e,i,r,s,a){this.firestore=e,this.communityService=i,this.dialogRef=r,this.data=s,this.snackbar=a,this.videoTitle=s.videoTitle,this.languageRequested=s.language,this.videoId=s.videoId,this.requestedByID=s.requestedByID,this.fileName=s.filename,this.today=this.today=(new Date).toISOString().split("T")[0]}ngOnInit(){this.firestore.collection("helpRequests",e=>e.where("videoId","==",this.videoId).where("filename","==",this.fileName).where("language","==",this.languageRequested).where("requestedByID","==",this.requestedByID)).get().subscribe(e=>{e.forEach(i=>{this.deadline=i.get("deadline")})})}placeBid(e,i){let r,s;this.communityService.getUserNameFromEmail(this.data.userEmail).subscribe(a=>{r=a}),this.communityService.getSharedSubID(this.requestedByID,this.videoId,this.data.requestDetails.iso,this.fileName).subscribe(a=>{s=null==a?"":a}),this.firestore.collection("users",a=>a.where("uid","==",this.requestedByID)).get().subscribe(a=>{a.forEach(u=>{this.requestorEmail=u.get("email");const f={sender:this.data.userEmail,recipient:this.requestorEmail,subject:"Offer for helping with subtitle: "+this.fileName+"."+this.data.requestDetails.format,createdAt:Date.now(),status:"unread",subtitle_name:this.fileName,body:r+" place the below bid for this subtitle.\nBid: "+e+"\u20ac\nDeadline: "+i,videoId:this.videoId,iso:this.data.requestDetails.iso,language:this.languageRequested,format:this.data.requestDetails.format,videoTitle:this.videoTitle,subtitleId:s};this.firestore.collection("users").doc(this.requestedByID).collection("messages").add(f).then(v=>{v.update({id:v.id}),this.firestore.collection("helpRequests",x=>x.where("videoId","==",this.videoId).where("filename","==",this.fileName).where("language","==",this.languageRequested).where("requestedByID","==",this.requestedByID)).get().subscribe(x=>{x.forEach(I=>{const B=I.get("offerList");if(Array.isArray(B)){const q=B.find(ue=>ue.userEmail===this.data.userEmail);q?(q.userBid=e,q.userDeadline=i,I.ref.update({offerList:B})):(B.push({userEmail:this.data.userEmail,userBid:e,userDeadline:i}),I.ref.update({offerList:B}))}else I.ref.update({offerList:[{userEmail:this.data.userEmail,userBid:e,userDeadline:i}]})})})}).catch(v=>this.snackbar.open("No offer message has been sent","DISMISS",{duration:2e3}))})})}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(al),o.Y36(Op),o.Y36(Wd),o.Y36(ll),o.Y36(Sa))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-place-a-bid"]],decls:24,vars:14,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"language-requested"],[1,"bid-details"],[1,"input-container"],[4,"ngIf"],["matInput","","type","number","placeholder","Enter your bid","min","1","step","0.5","lang","en",1,"mybid",3,"ngModel","ngModelChange"],["bidInput",""],["mat-button","",3,"mat-dialog-close"],["mat-raised-button","","color","primary",3,"disabled","mat-dialog-close","click"],["type","date","lang","en",3,"ngModel","min","max","ngModelChange"]],template:function(i,r){if(1&i&&(o.TgZ(0,"h2",0),o._uU(1),o.qZA(),o.TgZ(2,"div",1)(3,"p",2),o._uU(4),o.qZA(),o.TgZ(5,"p",2),o._uU(6),o.qZA(),o.TgZ(7,"div",3)(8,"p"),o._uU(9),o.qZA(),o.TgZ(10,"p"),o._uU(11,"Currency: \u20ac"),o.qZA(),o.TgZ(12,"div",4),o.YNc(13,ste,5,6,"div",5),o.qZA(),o.TgZ(14,"p"),o._uU(15,"Offer Bid: "),o.qZA(),o.TgZ(16,"div",4)(17,"input",6,7),o.NdJ("ngModelChange",function(a){return r.yourBidAmount=a}),o.qZA()()(),o.TgZ(19,"mat-dialog-actions")(20,"button",8),o._uU(21,"Cancel"),o.qZA(),o.TgZ(22,"button",9),o.NdJ("click",function(){return r.placeBid(r.yourBidAmount,"No"===r.deadline?"No":r.bidDeadline)}),o._uU(23,"Place Bid"),o.qZA()()()),2&i){const s=o.MAs(18);o.xp6(1),o.Oqu(r.videoTitle),o.xp6(3),o.AsE("Subtitle: ",r.fileName,".",r.data.requestDetails.format,""),o.xp6(2),o.hij("Language: ",r.languageRequested,""),o.xp6(3),o.hij("Deadline: ",r.deadline,""),o.xp6(4),o.Q6J("ngIf","No"!=r.deadline),o.xp6(4),o.Q6J("ngModel",r.yourBidAmount),o.xp6(2),o.ekj("right-bottom","No"===r.deadline),o.xp6(1),o.Q6J("mat-dialog-close",null),o.xp6(2),o.Q6J("disabled",!("No"===r.deadline&&s.value||s.value&&r.bidDeadline))("mat-dialog-close",o.VKq(12,ate,r.yourBidAmount))}},dependencies:[Vn,el,cs,ma,Mr,A0,Lr,Pd,ms,Wo,Ko,gs,rr],styles:["button[_ngcontent-%COMP%]{margin-right:8px}h4[_ngcontent-%COMP%]{font-weight:600}p[_ngcontent-%COMP%]{font-weight:500}mat-dialog-actions[_ngcontent-%COMP%]{justify-content:flex-end;margin-top:16px}.input-container[_ngcontent-%COMP%]{width:100%}.mybid[_ngcontent-%COMP%]{display:inline-block;width:calc(100% - 20px);padding:5px;font-size:16px;height:25px;vertical-align:middle}.current-bid[_ngcontent-%COMP%]{font-size:large;font-weight:600}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}input[type=date][_ngcontent-%COMP%]{width:95%;padding:10px;margin-bottom:10px;font-size:16px;border:none;border-radius:4px;background-color:#f0f0f0;box-shadow:0 0 10px #0000001a}input[type=date][_ngcontent-%COMP%]:focus{border-color:#2196f3;box-shadow:0 0 10px #0000004d}input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{color:#2196f3;opacity:1}.right-bottom[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-bottom:16px;position:absolute;bottom:0;right:0}"]})}return n})(),zv=(()=>{class n{constructor(e){this.snackbar=e}showNotification(e,i){this.snackbar.open(e,i,{duration:3e3,horizontalPosition:"center",verticalPosition:"bottom"})}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(Sa))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const HG="firebasestorage.googleapis.com",GG="storageBucket";class xr extends ne.ZR{constructor(t,e,i=0){super(yN(t),`Firebase Storage: ${e} (${yN(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,xr.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return yN(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Li=(()=>(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Li||(Li={})),Li))();function yN(n){return"storage/"+n}function vN(){return new xr(Li.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function zG(){return new xr(Li.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function jG(){return new xr(Li.CANCELED,"User canceled the upload/download.")}function qG(){return new xr(Li.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function jv(n){return new xr(Li.INVALID_ARGUMENT,n)}function ZG(){return new xr(Li.APP_DELETED,"The Firebase app was deleted.")}function $G(n){return new xr(Li.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function dC(n,t){return new xr(Li.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function uC(n){throw new xr(Li.INTERNAL_ERROR,"Internal error: "+n)}class ys{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=ys.makeFromUrl(t,e)}catch{return new ys(t,"")}if(""===i.path)return i;throw function yte(n){return new xr(Li.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",u=new RegExp("^gs://"+r+"(/(.*))?$","i");function m(pt){pt.path_=decodeURIComponent(pt.path)}const x=e.replace(/[.]/g,"\\."),it=[{regex:u,indices:{bucket:1,path:3},postModify:function s(pt){"/"===pt.path.charAt(pt.path.length-1)&&(pt.path_=pt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${x}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:m},{regex:new RegExp(`^https?://${e===HG?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:m}];for(let pt=0;pt<it.length;pt++){const zt=it[pt],jt=zt.regex.exec(t);if(jt){let Kn=jt[zt.indices.path];Kn||(Kn=""),i=new ys(jt[zt.indices.bucket],Kn),zt.postModify(i);break}}if(null==i)throw function _te(n){return new xr(Li.INVALID_URL,"Invalid URL '"+n+"'.")}(t);return i}}class Cte{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function OA(n){return"string"==typeof n||n instanceof String}function YG(n){return bN()&&n instanceof Blob}function bN(){return typeof Blob<"u"&&!(0,ne.UG)()}function wN(n,t,e,i){if(i<t)throw jv(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw jv(`Invalid value for '${n}'. Expected ${e} or less.`)}function xh(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function WG(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var Pp=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Pp||(Pp={})),Pp))();function KG(n,t){const e=n>=500&&n<600,r=-1!==[408,429].indexOf(n),s=-1!==t.indexOf(n);return e||r||s}class Ite{constructor(t,e,i,r,s,a,u,f,m,v,x,I=!0){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=u,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=v,this.connectionFactory_=x,this.retry=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((B,q)=>{this.resolve_=B,this.reject_=q,this.start_()})}start_(){const e=(i,r)=>{const s=this.resolve_,a=this.reject_,u=r.connection;if(r.wasSuccessCode)try{const f=this.callback_(u,u.getResponse());!function Ete(n){return void 0!==n}(f)?s():s(f)}catch(f){a(f)}else if(null!==u){const f=vN();f.serverResponse=u.getErrorText(),a(this.errorCallback_?this.errorCallback_(u,f):f)}else a(r.canceled?this.appDelete_?ZG():jG():zG())};this.canceled_?e(0,new PA(!1,null,!0)):this.backoffId_=function Dte(n,t,e){let i=1,r=null,s=null,a=!1,u=0;function f(){return 2===u}let m=!1;function v(...ge){m||(m=!0,t.apply(null,ge))}function x(ge){r=setTimeout(()=>{r=null,n(B,f())},ge)}function I(){s&&clearTimeout(s)}function B(ge,...Oe){if(m)return void I();if(ge)return I(),void v.call(null,ge,...Oe);if(f()||a)return I(),void v.call(null,ge,...Oe);let it;i<64&&(i*=2),1===u?(u=2,it=0):it=1e3*(i+Math.random()),x(it)}let q=!1;function ue(ge){q||(q=!0,I(),!m&&(null!==r?(ge||(u=2),clearTimeout(r),x(0)):ge||(u=1)))}return x(0),s=setTimeout(()=>{a=!0,ue(!0)},e),ue}((i,r)=>{if(r)return void i(!1,new PA(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const a=u=>{null!==this.progressCallback_&&this.progressCallback_(u.loaded,u.lengthComputable?u.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const u=s.getErrorCode()===Pp.NO_ERROR,f=s.getStatus();if(!u||KG(f,this.additionalRetryCodes_)&&this.retry){const v=s.getErrorCode()===Pp.ABORT;return void i(!1,new PA(!1,null,v))}const m=-1!==this.successCodes_.indexOf(f);i(!0,new PA(m,s))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function Ste(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class PA{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function Nte(...n){const t=function Fte(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(bN())return new Blob(n);throw new xr(Li.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const dl={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class xN{constructor(t,e){this.data=t,this.contentType=e||null}}function CN(n,t){switch(n){case dl.RAW:return new xN(QG(t));case dl.BASE64:case dl.BASE64URL:return new xN(JG(n,t));case dl.DATA_URL:return new xN(function Ute(n){const t=new XG(n);return t.base64?JG(dl.BASE64,t.rest):function Vte(n){let t;try{t=decodeURIComponent(n)}catch{throw dC(dl.DATA_URL,"Malformed data URL.")}return QG(t)}(t.rest)}(t),function Hte(n){return new XG(n).contentType}(t))}throw vN()}function QG(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function JG(n,t){switch(n){case dl.BASE64:{const r=-1!==t.indexOf("-"),s=-1!==t.indexOf("_");if(r||s)throw dC(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case dl.BASE64URL:{const r=-1!==t.indexOf("+"),s=-1!==t.indexOf("/");if(r||s)throw dC(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function Bte(n){if(typeof atob>"u")throw function xte(n){return new xr(Li.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(t)}catch(r){throw r.message.includes("polyfill")?r:dC(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class XG{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw dC(dl.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function Gte(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class Qd{constructor(t,e){let i=0,r="";YG(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(YG(this.data_)){const r=function Lte(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new Qd(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new Qd(i,!0)}}static getBlob(...t){if(bN()){const e=t.map(i=>i instanceof Qd?i.data_:i);return new Qd(Nte.apply(null,e))}{const e=t.map(a=>OA(a)?CN(dl.RAW,a).data:a.data_);let i=0;e.forEach(a=>{i+=a.byteLength});const r=new Uint8Array(i);let s=0;return e.forEach(a=>{for(let u=0;u<a.length;u++)r[s++]=a[u]}),new Qd(r,!0)}}uploadData(){return this.data_}}function DN(n){let t;try{t=JSON.parse(n)}catch{return null}return function Ate(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function ez(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function qte(n,t){return t}class Hs{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||qte}}let FA=null;function hC(){if(FA)return FA;const n=[];n.push(new Hs("bucket")),n.push(new Hs("generation")),n.push(new Hs("metageneration")),n.push(new Hs("name","fullPath",!0));const e=new Hs("name");e.xform=function t(s,a){return function Zte(n){return!OA(n)||n.length<2?n:ez(n)}(a)},n.push(e);const r=new Hs("size");return r.xform=function i(s,a){return void 0!==a?Number(a):a},n.push(r),n.push(new Hs("timeCreated")),n.push(new Hs("updated")),n.push(new Hs("md5Hash",null,!0)),n.push(new Hs("cacheControl",null,!0)),n.push(new Hs("contentDisposition",null,!0)),n.push(new Hs("contentEncoding",null,!0)),n.push(new Hs("contentLanguage",null,!0)),n.push(new Hs("contentType",null,!0)),n.push(new Hs("metadata","customMetadata",!0)),FA=n,FA}function tz(n,t,e){const i=DN(t);return null===i?null:function Yte(n,t,e){const i={type:"file"},r=e.length;for(let s=0;s<r;s++){const a=e[s];i[a.local]=a.xform(i,t[a.server])}return function $te(n,t){Object.defineProperty(n,"ref",{get:function e(){const s=new ys(n.bucket,n.fullPath);return t._makeStorageReference(s)}})}(i,n),i}(n,i,e)}function SN(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const s=t[r];s.writable&&(e[s.server]=n[s.local])}return JSON.stringify(e)}const nz="prefixes",iz="items";class Jd{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Xd(n){if(!n)throw vN()}function NA(n,t){return function e(i,r){const s=tz(n,r,t);return Xd(null!==s),s}}function qv(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function mte(){return new xr(Li.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function pte(){return new xr(Li.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function fte(n){return new xr(Li.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function gte(n){return new xr(Li.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=e.getStatus(),r.serverResponse=i.serverResponse,r}}function fC(n){const t=qv(n);return function e(i,r){let s=t(i,r);return 404===i.getStatus()&&(s=function hte(n){return new xr(Li.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function rz(n,t,e){const r=xh(t.fullServerUrl(),n.host,n._protocol),a=n.maxOperationRetryTime,u=new Jd(r,"GET",NA(n,e),a);return u.errorHandler=fC(t),u}function ene(n,t,e,i,r){const s={};s.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(s.delimiter=e),i&&(s.pageToken=i),r&&(s.maxResults=r);const u=xh(t.bucketOnlyServerUrl(),n.host,n._protocol),m=n.maxOperationRetryTime,v=new Jd(u,"GET",function Jte(n,t){return function e(i,r){const s=function Qte(n,t,e){const i=DN(e);return null===i?null:function Kte(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[nz])for(const r of e[nz]){const s=r.replace(/\/$/,""),a=n._makeStorageReference(new ys(t,s));i.prefixes.push(a)}if(e[iz])for(const r of e[iz]){const s=n._makeStorageReference(new ys(t,r.name));i.items.push(s)}return i}(n,t,i)}(n,t,r);return Xd(null!==s),s}}(n,t.bucket),m);return v.urlParams=s,v.errorHandler=qv(t),v}function sz(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function rne(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class LA{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function EN(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{Xd(!1)}return Xd(!!e&&-1!==(t||["active"]).indexOf(e)),e}const lne={STATE_CHANGED:"state_changed"},Gs={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function TN(n){switch(n){case"running":case"pausing":case"canceling":return Gs.RUNNING;case"paused":return Gs.PAUSED;case"success":return Gs.SUCCESS;case"canceled":return Gs.CANCELED;default:return Gs.ERROR}}class cne{constructor(t,e,i){if(function Tte(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=e??void 0,this.complete=i??void 0;else{const s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function Zv(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}let cz=null;class dne{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Pp.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Pp.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Pp.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw uC("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw uC("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw uC("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw uC("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw uC("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}class une extends dne{initXhr(){this.xhr_.responseType="text"}}function Vc(){return cz?cz():new une}class dz{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=hC(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(Li.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(KG(r.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=zG()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(Li.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function one(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),a=sz(t,i,r),u={name:a.fullPath},f=xh(s,n.host,n._protocol),v={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},x=SN(a,e),q=new Jd(f,"POST",function B(ue){let ge;EN(ue);try{ge=ue.getResponseHeader("X-Goog-Upload-URL")}catch{Xd(!1)}return Xd(OA(ge)),ge},n.maxUploadRetryTime);return q.urlParams=u,q.headers=v,q.body=x,q.errorHandler=qv(t),q}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Vc,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=function sne(n,t,e,i){const f=new Jd(e,"POST",function s(m){const v=EN(m,["active","final"]);let x=null;try{x=m.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Xd(!1)}x||Xd(!1);const I=Number(x);return Xd(!isNaN(I)),new LA(I,i.size(),"final"===v)},n.maxUploadRetryTime);return f.headers={"X-Goog-Upload-Command":"query"},f.errorHandler=qv(t),f}(this._ref.storage,this._ref._location,t,this._blob),s=this._ref.storage._makeRequest(r,Vc,e,i);this._request=s,s.getPromise().then(a=>{this._request=void 0,this._updateProgress(a.current),this._needToFetchStatus=!1,a.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new LA(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let a;try{a=function ane(n,t,e,i,r,s,a,u){const f=new LA(0,0);if(a?(f.current=a.current,f.total=a.total):(f.current=0,f.total=i.size()),i.size()!==f.total)throw function bte(){return new xr(Li.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const m=f.total-f.current;let v=m;r>0&&(v=Math.min(v,r));const x=f.current;let B="";B=0===v?"finalize":m===v?"upload, finalize":"upload";const q={"X-Goog-Upload-Command":B,"X-Goog-Upload-Offset":`${f.current}`},ue=i.slice(x,x+v);if(null===ue)throw qG();const it=new Jd(e,"POST",function ge(pt,zt){const jt=EN(pt,["active","final"]),Bn=f.current+v,Kn=i.size();let Xr;return Xr="final"===jt?NA(t,s)(pt,zt):null,new LA(Bn,Kn,"final"===jt,Xr)},t.maxUploadRetryTime);return it.headers=q,it.body=ue.uploadData(),it.progressCallback=u||null,it.errorHandler=qv(n),it}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(f){return this._error=f,void this._transition("error")}const u=this._ref.storage._makeRequest(a,Vc,r,s,!1);this._request=u,u.getPromise().then(f=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(f.current),f.finalized?(this._metadata=f.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=rz(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Vc,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function az(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},f=function u(){let it="";for(let pt=0;pt<2;pt++)it+=Math.random().toString().slice(2);return it}();a["Content-Type"]="multipart/related; boundary="+f;const m=sz(t,i,r),v=SN(m,e),B=Qd.getBlob("--"+f+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+v+"\r\n--"+f+"\r\nContent-Type: "+m.contentType+"\r\n\r\n",i,"\r\n--"+f+"--");if(null===B)throw qG();const q={name:m.fullPath},ue=xh(s,n.host,n._protocol),Oe=n.maxUploadRetryTime,nt=new Jd(ue,"POST",NA(n,e),Oe);return nt.urlParams=q,nt.headers=a,nt.body=B.uploadData(),nt.errorHandler=qv(t),nt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Vc,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=jG(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=TN(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const s=new cne(e||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(TN(this._state)){case Gs.SUCCESS:Zv(this._resolve.bind(null,this.snapshot))();break;case Gs.CANCELED:case Gs.ERROR:Zv(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(TN(this._state)){case Gs.RUNNING:case Gs.PAUSED:t.next&&Zv(t.next.bind(t,this.snapshot))();break;case Gs.SUCCESS:t.complete&&Zv(t.complete.bind(t))();break;default:t.error&&Zv(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class o_{constructor(t,e){this._service=t,this._location=e instanceof ys?e:ys.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new o_(t,e)}get root(){const t=new ys(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ez(this._location.path)}get storage(){return this._service}get parent(){const t=function zte(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new ys(this._location.bucket,t);return new o_(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw $G(t)}}function hz(n,t,e){return AN.apply(this,arguments)}function AN(){return AN=(0,Ge.Z)(function*(n,t,e){const r=yield fz(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&(yield hz(n,t,r.nextPageToken))}),AN.apply(this,arguments)}function fz(n,t){null!=t&&"number"==typeof t.maxResults&&wN("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=ene(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,Vc)}function Cne(n){n._throwIfRoot("getDownloadURL");const t=function tne(n,t,e){const r=xh(t.fullServerUrl(),n.host,n._protocol),a=n.maxOperationRetryTime,u=new Jd(r,"GET",function Xte(n,t){return function e(i,r){const s=tz(n,r,t);return Xd(null!==s),function Wte(n,t,e,i){const r=DN(t);if(null===r||!OA(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const a=encodeURIComponent;return s.split(",").map(m=>{const x=n.fullPath;return xh("/b/"+a(n.bucket)+"/o/"+a(x),e,i)+WG({alt:"media",token:m})})[0]}(s,r,n.host,n._protocol)}}(n,e),a);return u.errorHandler=fC(t),u}(n.storage,n._location,hC());return n.storage.makeRequestWithTokens(t,Vc).then(e=>{if(null===e)throw function wte(){return new xr(Li.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return e})}function pz(n,t){const e=function jte(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new ys(n._location.bucket,e);return new o_(n.storage,i)}function mz(n,t){if(n instanceof IN){const e=n;if(null==e._bucket)throw function vte(){return new xr(Li.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+GG+"' property when initializing the app?")}();const i=new o_(e,e._bucket);return null!=t?mz(i,t):i}return void 0!==t?pz(n,t):n}function Tne(n,t){if(t&&function Sne(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof IN)return function Ene(n,t){return new o_(n,t)}(n,t);throw jv("To use ref(service, url), the first argument must be a Storage instance.")}return mz(n,t)}function gz(n,t){const e=t?.[GG];return null==e?null:ys.makeFromBucketSpec(e,n)}class IN{constructor(t,e,i,r,s){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=HG,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?ys.makeFromBucketSpec(r,this._host):gz(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?ys.makeFromBucketSpec(this._url,t):gz(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){wN("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){wN("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,Ge.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,Ge.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new o_(this,t)}_makeRequest(t,e,i,r,s=!0){if(this._deleted)return new Cte(ZG());{const a=function Pte(n,t,e,i,r,s,a=!0){const u=WG(n.urlParams),f=n.url+u,m=Object.assign({},n.headers);return function Rte(n,t){t&&(n["X-Firebase-GMPID"]=t)}(m,t),function kte(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(m,e),function Mte(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(m,s),function Ote(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(m,i),new Ite(f,n.method,m,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,a)}(t,this._appId,i,r,e,this._firebaseVersion,s);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}makeRequestWithTokens(t,e){var i=this;return(0,Ge.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,s).getPromise()})()}}const _z="@firebase/storage";function bz(n,t){return Tne(n=(0,ne.m9)(n),t)}function Lne(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new IN(e,i,r,t,ko.SDK_VERSION)}!function Bne(){(0,ko._registerComponent)(new ya.wA("storage",Lne,"PUBLIC").setMultipleInstances(!0)),(0,ko.registerVersion)(_z,"0.11.2",""),(0,ko.registerVersion)(_z,"0.11.2","esm2017")}();class BA{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class xz{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new BA(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new BA(i,this,this._ref))},e)}on(t,e,i,r){let s;return e&&(s="function"==typeof e?a=>e(new BA(a,this,this._ref)):{next:e.next?a=>e.next(new BA(a,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,s,i||void 0,r||void 0)}}class Cz{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new Ch(t,this._service))}get items(){return this._delegate.items.map(t=>new Ch(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Ch{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function Nne(n,t){return pz(n,t)}(this._delegate,t);return new Ch(e,this.storage)}get root(){return new Ch(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new Ch(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new xz(function Ine(n,t,e){return function yne(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new dz(n,new Qd(t),e)}(n=(0,ne.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=dl.RAW,i){this._throwIfRoot("putString");const r=CN(e,t),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new xz(new dz(this._delegate,new Qd(r.data,!0),s),this)}listAll(){return function One(n){return function bne(n){const t={prefixes:[],items:[]};return hz(n,t).then(()=>t)}(n=(0,ne.m9)(n))}(this._delegate).then(t=>new Cz(t,this.storage))}list(t){return function Rne(n,t){return fz(n=(0,ne.m9)(n),t)}(this._delegate,t||void 0).then(e=>new Cz(e,this.storage))}getMetadata(){return function kne(n){return function wne(n){n._throwIfRoot("getMetadata");const t=rz(n.storage,n._location,hC());return n.storage.makeRequestWithTokens(t,Vc)}(n=(0,ne.m9)(n))}(this._delegate)}updateMetadata(t){return function Mne(n,t){return function xne(n,t){n._throwIfRoot("updateMetadata");const e=function nne(n,t,e,i){const s=xh(t.fullServerUrl(),n.host,n._protocol),u=SN(e,i),m=n.maxOperationRetryTime,v=new Jd(s,"PATCH",NA(n,i),m);return v.headers={"Content-Type":"application/json; charset=utf-8"},v.body=u,v.errorHandler=fC(t),v}(n.storage,n._location,t,hC());return n.storage.makeRequestWithTokens(e,Vc)}(n=(0,ne.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function Pne(n){return Cne(n=(0,ne.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Fne(n){return function Dne(n){n._throwIfRoot("deleteObject");const t=function ine(n,t){const i=xh(t.fullServerUrl(),n.host,n._protocol),u=new Jd(i,"DELETE",function a(f,m){},n.maxOperationRetryTime);return u.successCodes=[200,204],u.errorHandler=fC(t),u}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,Vc)}(n=(0,ne.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw $G(t)}}class Dz{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(Sz(t))throw jv("ref() expected a child path but got a URL, use refFromURL instead.");return new Ch(bz(this._delegate,t),this)}refFromURL(t){if(!Sz(t))throw jv("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ys.makeFromUrl(t,this._delegate.host)}catch{throw jv("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ch(bz(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function wz(n,t,e,i={}){!function Ane(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,ne.Sg)(r,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function Sz(n){return/^[A-Za-z]+:\/\//.test(n)}function Gne(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new Dz(e,i)}function Ez(n){const t=function jne(n){return new kn.y(t=>{const e=a=>t.next(a);e(n.snapshot);const s=n.on("state_changed",e);return n.then(a=>{e(a),t.complete()},a=>{e(n.snapshot),(a=>{t.error(a)})(a)}),function(){s()}}).pipe(Cc(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,dt.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function VA(n){return{getDownloadURL:()=>se(void 0).pipe(Xn.fc,Pn(()=>n.getDownloadURL()),Xn.iC),getMetadata:()=>se(void 0).pipe(Xn.fc,Pn(()=>n.getMetadata()),Xn.iC),delete:()=>(0,ee.D)(n.delete()),child:t=>VA(n.child(t)),updateMetadata:t=>(0,ee.D)(n.updateMetadata(t)),put:(t,e)=>Ez(n.put(t,e)),putString:(t,e,i)=>Ez(n.putString(t,e,i)),list:t=>(0,ee.D)(n.list(t)),listAll:()=>(0,ee.D)(n.listAll())}}!function zne(n){const t={TaskState:Gs,TaskEvent:lne,StringFormat:dl,Storage:Dz,Reference:Ch};n.INTERNAL.registerComponent(new ya.wA("storage-compat",Gne,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(zy.Z);const qne=new o.OlP("angularfire2.storageBucket"),Zne=new o.OlP("angularfire2.storage.maxUploadRetryTime"),$ne=new o.OlP("angularfire2.storage.maxOperationRetryTime"),Yne=new o.OlP("angularfire2.storage.use-emulator");let $v=(()=>{class n{constructor(e,i,r,s,a,u,f,m,v,x){const I=(0,io.on)(e,a,i);this.storage=(0,io.cc)(`${I.name}.storage.${r}`,"AngularFireStorage",I.name,()=>{const B=a.runOutsideAngular(()=>I.storage(r||void 0)),q=v;return q&&B.useEmulator(...q),f&&B.setMaxUploadRetryTime(f),m&&B.setMaxOperationRetryTime(m),B},[f,m])}ref(e){return VA(this.storage.ref(e))}refFromURL(e){return VA(this.storage.refFromURL(e))}upload(e,i,r){return VA(this.storage.ref(e)).put(i,r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(io.Dh),o.LFG(io.xv,8),o.LFG(qne,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Xn.HU),o.LFG(Zne,8),o.LFG($ne,8),o.LFG(Yne,8),o.LFG(eC,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Wne=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),Kne=(()=>{class n{constructor(){pA.Z.registerVersion("angularfire",Xn.q4.full,"gcs-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[$v],imports:[Wne]}),n})();const pC={_origin:"https://api.emailjs.com"};class Az{constructor(t){this.status=t.status,this.text=t.responseText}}const kz_send=(n,t,e,i)=>{const r=i||pC._userID;return((n,t,e)=>{if(!n)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!e)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"})(r,n,t),((n,t,e={})=>new Promise((i,r)=>{const s=new XMLHttpRequest;s.addEventListener("load",({target:a})=>{const u=new Az(a);200===u.status||"OK"===u.text?i(u):r(u)}),s.addEventListener("error",({target:a})=>{r(new Az(a))}),s.open("POST",pC._origin+n,!0),Object.keys(e).forEach(a=>{s.setRequestHeader(a,e[a])}),s.send(t)}))("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:r,service_id:n,template_id:t,template_params:e}),{"Content-type":"application/json"})};let eie=(()=>{class n{constructor(e){this.notifier=e}sendEmail(e,i){kz_send("service_trizanq","template_kbddrwk",{from_email:e,to_email:i},"mzL-kaIaqUfwXy_py").then(()=>{this.notifier.showNotification("Invitation has been sent to "+i+" successfully!","OK")}).catch(r=>{this.notifier.showNotification(r,"DISMISS")})}sendShareSubEmail(e,i,r,s){kz_send("service_trizanq","template_x0t27ro",{from_email:e,to_email:i,filename:r,videoId:s},"mzL-kaIaqUfwXy_py").then(()=>{this.notifier.showNotification("Notification has been sent to "+i+" successfully!","OK")}).catch(a=>{this.notifier.showNotification(a,"DISMISS")})}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(zv))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$l=(()=>{class n{constructor(e,i,r,s,a,u){this.firestore=e,this.notifier=i,this.storage=r,this.snackbar=s,this.communityService=a,this.emailService=u}getSubtitleLanguages(e,i){const r=this.firestore.collection("users").doc(e).collection("videos").doc(i);return r.collection("subtitleLanguages").snapshotChanges().pipe(Pn(s=>s.length?Yr(s.map(a=>r.collection("subtitleLanguages").doc(a.payload.doc.id).collection("subtitles").snapshotChanges().pipe((0,dt.U)(u=>u.map(f=>f.payload.doc.data()))))):se([])),(0,dt.U)(s=>s.flat()))}requestCommunityHelp(e,i,r,s,a,u,f,m){const v=this.firestore.collection("helpRequests");null==m&&(m="");const x={requestedBy:e.displayName,requestedByID:e.uid,timestamp:Date.now(),videoId:i,language:r,status:"open",iso:s,filename:a,format:u,deadline:f,offerList:[],subtitleId:m};let I;I=this.firestore.collection("helpRequests",""==m?B=>B.where("filename","==",a).where("language","==",r).where("format","==",u).where("requestedByID","==",e.uid):B=>B.where("filename","==",a).where("language","==",r).where("format","==",u).where("requestedByID","==",e.uid).where("subtitleId","==",m)),I.get().subscribe(B=>{B.empty?(v.add(x),this.notifier.showNotification("Subtitle has been successfully requested for a bid.","OK")):I.get().toPromise().then(q=>{"closed"==q.docs[0].data().status?q.docs[0].ref.update({status:"open",deadline:f,offerList:[]}).then(()=>{this.notifier.showNotification("Subtitle has been successfully requested for a bid.","OK")}):this.notifier.showNotification("Subtitle has been already requested for a bid.","DIMISS")})})}addSubtitle(e,i,r,s,a,u,f){const m=this.firestore.doc(`users/${r}/videos/${e}/subtitleLanguages/${i.language}`),x=f||s;m.set({humanReadable:i.name,ISOcode:i.language}).then(()=>{const I=m.collection("/subtitles").doc(x),B={lastUpdated:Date.now(),fileName:s,fullFileName:`${s}.${a}`,format:a,language:i.name,iso:i.language,usersRights:[{userUid:r,right:"Owner",userEmail:u}]};I.set(B)}),this.createEmptyFileToStorage(r,e,i.language,s+"."+a)}createEmptyFileToStorage(e,i,r,s){let u;u=this.storage.ref(`subtitles/${e}/${i}/${r}/${s}`);const f=new Blob([""],{type:"text; charset=utf8"});u.put(f).then(()=>{const m=this.firestore.doc(`users/${e}/videos/${i}/subtitleLanguages/${r}/subtitles/${s.split(".")[0]}`);u.getDownloadURL().pipe(Tt(1)).subscribe(v=>{m.update({storageUrl:v,lastUpdated:Date.now()}).then(()=>{this.snackbar.open("Subtitle Created!","OK",{duration:3e3})}).catch(x=>{this.snackbar.open("Problem creating subtitle","DISMISS",{duration:4e3})})})},m=>{this.snackbar.open(m.message)})}deleteSubtitle(e,i,r,s){return this.firestore.doc(`users/${i}/videos/${e}/subtitleLanguages/${r}/subtitles/${s}`).delete()}shareSubtitle(e,i,r,s,a,u,f,m,v,x){this.addUserRightOnSub(e,i,r,s,a,u,f,m,v,x)}getUserIdByEmail(e){return this.firestore.collection("users",i=>i.where("email","==",e)).valueChanges({idField:"uid"}).pipe((0,dt.U)(i=>i&&i.length>0?i[0].uid:null))}updateSharedVideosUserRights(e,i,r,s,a,u){var f=this;const m=a.filter(I=>"Owner"==I.right)[0],v=this.firestore.collection("users").doc(m.userUid).collection("videos").doc(e).collection("subtitleLanguages").doc(i).collection("subtitles").doc(s);return this.firestore.collection("sharedVideos",I=>I.where("videoId","==",e).where("iso","==",i).where("language","==",r).where("fileName","==",s).where("id","==",u)).get().toPromise().then(function(){var I=(0,Ge.Z)(function*(B){B.empty?f.notifier.showNotification("Document does not exist.","DIMISS"):v.get().toPromise().then(q=>{q.exists&&JSON.stringify(q.data()?.usersRights)!=JSON.stringify(a)&&(v.update({usersRights:a}),B.docs[0].ref.update({usersRights:a}).then(()=>{f.notifier.showNotification("User rights have been updated.","OK")}).catch(ge=>{f.notifier.showNotification("Error updating user rights: "+ge.message,"DIMISS")}))})});return function(B){return I.apply(this,arguments)}}())}updateSharedSubtitleRights(e,i,r,s,a,u,f,m){f.some(x=>"Remove right"===x.right)?this.removeUserRightFromSub(e,i,r,a,f,m):this.updateSharedVideosUserRights(e,i,r,a,f,m)}resetUserRightByEmail(e,i,r,s,a,u){return this.firestore.collection("sharedVideos",m=>m.where("videoId","==",r).where("iso","==",s).where("language","==",a).where("fileName","==",i).where("id","==",u)).get().toPromise().then(m=>{if(!m.empty)return m.docs[0].data().usersRights.filter(q=>q.userEmail==e).map(q=>q.right);this.notifier.showNotification("Document does not exist.","DIMISS")})}transferOwnership(e,i,r,s,a,u,f,m,v){let x;this.emailService.sendEmail(e,i),this.communityService.getUserNameFromEmail(e).subscribe(I=>{x=I;const B=this.firestore.collection("sharedVideos",Oe=>Oe.where("videoId","==",s).where("iso","==",a).where("language","==",u).where("fileName","==",r).where("id","==",v));let q="";const ue=i;B.get().subscribe(Oe=>{Oe.empty||(q=Oe.docs[0].data().requestOwnerEmail,Oe.docs[0].ref.update({requestOwnerEmail:ue}))});const ge={sender:e,recipient:i,subject:"Invitation to accept ownership for subtitle: "+r+"."+f,createdAt:Date.now(),status:"unread",subtitle_name:r,body:x+" invited you to own a subtitle.\nPlease click the button below to accept or decline the transfer ownership invitation",videoId:s,iso:a,language:u,format:f,videoTitle:m,subtitleId:v};this.getUserIdByEmail(i).subscribe(Oe=>{null!=Oe&&this.firestore.collection("users").doc(Oe).collection("messages").add(ge).then(it=>{it.update({id:it.id}),this.notifier.showNotification("Invitation has been sent","OK")}).catch(it=>this.notifier.showNotification("There was an error trying to send the invitation "+it,"DISMISS")),""!=q&&this.getUserIdByEmail(q).subscribe(nt=>{this.removeMessageFromUser(nt,s,a,u,r,v)})})})}getUsersRightsFromSharedSub(e,i,r,s,a,u){var f=this;return(0,Ge.Z)(function*(){const x=yield f.firestore.collection("sharedVideos").ref.where("videoId","==",i).where("iso","==",r).where("language","==",u).where("fileName","==",s).where("id","==",a).get();try{return x.docs.length>0&&x.docs[0].data().usersRights||[]}catch(I){return console.error("Error getting subtitle document:",I),[]}})()}addUserRightOnSub(e,i,r,s,a,u,f,m,v,x){const I=this.firestore.collection("sharedVideos"),q={id:this.firestore.createId(),lastUpdated:Date.now(),fileName:a,fullFilename:`${a}.${u}`,format:u,language:r,iso:i,videoId:e,usersRights:[],requestOwnerEmail:""},ue=this.firestore.collection("users").doc(s).collection("videos").doc(e).collection("subtitleLanguages").doc(i).collection("subtitles").doc(a);ue.get().toPromise().then(ge=>{const Oe=ge.exists&&ge.data().usersRights||[],nt=Oe.find(jt=>jt.userEmail===f),it=ge.data().subtitleSharedId,pt=Oe.find(jt=>"Owner"===jt.right);nt?this.notifier.showNotification("User already exist with a right.","DIMISS"):(Oe.push({right:m,userEmail:f}),ge.exists&&(ue.update({usersRights:Oe}),q.usersRights=Oe,null==v&&(v=null!=it?it:""),this.firestore.collection("sharedVideos",jt=>jt.where("videoId","==",e).where("iso","==",i).where("language","==",r).where("fileName","==",a).where("id","==",v)).get().subscribe(jt=>{jt.empty?(I.add(q),ue.update({subtitleSharedId:q.id}),this.notifier.showNotification("User rights have been added.","OK")):jt.docs[0].ref.update({usersRights:Oe}).then(()=>{this.notifier.showNotification("User rights have been added.","OK")}).catch(Kn=>{this.notifier.showNotification("Error updating user rights: "+Kn.message,"DIMISS")})}),1==x&&this.emailService.sendShareSubEmail(pt.userEmail,f,a+"."+u,e)))})}removeUserRightFromSub(e,i,r,s,a,u){const f=a.filter(B=>"Owner"==B.right)[0],m=this.firestore.collection("users").doc(f.userUid).collection("videos").doc(e).collection("subtitleLanguages").doc(i).collection("subtitles").doc(s),v=a.filter(B=>"Remove right"!==B.right),I=a.filter(B=>"Remove right"===B.right).map(B=>B.userEmail);this.firestore.collection("sharedVideos",B=>B.where("videoId","==",e).where("iso","==",i).where("language","==",r).where("fileName","==",s).where("id","==",u)).get().toPromise().then(B=>{if(B.empty)this.notifier.showNotification("Document does not exist.","DIMISS");else{m.get().toPromise().then(()=>{m.update({usersRights:v})});const q=B.docs[0].ref,ue=B.docs[0].data().requestOwnerEmail;I.includes(ue)&&(q.update({requestOwnerEmail:""}),this.getUserIdByEmail(ue).subscribe(ge=>{this.removeMessageFromUser(ge,e,i,r,s,u)})),q.update({usersRights:v}).then(()=>{this.notifier.showNotification("User rights have been removed.","OK")}).catch(ge=>{this.notifier.showNotification("Error updating user rights: "+ge.message,"DIMISS")})}})}getUsersRightsFromSub(e,i,r,s,a){var u=this;return(0,Ge.Z)(function*(){const f=u.firestore.collection("users").doc(e).collection("videos").doc(i).collection("subtitleLanguages").doc(r).collection("subtitles");let m;a?(m=yield f.ref.where("subtitleSharedId","==",a).limit(1).get(),m=m.docs.length>0?m.docs[0]:null):m=yield f.ref.doc(s).get();try{return m&&m.exists&&m.data().usersRights||[]}catch(v){return console.error("Error getting subtitle document:",v),[]}})()}removeMessageFromUser(e,i,r,s,a,u){this.firestore.collection("users").doc(e).collection("messages",m=>m.where("videoId","==",i).where("iso","==",r).where("language","==",s).where("subtitle_name","==",a).where("subtitleId","==",u)).get().toPromise().then(m=>{m.forEach(v=>{v.ref.delete()})})}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(al),o.LFG(zv),o.LFG($v),o.LFG(Sa),o.LFG(Op),o.LFG(eie))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function tie(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div")(1,"input",8),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.noDeadline=r)})("ngModelChange",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.onNoDeadlineChange())}),o.qZA(),o._uU(2," No Deadline "),o.qZA()}if(2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngModel",e.noDeadline)}}const nie=function(n,t){return{newDeadline:n,isChecked:t}};let iie=(()=>{class n{constructor(e,i,r,s,a,u){this.firestore=e,this.notifier=i,this.detailsService=r,this.communityService=s,this.dialogRef=a,this.data=u,this.isChecked=!1,this.videoTitle=u.videoTitle,this.languageRequested=u.language,this.videoId=u.videoId,this.requestedByID=u.requestedByID,this.fileName=u.filename,this.today=this.today=(new Date).toISOString().split("T")[0]}ngOnInit(){this.firestore.collection("helpRequests",e=>e.where("videoId","==",this.videoId).where("filename","==",this.fileName).where("language","==",this.languageRequested).where("requestedByID","==",this.requestedByID)).get().subscribe(e=>{e.forEach(i=>{this.deadline=i.get("deadline")})})}onNoDeadlineChange(){this.noDeadline?(this.newDeadline="No",this.isChecked=!1):this.newDeadline=!1}onDateInput(){this.noDeadline=!1,this.isChecked=!1,this.newDeadline=this.newDeadline}onIsCheckedChange(){this.isChecked&&(this.newDeadline=null,this.noDeadline=!1)}changeDeadline(e,i){let r;this.communityService.getSharedSubID(this.requestedByID,this.videoId,this.data.requestDetails.iso,this.fileName).subscribe(s=>{r=null==s?"":s}),this.firestore.collection("users",s=>s.where("uid","==",this.requestedByID)).get().subscribe(s=>{s.forEach(a=>{this.requestorEmail=a.get("email"),this.firestore.collection("helpRequests",u=>u.where("videoId","==",this.videoId).where("filename","==",this.fileName).where("language","==",this.languageRequested).where("requestedByID","==",this.requestedByID).where("status","==","open")).get().subscribe(u=>{u.forEach(f=>{const m=f.get("offerList");let v;1==e?(f.ref.update({status:"closed"}),v={sender:this.data.userEmail,recipient:this.requestorEmail,subject:"Subtitle: "+this.fileName+"."+this.data.requestDetails.format,createdAt:Date.now(),status:"unread",subtitle_name:this.fileName,body:"Bid request for this subtitle has been closed.\nThank you for your participation!",videoId:this.videoId,iso:this.data.requestDetails.iso,language:this.languageRequested,format:this.data.requestDetails.format,videoTitle:this.videoTitle,subtitleId:r}):null!==i&&(f.ref.update({deadline:i}),v={sender:this.data.userEmail,recipient:this.requestorEmail,subject:"Subtitle: "+this.fileName+"."+this.data.requestDetails.format,createdAt:Date.now(),status:"unread",subtitle_name:this.fileName,body:"Deadline for this subtitle has been updated.\nNew dealine: "+i,videoId:this.videoId,iso:this.data.requestDetails.iso,language:this.languageRequested,format:this.data.requestDetails.format,videoTitle:this.videoTitle,subtitleId:r}),Array.isArray(m)&&m.forEach(x=>{let B;this.detailsService.getUserIdByEmail(x.userEmail).subscribe(q=>{B=q,this.firestore.collection("users").doc(B).collection("messages").add(v).then(ge=>{ge.update({id:ge.id}).catch(Oe=>this.notifier.showNotification("No info message has been sent","DISMISS"))})})})})})})})}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(al),o.Y36(zv),o.Y36($l),o.Y36(Op),o.Y36(Wd),o.Y36(ll))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-edit-request-dialog"]],decls:28,vars:15,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"language-requested"],[1,"request-details"],[1,"input-container"],["type","date","lang","en",3,"ngModel","min","ngModelChange","input"],["date",""],[4,"ngIf"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"button-container"],["mat-button","",3,"mat-dialog-close"],["mat-raised-button","","color","primary",3,"disabled","mat-dialog-close","click"]],template:function(i,r){1&i&&(o.TgZ(0,"h2",0),o._uU(1),o.qZA(),o.TgZ(2,"div",1)(3,"p",2),o._uU(4),o.qZA(),o.TgZ(5,"p",2),o._uU(6),o.qZA(),o.TgZ(7,"div",3)(8,"p"),o._uU(9),o.qZA(),o.TgZ(10,"p"),o._uU(11,"Currency: \u20ac"),o.qZA(),o.TgZ(12,"div",4)(13,"div")(14,"p"),o._uU(15,"Set new deadline:"),o.qZA(),o.TgZ(16,"input",5,6),o.NdJ("ngModelChange",function(a){return r.newDeadline=a})("input",function(){return r.onDateInput()}),o.qZA(),o.YNc(18,tie,3,1,"div",7),o.TgZ(19,"p"),o._uU(20,"or"),o.qZA(),o.TgZ(21,"input",8),o.NdJ("ngModelChange",function(a){return r.isChecked=a})("ngModelChange",function(){return r.onIsCheckedChange()}),o.qZA(),o._uU(22," Close request "),o.qZA()()(),o.TgZ(23,"mat-dialog-actions",9)(24,"button",10),o._uU(25,"Cancel"),o.qZA(),o.TgZ(26,"button",11),o.NdJ("click",function(){return r.changeDeadline(r.isChecked,r.newDeadline)}),o._uU(27,"Change Dealine"),o.qZA()()()),2&i&&(o.xp6(1),o.Oqu(r.videoTitle),o.xp6(3),o.AsE("Subtitle: ",r.fileName,".",r.data.requestDetails.format,""),o.xp6(2),o.hij("Language: ",r.languageRequested,""),o.xp6(3),o.hij("Deadline: ",r.deadline,""),o.xp6(7),o.Q6J("ngModel",r.newDeadline)("min",r.today),o.xp6(2),o.Q6J("ngIf","No"!=r.deadline),o.xp6(3),o.Q6J("ngModel",r.isChecked),o.xp6(3),o.Q6J("mat-dialog-close",null),o.xp6(2),o.Q6J("disabled",!(r.isChecked||r.newDeadline||r.noDeadline))("mat-dialog-close",o.WLB(12,nie,r.newDeadline,r.isChecked)))},dependencies:[Vn,cs,oy,Mr,Lr,Pd,ms,Wo,Ko,gs],styles:["button[_ngcontent-%COMP%]{margin-right:8px}h4[_ngcontent-%COMP%]{font-weight:600}p[_ngcontent-%COMP%]{font-weight:500}mat-dialog-actions[_ngcontent-%COMP%]{justify-content:flex-end;margin-top:16px}.input-container[_ngcontent-%COMP%]{width:100%}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}input[type=date][_ngcontent-%COMP%]{width:95%;padding:10px;margin-bottom:10px;font-size:16px;border:none;border-radius:4px;background-color:#f0f0f0;box-shadow:0 0 10px #0000001a}input[type=date][_ngcontent-%COMP%]:focus{border-color:#2196f3;box-shadow:0 0 10px #0000004d}input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{color:#2196f3;opacity:1}.request-check[_ngcontent-%COMP%]{display:inline-block}.request-check[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:inline;margin:0}"]})}return n})();function rie(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-icon",13),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.editCommunityRequest(r.communityRequestDetails,null==r.videoDetails||null==r.videoDetails.snippet?null:r.videoDetails.snippet.title,r.communityRequestDetails.filename))}),o._uU(1,"edit"),o.qZA()}}let oie=(()=>{class n{constructor(e,i){this.dialog=e,this.notifier=i,this.editVideoEmitter=new o.vpe,this.deleteVideoEmitter=new o.vpe,this.requestCommunityHelpEmitter=new o.vpe}ngOnInit(){this.publishDate=this.timeSince(new Date(this.videoDetails?.snippet?.publishedAt))}editVideo(e){this.editVideoEmitter.emit(e)}openPlaceABid(e,i,r){this.dialog.open(lte,{width:"550px",height:"470px",data:{language:e.language,videoTitle:i,videoId:this.videoId,requestedByID:e.requestedByID,filename:r,requestDetails:e,userEmail:this.userEmail}}).afterClosed().pipe(Tt(1)).subscribe(s=>{void 0===s?this.dialog.closeAll():s&&s.yourBidAmount>0&&this.notifier.showNotification("Offer has been successfully sent to the requestor.","OK")})}editCommunityRequest(e,i,r){this.dialog.open(iie,{width:"550px",height:"480px",data:{language:e.language,videoTitle:i,videoId:this.videoId,requestedByID:e.requestedByID,filename:r,requestDetails:e,userEmail:this.userEmail}}).afterClosed().pipe(Tt(1)).subscribe(s=>{void 0===s?this.dialog.closeAll():s&&(1==s.isChecked&&this.notifier.showNotification("Request has been successfully closed.","OK"),null!==s.newDeadline&&this.notifier.showNotification("Dealine for this request has been updated.","OK"))})}timeSince(e){let i=Math.floor(((new Date).valueOf()-e.valueOf())/1e3),r=i/31536e3;return r>1?Math.floor(r)+" years":(r=i/2592e3,r>1?Math.floor(r)+" months":(r=i/86400,r>1?Math.floor(r)+" days":(r=i/3600,r>1?Math.floor(r)+" hours":(r=i/60,r>1?Math.floor(r)+" minutes":Math.floor(i)+" seconds"))))}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(cl),o.Y36(zv))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["community-video-card"]],inputs:{videoId:"videoId",userEmail:"userEmail",userId:"userId",videoDetails:"videoDetails",communityRequestDetails:"communityRequestDetails"},outputs:{editVideoEmitter:"editVideoEmitter",deleteVideoEmitter:"deleteVideoEmitter",requestCommunityHelpEmitter:"requestCommunityHelpEmitter"},decls:26,vars:18,consts:[[1,"yt-card"],[1,"thumb"],["target","_blank",3,"href"],["alt","video image",3,"src"],[1,"details"],[1,"info"],[1,"title"],[1,"channel-name"],[1,"views"],["id","views"],[1,"actions"],["matTooltip","Place a BID",3,"click"],["matTooltip","Edit request",3,"click",4,"ngIf"],["matTooltip","Edit request",3,"click"]],template:function(i,r){1&i&&(o.TgZ(0,"div",0)(1,"div",1)(2,"a",2),o._UZ(3,"img",3),o.qZA()(),o.TgZ(4,"div",4)(5,"div",5)(6,"div",6),o._uU(7),o.ALo(8,"slice"),o.qZA(),o.TgZ(9,"div",7),o._uU(10),o.qZA(),o.TgZ(11,"div",8)(12,"span",9),o._uU(13),o.ALo(14,"number"),o.qZA(),o.TgZ(15,"div")(16,"span"),o._uU(17),o.qZA()(),o.TgZ(18,"span"),o._uU(19,"Requested by "),o.TgZ(20,"b"),o._uU(21),o.qZA()()()()(),o.TgZ(22,"div",10)(23,"mat-icon",11),o.NdJ("click",function(){return r.openPlaceABid(r.communityRequestDetails,null==r.videoDetails||null==r.videoDetails.snippet?null:r.videoDetails.snippet.title,r.communityRequestDetails.filename)}),o._uU(24,"group"),o.qZA(),o.YNc(25,rie,2,0,"mat-icon",12),o.qZA()()),2&i&&(o.xp6(2),o.Q6J("href","//youtube.com/watch?v="+(null==r.videoDetails?null:r.videoDetails.id),o.LSH),o.xp6(1),o.Q6J("src",null==r.videoDetails||null==r.videoDetails.snippet||null==r.videoDetails.snippet.thumbnails?null:r.videoDetails.snippet.thumbnails.medium.url,o.LSH),o.xp6(4),o.hij(" ",(null==r.videoDetails||null==r.videoDetails.snippet||null==r.videoDetails.snippet.title?null:r.videoDetails.snippet.title.length)>50?o.Dn7(8,12,null==r.videoDetails||null==r.videoDetails.snippet?null:r.videoDetails.snippet.title,0,50)+"...":null==r.videoDetails||null==r.videoDetails.snippet?null:r.videoDetails.snippet.title," "),o.xp6(3),o.Oqu(null==r.videoDetails||null==r.videoDetails.snippet?null:r.videoDetails.snippet.channelTitle),o.xp6(3),o.hij("",o.lcZ(14,16,null==r.videoDetails||null==r.videoDetails.statistics?null:r.videoDetails.statistics.viewCount)," views"),o.xp6(4),o.hij("Language: ",r.communityRequestDetails.language,""),o.xp6(4),o.Oqu(r.communityRequestDetails.requestedBy),o.xp6(2),o.Udp("pointer-events",r.communityRequestDetails.requestedByID===r.userId?"none":"auto"),o.ekj("faded",r.communityRequestDetails.requestedByID===r.userId),o.xp6(2),o.Q6J("ngIf",r.communityRequestDetails.requestedByID===r.userId))},dependencies:[Vn,Qo,_s,Oa,Ra],styles:[".yt-card[_ngcontent-%COMP%]{max-width:400px;max-height:350px;width:420px;height:350px;font-family:sans-serif;display:flex;flex-direction:column;overflow:hidden;margin:10px 10px 10px 0;box-shadow:#717172 0 10px 35px -10px;border-radius:4px}.yt-card[_ngcontent-%COMP%]   .thumb[_ngcontent-%COMP%]{height:56%;overflow:hidden;margin-bottom:10px}.yt-card[_ngcontent-%COMP%]   .thumb[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;cursor:pointer}.yt-card[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{display:flex;padding:10px;gap:10px}.yt-card[_ngcontent-%COMP%]   .channel[_ngcontent-%COMP%]{flex:1}.yt-card[_ngcontent-%COMP%]   .channel[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:50%}.yt-card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{flex:6;font-size:16px;color:gray}.yt-card[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:18px;color:#000;font-weight:700;text-decoration:none}.yt-card[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:10px}.yt-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:gray;text-decoration:none}.actions[_ngcontent-%COMP%]{height:30px;display:flex;padding-left:15px;padding-bottom:15px;flex-grow:1;align-items:flex-end;gap:20px}.actions[_ngcontent-%COMP%]:hover{cursor:pointer}.yt-card[_ngcontent-%COMP%]:hover{border-radius:0;transition:.3s}.faded[_ngcontent-%COMP%]{opacity:.5;pointer-events:none;cursor:not-allowed}"]})}return n})(),sie=(()=>{class n{constructor(){this.editVideoEmitter=new o.vpe,this.deleteVideoEmitter=new o.vpe,this.sharedVideoEmitter=new o.vpe,this.videoIdEmitter=new o.vpe}ngOnInit(){this.publishDate=this.timeSince(new Date(this.videoDetails?.snippet?.publishedAt))}editVideo(e){this.editVideoEmitter.emit(e)}timeSince(e){let i=Math.floor(((new Date).valueOf()-e.valueOf())/1e3),r=i/31536e3;return r>1?Math.floor(r)+" years":(r=i/2592e3,r>1?Math.floor(r)+" months":(r=i/86400,r>1?Math.floor(r)+" days":(r=i/3600,r>1?Math.floor(r)+" hours":(r=i/60,r>1?Math.floor(r)+" minutes":Math.floor(i)+" seconds"))))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-shared-video-card"]],inputs:{videoId:"videoId",videoDetails:"videoDetails",sharedVideoDetails:"sharedVideoDetails"},outputs:{editVideoEmitter:"editVideoEmitter",deleteVideoEmitter:"deleteVideoEmitter",sharedVideoEmitter:"sharedVideoEmitter",videoIdEmitter:"videoIdEmitter"},decls:18,vars:11,consts:[[1,"yt-card"],[1,"thumb"],["target","_blank",3,"href"],[3,"src"],[1,"details"],[1,"info"],[1,"title"],[1,"channel-name"],[1,"views"],["id","views"],[1,"actions"],["matTooltip","Go to Video Details",1,"go-to-settings-icon",3,"click"]],template:function(i,r){1&i&&(o.TgZ(0,"div",0)(1,"div",1)(2,"a",2),o._UZ(3,"img",3),o.qZA()(),o.TgZ(4,"div",4)(5,"div",5)(6,"div",6),o._uU(7),o.ALo(8,"slice"),o.qZA(),o.TgZ(9,"div",7),o._uU(10),o.qZA(),o.TgZ(11,"div",8)(12,"span",9),o._uU(13),o.ALo(14,"number"),o.qZA()()()(),o.TgZ(15,"div",10)(16,"mat-icon",11),o.NdJ("click",function(){return r.editVideo(r.sharedVideoDetails)}),o._uU(17,"edit"),o.qZA()()()),2&i&&(o.xp6(2),o.Q6J("href","//youtube.com/watch?v="+(null==r.videoDetails?null:r.videoDetails.id),o.LSH),o.xp6(1),o.Q6J("src",null==r.videoDetails||null==r.videoDetails.snippet||null==r.videoDetails.snippet.thumbnails?null:r.videoDetails.snippet.thumbnails.medium.url,o.LSH),o.xp6(4),o.hij(" ",(null==r.videoDetails||null==r.videoDetails.snippet||null==r.videoDetails.snippet.title?null:r.videoDetails.snippet.title.length)>50?o.Dn7(8,5,null==r.videoDetails||null==r.videoDetails.snippet?null:r.videoDetails.snippet.title,0,50)+"...":null==r.videoDetails||null==r.videoDetails.snippet?null:r.videoDetails.snippet.title," "),o.xp6(3),o.Oqu(null==r.videoDetails||null==r.videoDetails.snippet?null:r.videoDetails.snippet.channelTitle),o.xp6(3),o.hij("",o.lcZ(14,9,null==r.videoDetails||null==r.videoDetails.statistics?null:r.videoDetails.statistics.viewCount)," views"))},dependencies:[Qo,_s,Oa,Ra],styles:[".yt-card[_ngcontent-%COMP%]{max-width:400px;max-height:350px;width:420px;height:350px;font-family:sans-serif;display:flex;flex-direction:column;overflow:hidden;margin:10px 10px 10px 0;box-shadow:#717172 0 10px 35px -10px;border-radius:4px}.yt-card[_ngcontent-%COMP%]   .thumb[_ngcontent-%COMP%]{height:56%;overflow:hidden;margin-bottom:10px}.yt-card[_ngcontent-%COMP%]   .thumb[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;cursor:pointer}.yt-card[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{display:flex;padding:10px;gap:10px}.yt-card[_ngcontent-%COMP%]   .channel[_ngcontent-%COMP%]{flex:1}.yt-card[_ngcontent-%COMP%]   .channel[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:50%}.yt-card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{flex:6;font-size:16px;color:gray}.yt-card[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:18px;color:#000;font-weight:700;text-decoration:none}.yt-card[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:10px}.yt-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:gray;text-decoration:none}.actions[_ngcontent-%COMP%]{height:30px;display:flex;padding-left:15px;padding-bottom:15px;flex-grow:1;align-items:flex-end;gap:20px}.actions[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover{cursor:pointer}.yt-card[_ngcontent-%COMP%]:hover{border-radius:0;transition:.3s}.go-to-settings-icon[_ngcontent-%COMP%]:hover{color:#436c21}"]})}return n})(),aie=(()=>{class n{transform(e,i,r){return e?i?(i=i.toString().toLowerCase(),e.filter(s=>s.title.toLowerCase().includes(i))):e:[]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275pipe=o.Yjl({name:"filter",type:n,pure:!0})}return n})();const lie=["userVideosContainer"];function cie(n,t){1&n&&(o.TgZ(0,"div",21)(1,"h3"),o._uU(2,"No videos found, click on the + button to get started!"),o.qZA()())}function die(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"video-card",25),o.NdJ("editVideoEmitter",function(r){o.CHM(e);const s=o.oxw(4);return o.KtG(s.navigateToDetailsView(r))})("deleteVideoEmitter",function(r){o.CHM(e);const s=o.oxw(4);return o.KtG(s.deleteVideoPrompt(r))})("videoIdEmitter",function(r){o.CHM(e);const s=o.oxw(4);return o.KtG(s.previewVideo(r))}),o.qZA()}if(2&n){const e=o.oxw().$implicit,i=o.oxw(3);o.Q6J("videoId",e.videoId)("videoDetails",i.getVideoDetailsById(e.videoId))}}function uie(n,t){if(1&n&&(o.TgZ(0,"div",23),o.YNc(1,die,1,2,"video-card",24),o.qZA()),2&n){const e=o.oxw(3);o.xp6(1),o.Q6J("ngIf",e.allYouTubeVideoDetails)}}function hie(n,t){if(1&n&&(o.YNc(0,uie,2,1,"div",22),o.ALo(1,"filter"),o.ALo(2,"async")),2&n){o.oxw();const e=o.MAs(12),i=o.oxw();o.Q6J("ngForOf",o.xi3(1,1,o.lcZ(2,4,i.userVideos$),e.value))}}function fie(n,t){1&n&&(o.ynx(0),o.TgZ(1,"mat-icon",29),o._uU(2,"video_library"),o.qZA(),o.TgZ(3,"mat-card-title"),o._uU(4,"Select a video to preview."),o.qZA(),o.BQk())}function pie(n,t){if(1&n&&(o.TgZ(0,"div",30),o._UZ(1,"youtube-player",31),o.qZA()),2&n){const e=o.oxw(3);o.xp6(1),o.Q6J("videoId",e.videoSelectedId)}}function mie(n,t){if(1&n&&(o.TgZ(0,"div",26)(1,"mat-card")(2,"mat-card-content",27),o.YNc(3,fie,5,0,"ng-container",2),o.YNc(4,pie,2,1,"div",28),o.qZA()()()),2&n){const e=o.oxw(2);o.xp6(3),o.Q6J("ngIf",!e.videoSelectedId),o.xp6(1),o.Q6J("ngIf",e.videoSelectedId)}}function gie(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"app-shared-video-card",34),o.NdJ("editVideoEmitter",function(r){o.CHM(e);const s=o.oxw(3);return o.KtG(s.navigateToSharedEdit(r))})("videoIdEmitter",function(r){o.CHM(e);const s=o.oxw(3);return o.KtG(s.previewVideo(r))}),o.qZA()}if(2&n){const e=o.oxw().$implicit,i=o.oxw(2);o.Q6J("videoId",e.videoId)("sharedVideoDetails",e)("videoDetails",i.getVideoDetailsById(e.videoId))}}function _ie(n,t){if(1&n&&(o.TgZ(0,"div",32),o.YNc(1,gie,1,3,"app-shared-video-card",33),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.Q6J("ngIf",e.allYouTubeVideoDetails)}}function yie(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"community-video-card",36),o.NdJ("editVideoEmitter",function(r){o.CHM(e);const s=o.oxw(3);return o.KtG(s.navigateToCommunityEdit(r))}),o.qZA()}if(2&n){const e=o.oxw().$implicit,i=o.oxw(2);o.Q6J("videoId",e.videoId)("communityRequestDetails",e)("videoDetails",i.getVideoDetailsById(e.videoId))("userEmail",i.userEmail)("userId",i.userId)}}function vie(n,t){if(1&n&&(o.TgZ(0,"div",32),o.YNc(1,yie,1,5,"community-video-card",35),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.Q6J("ngIf",e.allYouTubeVideoDetails)}}function bie(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",3)(1,"div",4)(2,"span",5),o._uU(3),o.ALo(4,"async"),o.qZA(),o.TgZ(5,"button",6),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.openDialog())}),o.TgZ(6,"mat-icon"),o._uU(7,"add"),o.qZA()(),o.TgZ(8,"mat-form-field")(9,"mat-label"),o._uU(10,"Search By Title"),o.qZA(),o._UZ(11,"input",7,8),o.qZA(),o.TgZ(13,"div",9)(14,"button",10),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.changeToListView())}),o.TgZ(15,"mat-icon"),o._uU(16,"dehaze"),o.qZA()(),o.TgZ(17,"button",11),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.changeToGridView())}),o.TgZ(18,"mat-icon"),o._uU(19,"grid_on"),o.qZA()()()(),o.TgZ(20,"div",12)(21,"div",13,14),o.YNc(23,cie,3,0,"div",15),o.ALo(24,"async"),o.YNc(25,hie,3,6,"ng-template",null,16,o.W1O),o.qZA(),o.YNc(27,mie,5,2,"div",17),o.qZA(),o._UZ(28,"mat-divider"),o.TgZ(29,"div",18)(30,"h1"),o._uU(31),o.ALo(32,"async"),o.qZA()(),o.TgZ(33,"div",13),o.YNc(34,_ie,2,1,"div",19),o.ALo(35,"async"),o.qZA(),o._UZ(36,"mat-divider"),o.TgZ(37,"div",20)(38,"h1"),o._uU(39,"Request for BID:"),o.TgZ(40,"span")(41,"h2"),o._uU(42," someone needs your help!"),o.qZA()()()(),o.TgZ(43,"div",13),o.YNc(44,vie,2,1,"div",19),o.ALo(45,"async"),o.qZA()()}if(2&n){const e=o.MAs(26),i=o.oxw();let r,s;o.xp6(3),o.hij("My Videos (",null==(r=o.lcZ(4,7,i.userVideos$))?null:r.length,")"),o.xp6(20),o.Q6J("ngIf",!o.lcZ(24,9,i.userVideos$))("ngIfElse",e),o.xp6(4),o.Q6J("ngIf",i.listView),o.xp6(4),o.hij("My Shared Videos (",null==(s=o.lcZ(32,11,i.userSharedVideos$))?null:s.length,")"),o.xp6(3),o.Q6J("ngForOf",o.lcZ(35,13,i.userSharedVideos$)),o.xp6(10),o.Q6J("ngForOf",o.lcZ(45,15,i.communityVideos$))}}function wie(n,t){1&n&&(o.TgZ(0,"div",37),o._UZ(1,"app-video-init-form",38),o.qZA())}function xie(n,t){1&n&&o._UZ(0,"fullscreen-loader")}let Cie=(()=>{class n{constructor(e,i,r,s,a,u,f,m){this.auth=e,this.dashboardService=i,this.youtubeService=r,this.router=s,this.dialog=a,this.snackbar=u,this.sanitizer=f,this.renderer=m,this.userVideos$=new kn.y,this.userSharedVideos$=new kn.y,this.communityVideos$=new kn.y,this.loading$=new E(null),this.userId$=new E(""),this.isFormOpen=!1,this.listView=!1,this.apiLoaded=!1}ngOnInit(){if(this.user$=this.auth.user,this.loading$.next(!0),Yr([this.user$,this.user$.pipe(Nl(),Pn(e=>e?(this.userId$.next(e.uid),this.userId=e.uid,this.userEmail=e.email,this.userVideos$=this.dashboardService.getVideos(e.uid),this.userSharedVideos$=this.dashboardService.getSharedVideos(e.email),this.communityVideos$=this.dashboardService.getCommunityVideos(),Yr([this.userVideos$,this.userSharedVideos$,this.communityVideos$])):se(null)))]).pipe(Nl(),Pn(([e,[i,r,s]])=>{const a=i.map(x=>x.videoId),u=r.map(x=>x.videoId),f=s.map(x=>x.videoId),m=new Set([...a,...u,...f]),v=Array.from(m).join(",");return this.youtubeService.getAllVideoDetails(v)})).subscribe(e=>{e&&(this.allYouTubeVideoDetails=e,this.loading$.next(!1))}),!this.apiLoaded){const e=document.createElement("script");e.src="https://www.youtube.com/iframe_api",document.body.appendChild(e),this.apiLoaded=!0}}navigateToDetailsView(e){this.router.navigate(["/details",e])}navigateToCommunityEdit(e){this.router.navigate(["community/edit",e.videoId,e.iso,e.requestId])}navigateToSharedEdit(e){this.router.navigate(["shared/",e.videoId])}deleteVideoPrompt(e){this.dialog.open(kG,{width:"400px",scrollStrategy:new iC,data:"Are you sure you want to delete this video? This is irreversible and all related data linked to it will be lost."}).afterClosed().subscribe(r=>{!0===r&&this.dashboardService.deleteVideo(e,this.userId$.value)})}openDialog(){this.dialog.open(IG,{height:"200px"}).afterClosed().subscribe(i=>{this.allYouTubeVideoDetails.map(r=>r.id).includes(i)?this.snackbar.open("Video already exists in Collection.","DISMISS",{duration:5e3}):i&&this.addVideoToUserCollection(i)})}getVideoDetailsById(e){return this.allYouTubeVideoDetails.find(i=>i.id===e)}addVideoToUserCollection(e){this.youtubeService.getVideoDetails(e).subscribe({next:i=>{i&&(this.youTubeVideoDetails=i,this.dashboardService.addVideo(this.youTubeVideoDetails,this.userId$.value))},error:i=>{console.log("Error getting video details: Error: "+i.message())}})}previewVideo(e){this.videoSelectedId=e}iframeURL(){return this.sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+this.videoSelectedId+"?autoplay=1")}changeToListView(){this.listView=!0,this.videoSelectedId=null,this.renderer.removeClass(this.userVideosContainer.nativeElement,"grid-view"),this.renderer.addClass(this.userVideosContainer.nativeElement,"list-view")}changeToGridView(){this.listView=!1,this.videoSelectedId=null,this.renderer.removeClass(this.userVideosContainer.nativeElement,"list-view"),this.renderer.addClass(this.userVideosContainer.nativeElement,"grid-view")}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(Ea),o.Y36(KH),o.Y36(i_),o.Y36($i),o.Y36(cl),o.Y36(Sa),o.Y36(sa),o.Y36(o.Qsj))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-dashboard"]],viewQuery:function(i,r){if(1&i&&o.Gf(lie,5),2&i){let s;o.iGM(s=o.CRH())&&(r.userVideosContainer=s.first)}},features:[o._Bn([KH,Op])],decls:5,vars:7,consts:[["class","dashboard-wrapper",4,"ngIf"],["class","video-submission-form",4,"ngIf"],[4,"ngIf"],[1,"dashboard-wrapper"],[1,"dashboard-header"],[1,"my-videos"],["mat-fab","","color","primary","matTooltip","Add New video",1,"add-video-btn",3,"click"],["matInput",""],["searchInput",""],[1,"view-switch"],["mat-icon-button","","matTooltip","List View",3,"click"],["mat-icon-button","","matTooltip","Grid View",3,"click"],[1,"view-wrapper"],[1,"video-container"],["userVideosContainer",""],["class","no-video",4,"ngIf","ngIfElse"],["videos",""],["class","video-player-card",4,"ngIf"],[1,"myshared-videos-header"],["class","",4,"ngFor","ngForOf"],[1,"community-videos-header"],[1,"no-video"],["class","video",4,"ngFor","ngForOf"],[1,"video"],[3,"videoId","videoDetails","editVideoEmitter","deleteVideoEmitter","videoIdEmitter",4,"ngIf"],[3,"videoId","videoDetails","editVideoEmitter","deleteVideoEmitter","videoIdEmitter"],[1,"video-player-card"],[1,"card-content"],["class","iframe-container",4,"ngIf"],[1,"video-icon"],[1,"iframe-container"],[3,"videoId"],[1,""],[3,"videoId","sharedVideoDetails","videoDetails","editVideoEmitter","videoIdEmitter",4,"ngIf"],[3,"videoId","sharedVideoDetails","videoDetails","editVideoEmitter","videoIdEmitter"],[3,"videoId","communityRequestDetails","videoDetails","userEmail","userId","editVideoEmitter",4,"ngIf"],[3,"videoId","communityRequestDetails","videoDetails","userEmail","userId","editVideoEmitter"],[1,"video-submission-form"],[1,"video-init-form"]],template:function(i,r){1&i&&(o.YNc(0,bie,46,17,"div",0),o.ALo(1,"async"),o.YNc(2,wie,2,0,"div",1),o.YNc(3,xie,1,0,"fullscreen-loader",2),o.ALo(4,"async")),2&i&&(o.Q6J("ngIf",o.lcZ(1,3,r.user$)),o.xp6(2),o.Q6J("ngIf",r.isFormOpen),o.xp6(1),o.Q6J("ngIf",o.lcZ(4,5,r.loading$)))},dependencies:[Fi,Vn,Rs,fa,el,Xg,sJ,mN,Qo,_s,n_,cC,Rp,ite,IG,ote,r_,oie,sie,Hi,aie],styles:[".dashboard-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-top:40px;padding-left:100px;padding-right:50px}.dashboard-header[_ngcontent-%COMP%]{display:flex;gap:30px;padding-right:80px;align-items:baseline}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px}.myshared-videos-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding-top:30px;font-size:32px}.community-videos-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding-top:30px;font-size:32px;display:table}.community-videos-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-table;margin-left:10px}.video-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:30px;padding-bottom:20px}.view-switch[_ngcontent-%COMP%]{margin-left:auto;display:flex;align-items:center}.view-switch[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:18px;font-weight:500}.list-view[_ngcontent-%COMP%]{flex-direction:column;flex-wrap:nowrap;max-height:600px;overflow-x:hidden;overflow-y:auto;max-width:40%;padding-bottom:20px}.grid-view[_ngcontent-%COMP%]{flex-direction:row}.view-wrapper[_ngcontent-%COMP%]{display:flex;gap:10px;padding-bottom:10px}.view-wrapper[_ngcontent-%COMP%]   .video-player-card[_ngcontent-%COMP%]{flex-grow:1}.view-wrapper[_ngcontent-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]{height:100%;justify-content:center}.view-wrapper[_ngcontent-%COMP%]   .mat-mdc-card-content[_ngcontent-%COMP%]{flex-grow:1;display:flex;justify-content:center;align-items:center;flex-direction:column}.view-wrapper[_ngcontent-%COMP%]   .video-icon[_ngcontent-%COMP%]{transform:scale(3);margin-bottom:20px}.my-videos[_ngcontent-%COMP%]{font-size:32px}"],changeDetection:0})}return n})(),kN=(()=>{class n{constructor(e,i,r,s){this.firestore=e,this.communityService=i,this.notifier=r,this.detailsService=s}getUserMessages(e){return this.firestore.collection("users").doc(e).collection("messages")}getMessagesCount(e){return new kn.y(i=>this.firestore.collection("users").doc(e).collection("messages",a=>a.where("status","==","unread")).valueChanges().subscribe(a=>{let u=0;a.forEach(f=>{u++}),i.next(u)}))}updateSub(e){var i=this;return(0,Ge.Z)(function*(){let u,r="",s=[],a="";const m=i.firestore.collection("sharedVideos",v=>v.where("videoId","==",e.videoId).where("iso","==",e.iso).where("language","==",e.language).where("fileName","==",e.subtitle_name).where("format","==",e.format).where("id","==",e.subtitleId));i.detailsService.getUserIdByEmail(e.sender).subscribe(v=>{r=v,i.firestore.collection("users").doc(r).collection("videos").doc(e.videoId).collection("subtitleLanguages").doc(e.iso).collection("subtitles",x=>x.where("fileName","==",e.subtitle_name).where("subtitleSharedId","==",e.subtitleId)).get().toPromise().then(function(){var x=(0,Ge.Z)(function*(I){u=I.docs[0];let B=I.docs[0].data().usersRights;B=B.filter(q=>q.userEmail!==e.recipient),s=B.map(q=>q.userEmail===e.sender?{...q,right:"Editor"}:q),I.docs[0].ref.delete().then(()=>{const q={name:e.language,language:e.iso};i.detailsService.getUserIdByEmail(e.recipient).pipe(Tt(1)).toPromise().then(ue=>{a=ue;const ge=i.firestore.collection("users").doc(a).collection("videos").doc(e.videoId);ge.get().toPromise().then(function(){var Oe=(0,Ge.Z)(function*(nt){nt.exists||(yield ge.set({videoId:e.videoId}));const it=yield i.getUniqueSubtitleName(e.subtitle_name,a,e.videoId,e.iso);yield i.detailsService.addSubtitle(e.videoId,q,a,e.subtitle_name,e.format,e.recipient,it);const pt=i.firestore.collection("users").doc(a).collection("videos").doc(e.videoId).collection("subtitleLanguages").doc(e.iso).collection("subtitles").doc(it);yield pt.get().toPromise();const zt=yield pt.get().toPromise();if(zt.exists){const Bn=zt.data().usersRights;s=[...B,...Bn].filter((Kn,Xr,gl)=>gl.findIndex(fb=>fb.userEmail===Kn.userEmail)===Xr),s=s.map(Kn=>Kn.userEmail===e.sender?{...Kn,right:"Editor"}:Kn),yield pt.update({usersRights:s,subtitleSharedId:e.subtitleId}),yield m.get().toPromise().then(Kn=>{Kn.docs.length>0?Kn.docs[0].ref.update({usersRights:s}):console.log("No shared video document found")})}else console.log("No document found")});return function(nt){return Oe.apply(this,arguments)}}())})}).catch(q=>{console.error(q)})});return function(I){return x.apply(this,arguments)}}()).catch(x=>{console.error("Error: Subtitle does not exist. ",x)})})})()}getUniqueSubtitleName(e,i,r,s){var a=this;return(0,Ge.Z)(function*(){let u=1,f=!1,m=e;for(;!f;)(yield a.firestore.collection("users").doc(i).collection("videos").doc(r).collection("subtitleLanguages").doc(s).collection("subtitles").doc(m).get().toPromise()).exists?(u++,m=e+u):f=!0;return m})()}resetRequestOwnerEmail(e){var i=this;return(0,Ge.Z)(function*(){const r=i.firestore.collection("sharedVideos",s=>s.where("iso","==",e.iso).where("language","==",e.language).where("videoId","==",e.videoId).where("fileName","==",e.subtitle_name).where("id","==",e.subtitleId));try{const s=yield r.get().toPromise();s.size>0&&(yield s.docs[0].ref.update({requestOwnerEmail:""}))}catch(s){throw console.error("Error resetting request owner email:",s),s}})()}deleteMessageFromUserMessages(e,i){var r=this;return(0,Ge.Z)(function*(){if(!(e.subtitle_name&&e.iso&&e.language&&e.videoId&&e.status))return void console.error("Message properties are undefined");e.subject.startsWith("Offer")&&(e.subtitleId="");const s=r.firestore.collection("users").doc(i).collection("messages",u=>u.where("subtitle_name","==",e.subtitle_name).where("iso","==",e.iso).where("language","==",e.language).where("videoId","==",e.videoId).where("status","==","unread").where("id","==",e.id)),a=r.firestore.collection("users").doc(i).collection("messages",u=>u.where("subtitle_name","==",e.subtitle_name).where("iso","==",e.iso).where("language","==",e.language).where("videoId","==",e.videoId).where("subtitleId","==",e.subtitleId).where("status","==","unread").where("id","==",e.id));try{let u;u=e.subject.startsWith("Offer")?s:a;const f=yield u.get().toPromise();f.size>0&&(yield f.docs[0].ref.delete())}catch(u){throw console.error("Error deleting message from user messages:",u),u}})()}checkRequestStatus(e,i){var r=this;return(0,Ge.Z)(function*(){let s;if(s=null==e.subtitleId?"":e.subtitleId,""!=s){let u;return(yield r.firestore.collection("helpRequests",f=>f.where("videoId","==",e.videoId).where("filename","==",e.subtitle_name).where("language","==",e.language).where("requestedByID","==",i).where("subtitleId","==",s)).get().toPromise()).forEach(f=>{u=f.get("status")}),u}{let u;return(yield r.firestore.collection("helpRequests",f=>f.where("videoId","==",e.videoId).where("filename","==",e.subtitle_name).where("language","==",e.language).where("requestedByID","==",i)).get().toPromise()).forEach(f=>{u=f.get("status")}),u}})()}closeRequestStatus(e,i){var r=this;return(0,Ge.Z)(function*(){r.firestore.collection("helpRequests",s=>s.where("videoId","==",e.videoId).where("filename","==",e.subtitle_name).where("language","==",e.language).where("requestedByID","==",i)).get().subscribe(s=>{s.forEach(a=>{s.empty||s.docs[0].ref.update({status:"closed"})})})})()}checkIfUserRightExists(e,i){var r=this;return(0,Ge.Z)(function*(){return r.firestore.collection("users").doc(i).collection("videos").doc(e.videoId).collection("subtitleLanguages").doc(e.iso).collection("subtitles").doc(e.subtitle_name).get().toPromise().then(a=>{const u=a.exists&&a.data().usersRights||[],f=u.findIndex(m=>m.userEmail===e.sender);return-1!==f?(u[f].right="Editor",{exists:!0,currentRights:u}):{exists:!1,currentRights:u}})})()}setSubtitleIdToRequest(e,i){var r=this;return(0,Ge.Z)(function*(){let s="";if(null==e.subtitleId||""==e.subtitleId){const u=yield r.firestore.collection("users").doc(i).collection("videos").doc(e.videoId).collection("subtitleLanguages").doc(e.iso).collection("subtitles").doc(e.subtitle_name).get().toPromise();s=u.exists&&u.data().subtitleSharedId||"",(yield r.firestore.collection("helpRequests",m=>m.where("videoId","==",e.videoId).where("filename","==",e.subtitle_name).where("language","==",e.language).where("requestedByID","==",i).where("status","==","open")).get().toPromise()).forEach(m=>{m.ref.update({subtitleId:s})})}})()}sendInfoMessage(e,i){var r=this;return(0,Ge.Z)(function*(){let s,a;r.communityService.getUserNameFromEmail(e.recipient).subscribe(u=>{s=u,a=e.subject.startsWith("Offer")?s+" accepted your bid.\nYou are now an Editor on this subtitle.":s+" accepted ownership for this subtitle.",r.firestore.collection("users",f=>f.where("email","==",e.sender)).get().subscribe(f=>{f.forEach(()=>{const m={sender:e.recipient,recipient:e.sender,subject:"Subtitle: "+e.subtitle_name+"."+e.format,createdAt:Date.now(),status:"unread",subtitle_name:e.subtitle_name,body:a,videoId:e.videoId,iso:e.iso,language:e.language,format:e.format,videoTitle:e.videoTitle,subtitleId:e.subtitleId};let v;r.detailsService.getUserIdByEmail(e.sender).subscribe(x=>{v=x,r.firestore.collection("users").doc(v).collection("messages").add(m).then(B=>{B.update({id:B.id})})})})})})})()}sendInfoMessageToList(e,i){var r=this;return(0,Ge.Z)(function*(){r.firestore.collection("helpRequests",s=>s.where("videoId","==",e.videoId).where("filename","==",e.subtitle_name).where("language","==",e.language).where("iso","==",e.iso).where("requestedByID","==",i).where("status","==","closed")).get().subscribe(s=>{s.forEach(a=>{a.get("offerList").forEach(f=>{const m=f.userEmail;if(m!=e.sender){const v={sender:e.recipient,recipient:m,subject:"Subtitle: "+e.subtitle_name+"."+e.format,createdAt:Date.now(),status:"unread",subtitle_name:e.subtitle_name,body:"Bid request for this subtitle has been closed.\nThank you for your participation!",videoId:e.videoId,iso:e.iso,language:e.language,format:e.format,videoTitle:e.videoTitle,subtitleId:e.subtitleId};let x;r.detailsService.getUserIdByEmail(m).subscribe(I=>{x=I,r.firestore.collection("users").doc(x).collection("messages").add(v).then(q=>{q.update({id:q.id}).catch(ue=>r.notifier.showNotification("No info message has been sent","DISMISS"))})})}})})})})()}deleteInfoMessageFromUserMessages(e,i){var r=this;return(0,Ge.Z)(function*(){if(!(e.subtitle_name&&e.iso&&e.language&&e.videoId&&e.status))return void console.error("Message properties are undefined");const s=r.firestore.collection("users").doc(i).collection("messages",a=>a.where("subtitle_name","==",e.subtitle_name).where("iso","==",e.iso).where("language","==",e.language).where("videoId","==",e.videoId).where("status","==","unread").where("id","==",e.id));try{const a=yield s.get().toPromise();a.size>0&&(yield a.docs[0].ref.delete())}catch(a){throw console.error("Error deleting message from user messages:",a),a}})()}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(al),o.LFG(Op),o.LFG(zv),o.LFG($l))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Die(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",11),o.NdJ("click",function(){o.CHM(e);const r=o.oxw().$implicit,s=o.oxw(2);return o.KtG(r.subject.startsWith("Offer")?s.declineOffer(r):s.declineTransferOwnership(r))}),o._uU(1),o.qZA()}if(2&n){const e=o.oxw().$implicit;o.xp6(1),o.hij(" ",e.subject.startsWith("Offer")?"Decline Offer":"Decline"," ")}}function Sie(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div")(1,"mat-card",3),o._UZ(2,"div",4),o.TgZ(3,"div",5)(4,"div",6)(5,"mat-card-title")(6,"h3"),o._uU(7),o.qZA()(),o.TgZ(8,"p",7),o._uU(9),o.qZA(),o._UZ(10,"p",8),o.qZA()(),o.TgZ(11,"div")(12,"button",9),o.NdJ("click",function(){const s=o.CHM(e).$implicit,a=o.oxw(2);return o.KtG(s.subject.startsWith("Offer")?a.handleOffer(s):s.subject.startsWith("Subtitle")?a.deleteMessage(s):a.acceptTransferOwnership(s))}),o._uU(13),o.qZA(),o.YNc(14,Die,2,1,"button",10),o.qZA()()()}if(2&n){const e=t.$implicit;o.xp6(7),o.Oqu(e.subject),o.xp6(2),o.hij("Video: ",e.videoTitle,""),o.xp6(1),o.Q6J("innerText",e.body),o.xp6(3),o.hij(" ",e.subject.startsWith("Offer")?"Accept Offer":e.subject.startsWith("Subtitle")?"OK":"Accept"," "),o.xp6(1),o.Q6J("ngIf",!e.subject.startsWith("Subtitle"))}}function Eie(n,t){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,Sie,15,5,"div",2),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",e.messages)}}function Tie(n,t){1&n&&(o.TgZ(0,"div")(1,"p"),o._uU(2,"No messages found."),o.qZA()())}let Aie=(()=>{class n{constructor(e,i,r,s){this.messagesService=e,this.notifier=i,this.detailsService=r,this.authService=s,this.messages=[]}ngOnInit(){this.authService.user.subscribe(e=>{this.useruid=e.uid,this.userEmail=e.email;const r=this.messagesService.getUserMessages(this.useruid).stateChanges();this.messagesSubscription=r.subscribe(s=>{s.forEach(a=>{if("added"===a.type){const u=a.payload.doc.data();this.messages.push({id:a.payload.doc.id,sender:u.sender,recipient:u.recipient,subject:u.subject,createdAt:u.createdAt,subtitle_name:u.subtitle_name,body:u.body,videoId:u.videoId,status:u.status,iso:u.iso,language:u.language,format:u.format,videoTitle:u.videoTitle,subtitleId:u.subtitleId})}else if("removed"===a.type){const u=this.messages.findIndex(f=>f.id===a.payload.doc.id);u>=0&&this.messages.splice(u,1)}else if("modified"===a.type){const u=a.payload.doc.data(),f=this.messages.findIndex(m=>m.id===a.payload.doc.id);f>=0&&(this.messages[f]={id:a.payload.doc.id,sender:u.sender,recipient:u.recipient,subject:u.subject,createdAt:u.createdAt,subtitle_name:u.subtitle_name,body:u.body,videoId:u.videoId,status:u.status,iso:u.iso,language:u.language,format:u.format,videoTitle:u.videoTitle,subtitleId:u.subtitleId})}})})})}ngOnDestroy(){this.messagesSubscription.unsubscribe()}getMessages(e,i){this.messagesService.getUserMessages(e).snapshotChanges().pipe(Pn(r=>(this.messages=r.map(s=>{const a=s.payload.doc.data();return{id:s.payload.doc.id,sender:a.sender,recipient:a.recipient,subject:a.subject,createdAt:a.createdAt,subtitle_name:a.subtitle_name,body:a.body,videoId:a.videoId,status:a.status,iso:a.iso,language:a.language,subtitleId:a.subtitleId}}).filter(s=>s.recipient===i),se(r)))).subscribe()}acceptTransferOwnership(e){this.messagesService.updateSub(e).then(()=>this.messagesService.resetRequestOwnerEmail(e)).catch(i=>console.error(i)).then(()=>this.messagesService.sendInfoMessage(e,this.useruid)).then(()=>this.messagesService.deleteMessageFromUserMessages(e,this.useruid)).catch(i=>console.error("Error accepting transfer ownership:",i))}declineTransferOwnership(e){this.messagesService.resetRequestOwnerEmail(e).then(()=>this.messagesService.deleteMessageFromUserMessages(e,this.useruid)).catch(i=>console.error("Error declining transfer ownership:",i))}handleOffer(e){var i=this;return(0,Ge.Z)(function*(){yield i.messagesService.checkRequestStatus(e,i.useruid).then(r=>{"open"==r?(i.messagesService.checkIfUserRightExists(e,i.useruid).then(s=>{1==s.exists?i.detailsService.updateSharedSubtitleRights(e.videoId,e.iso,e.language,i.useruid,e.subtitle_name,e.format,s.currentRights,e.subtitleId):i.detailsService.addUserRightOnSub(e.videoId,e.iso,e.language,i.useruid,e.subtitle_name,e.format,e.sender,"Editor",e.subtitleId,!1)}),setTimeout(()=>{i.messagesService.setSubtitleIdToRequest(e,i.useruid).then(()=>i.messagesService.closeRequestStatus(e,i.useruid)).then(()=>i.messagesService.sendInfoMessage(e,i.useruid)).then(()=>i.messagesService.sendInfoMessageToList(e,i.useruid)).then(()=>i.messagesService.deleteMessageFromUserMessages(e,i.useruid))},1e3)):i.messagesService.deleteMessageFromUserMessages(e,i.useruid).then(()=>{i.notifier.showNotification("Request has been closed.","DISMISS")})})})()}declineOffer(e){this.messagesService.deleteMessageFromUserMessages(e,this.useruid)}deleteMessage(e){this.messagesService.deleteInfoMessageFromUserMessages(e,this.useruid)}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(kN),o.Y36(zv),o.Y36($l),o.Y36(Ea))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-messages"]],features:[o._Bn([$l,kN])],decls:4,vars:2,consts:[[1,"messages"],[4,"ngIf"],[4,"ngFor","ngForOf"],["tabindex","0",1,"message-card"],[1,"bullet"],[1,"row"],[1,"col"],[2,"font-weight","500"],[3,"innerText"],[1,"accept",3,"click"],["class","decline",3,"click",4,"ngIf"],[1,"decline",3,"click"]],template:function(i,r){1&i&&(o.TgZ(0,"div",0)(1,"mat-dialog-content"),o.YNc(2,Eie,2,1,"div",1),o.YNc(3,Tie,3,0,"div",1),o.qZA()()),2&i&&(o.xp6(2),o.Q6J("ngIf",r.messages.length>0),o.xp6(1),o.Q6J("ngIf",0===r.messages.length))},dependencies:[Fi,Vn,n_,Rp,Ko],styles:[".messages[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px}.message-card[_ngcontent-%COMP%]{position:relative;margin-bottom:20px;box-shadow:0 2px 4px #0000001a;border-radius:10px;background-color:#fff;padding:20px}.message-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #0003}.row[_ngcontent-%COMP%]{display:flex;align-items:center}.col[_ngcontent-%COMP%]{flex:1}.mat-card-title[_ngcontent-%COMP%]{margin-bottom:10px}.mat-card-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;font-size:18px;margin:0}p[_ngcontent-%COMP%]{font-size:16px;color:#666;margin-bottom:20px}button[_ngcontent-%COMP%]{color:#fff;border:none;padding:10px 20px;font-size:16px;cursor:pointer;border-radius:5px;margin:10px}button[_ngcontent-%COMP%]:hover, button[_ngcontent-%COMP%]:active{box-shadow:0 2px 4px #0003}button.accept[_ngcontent-%COMP%]{background-color:#0070f3}button.decline[_ngcontent-%COMP%]{background-color:transparent;color:#333;border:1px solid #ccc}button.accept[_ngcontent-%COMP%]:hover{background-color:#0062cc}button.decline[_ngcontent-%COMP%]:hover{background-color:#ddd;color:#333;border-color:#ddd}.notification-badge[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;border-radius:50%;background-color:red;color:#fff;text-align:center;font-size:12px;line-height:20px;vertical-align:middle}h2[_ngcontent-%COMP%]{line-height:20px}"]})}return n})(),Iie=(()=>{class n{constructor(e,i){this.auth=e,this.router=i}getStarted(){this.auth.isLoggedIn?this.router.navigate(["dashboard"]):this.auth.googleSignIn()}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(Ea),o.Y36($i))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-sign-in"]],decls:58,vars:0,consts:[[1,"framer-17VMZ","snipcss-2LQon",2,"display","contents"],["id","style-S7kbQ",1,"framer-72rtr7","style-S7kbQ"],["data-framer-name","Hero","name","Hero",1,"framer-izipst"],["data-framer-name","Menu","name","Menu",1,"framer-1m6zcj4"],["data-framer-component-type","RichTextContainer","id","style-3xcjG",1,"framer-1o7iind","style-3xcjG"],["id","style-XoYMm",1,"framer-text","style-XoYMm",2,"font-weight","bold","font-size","46px"],["id","style-XoYMm",1,"framer-text","style-XoYMm"],["data-border","true",1,"framer-rs3vcm",3,"click"],["id","style-O989f",1,"framer-text","style-O989f"],[1,"framer-1hto07d"],["data-framer-name","Image","name","Image",1,"framer-11thb9q"],[1,"framer-10b499s"],["data-framer-component-type","RichTextContainer","id","style-jshnF",1,"framer-12fq5iq","style-jshnF"],["id","style-tFLTC",1,"framer-text","style-tFLTC"],["data-framer-name","Image","name","Image",1,"framer-1vhezkk"],["data-framer-background-image-wrapper","true","id","style-WgjoQ",1,"style-WgjoQ"],["src","assets/images/homepage_banner1.jpg","alt","","id","style-e97mo",1,"style-e97mo"],["data-framer-name","Image","name","Image",1,"framer-pp9yjo"],["data-framer-background-image-wrapper","true","id","style-xjifs",1,"style-xjifs"],["src","assets/images/homepage_banner4.webp","alt","","id","style-qAWA5",1,"style-qAWA5"],["data-framer-name","Image","name","Image",1,"framer-3hlrvk"],[1,"framer-uazw45-container"],["id","style-Jj7TO",1,"style-Jj7TO"],["id","curve-pBaYbXGyr-3njpi4","clipPathUnits","objectBoundingBox","transform","scale(0.005)"],["d","M200 99.5882C200 99.5882 155.228 150.176 100 150.176C44.7715 150.176 0 99.5882 0 99.5882C0 99.5882 44.7715 49 100 49C155.228 49 200 99.5882 200 99.5882Z"],["data-border","true","data-framer-name","Decoration","name","Decoration",1,"framer-smw6up"],["data-border","true","data-framer-name","Decoration","name","Decoration",1,"framer-kljns1"],["data-framer-name","Metrics","name","Metrics",1,"framer-1fpzmgq"],[1,"framer-1m5sbt9"],["data-framer-name","Card","name","Card",1,"framer-1gvow"],["data-framer-component-type","RichTextContainer","id","style-Y3led",1,"framer-1etk73u","style-Y3led"],["id","style-5Iw2H",1,"framer-text","style-5Iw2H"],["data-framer-component-type","RichTextContainer","id","style-CMm6E",1,"framer-dlcxlt","style-CMm6E"],["id","style-Ps2xU",1,"framer-text","style-Ps2xU"],["data-framer-name","Card","name","Card",1,"framer-xdm1ys"],["data-framer-name","Image","name","Image",1,"framer-1uy86ve"],["data-framer-background-image-wrapper","true","id","style-gdzvo",1,"style-gdzvo"],["src","assets/images/homepage_banner2.jpg","alt","","loading","lazy","id","style-xUGQo",1,"style-xUGQo"],["data-framer-name","Card","name","Card",1,"framer-e74uzy"],["data-framer-name","Image","name","Image",1,"framer-1q6krjs"],["data-framer-background-image-wrapper","true","id","style-JY3C8",1,"style-JY3C8"],["src","assets/images/homepage_banner3.webp","alt","","loading","lazy","id","style-qjeZY",1,"style-qjeZY"],["data-framer-name","Card","name","Card",1,"framer-lywx49"],["data-framer-component-type","RichTextContainer","id","style-Dr8BU",1,"framer-sun0bc","style-Dr8BU"],["id","style-Z8CAj",1,"framer-text","style-Z8CAj"],["data-framer-component-type","RichTextContainer","id","style-8hoXX",1,"framer-n2z993","style-8hoXX"],["id","style-UrLUD",1,"framer-text","style-UrLUD"],["id","overlay"]],template:function(i,r){1&i&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"p",5),o._uU(6,"Sub & Dub "),o.qZA(),o.TgZ(7,"p",6),o._uU(8,"Revolution in Subtitling & Dubbing "),o.qZA()()(),o.TgZ(9,"div",7),o.NdJ("click",function(){return r.getStarted()}),o.TgZ(10,"h1",8),o._uU(11," GET STARTED "),o.qZA()(),o.TgZ(12,"div",9)(13,"div",10),o._UZ(14,"div",11),o.TgZ(15,"div",12)(16,"h1",13),o._uU(17,"Seamlessly combine the precision of Google Translate with the human touch of ChatGPT. It\u2019s subtitle magic like you\u2019ve never seen before. No language is out of reach now! "),o.qZA()()(),o.TgZ(18,"div",14)(19,"div",15),o._UZ(20,"img",16),o.qZA()(),o.TgZ(21,"div",17)(22,"div",18),o._UZ(23,"img",19),o.qZA()(),o.TgZ(24,"div",20)(25,"div",21)(26,"div",22),o.O4$(),o.TgZ(27,"svg")(28,"clipPath",23),o._UZ(29,"path",24),o.qZA()()()()(),o.kcU(),o._UZ(30,"div",25)(31,"div",26),o.qZA()(),o.TgZ(32,"div",27)(33,"div",28)(34,"div",29)(35,"div",30)(36,"h2",31),o._uU(37," 100+ "),o.qZA()(),o.TgZ(38,"div",32)(39,"h3",33),o._uU(40," Languages available for translation. Your content, for the world to understand. "),o.qZA()()(),o.TgZ(41,"div",34)(42,"div",35)(43,"div",36),o._UZ(44,"img",37),o.qZA()()(),o.TgZ(45,"div",38)(46,"div",39)(47,"div",40),o._UZ(48,"img",41),o.qZA()()(),o.TgZ(49,"div",42)(50,"div",43)(51,"h2",44),o._uU(52," Google Translate & ChatGPT "),o.qZA(),o._UZ(53,"br"),o.qZA(),o.TgZ(54,"div",45)(55,"h2",46),o._uU(56,"Got a French movie that needs English subtitles? We've got you covered. From Greek comedies to Japanese thrillers, we\u2019re your linguistic maestros."),o.qZA()()()()()(),o._UZ(57,"div",47),o.qZA())},styles:['.main-view-login[_ngcontent-%COMP%]{padding-top:10px;display:flex;justify-content:center;flex-direction:column;align-items:center}.call-to-action_login[_ngcontent-%COMP%]{padding-top:15px;text-align:center}.call-to-action_login[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:600}.mdc-card[_ngcontent-%COMP%]{flex-direction:row}.cards-container[_ngcontent-%COMP%]{display:flex;margin-top:60px;gap:100px;flex-wrap:wrap;justify-content:center}body[_ngcontent-%COMP%]{font-size:12px;font-family:sans-serif;background:#000000}body[_ngcontent-%COMP%]{--border-bottom-width: 1px;--border-color: #000000;--border-left-width: 1px;--border-right-width: 1px;--border-style: solid;--border-top-width: 1px}*[_ngcontent-%COMP%]{box-sizing:border-box;-webkit-font-smoothing:inherit}body[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-size:12px;font-family:sans-serif}body[_ngcontent-%COMP%]{--framer-aspect-ratio-supported: auto}html[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}[_ngcontent-%COMP%]:root{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.framer-17VMZ[_ngcontent-%COMP%]   .framer-72rtr7[_ngcontent-%COMP%]{align-content:center;align-items:center;background-color:#000;display:flex;flex-direction:column;flex-wrap:nowrap;gap:0px;height:min-content;justify-content:flex-start;overflow:hidden;padding:0;position:relative;width:1200px}.framer-17VMZ[_ngcontent-%COMP%]   .framer-izipst[_ngcontent-%COMP%]{align-content:center;align-items:center;background-color:#fff;display:flex;flex:none;flex-direction:column;flex-wrap:nowrap;gap:20px;height:min-content;justify-content:flex-start;min-height:800px;overflow:hidden;padding:30px 100px 100px;position:relative;width:100%}.framer-17VMZ[_ngcontent-%COMP%]   .framer-1fpzmgq[_ngcontent-%COMP%]{align-content:center;align-items:center;background-color:#fff;display:flex;flex:none;flex-direction:column;flex-wrap:nowrap;gap:0px;height:min-content;justify-content:flex-start;overflow:hidden;padding:50px 100px 100px;position:relative;width:100%}.framer-17VMZ[_ngcontent-%COMP%]   .framer-1m6zcj4[_ngcontent-%COMP%]{max-width:1000px;padding-left:20px;padding-right:20px;align-content:center;align-items:center;display:flex;flex:none;flex-direction:row;flex-wrap:nowrap;gap:20px;height:min-content;justify-content:center;overflow:hidden;position:relative;width:100%;z-index:3}.framer-17VMZ[_ngcontent-%COMP%]   .framer-rs3vcm[_ngcontent-%COMP%]{--border-bottom-width: 1px;--border-color: #000000;--border-left-width: 1px;--border-right-width: 1px;--border-style: solid;--border-top-width: 1px;align-content:center;align-items:center;border-radius:60px;display:flex;flex:none;flex-direction:row;flex-wrap:nowrap;gap:10px;height:min-content;justify-content:center;max-width:1000px;overflow:hidden;padding:20px 60px;position:relative;width:100%;will-change:var(--framer-will-change-override, transform);z-index:3;cursor:pointer}.framer-rs3vcm[_ngcontent-%COMP%]:hover{background:black;color:#fff}.framer-rs3vcm[_ngcontent-%COMP%]:hover   h1[_ngcontent-%COMP%]{color:#fff}.framer-17VMZ[_ngcontent-%COMP%]   [data-border=true][_ngcontent-%COMP%]:after{content:"";border-width:var(--border-top-width, 0) var(--border-right-width, 0) var(--border-bottom-width, 0) var(--border-left-width, 0);border-color:var(--border-color, none);border-style:var(--border-style, none);width:100%;height:100%;position:absolute;box-sizing:border-box;left:0;top:0;border-radius:inherit;pointer-events:none}.framer-17VMZ[_ngcontent-%COMP%]   .framer-1hto07d[_ngcontent-%COMP%]{display:grid;flex:none;gap:20px;grid-auto-rows:minmax(0,1fr);grid-template-columns:repeat(5,minmax(20px,1fr));grid-template-rows:repeat(3,minmax(0,1fr));height:600px;justify-content:center;max-width:1000px;overflow:visible;padding:0;position:relative;width:100%;z-index:3}.framer-17VMZ[_ngcontent-%COMP%]   .framer-1m5sbt9[_ngcontent-%COMP%]{display:grid;flex:none;gap:20px;grid-auto-rows:min-content;grid-template-columns:repeat(3,minmax(40px,1fr));grid-template-rows:repeat(2,min-content);height:auto;justify-content:center;max-width:1000px;overflow:hidden;padding:0;position:relative;width:100%}[data-framer-component-type][_ngcontent-%COMP%]{position:absolute}.framer-17VMZ[_ngcontent-%COMP%]   .framer-1o7iind[_ngcontent-%COMP%]{flex:1 0 0px;height:auto;position:relative;white-space:pre-wrap;width:1px;word-break:break-word;word-wrap:break-word}.framer-17VMZ[_ngcontent-%COMP%]   .framer-wb0dvw[_ngcontent-%COMP%], .framer-17VMZ[_ngcontent-%COMP%]   .framer-136627z[_ngcontent-%COMP%], .framer-17VMZ[_ngcontent-%COMP%]   .framer-1wb833e[_ngcontent-%COMP%]{flex:none;height:auto;position:relative;white-space:pre;width:auto}.framer-17VMZ[_ngcontent-%COMP%]   .framer-eca7qj[_ngcontent-%COMP%]{flex:1 0 0px;height:auto;max-width:1000px;position:relative;white-space:pre;width:1px;z-index:1}.framer-17VMZ[_ngcontent-%COMP%]   .framer-11thb9q[_ngcontent-%COMP%]{align-content:flex-start;align-items:flex-start;align-self:flex-start;background-color:#f2f2f2;border-bottom-left-radius:60px;border-bottom-right-radius:60px;border-top-left-radius:60px;display:flex;flex:none;flex-direction:column;flex-wrap:nowrap;gap:30px;grid-column:auto / span 3;grid-row:auto / span 2;height:100%;justify-self:flex-start;overflow:hidden;padding:60px;position:relative;width:100%;will-change:var(--framer-will-change-override, transform);z-index:1}.framer-17VMZ[_ngcontent-%COMP%]   .framer-1vhezkk[_ngcontent-%COMP%]{align-self:flex-start;border-bottom-left-radius:200px;border-top-right-radius:200px;flex:none;grid-column:auto / span 2;grid-row:auto / span 2;height:100%;justify-self:flex-start;mix-blend-mode:luminosity;overflow:hidden;position:relative;width:100%;will-change:var(--framer-will-change-override, transform);z-index:1}.framer-17VMZ[_ngcontent-%COMP%]   .framer-pp9yjo[_ngcontent-%COMP%]{align-self:flex-start;border-bottom-right-radius:200px;border-top-left-radius:200px;border-top-right-radius:200px;flex:none;grid-column:auto / span 2;height:100%;justify-self:start;mix-blend-mode:luminosity;overflow:hidden;position:relative;width:100%;will-change:var(--framer-will-change-override, transform);z-index:1}.framer-17VMZ[_ngcontent-%COMP%]   .framer-3hlrvk[_ngcontent-%COMP%]{align-content:center;align-items:center;align-self:flex-start;background-color:#f2f2f2;border-radius:200px;display:flex;flex:none;flex-direction:row;flex-wrap:nowrap;gap:10px;grid-column:auto / span 3;height:100%;justify-content:center;justify-self:flex-start;overflow:hidden;padding:20px;position:relative;width:100%;will-change:var(--framer-will-change-override, transform);z-index:1}.framer-17VMZ[_ngcontent-%COMP%]   .framer-1mtveio[_ngcontent-%COMP%]{--border-bottom-width: 1px;--border-color: #000000;--border-left-width: 1px;--border-right-width: 1px;--border-style: solid;--border-top-width: 1px;border-radius:100%;flex:none;height:375px;left:-400px;overflow:hidden;position:absolute;top:-189px;transform:rotate(-50deg);width:578px;will-change:var(--framer-will-change-override, transform);z-index:0}.framer-17VMZ[_ngcontent-%COMP%]   .framer-smw6up[_ngcontent-%COMP%]{--border-bottom-width: 1px;--border-color: #000000;--border-left-width: 1px;--border-right-width: 1px;--border-style: solid;--border-top-width: 1px;border-radius:100%;bottom:77px;flex:none;height:305px;overflow:hidden;position:absolute;right:-327px;transform:rotate(65deg);width:578px;will-change:var(--framer-will-change-override, transform);z-index:0}.framer-17VMZ[_ngcontent-%COMP%]   .framer-kljns1[_ngcontent-%COMP%]{--border-bottom-width: 1px;--border-color: #000000;--border-left-width: 1px;--border-right-width: 1px;--border-style: solid;--border-top-width: 1px;border-radius:100%;bottom:77px;flex:none;height:305px;overflow:hidden;position:absolute;right:-327px;transform:rotate(115deg);width:578px;will-change:var(--framer-will-change-override, transform);z-index:0}.framer-17VMZ[_ngcontent-%COMP%]   .framer-1gvow[_ngcontent-%COMP%]{align-content:center;align-items:center;align-self:center;background-color:#f2f2f2;border-radius:40px;display:flex;flex:none;flex-direction:column;flex-wrap:nowrap;gap:0px;grid-column:auto / span 2;height:320px;justify-content:center;justify-self:center;overflow:hidden;padding:60px;position:relative;width:100%;will-change:var(--framer-will-change-override, transform)}.framer-17VMZ[_ngcontent-%COMP%]   .framer-xdm1ys[_ngcontent-%COMP%], .framer-17VMZ[_ngcontent-%COMP%]   .framer-e74uzy[_ngcontent-%COMP%]{align-content:center;align-items:center;align-self:center;background-color:#f2f2f2;border-radius:40px;display:flex;flex:none;flex-direction:column;flex-wrap:nowrap;gap:20px;height:320px;justify-content:center;justify-self:center;overflow:hidden;padding:60px;position:relative;width:100%;will-change:var(--framer-will-change-override, transform)}.framer-17VMZ[_ngcontent-%COMP%]   .framer-lywx49[_ngcontent-%COMP%]{align-content:center;align-items:center;align-self:center;background-color:#f2f2f2;border-radius:40px;display:flex;flex:none;flex-direction:column;flex-wrap:nowrap;gap:0px;grid-column:auto / span 2;height:320px;justify-content:center;justify-self:center;overflow:hidden;padding:60px;position:relative;width:100%;will-change:var(--framer-will-change-override, transform)}p[_ngcontent-%COMP%]{margin:0}p.framer-text[_ngcontent-%COMP%]{margin:0;padding:0}p.framer-text[_ngcontent-%COMP%]{font-family:var(--framer-font-family, MartianMono, sans-serif);font-style:var(--framer-font-style, normal);font-weight:var(--framer-font-weight, 400);color:var(--framer-text-color, #000);font-size:calc(var(--framer-font-size, 16px) * var(--framer-font-size-scale, 1));letter-spacing:var(--framer-letter-spacing, 0);text-transform:var(--framer-text-transform, none);-webkit-text-decoration:var(--framer-text-decoration, none);text-decoration:var(--framer-text-decoration, none);line-height:var(--framer-line-height, 1.2em);text-align:var(--framer-text-alignment, flex-start)}p.framer-text[_ngcontent-%COMP%]{font-size:36px;margin:0;padding:0}.framer-17VMZ[_ngcontent-%COMP%]   .framer-10b499s[_ngcontent-%COMP%]{background-color:#000;flex:none;height:1px;overflow:hidden;position:relative;width:60px}.framer-17VMZ[_ngcontent-%COMP%]   .framer-12fq5iq[_ngcontent-%COMP%]{flex:none;height:auto;max-width:800px;position:relative;white-space:pre-wrap;width:100%;word-break:break-word;word-wrap:break-word}.framer-17VMZ[_ngcontent-%COMP%]   .framer-uazw45-container[_ngcontent-%COMP%]{aspect-ratio:1 / 1;flex:none;height:var(--framer-aspect-ratio-supported, 80px);position:relative;width:80px}.framer-17VMZ[_ngcontent-%COMP%]   .framer-1etk73u[_ngcontent-%COMP%]{flex:none;height:auto;overflow:visible;position:relative;white-space:pre;width:auto}.framer-17VMZ[_ngcontent-%COMP%]   .framer-dlcxlt[_ngcontent-%COMP%]{flex:none;height:auto;max-width:400px;overflow:visible;position:relative;white-space:pre-wrap;width:100%;word-break:break-word;word-wrap:break-word}.framer-17VMZ[_ngcontent-%COMP%]   .framer-1uy86ve[_ngcontent-%COMP%]{border-radius:200px 40px;flex:1 0 0px;height:1px;overflow:hidden;position:relative;width:100%;will-change:var(--framer-will-change-override, transform)}.framer-17VMZ[_ngcontent-%COMP%]   .framer-1q6krjs[_ngcontent-%COMP%]{aspect-ratio:1 / 1;border-radius:40px 200px 200px;flex:none;height:var(--framer-aspect-ratio-supported, 200px);overflow:hidden;position:relative;width:100%;will-change:var(--framer-will-change-override, transform)}.framer-17VMZ[_ngcontent-%COMP%]   .framer-sun0bc[_ngcontent-%COMP%]{flex:none;height:auto;overflow:visible;position:relative;white-space:pre;width:auto}.framer-17VMZ[_ngcontent-%COMP%]   .framer-n2z993[_ngcontent-%COMP%]{flex:none;height:auto;max-width:400px;overflow:visible;position:relative;white-space:pre-wrap;width:100%;word-break:break-word;word-wrap:break-word}h1[_ngcontent-%COMP%]{margin:0}h1.framer-text[_ngcontent-%COMP%]{font-family:var(--framer-font-family, Inter, Inter Placeholder, sans-serif);font-style:var(--framer-font-style, normal);font-weight:var(--framer-font-weight, 400);color:var(--framer-text-color, #000);font-size:calc(var(--framer-font-size, 16px) * var(--framer-font-size-scale, 1));letter-spacing:var(--framer-letter-spacing, 0);text-transform:var(--framer-text-transform, none);-webkit-text-decoration:var(--framer-text-decoration, none);text-decoration:var(--framer-text-decoration, none);line-height:var(--framer-line-height, 1.2em);text-align:var(--framer-text-alignment, flex-start)}h1.framer-text[_ngcontent-%COMP%]{margin:0;padding:0}h2[_ngcontent-%COMP%]{margin:0}h2.framer-text[_ngcontent-%COMP%]{font-family:var(--framer-font-family, Inter, Inter Placeholder, sans-serif);font-style:var(--framer-font-style, normal);font-weight:var(--framer-font-weight, 400);color:var(--framer-text-color, #000);font-size:calc(var(--framer-font-size, 16px) * var(--framer-font-size-scale, 1));letter-spacing:var(--framer-letter-spacing, 0);text-transform:var(--framer-text-transform, none);-webkit-text-decoration:var(--framer-text-decoration, none);text-decoration:var(--framer-text-decoration, none);line-height:var(--framer-line-height, 1.2em);text-align:var(--framer-text-alignment, flex-start)}h2.framer-text[_ngcontent-%COMP%]{margin:0;padding:0}h3[_ngcontent-%COMP%]{margin:0}h3.framer-text[_ngcontent-%COMP%]{font-family:var(--framer-font-family, Inter, Inter Placeholder, sans-serif);font-style:var(--framer-font-style, normal);font-weight:var(--framer-font-weight, 400);color:var(--framer-text-color, #000);font-size:calc(var(--framer-font-size, 16px) * var(--framer-font-size-scale, 1));letter-spacing:var(--framer-letter-spacing, 0);text-transform:var(--framer-text-transform, none);-webkit-text-decoration:var(--framer-text-decoration, none);text-decoration:var(--framer-text-decoration, none);line-height:var(--framer-line-height, 1.2em);text-align:var(--framer-text-alignment, flex-start)}h3.framer-text[_ngcontent-%COMP%]{margin:0;padding:0}#style-S7kbQ.style-S7kbQ[_ngcontent-%COMP%]{min-height:100vh;width:auto}#style-3xcjG.style-3xcjG[_ngcontent-%COMP%]{outline:none;display:flex;flex-direction:column;justify-content:flex-start;flex-shrink:0;transform:none}#style-XoYMm.style-XoYMm[_ngcontent-%COMP%]{--font-selector:R0Y7TWFydGlhbiBNb25vLXJlZ3VsYXI=;--framer-font-family:"Martian Mono", monospace;--framer-text-alignment:left}#style-GgNFF.style-GgNFF[_ngcontent-%COMP%]{outline:none;display:flex;flex-direction:column;justify-content:flex-start;flex-shrink:0;transform:none}#style-gCFUU.style-gCFUU[_ngcontent-%COMP%]{--font-selector:R0Y7TWFydGlhbiBNb25vLXJlZ3VsYXI=;--framer-font-family:"Martian Mono", monospace}#style-4A8kg.style-4A8kg[_ngcontent-%COMP%]{outline:none;display:flex;flex-direction:column;justify-content:flex-start;flex-shrink:0;transform:none}#style-SaWoJ.style-SaWoJ[_ngcontent-%COMP%]{--font-selector:R0Y7TWFydGlhbiBNb25vLXJlZ3VsYXI=;--framer-font-family:"Martian Mono", monospace}#style-EM8Aq.style-EM8Aq[_ngcontent-%COMP%]{outline:none;display:flex;flex-direction:column;justify-content:flex-start;flex-shrink:0;transform:none}#style-PlBz8.style-PlBz8[_ngcontent-%COMP%]{--font-selector:R0Y7TWFydGlhbiBNb25vLXJlZ3VsYXI=;--framer-font-family:"Martian Mono", monospace}#style-GXDKo.style-GXDKo[_ngcontent-%COMP%]{overflow:visible;transform-origin:center center}#style-O989f.style-O989f[_ngcontent-%COMP%]{--font-selector:R0Y7VW5ib3VuZGVkLTcwMA==;--framer-font-family: "MartianMono", sans-serif;--framer-font-size:60px;--framer-font-weight:700;--framer-line-height:1.1em;--framer-text-alignment:left;--framer-text-transform:uppercase}#style-jshnF.style-jshnF[_ngcontent-%COMP%]{outline:none;display:flex;flex-direction:column;justify-content:flex-start;flex-shrink:0;transform:none}#style-tFLTC.style-tFLTC[_ngcontent-%COMP%]{--font-selector:R0Y7TWFydGlhbiBNb25vLXJlZ3VsYXI=;--framer-font-family:"Martian Mono", monospace;--framer-font-size:20px;--framer-line-height:1.4em;--framer-text-alignment:left}#style-WgjoQ.style-WgjoQ[_ngcontent-%COMP%]{position:absolute;border-radius:inherit;inset:0}#style-e97mo.style-e97mo[_ngcontent-%COMP%]{display:block;width:100%;height:100%;border-radius:inherit;object-position:center;object-fit:cover;image-rendering:auto}#style-xjifs.style-xjifs[_ngcontent-%COMP%]{position:absolute;border-radius:inherit;inset:0}#style-qAWA5.style-qAWA5[_ngcontent-%COMP%]{display:block;width:100%;height:100%;border-radius:inherit;object-position:center;object-fit:cover;image-rendering:auto}#style-Jj7TO.style-Jj7TO[_ngcontent-%COMP%]{width:100%;height:100%;clip-path:url(#curve-pBaYbXGyr-3njpi4);background:rgb(0,0,0)}#style-Y3led.style-Y3led[_ngcontent-%COMP%]{outline:none;display:flex;flex-direction:column;justify-content:flex-start;flex-shrink:0;transform:none}#style-5Iw2H.style-5Iw2H[_ngcontent-%COMP%]{--font-selector:R0Y7VW5ib3VuZGVkLTcwMA==;--framer-font-family:"MartianMono", sans-serif;--framer-font-size:80px;--framer-font-weight:700;--framer-text-alignment:left}#style-CMm6E.style-CMm6E[_ngcontent-%COMP%]{outline:none;display:flex;flex-direction:column;justify-content:flex-start;flex-shrink:0;transform:none}#style-Ps2xU.style-Ps2xU[_ngcontent-%COMP%]{--font-selector:R0Y7TWFydGlhbiBNb25vLXJlZ3VsYXI=;--framer-font-family:"Martian Mono", monospace;--framer-font-size:20px;--framer-letter-spacing:-.025em;--framer-line-height:1.5em;--framer-text-alignment:center;--framer-text-color:rgb(41, 50, 65)}#style-gdzvo.style-gdzvo[_ngcontent-%COMP%]{position:absolute;border-radius:inherit;inset:0}#style-xUGQo.style-xUGQo[_ngcontent-%COMP%]{display:block;width:100%;height:100%;border-radius:inherit;object-position:center;object-fit:cover;image-rendering:auto}#style-JY3C8.style-JY3C8[_ngcontent-%COMP%]{position:absolute;border-radius:inherit;inset:0}#style-qjeZY.style-qjeZY[_ngcontent-%COMP%]{display:block;width:100%;height:100%;border-radius:inherit;object-position:center;object-fit:cover;image-rendering:auto}#style-Dr8BU.style-Dr8BU[_ngcontent-%COMP%]{outline:none;display:flex;flex-direction:column;justify-content:flex-start;flex-shrink:0;transform:none}#style-Z8CAj.style-Z8CAj[_ngcontent-%COMP%]{--font-selector:R0Y7VW5ib3VuZGVkLTcwMA==;--framer-font-family: "MartianMono", sans-serif;--framer-font-size:25px;--framer-font-weight:700;--framer-text-alignment:left}#style-8hoXX.style-8hoXX[_ngcontent-%COMP%]{outline:none;display:flex;flex-direction:column;justify-content:flex-start;flex-shrink:0;transform:none}#style-UrLUD.style-UrLUD[_ngcontent-%COMP%]{--font-selector:R0Y7TWFydGlhbiBNb25vLXJlZ3VsYXI=;--framer-font-family:"Martian Mono", monospace;--framer-font-size:20px;--framer-letter-spacing:-.025em;--framer-line-height:1.5em;--framer-text-alignment:center;--framer-text-color:rgb(41, 50, 65)}']})}return n})();const MN=(0,dt.U)(n=>!!n);let eu=(()=>{class n{constructor(e,i){this.router=e,this.auth=i,this.canActivate=(r,s)=>{const a=r.data.authGuardPipe||(()=>MN);return this.auth.user.pipe(Tt(1),a(r,s),(0,dt.U)(u=>"boolean"==typeof u?u:Array.isArray(u)?this.router.createUrlTree(u):this.router.parseUrl(u)))}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG($i),o.LFG(Mv))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),s_=(()=>{class n{constructor(e,i,r,s,a){this.http=e,this.authService=i,this.firestore=r,this.storageRef=s,this.snackbar=a}createFirestorageRef(e,i,r,s,a){let u;this.storageRef=e,this.authService.user.pipe(Tt(1)).subscribe(f=>{u=this.storageRef.ref(`subtitles/${f.uid}/${s}/${i}/${a}`),this.uploadToFirestorage(u,r,f.uid,s,i,a)})}saveToFireStorageShared(e,i,r,s,a,u){let f;this.storageRef=i,f=this.storageRef.ref(`subtitles/${e}/${a}/${r}/${u}`),this.uploadToFirestorage(f,s,e,a,r,u)}uploadToFirestorage(e,i,r,s,a,u){e.put(i).then(()=>{const f=this.firestore.doc(`users/${r}/videos/${s}/subtitleLanguages/${a}/subtitles/${u.split(".")[0]}`);e.getDownloadURL().pipe(Tt(1)).subscribe(m=>{f.update({storageUrl:m,lastUpdated:Date.now()}),this.snackbar.open("Update Complete!","DISMISS",{duration:5e3})})},f=>{this.snackbar.open(f.message)})}createFirestorageRefCommunity(e,i,r,s){let a;this.storageRef=e,this.authService.user.pipe(Tt(1)).subscribe(u=>{a=this.storageRef.ref(`community-subtitles/${r}/${u.uid}/${s.videoId}`),this.uploadToFirestorageCommunitySub(a,i,u,r,s)})}uploadToFirestorageCommunitySub(e,i,r,s,a){e.put(i).then(()=>{const u=this.firestore.doc(`users/${a.requestedByID}/notifications/${s}/subtitles/${r.uid}`);e.getDownloadURL().pipe(Tt(1)).subscribe(f=>{u.set({requestId:s,storageUrl:f,created:Date.now(),createdBy:r.displayName}),this.snackbar.open("Update Complete!","DISMISS",{duration:5e3})})},u=>{this.snackbar.open(u.message)})}getSubtitleURL(e,i,r){return this.authService.user.pipe(Tt(1),Pn(s=>this.firestore.doc(`users/${s.uid}/videos/${e}/subtitleLanguages/${i}/subtitles/${r.split(".")[0]}`).get()),(0,dt.U)(s=>s.get("storageUrl")))}getSubtitleURLForShared(e,i,r,s){return this.firestore.doc(`users/${e}/videos/${i}/subtitleLanguages/${r}/subtitles/${s.split(".")[0]}`).get().pipe(Tt(1),(0,dt.U)(u=>u.get("storageUrl")))}fetchSubtitleFile(e){return this.http.get(e,{responseType:"text"})}deleteSubtitleFile(e){const i=this.storageRef.ref(e);try{return i.delete()}catch(r){console.log(r.message)}}getCommunityRequestDetails(e){return this.firestore.doc(`helpRequests/${e}`).get().pipe((0,dt.U)(i=>i.data()))}getCountries(e){return this.firestore.collection(`users/${e}/languages/`).valueChanges()}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(wh),o.LFG(Ea),o.LFG(al),o.LFG($v),o.LFG(Sa))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Mz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-unsaved-changes-dialog"]],decls:10,vars:2,consts:[["mat-dialog-title",""],[1,"mat-typography"],["align","end"],["mat-raised-button","","color","primary","cdkFocusInitial","",3,"mat-dialog-close"],["mat-raised-button","","color","warn",3,"mat-dialog-close"]],template:function(i,r){1&i&&(o.TgZ(0,"h2",0),o._uU(1,"You have unsaved changes!"),o.qZA(),o.TgZ(2,"mat-dialog-content",1)(3,"h3"),o._uU(4,"Are you sure you want to leave without saving? All unsaved progress will be lost!"),o.qZA()(),o.TgZ(5,"mat-dialog-actions",2)(6,"button",3),o._uU(7,"Cancel"),o.qZA(),o.TgZ(8,"button",4),o._uU(9,"Leave without save"),o.qZA()()),2&i&&(o.xp6(6),o.Q6J("mat-dialog-close",!1),o.xp6(2),o.Q6J("mat-dialog-close",!0))},dependencies:[Lr,ms,Wo,Ko,gs]})}return n})(),ul=(()=>{class n{constructor(e){this.http=e}translate(e){return this.http.post("https://translation.googleapis.com/language/translate/v2?key="+Gv,e)}getSupportedLanguages(){return this.http.get(`https://translation.googleapis.com/language/translate/v2/languages?target=en&key=${Gv}`)}detectLanguage(e){return this.http.post(`https://translation.googleapis.com/language/translate/v2/detect?key=${Gv}`,{q:e})}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(wh))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Rie(n,t){1&n&&o._UZ(0,"fullscreen-loader")}const Oie=function(){return{rel:0,fs:0}};let Rz=(()=>{class n{constructor(e){this.youtube=e,this.apiLoaded=!1,this.playerReady=!1}ngOnInit(){if(!this.apiLoaded){const e=document.createElement("script");e.src="https://www.youtube.com/iframe_api",document.body.appendChild(e),this.apiLoaded=!0}}playerLoaded(e){this.playerReady=!0,this.youtube.playerRefSetter(e.target)}handleState(e){1===e.data?this.youtube.startTimeTracking():2===e.data&&this.youtube.stopTimeTracking()}ngOnDestroy(){this.youtube.stopTimeTracking(),this.youtube.updateCurrentCaption(null)}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(i_))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["video-player"]],inputs:{captionsPreview:"captionsPreview",videoId:"videoId"},decls:6,vars:5,consts:[[1,"card"],[1,"card-content"],[3,"videoId","playerVars","ready","stateChange"],[1,"captions-preview-emulation"],[4,"ngIf"]],template:function(i,r){1&i&&(o.TgZ(0,"mat-card",0)(1,"mat-card-content",1)(2,"youtube-player",2),o.NdJ("ready",function(a){return r.playerLoaded(a)})("stateChange",function(a){return r.handleState(a)}),o.qZA(),o.TgZ(3,"span",3),o._uU(4),o.qZA()()(),o.YNc(5,Rie,1,0,"fullscreen-loader",4)),2&i&&(o.xp6(2),o.Q6J("videoId",r.videoId)("playerVars",o.DdM(4,Oie)),o.xp6(2),o.Oqu(r.captionsPreview),o.xp6(1),o.Q6J("ngIf",!r.playerReady))},dependencies:[Vn,mN,n_,cC,r_],styles:[".card-content[_ngcontent-%COMP%]{height:66vh}.captions-preview-emulation[_ngcontent-%COMP%]{position:absolute;display:flex;bottom:100px;width:95%;color:#fff;font-size:18px;justify-content:center;padding:10px;background-color:transparent}  youtube-player iframe{height:100%;width:100%}"]})}return n})(),RN=(()=>{class n{constructor(e,i){this.googleTranslate=e,this.snackbar=i}cleanMultilineString(e){const i=e.trim().replace(/(\r|\r)/gm,"").split("\n"),r=[];let s={start_time:"",end_time:"",subtitleText:""};for(let a=0;a<i.length;a++){const u=i[a].trim();if(u.match(/^(\d{1,2}:\d{2}:\d{2}\.\d{3}),(\d{1,2}:\d{2}:\d{2}\.\d{3})$/)){const[m,v]=u.split(",");s={start_time:this.formatTimestamp(m),end_time:this.formatTimestamp(v),subtitleText:""},r.push(s)}else""!==u&&(s.subtitleText+=u+" ")}return r}youtubeTranscriptParse(e){const i=[],r=e.trim().replace(/(\r|\r)/gm,"").split("\n");let s={start_time:"",end_time:"",subtitleText:""};for(const a of r){const u=a.match(/^(\d+:\d+)\s*(.*)/);if(u){const[,f,m]=u;s.start_time&&(s.end_time="0"+f.trim()+".000",i.push(s)),s={start_time:"0"+f+".000",end_time:"",subtitleText:""}}else s.subtitleText+=a.trim()+" "}return s.start_time&&(s.end_time=s.end_time.trim()?s.end_time.trim():"0"+s.start_time+".000",i.push(s)),i}importActorsFromFile(e){try{return JSON.parse(e).actors}catch(i){console.error("Error parsing JSON:",i),this.snackbar.open("There was a problem reading the JSON file","OK",{duration:3500})}}formatTimestamp(e){const i=e.split(":");return i.shift(),i.join(":")}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(ul),o.LFG(Sa))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Dh(n){const t=n?.split(":"),[e,i]=t[1]?.split(".");return{hour:Math.floor(parseInt(t[0],10)/60),minute:parseInt(t[0],10),seconds:parseInt(e,10),ms:parseInt(i,10)}}function zs(n){return 60*n.hour*60+60*n.minute+n.seconds+n.ms/1e3}var Oz=H(4327),Pz=H(5650);let ON=(()=>{class n{constructor(e,i,r){this.storage=e,this.http=i,this.snackbar=r}downloadSubtitleFiles(e,i){const r=new Pz;e.forEach((s,a)=>{r.file(i[a],s)}),r.generateAsync({type:"blob"}).then(s=>{(0,Oz.saveAs)(s,"subtitles.zip")}).catch(s=>{this.snackbar.open("There was a problem downloading the subtitle files","DISMISS",{duration:5e3}),console.error("Error downloading subtitle files: "+s.message())})}massExportSubtitles(e,i,r){const s=new Pz;let a=[],u=[];const f=e.map((m,v)=>new Promise((x,I)=>{const B=m.fullFileName,q=this.storage.ref(`subtitles/${r}/${i}/${m.iso}/${B}`);a.push(B.split(".")[0]+"["+m.iso+"]."+B.split(".")[1]),q.getDownloadURL().subscribe({next:ue=>{this.http.get(ue,{responseType:"text"}).subscribe({next:ge=>{const Oe=new Blob([ge],{type:"text/"+B.split(".").pop()+";charset=utf8"});u.push(Oe),x()},error:ge=>{this.snackbar.open("There was a problem downloading the subtitle files","DISMISS",{duration:5e3}),I(ge)}})},error:ue=>{this.snackbar.open("There was a problem downloading the subtitle files","DISMISS",{duration:5e3}),I(ue)}})}));Promise.all(f).then(()=>{u.forEach((m,v)=>{s.file(a[v],m)}),s.generateAsync({type:"blob"}).then(m=>{const v=document.createElement("a"),x=URL.createObjectURL(m);v.href=x,v.download="subtitles.zip",document.body.appendChild(v),v.click(),document.body.removeChild(v),URL.revokeObjectURL(x),this.snackbar.open("Subtitles downloaded successfully","OK",{duration:5e3})})}).catch(m=>{this.snackbar.open("There was a problem downloading the subtitle files","DISMISS",{duration:5e3}),console.error("Error downloading files:",m)})}exportAllActors(e){const i=JSON.stringify({actors:e},null,2),r=new Blob([i],{type:"application/json"});(0,Oz.saveAs)(r,"actors.json")}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG($v),o.LFG(wh),o.LFG(Sa))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Pie=["dialogPopup"],Fie=["hueSlider"],Nie=["alphaSlider"];function Lie(n,t){if(1&n&&o._UZ(0,"div"),2&n){const e=o.oxw();o.Gre("arrow arrow-",e.cpUsePosition,""),o.Udp("left",e.cpArrowPosition)("top",e.arrowTop,"px")}}function Bie(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",28),o.NdJ("newValue",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.onColorChange(r))})("dragStart",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.onDragStart("saturation-lightness"))})("dragEnd",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.onDragEnd("saturation-lightness"))}),o._UZ(1,"div",14),o.qZA()}if(2&n){const e=o.oxw();o.Udp("background-color",e.hueSliderColor),o.Q6J("rgX",1)("rgY",1),o.xp6(1),o.Udp("top",null==e.slider?null:e.slider.v,"px")("left",null==e.slider?null:e.slider.s,"px")}}function Vie(n,t){1&n&&(o.O4$(),o.TgZ(0,"svg",29),o._UZ(1,"path",30)(2,"path",31),o.qZA())}function Uie(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",32),o.NdJ("click",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.onAddPresetColor(r,s.selectedColor))}),o._uU(1),o.qZA()}if(2&n){const e=o.oxw();o.Tol(e.cpAddColorButtonClass),o.Q6J("disabled",e.cpPresetColors&&e.cpPresetColors.length>=e.cpMaxPresetColorsLength),o.xp6(1),o.hij(" ",e.cpAddColorButtonText," ")}}function Hie(n,t){1&n&&o._UZ(0,"div",33)}function Gie(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"input",39),o.NdJ("keyup.enter",function(r){o.CHM(e);const s=o.oxw(2);return o.KtG(s.onAcceptColor(r))})("newValue",function(r){o.CHM(e);const s=o.oxw(2);return o.KtG(s.onAlphaInput(r))}),o.qZA()}if(2&n){const e=o.oxw(2);o.Q6J("rg",1)("value",null==e.cmykText?null:e.cmykText.a)}}function zie(n,t){1&n&&(o.TgZ(0,"div"),o._uU(1,"A"),o.qZA())}function jie(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",34)(1,"div",35)(2,"input",36),o.NdJ("keyup.enter",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.onAcceptColor(r))})("newValue",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.onCyanInput(r))}),o.qZA(),o.TgZ(3,"input",36),o.NdJ("keyup.enter",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.onAcceptColor(r))})("newValue",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.onMagentaInput(r))}),o.qZA(),o.TgZ(4,"input",36),o.NdJ("keyup.enter",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.onAcceptColor(r))})("newValue",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.onYellowInput(r))}),o.qZA(),o.TgZ(5,"input",36),o.NdJ("keyup.enter",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.onAcceptColor(r))})("newValue",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.onBlackInput(r))}),o.qZA(),o.YNc(6,Gie,1,2,"input",37),o.qZA(),o.TgZ(7,"div",35)(8,"div"),o._uU(9,"C"),o.qZA(),o.TgZ(10,"div"),o._uU(11,"M"),o.qZA(),o.TgZ(12,"div"),o._uU(13,"Y"),o.qZA(),o.TgZ(14,"div"),o._uU(15,"K"),o.qZA(),o.YNc(16,zie,2,0,"div",38),o.qZA()()}if(2&n){const e=o.oxw();o.Udp("display",3!==e.format?"none":"block"),o.xp6(2),o.Q6J("rg",100)("value",null==e.cmykText?null:e.cmykText.c),o.xp6(1),o.Q6J("rg",100)("value",null==e.cmykText?null:e.cmykText.m),o.xp6(1),o.Q6J("rg",100)("value",null==e.cmykText?null:e.cmykText.y),o.xp6(1),o.Q6J("rg",100)("value",null==e.cmykText?null:e.cmykText.k),o.xp6(1),o.Q6J("ngIf","disabled"!==e.cpAlphaChannel),o.xp6(10),o.Q6J("ngIf","disabled"!==e.cpAlphaChannel)}}function qie(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"input",39),o.NdJ("keyup.enter",function(r){o.CHM(e);const s=o.oxw(2);return o.KtG(s.onAcceptColor(r))})("newValue",function(r){o.CHM(e);const s=o.oxw(2);return o.KtG(s.onAlphaInput(r))}),o.qZA()}if(2&n){const e=o.oxw(2);o.Q6J("rg",1)("value",null==e.hslaText?null:e.hslaText.a)}}function Zie(n,t){1&n&&(o.TgZ(0,"div"),o._uU(1,"A"),o.qZA())}function $ie(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",40)(1,"div",35)(2,"input",41),o.NdJ("keyup.enter",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.onAcceptColor(r))})("newValue",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.onHueInput(r))}),o.qZA(),o.TgZ(3,"input",36),o.NdJ("keyup.enter",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.onAcceptColor(r))})("newValue",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.onSaturationInput(r))}),o.qZA(),o.TgZ(4,"input",36),o.NdJ("keyup.enter",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.onAcceptColor(r))})("newValue",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.onLightnessInput(r))}),o.qZA(),o.YNc(5,qie,1,2,"input",37),o.qZA(),o.TgZ(6,"div",35)(7,"div"),o._uU(8,"H"),o.qZA(),o.TgZ(9,"div"),o._uU(10,"S"),o.qZA(),o.TgZ(11,"div"),o._uU(12,"L"),o.qZA(),o.YNc(13,Zie,2,0,"div",38),o.qZA()()}if(2&n){const e=o.oxw();o.Udp("display",2!==e.format?"none":"block"),o.xp6(2),o.Q6J("rg",360)("value",null==e.hslaText?null:e.hslaText.h),o.xp6(1),o.Q6J("rg",100)("value",null==e.hslaText?null:e.hslaText.s),o.xp6(1),o.Q6J("rg",100)("value",null==e.hslaText?null:e.hslaText.l),o.xp6(1),o.Q6J("ngIf","disabled"!==e.cpAlphaChannel),o.xp6(8),o.Q6J("ngIf","disabled"!==e.cpAlphaChannel)}}function Yie(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"input",39),o.NdJ("keyup.enter",function(r){o.CHM(e);const s=o.oxw(2);return o.KtG(s.onAcceptColor(r))})("newValue",function(r){o.CHM(e);const s=o.oxw(2);return o.KtG(s.onAlphaInput(r))}),o.qZA()}if(2&n){const e=o.oxw(2);o.Q6J("rg",1)("value",null==e.rgbaText?null:e.rgbaText.a)}}function Wie(n,t){1&n&&(o.TgZ(0,"div"),o._uU(1,"A"),o.qZA())}function Kie(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",42)(1,"div",35)(2,"input",43),o.NdJ("keyup.enter",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.onAcceptColor(r))})("newValue",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.onRedInput(r))}),o.qZA(),o.TgZ(3,"input",43),o.NdJ("keyup.enter",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.onAcceptColor(r))})("newValue",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.onGreenInput(r))}),o.qZA(),o.TgZ(4,"input",43),o.NdJ("keyup.enter",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.onAcceptColor(r))})("newValue",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.onBlueInput(r))}),o.qZA(),o.YNc(5,Yie,1,2,"input",37),o.qZA(),o.TgZ(6,"div",35)(7,"div"),o._uU(8,"R"),o.qZA(),o.TgZ(9,"div"),o._uU(10,"G"),o.qZA(),o.TgZ(11,"div"),o._uU(12,"B"),o.qZA(),o.YNc(13,Wie,2,0,"div",38),o.qZA()()}if(2&n){const e=o.oxw();o.Udp("display",1!==e.format?"none":"block"),o.xp6(2),o.Q6J("rg",255)("value",null==e.rgbaText?null:e.rgbaText.r),o.xp6(1),o.Q6J("rg",255)("value",null==e.rgbaText?null:e.rgbaText.g),o.xp6(1),o.Q6J("rg",255)("value",null==e.rgbaText?null:e.rgbaText.b),o.xp6(1),o.Q6J("ngIf","disabled"!==e.cpAlphaChannel),o.xp6(8),o.Q6J("ngIf","disabled"!==e.cpAlphaChannel)}}function Qie(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"input",39),o.NdJ("keyup.enter",function(r){o.CHM(e);const s=o.oxw(2);return o.KtG(s.onAcceptColor(r))})("newValue",function(r){o.CHM(e);const s=o.oxw(2);return o.KtG(s.onAlphaInput(r))}),o.qZA()}if(2&n){const e=o.oxw(2);o.Q6J("rg",1)("value",e.hexAlpha)}}function Jie(n,t){1&n&&(o.TgZ(0,"div"),o._uU(1,"A"),o.qZA())}function Xie(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",44)(1,"div",35)(2,"input",45),o.NdJ("blur",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.onHexInput(null))})("keyup.enter",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.onAcceptColor(r))})("newValue",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.onHexInput(r))}),o.qZA(),o.YNc(3,Qie,1,2,"input",37),o.qZA(),o.TgZ(4,"div",35)(5,"div"),o._uU(6,"Hex"),o.qZA(),o.YNc(7,Jie,2,0,"div",38),o.qZA()()}if(2&n){const e=o.oxw();o.Udp("display",0!==e.format?"none":"block"),o.ekj("hex-alpha","forced"===e.cpAlphaChannel),o.xp6(2),o.Q6J("value",e.hexText),o.xp6(1),o.Q6J("ngIf","forced"===e.cpAlphaChannel),o.xp6(4),o.Q6J("ngIf","forced"===e.cpAlphaChannel)}}function ere(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"input",39),o.NdJ("keyup.enter",function(r){o.CHM(e);const s=o.oxw(2);return o.KtG(s.onAcceptColor(r))})("newValue",function(r){o.CHM(e);const s=o.oxw(2);return o.KtG(s.onAlphaInput(r))}),o.qZA()}if(2&n){const e=o.oxw(2);o.Q6J("rg",1)("value",null==e.hslaText?null:e.hslaText.a)}}function tre(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",46)(1,"div",35)(2,"input",36),o.NdJ("keyup.enter",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.onAcceptColor(r))})("newValue",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.onValueInput(r))}),o.qZA(),o.YNc(3,ere,1,2,"input",37),o.qZA(),o.TgZ(4,"div",35)(5,"div"),o._uU(6,"V"),o.qZA(),o.TgZ(7,"div"),o._uU(8,"A"),o.qZA()()()}if(2&n){const e=o.oxw();o.xp6(2),o.Q6J("rg",100)("value",null==e.hslaText?null:e.hslaText.l),o.xp6(1),o.Q6J("ngIf","disabled"!==e.cpAlphaChannel)}}function nre(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",47)(1,"span",48),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.onFormatToggle(-1))}),o.qZA(),o.TgZ(2,"span",48),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.onFormatToggle(1))}),o.qZA()()}}function ire(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"span",55),o.NdJ("click",function(r){o.CHM(e);const s=o.oxw().$implicit,a=o.oxw(3);return o.KtG(a.onRemovePresetColor(r,s))}),o.qZA()}if(2&n){const e=o.oxw(4);o.Tol(e.cpRemoveColorButtonClass)}}function rre(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",53),o.NdJ("click",function(){const s=o.CHM(e).$implicit,a=o.oxw(3);return o.KtG(a.setColorFromString(s))}),o.YNc(1,ire,1,3,"span",54),o.qZA()}if(2&n){const e=t.$implicit,i=o.oxw(3);o.Udp("background-color",e),o.xp6(1),o.Q6J("ngIf",i.cpAddColorButton)}}function ore(n,t){if(1&n&&(o.TgZ(0,"div"),o.YNc(1,rre,2,3,"div",52),o.qZA()),2&n){const e=o.oxw(2);o.Tol(e.cpPresetColorsClass),o.xp6(1),o.Q6J("ngForOf",e.cpPresetColors)}}function sre(n,t){if(1&n&&(o.TgZ(0,"div"),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.Tol(e.cpPresetEmptyMessageClass),o.xp6(1),o.Oqu(e.cpPresetEmptyMessage)}}function are(n,t){if(1&n&&(o.TgZ(0,"div",49),o._UZ(1,"hr"),o.TgZ(2,"div",50),o._uU(3),o.qZA(),o.YNc(4,ore,2,4,"div",51),o.YNc(5,sre,2,4,"div",51),o.qZA()),2&n){const e=o.oxw();o.xp6(3),o.Oqu(e.cpPresetLabel),o.xp6(1),o.Q6J("ngIf",null==e.cpPresetColors?null:e.cpPresetColors.length),o.xp6(1),o.Q6J("ngIf",!(null!=e.cpPresetColors&&e.cpPresetColors.length)&&e.cpAddColorButton)}}function lre(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",58),o.NdJ("click",function(r){o.CHM(e);const s=o.oxw(2);return o.KtG(s.onCancelColor(r))}),o._uU(1),o.qZA()}if(2&n){const e=o.oxw(2);o.Tol(e.cpCancelButtonClass),o.xp6(1),o.Oqu(e.cpCancelButtonText)}}function cre(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",58),o.NdJ("click",function(r){o.CHM(e);const s=o.oxw(2);return o.KtG(s.onAcceptColor(r))}),o._uU(1),o.qZA()}if(2&n){const e=o.oxw(2);o.Tol(e.cpOKButtonClass),o.xp6(1),o.Oqu(e.cpOKButtonText)}}function dre(n,t){if(1&n&&(o.TgZ(0,"div",56),o.YNc(1,lre,2,4,"button",57),o.YNc(2,cre,2,4,"button",57),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.cpCancelButton),o.xp6(1),o.Q6J("ngIf",e.cpOKButton)}}function ure(n,t){1&n&&o.GkF(0)}function hre(n,t){if(1&n&&(o.TgZ(0,"div",59),o.YNc(1,ure,1,0,"ng-container",60),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngTemplateOutlet",e.cpExtraTemplate)}}var Jo=(()=>(function(n){n[n.HEX=0]="HEX",n[n.RGBA=1]="RGBA",n[n.HSLA=2]="HSLA",n[n.CMYK=3]="CMYK"}(Jo||(Jo={})),Jo))();class Sh{constructor(t,e,i,r){this.r=t,this.g=e,this.b=i,this.a=r}}class UA{constructor(t,e,i,r){this.h=t,this.s=e,this.v=i,this.a=r}}class a_{constructor(t,e,i,r){this.h=t,this.s=e,this.l=i,this.a=r}}class mC{constructor(t,e,i,r,s=1){this.c=t,this.m=e,this.y=i,this.k=r,this.a=s}}let mre=(()=>{class n{constructor(){this.newValue=new o.vpe}inputChange(e){const i=e.target.value;if(void 0===this.rg)this.newValue.emit(i);else{const r=parseFloat(i);this.newValue.emit({v:r,rg:this.rg})}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","text",""]],hostBindings:function(e,i){1&e&&o.NdJ("input",function(s){return i.inputChange(s)})},inputs:{rg:"rg",text:"text"},outputs:{newValue:"newValue"}}),n})(),gre=(()=>{class n{constructor(e){this.elRef=e,this.dragEnd=new o.vpe,this.dragStart=new o.vpe,this.newValue=new o.vpe,this.listenerMove=i=>this.move(i),this.listenerStop=()=>this.stop()}mouseDown(e){this.start(e)}touchStart(e){this.start(e)}move(e){e.preventDefault(),this.setCursor(e)}start(e){this.setCursor(e),e.stopPropagation(),document.addEventListener("mouseup",this.listenerStop),document.addEventListener("touchend",this.listenerStop),document.addEventListener("mousemove",this.listenerMove),document.addEventListener("touchmove",this.listenerMove),this.dragStart.emit()}stop(){document.removeEventListener("mouseup",this.listenerStop),document.removeEventListener("touchend",this.listenerStop),document.removeEventListener("mousemove",this.listenerMove),document.removeEventListener("touchmove",this.listenerMove),this.dragEnd.emit()}getX(e){const i=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==e.pageX?e.pageX:e.touches[0].pageX)-i.left-window.pageXOffset}getY(e){const i=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==e.pageY?e.pageY:e.touches[0].pageY)-i.top-window.pageYOffset}setCursor(e){const i=this.elRef.nativeElement.offsetWidth,r=this.elRef.nativeElement.offsetHeight,s=Math.max(0,Math.min(this.getX(e),i)),a=Math.max(0,Math.min(this.getY(e),r));void 0!==this.rgX&&void 0!==this.rgY?this.newValue.emit({s:s/i,v:1-a/r,rgX:this.rgX,rgY:this.rgY}):void 0===this.rgX&&void 0!==this.rgY?this.newValue.emit({v:a/r,rgY:this.rgY}):void 0!==this.rgX&&void 0===this.rgY&&this.newValue.emit({v:s/i,rgX:this.rgX})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","slider",""]],hostBindings:function(e,i){1&e&&o.NdJ("mousedown",function(s){return i.mouseDown(s)})("touchstart",function(s){return i.touchStart(s)})},inputs:{rgX:"rgX",rgY:"rgY",slider:"slider"},outputs:{dragEnd:"dragEnd",dragStart:"dragStart",newValue:"newValue"}}),n})();class Fz{constructor(t,e,i,r){this.h=t,this.s=e,this.v=i,this.a=r}}class Nz{constructor(t,e,i,r){this.h=t,this.s=e,this.v=i,this.a=r}}let PN=(()=>{class n{constructor(){this.active=null}setActive(e){this.active&&this.active!==e&&"inline"!==this.active.cpDialogDisplay&&this.active.closeDialog(),this.active=e}hsva2hsla(e){const i=e.h,r=e.s,s=e.v,a=e.a;if(0===s)return new a_(i,0,0,a);if(0===r&&1===s)return new a_(i,1,1,a);{const u=s*(2-r)/2;return new a_(i,s*r/(1-Math.abs(2*u-1)),u,a)}}hsla2hsva(e){const i=Math.min(e.h,1),r=Math.min(e.s,1),s=Math.min(e.l,1),a=Math.min(e.a,1);if(0===s)return new UA(i,0,0,a);{const u=s+r*(1-Math.abs(2*s-1))/2;return new UA(i,2*(u-s)/u,u,a)}}hsvaToRgba(e){let i,r,s;const a=e.h,u=e.s,f=e.v,m=e.a,v=Math.floor(6*a),x=6*a-v,I=f*(1-u),B=f*(1-x*u),q=f*(1-(1-x)*u);switch(v%6){case 0:i=f,r=q,s=I;break;case 1:i=B,r=f,s=I;break;case 2:i=I,r=f,s=q;break;case 3:i=I,r=B,s=f;break;case 4:i=q,r=I,s=f;break;case 5:i=f,r=I,s=B;break;default:i=0,r=0,s=0}return new Sh(i,r,s,m)}cmykToRgb(e){return new Sh((1-e.c)*(1-e.k),(1-e.m)*(1-e.k),(1-e.y)*(1-e.k),e.a)}rgbaToCmyk(e){const i=1-Math.max(e.r,e.g,e.b);return 1===i?new mC(0,0,0,1,e.a):new mC((1-e.r-i)/(1-i),(1-e.g-i)/(1-i),(1-e.b-i)/(1-i),i,e.a)}rgbaToHsva(e){let i,r;const s=Math.min(e.r,1),a=Math.min(e.g,1),u=Math.min(e.b,1),f=Math.min(e.a,1),m=Math.max(s,a,u),v=Math.min(s,a,u),x=m,I=m-v;if(r=0===m?0:I/m,m===v)i=0;else{switch(m){case s:i=(a-u)/I+(a<u?6:0);break;case a:i=(u-s)/I+2;break;case u:i=(s-a)/I+4;break;default:i=0}i/=6}return new UA(i,r,x,f)}rgbaToHex(e,i){let r="#"+(16777216|e.r<<16|e.g<<8|e.b).toString(16).substr(1);return i&&(r+=(256|Math.round(255*e.a)).toString(16).substr(1)),r}normalizeCMYK(e){return new mC(e.c/100,e.m/100,e.y/100,e.k/100,e.a)}denormalizeCMYK(e){return new mC(Math.floor(100*e.c),Math.floor(100*e.m),Math.floor(100*e.y),Math.floor(100*e.k),e.a)}denormalizeRGBA(e){return new Sh(Math.round(255*e.r),Math.round(255*e.g),Math.round(255*e.b),e.a)}stringToHsva(e="",i=!1){let r=null;e=(e||"").toLowerCase();const s=[{re:/(rgb)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(a){return new Sh(parseInt(a[2],10)/255,parseInt(a[3],10)/255,parseInt(a[4],10)/255,isNaN(parseFloat(a[5]))?1:parseFloat(a[5]))}},{re:/(hsl)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(a){return new a_(parseInt(a[2],10)/360,parseInt(a[3],10)/100,parseInt(a[4],10)/100,isNaN(parseFloat(a[5]))?1:parseFloat(a[5]))}}];s.push(i?{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})?$/,parse:function(a){return new Sh(parseInt(a[1],16)/255,parseInt(a[2],16)/255,parseInt(a[3],16)/255,parseInt(a[4]||"FF",16)/255)}}:{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,parse:function(a){return new Sh(parseInt(a[1],16)/255,parseInt(a[2],16)/255,parseInt(a[3],16)/255,1)}}),s.push({re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/,parse:function(a){return new Sh(parseInt(a[1]+a[1],16)/255,parseInt(a[2]+a[2],16)/255,parseInt(a[3]+a[3],16)/255,1)}});for(const a in s)if(s.hasOwnProperty(a)){const u=s[a],f=u.re.exec(e),m=f&&u.parse(f);if(m)return m instanceof Sh?r=this.rgbaToHsva(m):m instanceof a_&&(r=this.hsla2hsva(m)),r}return r}outputFormat(e,i,r){switch("auto"===i&&(i=e.a<1?"rgba":"hex"),i){case"hsla":const s=this.hsva2hsla(e),a=new a_(Math.round(360*s.h),Math.round(100*s.s),Math.round(100*s.l),Math.round(100*s.a)/100);return e.a<1||"always"===r?"hsla("+a.h+","+a.s+"%,"+a.l+"%,"+a.a+")":"hsl("+a.h+","+a.s+"%,"+a.l+"%)";case"rgba":const u=this.denormalizeRGBA(this.hsvaToRgba(e));return e.a<1||"always"===r?"rgba("+u.r+","+u.g+","+u.b+","+Math.round(100*u.a)/100+")":"rgb("+u.r+","+u.g+","+u.b+")";default:const f="always"===r||"forced"===r;return this.rgbaToHex(this.denormalizeRGBA(this.hsvaToRgba(e)),f)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Lz=typeof window<"u"&&"ontouchstart"in window;let _re=(()=>{class n{constructor(e,i,r,s,a,u){this.ngZone=e,this.elRef=i,this.cdRef=r,this.document=s,this.platformId=a,this.service=u,this.isIE10=!1,this.dialogArrowSize=10,this.dialogArrowOffset=15,this.dialogInputFields=[Jo.HEX,Jo.RGBA,Jo.HSLA,Jo.CMYK],this.useRootViewContainer=!1,this.eyeDropperSupported=Ar(this.platformId)&&"EyeDropper"in this.document.defaultView}handleEsc(e){this.show&&"popup"===this.cpDialogDisplay&&this.onCancelColor(e)}handleEnter(e){this.show&&"popup"===this.cpDialogDisplay&&this.onAcceptColor(e)}ngOnInit(){this.slider=new Fz(0,0,0,0),this.sliderDimMax=new Nz(this.hueSlider.nativeElement.offsetWidth||140,this.cpWidth,130,this.alphaSlider.nativeElement.offsetWidth||140),this.format=this.cpCmykEnabled?Jo.CMYK:"rgba"===this.cpOutputFormat?Jo.RGBA:"hsla"===this.cpOutputFormat?Jo.HSLA:Jo.HEX,this.listenerMouseDown=r=>{this.onMouseDown(r)},this.listenerResize=()=>{this.onResize()},this.openDialog(this.initialColor,!1)}ngOnDestroy(){this.closeDialog()}ngAfterViewInit(){230===this.cpWidth&&"inline"!==this.cpDialogDisplay||(this.sliderDimMax=new Nz(this.hueSlider.nativeElement.offsetWidth||140,this.cpWidth,130,this.alphaSlider.nativeElement.offsetWidth||140),this.updateColorPicker(!1),this.cdRef.detectChanges())}openDialog(e,i=!0){this.service.setActive(this),this.width||(this.cpWidth=this.directiveElementRef.nativeElement.offsetWidth),this.height||(this.height=320),this.setInitialColor(e),this.setColorFromString(e,i),this.openColorPicker()}closeDialog(){this.closeColorPicker()}setupDialog(e,i,r,s,a,u,f,m,v,x,I,B,q,ue,ge,Oe,nt,it,pt,zt,jt,Bn,Kn,Xr,gl,fb,D_,Fh,ck,dk,Zt,ln,mn,Qn,so,ec,qs,ou){this.setInitialColor(r),this.setColorMode(m),this.isIE10=10===function pre(){let n="";typeof navigator<"u"&&(n=navigator.userAgent.toLowerCase());const t=n.indexOf("msie ");return t>0&&parseInt(n.substring(t+5,n.indexOf(".",t)),10)}(),this.directiveInstance=e,this.directiveElementRef=i,this.cpDisableInput=B,this.cpCmykEnabled=v,this.cpAlphaChannel=x,this.cpOutputFormat=I,this.cpDialogDisplay=u,this.cpIgnoredElements=q,this.cpSaveClickOutside=ue,this.cpCloseClickOutside=ge,this.useRootViewContainer=Oe,this.width=this.cpWidth=parseInt(s,10),this.height=this.cpHeight=parseInt(a,10),this.cpPosition=nt,this.cpPositionOffset=parseInt(it,10),this.cpOKButton=fb,this.cpOKButtonText=Fh,this.cpOKButtonClass=D_,this.cpCancelButton=ck,this.cpCancelButtonText=Zt,this.cpCancelButtonClass=dk,this.cpEyeDropper=ec,this.fallbackColor=f||"#fff",this.setPresetConfig(zt,jt),this.cpPresetColorsClass=Bn,this.cpMaxPresetColorsLength=Kn,this.cpPresetEmptyMessage=Xr,this.cpPresetEmptyMessageClass=gl,this.cpAddColorButton=ln,this.cpAddColorButtonText=Qn,this.cpAddColorButtonClass=mn,this.cpRemoveColorButtonClass=so,this.cpTriggerElement=qs,this.cpExtraTemplate=ou,pt||(this.dialogArrowOffset=0),"inline"===u&&(this.dialogArrowSize=0,this.dialogArrowOffset=0),"hex"===I&&"always"!==x&&"forced"!==x&&(this.cpAlphaChannel="disabled")}setColorMode(e){switch(e.toString().toUpperCase()){case"1":case"C":case"COLOR":default:this.cpColorMode=1;break;case"2":case"G":case"GRAYSCALE":this.cpColorMode=2;break;case"3":case"P":case"PRESETS":this.cpColorMode=3}}setInitialColor(e){this.initialColor=e}setPresetConfig(e,i){this.cpPresetLabel=e,this.cpPresetColors=i}setColorFromString(e,i=!0,r=!0){let s;"always"===this.cpAlphaChannel||"forced"===this.cpAlphaChannel?(s=this.service.stringToHsva(e,!0),!s&&!this.hsva&&(s=this.service.stringToHsva(e,!1))):s=this.service.stringToHsva(e,!1),!s&&!this.hsva&&(s=this.service.stringToHsva(this.fallbackColor,!1)),s&&(this.hsva=s,this.sliderH=this.hsva.h,"hex"===this.cpOutputFormat&&"disabled"===this.cpAlphaChannel&&(this.hsva.a=1),this.updateColorPicker(i,r))}onResize(){"fixed"===this.position?this.setDialogPosition():"inline"!==this.cpDialogDisplay&&this.closeColorPicker()}onDragEnd(e){this.directiveInstance.sliderDragEnd({slider:e,color:this.outputColor})}onDragStart(e){this.directiveInstance.sliderDragStart({slider:e,color:this.outputColor})}onMouseDown(e){this.show&&!this.isIE10&&"popup"===this.cpDialogDisplay&&e.target!==this.directiveElementRef.nativeElement&&!this.isDescendant(this.elRef.nativeElement,e.target)&&!this.isDescendant(this.directiveElementRef.nativeElement,e.target)&&0===this.cpIgnoredElements.filter(i=>i===e.target).length&&this.ngZone.run(()=>{this.cpSaveClickOutside?this.directiveInstance.colorSelected(this.outputColor):(this.hsva=null,this.setColorFromString(this.initialColor,!1),this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.initialColor),this.directiveInstance.colorCanceled()),this.cpCloseClickOutside&&this.closeColorPicker()})}onAcceptColor(e){e.stopPropagation(),this.outputColor&&this.directiveInstance.colorSelected(this.outputColor),"popup"===this.cpDialogDisplay&&this.closeColorPicker()}onCancelColor(e){this.hsva=null,e.stopPropagation(),this.directiveInstance.colorCanceled(),this.setColorFromString(this.initialColor,!0),"popup"===this.cpDialogDisplay&&(this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.initialColor,!0),this.closeColorPicker())}onEyeDropper(){this.eyeDropperSupported&&(new window.EyeDropper).open().then(i=>{this.setColorFromString(i.sRGBHex,!0)})}onFormatToggle(e){const i=this.dialogInputFields.length-(this.cpCmykEnabled?0:1),r=((this.dialogInputFields.indexOf(this.format)+e)%i+i)%i;this.format=this.dialogInputFields[r]}onColorChange(e){this.hsva.s=e.s/e.rgX,this.hsva.v=e.v/e.rgY,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"lightness",value:this.hsva.v,color:this.outputColor}),this.directiveInstance.sliderChanged({slider:"saturation",value:this.hsva.s,color:this.outputColor})}onHueChange(e){this.hsva.h=e.v/e.rgX,this.sliderH=this.hsva.h,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"hue",value:this.hsva.h,color:this.outputColor})}onValueChange(e){this.hsva.v=e.v/e.rgX,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"value",value:this.hsva.v,color:this.outputColor})}onAlphaChange(e){this.hsva.a=e.v/e.rgX,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"alpha",value:this.hsva.a,color:this.outputColor})}onHexInput(e){if(null===e)this.updateColorPicker();else{e&&"#"!==e[0]&&(e="#"+e);let i=/^#([a-f0-9]{3}|[a-f0-9]{6})$/gi;"always"===this.cpAlphaChannel&&(i=/^#([a-f0-9]{3}|[a-f0-9]{6}|[a-f0-9]{8})$/gi);const r=i.test(e);r&&(e.length<5&&(e="#"+e.substring(1).split("").map(s=>s+s).join("")),"forced"===this.cpAlphaChannel&&(e+=Math.round(255*this.hsva.a).toString(16)),this.setColorFromString(e,!0,!1)),this.directiveInstance.inputChanged({input:"hex",valid:r,value:e,color:this.outputColor})}}onRedInput(e){const i=this.service.hsvaToRgba(this.hsva),r=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;r&&(i.r=e.v/e.rg,this.hsva=this.service.rgbaToHsva(i),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"red",valid:r,value:i.r,color:this.outputColor})}onBlueInput(e){const i=this.service.hsvaToRgba(this.hsva),r=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;r&&(i.b=e.v/e.rg,this.hsva=this.service.rgbaToHsva(i),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"blue",valid:r,value:i.b,color:this.outputColor})}onGreenInput(e){const i=this.service.hsvaToRgba(this.hsva),r=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;r&&(i.g=e.v/e.rg,this.hsva=this.service.rgbaToHsva(i),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"green",valid:r,value:i.g,color:this.outputColor})}onHueInput(e){const i=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;i&&(this.hsva.h=e.v/e.rg,this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"hue",valid:i,value:this.hsva.h,color:this.outputColor})}onValueInput(e){const i=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;i&&(this.hsva.v=e.v/e.rg,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"value",valid:i,value:this.hsva.v,color:this.outputColor})}onAlphaInput(e){const i=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;i&&(this.hsva.a=e.v/e.rg,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"alpha",valid:i,value:this.hsva.a,color:this.outputColor})}onLightnessInput(e){const i=this.service.hsva2hsla(this.hsva),r=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;r&&(i.l=e.v/e.rg,this.hsva=this.service.hsla2hsva(i),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"lightness",valid:r,value:i.l,color:this.outputColor})}onSaturationInput(e){const i=this.service.hsva2hsla(this.hsva),r=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;r&&(i.s=e.v/e.rg,this.hsva=this.service.hsla2hsva(i),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"saturation",valid:r,value:i.s,color:this.outputColor})}onCyanInput(e){!isNaN(e.v)&&e.v>=0&&e.v<=e.rg&&(this.cmyk.c=e.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"cyan",valid:!0,value:this.cmyk.c,color:this.outputColor})}onMagentaInput(e){!isNaN(e.v)&&e.v>=0&&e.v<=e.rg&&(this.cmyk.m=e.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"magenta",valid:!0,value:this.cmyk.m,color:this.outputColor})}onYellowInput(e){!isNaN(e.v)&&e.v>=0&&e.v<=e.rg&&(this.cmyk.y=e.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"yellow",valid:!0,value:this.cmyk.y,color:this.outputColor})}onBlackInput(e){!isNaN(e.v)&&e.v>=0&&e.v<=e.rg&&(this.cmyk.k=e.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"black",valid:!0,value:this.cmyk.k,color:this.outputColor})}onAddPresetColor(e,i){e.stopPropagation(),this.cpPresetColors.filter(r=>r===i).length||(this.cpPresetColors=this.cpPresetColors.concat(i),this.directiveInstance.presetColorsChanged(this.cpPresetColors))}onRemovePresetColor(e,i){e.stopPropagation(),this.cpPresetColors=this.cpPresetColors.filter(r=>r!==i),this.directiveInstance.presetColorsChanged(this.cpPresetColors)}openColorPicker(){this.show||(this.show=!0,this.hidden=!0,setTimeout(()=>{this.hidden=!1,this.setDialogPosition(),this.cdRef.detectChanges()},0),this.directiveInstance.stateChanged(!0),this.isIE10||this.ngZone.runOutsideAngular(()=>{Lz?document.addEventListener("touchstart",this.listenerMouseDown):document.addEventListener("mousedown",this.listenerMouseDown)}),window.addEventListener("resize",this.listenerResize))}closeColorPicker(){this.show&&(this.show=!1,this.directiveInstance.stateChanged(!1),this.isIE10||(Lz?document.removeEventListener("touchstart",this.listenerMouseDown):document.removeEventListener("mousedown",this.listenerMouseDown)),window.removeEventListener("resize",this.listenerResize),this.cdRef.destroyed||this.cdRef.detectChanges())}updateColorPicker(e=!0,i=!0,r=!1){if(this.sliderDimMax){let s,a,u;2===this.cpColorMode&&(this.hsva.s=0);const f=this.outputColor;if(a=this.service.hsva2hsla(this.hsva),this.cpCmykEnabled?(r?(u=this.service.cmykToRgb(this.service.normalizeCMYK(this.cmyk)),this.hsva=this.service.rgbaToHsva(u)):(u=this.service.hsvaToRgba(this.hsva),this.cmyk=this.service.denormalizeCMYK(this.service.rgbaToCmyk(u))),u=this.service.denormalizeRGBA(u),this.sliderH=this.hsva.h):u=this.service.denormalizeRGBA(this.service.hsvaToRgba(this.hsva)),s=this.service.denormalizeRGBA(this.service.hsvaToRgba(new UA(this.sliderH||this.hsva.h,1,1,1))),i&&(this.hslaText=new a_(Math.round(360*a.h),Math.round(100*a.s),Math.round(100*a.l),Math.round(100*a.a)/100),this.rgbaText=new Sh(u.r,u.g,u.b,Math.round(100*u.a)/100),this.cpCmykEnabled&&(this.cmykText=new mC(this.cmyk.c,this.cmyk.m,this.cmyk.y,this.cmyk.k,Math.round(100*this.cmyk.a)/100)),this.hexText=this.service.rgbaToHex(u,"always"===this.cpAlphaChannel),this.hexAlpha=this.rgbaText.a),"auto"===this.cpOutputFormat&&this.format!==Jo.RGBA&&this.format!==Jo.CMYK&&this.format!==Jo.HSLA&&this.hsva.a<1&&(this.format=this.hsva.a<1?Jo.RGBA:Jo.HEX),this.hueSliderColor="rgb("+s.r+","+s.g+","+s.b+")",this.alphaSliderColor="rgb("+u.r+","+u.g+","+u.b+")",this.outputColor=this.service.outputFormat(this.hsva,this.cpOutputFormat,this.cpAlphaChannel),this.selectedColor=this.service.outputFormat(this.hsva,"rgba",null),this.format!==Jo.CMYK)this.cmykColor="";else if("always"===this.cpAlphaChannel||"enabled"===this.cpAlphaChannel||"forced"===this.cpAlphaChannel){const m=Math.round(100*this.cmyk.a)/100;this.cmykColor=`cmyka(${this.cmyk.c},${this.cmyk.m},${this.cmyk.y},${this.cmyk.k},${m})`}else this.cmykColor=`cmyk(${this.cmyk.c},${this.cmyk.m},${this.cmyk.y},${this.cmyk.k})`;this.slider=new Fz((this.sliderH||this.hsva.h)*this.sliderDimMax.h-8,this.hsva.s*this.sliderDimMax.s-8,(1-this.hsva.v)*this.sliderDimMax.v-8,this.hsva.a*this.sliderDimMax.a-8),e&&f!==this.outputColor&&(this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.outputColor))}}setDialogPosition(){if("inline"===this.cpDialogDisplay)this.position="relative";else{let r,e="static",i="",s=null,a=null,u=this.directiveElementRef.nativeElement.parentNode;const f=this.dialogElement.nativeElement.offsetHeight;for(;null!==u&&"HTML"!==u.tagName;){if(r=window.getComputedStyle(u),e=r.getPropertyValue("position"),i=r.getPropertyValue("transform"),"static"!==e&&null===s&&(s=u),i&&"none"!==i&&null===a&&(a=u),"fixed"===e){s=a;break}u=u.parentNode}const m=this.createDialogBox(this.directiveElementRef.nativeElement,"fixed"!==e);if(this.useRootViewContainer||"fixed"===e&&(!s||s instanceof HTMLUnknownElement))this.top=m.top,this.left=m.left;else{null===s&&(s=u);const x=this.createDialogBox(s,"fixed"!==e);this.top=m.top-x.top,this.left=m.left-x.left}"fixed"===e&&(this.position="fixed");let v=this.cpPosition;if("auto"===this.cpPosition){const x=this.dialogElement.nativeElement.getBoundingClientRect(),I=window.innerHeight,B=window.innerWidth,q=this.elRef.nativeElement.getBoundingClientRect();this.top+x.height>I&&(this.top=I-x.height,this.cpArrowPosition=q.x/2-20),this.left+x.width>B&&(this.left=B-x.width,this.cpArrowPosition=q.x/2-20),v=function fre(n,t){let e="right",i="bottom";const{height:r,width:s}=n,{top:a,left:u}=t,f=a+t.height,m=u+t.width,v=a-r<0,x=f+r>(window.innerHeight||document.documentElement.clientHeight),I=u-s<0,B=m+s>(window.innerWidth||document.documentElement.clientWidth);return x&&(i="top"),v&&(i="bottom"),I&&(e="right"),B&&(e="left"),v&&x&&I&&B?["left","right","top","bottom"].reduce((ge,Oe)=>n[ge]>n[Oe]?ge:Oe):I&&B?v?"bottom":x||a>f?"top":"bottom":v&&x?I?"right":B||u>m?"left":"right":`${i}-${e}`}(x,this.cpTriggerElement.nativeElement.getBoundingClientRect())}"top"===v?(this.arrowTop=f-1,this.top-=f+this.dialogArrowSize,this.left+=this.cpPositionOffset/100*m.width-this.dialogArrowOffset):"bottom"===v?(this.top+=m.height+this.dialogArrowSize,this.left+=this.cpPositionOffset/100*m.width-this.dialogArrowOffset):"top-left"===v||"left-top"===v?(this.top-=f-m.height+m.height*this.cpPositionOffset/100,this.left-=this.cpWidth+this.dialogArrowSize-2-this.dialogArrowOffset):"top-right"===v||"right-top"===v?(this.top-=f-m.height+m.height*this.cpPositionOffset/100,this.left+=m.width+this.dialogArrowSize-2-this.dialogArrowOffset):"left"===v||"bottom-left"===v||"left-bottom"===v?(this.top+=m.height*this.cpPositionOffset/100-this.dialogArrowOffset,this.left-=this.cpWidth+this.dialogArrowSize-2):(this.top+=m.height*this.cpPositionOffset/100-this.dialogArrowOffset,this.left+=m.width+this.dialogArrowSize-2),this.cpUsePosition=v}}isDescendant(e,i){let r=i.parentNode;for(;null!==r;){if(r===e)return!0;r=r.parentNode}return!1}createDialogBox(e,i){const{top:r,left:s}=e.getBoundingClientRect();return{top:r+(i?window.pageYOffset:0),left:s+(i?window.pageXOffset:0),width:e.offsetWidth,height:e.offsetHeight}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.R0b),o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(j),o.Y36(o.Lbi),o.Y36(PN))},n.\u0275cmp=o.Xpm({type:n,selectors:[["color-picker"]],viewQuery:function(e,i){if(1&e&&(o.Gf(Pie,7),o.Gf(Fie,7),o.Gf(Nie,7)),2&e){let r;o.iGM(r=o.CRH())&&(i.dialogElement=r.first),o.iGM(r=o.CRH())&&(i.hueSlider=r.first),o.iGM(r=o.CRH())&&(i.alphaSlider=r.first)}},hostBindings:function(e,i){1&e&&o.NdJ("keyup.esc",function(s){return i.handleEsc(s)},!1,o.evT)("keyup.enter",function(s){return i.handleEnter(s)},!1,o.evT)},decls:30,vars:51,consts:[[1,"color-picker",3,"click"],["dialogPopup",""],[3,"left","class","top",4,"ngIf"],["class","saturation-lightness",3,"slider","rgX","rgY","background-color","newValue","dragStart","dragEnd",4,"ngIf"],[1,"hue-alpha","box"],[1,"left"],[1,"selected-color-background"],[1,"selected-color",3,"click"],["class","eyedropper-icon","xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 0 24 24","width","24px","fill","#000000",4,"ngIf"],["type","button",3,"class","disabled","click",4,"ngIf"],[1,"right"],["style","height: 16px;",4,"ngIf"],[1,"hue",3,"slider","rgX","newValue","dragStart","dragEnd"],["hueSlider",""],[1,"cursor"],[1,"value",3,"slider","rgX","newValue","dragStart","dragEnd"],["valueSlider",""],[1,"alpha",3,"slider","rgX","newValue","dragStart","dragEnd"],["alphaSlider",""],["class","cmyk-text",3,"display",4,"ngIf"],["class","hsla-text",3,"display",4,"ngIf"],["class","rgba-text",3,"display",4,"ngIf"],["class","hex-text",3,"hex-alpha","display",4,"ngIf"],["class","value-text",4,"ngIf"],["class","type-policy",4,"ngIf"],["class","preset-area",4,"ngIf"],["class","button-area",4,"ngIf"],["class","extra-template",4,"ngIf"],[1,"saturation-lightness",3,"slider","rgX","rgY","newValue","dragStart","dragEnd"],["xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 0 24 24","width","24px","fill","#000000",1,"eyedropper-icon"],["d","M0 0h24v24H0V0z","fill","none"],["d","M17.66 5.41l.92.92-2.69 2.69-.92-.92 2.69-2.69M17.67 3c-.26 0-.51.1-.71.29l-3.12 3.12-1.93-1.91-1.41 1.41 1.42 1.42L3 16.25V21h4.75l8.92-8.92 1.42 1.42 1.41-1.41-1.92-1.92 3.12-3.12c.4-.4.4-1.03.01-1.42l-2.34-2.34c-.2-.19-.45-.29-.7-.29zM6.92 19L5 17.08l8.06-8.06 1.92 1.92L6.92 19z"],["type","button",3,"disabled","click"],[2,"height","16px"],[1,"cmyk-text"],[1,"box"],["type","number","pattern","[0-9]*","min","0","max","100",3,"text","rg","value","keyup.enter","newValue"],["type","number","pattern","[0-9]+([\\.,][0-9]{1,2})?","min","0","max","1","step","0.1",3,"text","rg","value","keyup.enter","newValue",4,"ngIf"],[4,"ngIf"],["type","number","pattern","[0-9]+([\\.,][0-9]{1,2})?","min","0","max","1","step","0.1",3,"text","rg","value","keyup.enter","newValue"],[1,"hsla-text"],["type","number","pattern","[0-9]*","min","0","max","360",3,"text","rg","value","keyup.enter","newValue"],[1,"rgba-text"],["type","number","pattern","[0-9]*","min","0","max","255",3,"text","rg","value","keyup.enter","newValue"],[1,"hex-text"],[3,"text","value","blur","keyup.enter","newValue"],[1,"value-text"],[1,"type-policy"],[1,"type-policy-arrow",3,"click"],[1,"preset-area"],[1,"preset-label"],[3,"class",4,"ngIf"],["class","preset-color",3,"backgroundColor","click",4,"ngFor","ngForOf"],[1,"preset-color",3,"click"],[3,"class","click",4,"ngIf"],[3,"click"],[1,"button-area"],["type","button",3,"class","click",4,"ngIf"],["type","button",3,"click"],[1,"extra-template"],[4,"ngTemplateOutlet"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0,1),o.NdJ("click",function(s){return s.stopPropagation()}),o.YNc(2,Lie,1,7,"div",2),o.YNc(3,Bie,2,8,"div",3),o.TgZ(4,"div",4)(5,"div",5),o._UZ(6,"div",6),o.TgZ(7,"div",7),o.NdJ("click",function(){return i.eyeDropperSupported&&i.cpEyeDropper&&i.onEyeDropper()}),o.YNc(8,Vie,3,0,"svg",8),o.qZA(),o.YNc(9,Uie,2,5,"button",9),o.qZA(),o.TgZ(10,"div",10),o.YNc(11,Hie,1,0,"div",11),o.TgZ(12,"div",12,13),o.NdJ("newValue",function(s){return i.onHueChange(s)})("dragStart",function(){return i.onDragStart("hue")})("dragEnd",function(){return i.onDragEnd("hue")}),o._UZ(14,"div",14),o.qZA(),o.TgZ(15,"div",15,16),o.NdJ("newValue",function(s){return i.onValueChange(s)})("dragStart",function(){return i.onDragStart("value")})("dragEnd",function(){return i.onDragEnd("value")}),o._UZ(17,"div",14),o.qZA(),o.TgZ(18,"div",17,18),o.NdJ("newValue",function(s){return i.onAlphaChange(s)})("dragStart",function(){return i.onDragStart("alpha")})("dragEnd",function(){return i.onDragEnd("alpha")}),o._UZ(20,"div",14),o.qZA()()(),o.YNc(21,jie,17,12,"div",19),o.YNc(22,$ie,14,10,"div",20),o.YNc(23,Kie,14,10,"div",21),o.YNc(24,Xie,8,7,"div",22),o.YNc(25,tre,9,3,"div",23),o.YNc(26,nre,3,0,"div",24),o.YNc(27,are,6,3,"div",25),o.YNc(28,dre,3,2,"div",26),o.YNc(29,hre,2,1,"div",27),o.qZA()),2&e&&(o.Udp("display",i.show?"block":"none")("visibility",i.hidden?"hidden":"visible")("top",i.top,"px")("left",i.left,"px")("position",i.position)("height",i.cpHeight,"px")("width",i.cpWidth,"px"),o.ekj("open",i.show),o.xp6(2),o.Q6J("ngIf","popup"===i.cpDialogDisplay),o.xp6(1),o.Q6J("ngIf",1===(i.cpColorMode||1)),o.xp6(4),o.Udp("background-color",i.selectedColor)("cursor",i.eyeDropperSupported&&i.cpEyeDropper?"pointer":null),o.xp6(1),o.Q6J("ngIf",i.eyeDropperSupported&&i.cpEyeDropper),o.xp6(1),o.Q6J("ngIf",i.cpAddColorButton),o.xp6(2),o.Q6J("ngIf","disabled"===i.cpAlphaChannel),o.xp6(1),o.Udp("display",1===(i.cpColorMode||1)?"block":"none"),o.Q6J("rgX",1),o.xp6(2),o.Udp("left",null==i.slider?null:i.slider.h,"px"),o.xp6(1),o.Udp("display",2===(i.cpColorMode||1)?"block":"none"),o.Q6J("rgX",1),o.xp6(2),o.Udp("right",null==i.slider?null:i.slider.v,"px"),o.xp6(1),o.Udp("display","disabled"===i.cpAlphaChannel?"none":"block")("background-color",i.alphaSliderColor),o.Q6J("rgX",1),o.xp6(2),o.Udp("left",null==i.slider?null:i.slider.a,"px"),o.xp6(1),o.Q6J("ngIf",!i.cpDisableInput&&1===(i.cpColorMode||1)),o.xp6(1),o.Q6J("ngIf",!i.cpDisableInput&&1===(i.cpColorMode||1)),o.xp6(1),o.Q6J("ngIf",!i.cpDisableInput&&1===(i.cpColorMode||1)),o.xp6(1),o.Q6J("ngIf",!i.cpDisableInput&&1===(i.cpColorMode||1)),o.xp6(1),o.Q6J("ngIf",!i.cpDisableInput&&2===(i.cpColorMode||1)),o.xp6(1),o.Q6J("ngIf",!i.cpDisableInput&&1===(i.cpColorMode||1)),o.xp6(1),o.Q6J("ngIf",(null==i.cpPresetColors?null:i.cpPresetColors.length)||i.cpAddColorButton),o.xp6(1),o.Q6J("ngIf",i.cpOKButton||i.cpCancelButton),o.xp6(1),o.Q6J("ngIf",i.cpExtraTemplate))},dependencies:[Fi,Vn,yi,mre,gre],styles:['.color-picker{position:absolute;z-index:1000;width:230px;height:auto;border:#777 solid 1px;cursor:default;-webkit-user-select:none;user-select:none;background-color:#fff}.color-picker *{box-sizing:border-box;margin:0;font-size:11px}.color-picker input{width:0;height:26px;min-width:0;font-size:13px;text-align:center;color:#000}.color-picker input:invalid,.color-picker input:-moz-ui-invalid,.color-picker input:-moz-submit-invalid{box-shadow:none}.color-picker input::-webkit-inner-spin-button,.color-picker input::-webkit-outer-spin-button{margin:0;-webkit-appearance:none}.color-picker .arrow{position:absolute;z-index:999999;width:0;height:0;border-style:solid}.color-picker .arrow.arrow-top{left:8px;border-width:10px 5px;border-color:#777 rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .arrow.arrow-bottom{top:-20px;left:8px;border-width:10px 5px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) #777 rgba(0,0,0,0)}.color-picker .arrow.arrow-top-left,.color-picker .arrow.arrow-left-top{right:-21px;bottom:8px;border-width:5px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) #777}.color-picker .arrow.arrow-top-right,.color-picker .arrow.arrow-right-top{bottom:8px;left:-20px;border-width:5px 10px;border-color:rgba(0,0,0,0) #777 rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .arrow.arrow-left,.color-picker .arrow.arrow-left-bottom,.color-picker .arrow.arrow-bottom-left{top:8px;right:-21px;border-width:5px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) #777}.color-picker .arrow.arrow-right,.color-picker .arrow.arrow-right-bottom,.color-picker .arrow.arrow-bottom-right{top:8px;left:-20px;border-width:5px 10px;border-color:rgba(0,0,0,0) #777 rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .cursor{position:relative;width:16px;height:16px;border:#222 solid 2px;border-radius:50%;cursor:default}.color-picker .box{display:flex;padding:4px 8px}.color-picker .left{position:relative;padding:16px 8px}.color-picker .right{flex:1 1 auto;padding:12px 8px}.color-picker .button-area{padding:0 16px 16px;text-align:right}.color-picker .button-area button{margin-left:8px}.color-picker .preset-area{padding:4px 15px}.color-picker .preset-area .preset-label{overflow:hidden;width:100%;padding:4px;font-size:11px;white-space:nowrap;text-align:left;text-overflow:ellipsis;color:#555}.color-picker .preset-area .preset-color{position:relative;display:inline-block;width:18px;height:18px;margin:4px 6px 8px;border:#a9a9a9 solid 1px;border-radius:25%;cursor:pointer}.color-picker .preset-area .preset-empty-message{min-height:18px;margin-top:4px;margin-bottom:8px;font-style:italic;text-align:center}.color-picker .hex-text{width:100%;padding:4px 8px;font-size:11px}.color-picker .hex-text .box{padding:0 24px 8px 8px}.color-picker .hex-text .box div{float:left;flex:1 1 auto;text-align:center;color:#555;clear:left}.color-picker .hex-text .box input{flex:1 1 auto;padding:1px;border:#a9a9a9 solid 1px}.color-picker .hex-alpha .box div:first-child,.color-picker .hex-alpha .box input:first-child{flex-grow:3;margin-right:8px}.color-picker .cmyk-text,.color-picker .hsla-text,.color-picker .rgba-text,.color-picker .value-text{width:100%;padding:4px 8px;font-size:11px}.color-picker .cmyk-text .box,.color-picker .hsla-text .box,.color-picker .rgba-text .box{padding:0 24px 8px 8px}.color-picker .value-text .box{padding:0 8px 8px}.color-picker .cmyk-text .box div,.color-picker .hsla-text .box div,.color-picker .rgba-text .box div,.color-picker .value-text .box div{flex:1 1 auto;margin-right:8px;text-align:center;color:#555}.color-picker .cmyk-text .box div:last-child,.color-picker .hsla-text .box div:last-child,.color-picker .rgba-text .box div:last-child,.color-picker .value-text .box div:last-child{margin-right:0}.color-picker .cmyk-text .box input,.color-picker .hsla-text .box input,.color-picker .rgba-text .box input,.color-picker .value-text .box input{float:left;flex:1;padding:1px;margin:0 8px 0 0;border:#a9a9a9 solid 1px}.color-picker .cmyk-text .box input:last-child,.color-picker .hsla-text .box input:last-child,.color-picker .rgba-text .box input:last-child,.color-picker .value-text .box input:last-child{margin-right:0}.color-picker .hue-alpha{align-items:center;margin-bottom:3px}.color-picker .hue{direction:ltr;width:100%;height:16px;margin-bottom:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwkUFWbCCAAAAFxJREFUaN7t0kEKg0AQAME2x83/n2qu5qCgD1iDhCoYdpnbQC9bbY1qVO/jvc6k3ad91s7/7F1/csgPrujuQ17BDYSFsBAWwgJhISyEBcJCWAgLhIWwEBYIi2f7Ar/1TCgFH2X9AAAAAElFTkSuQmCC)}.color-picker .value{direction:rtl;width:100%;height:16px;margin-bottom:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAACTklEQVR42u3SYUcrABhA4U2SkmRJMmWSJklKJiWZZpKUJJskKUmaTFImKZOUzMySpGRmliRNJilJSpKSJEtmSpIpmWmSdO736/6D+x7OP3gUCoWCv1cqlSQlJZGcnExKSgqpqamkpaWRnp5ORkYGmZmZqFQqsrKyyM7OJicnh9zcXNRqNXl5eeTn56PRaCgoKKCwsJCioiK0Wi3FxcWUlJRQWlpKWVkZ5eXlVFRUUFlZiU6no6qqiurqampqaqitraWurg69Xk99fT0GgwGj0UhDQwONjY00NTXR3NxMS0sLra2ttLW10d7ejslkwmw209HRQWdnJ11dXXR3d9PT00Nvby99fX309/czMDDA4OAgFouFoaEhrFYrw8PDjIyMMDo6ytjYGDabjfHxcSYmJpicnGRqagq73c709DQzMzPMzs4yNzfH/Pw8DocDp9OJy+XC7XazsLDA4uIiS0tLLC8vs7KywurqKmtra3g8HrxeLz6fD7/fz/r6OhsbG2xubrK1tcX29jaBQICdnR2CwSC7u7vs7e2xv7/PwcEBh4eHHB0dcXx8zMnJCaenp5ydnXF+fs7FxQWXl5dcXV1xfX3Nzc0Nt7e33N3dEQqFuL+/5+HhgXA4TCQS4fHxkaenJ56fn3l5eeH19ZVoNMrb2xvv7+98fHwQi8WIx+N8fn6SSCT4+vri+/ubn58ffn9/+VcKgSWwBJbAElgCS2AJLIElsASWwBJYAktgCSyBJbAElsASWAJLYAksgSWwBJbAElgCS2AJLIElsP4/WH8AmJ5Z6jHS4h8AAAAASUVORK5CYII=)}.color-picker .alpha{direction:ltr;width:100%;height:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwYQlZMa3gAAAWVJREFUaN7tmEGO6jAQRCsOArHgBpyAJYGjcGocxAm4A2IHpmoWE0eBH+ezmFlNvU06shJ3W6VEelWMUQAIIF9f6qZpimsA1LYtS2uF51/u27YVAFZVRUkEoGHdPV/sIcbIEIIkUdI/9Xa7neyv61+SWFUVAVCSct00TWn2fv6u3+Ecfd3tXzy/0+nEUu+SPjo/kqzrmiQpScN6v98XewfA8/lMkiLJ2WxGSUopcT6fM6U0NX9/frfbjev1WtfrlZfLhYfDQQHG/AIOlnGwjINlHCxjHCzjYJm/TJWdCwquJXseFFzGwDNNeiKMOJTO8xQdDQaeB29+K9efeLaBo9J7vdvtJj1RjFFjfiv7qv95tjx/7leSQgh93e1ffMeIp6O+YQjho/N791t1XVOSSI7N//K+4/GoxWLBx+PB5/Op5XLJ+/3OlJJWqxU3m83ovv5iGf8KjYNlHCxjHCzjYBkHy5gf5gusvQU7U37jTAAAAABJRU5ErkJggg==)}.color-picker .type-policy{position:absolute;top:218px;right:12px;width:16px;height:24px;background-size:8px 16px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAgCAYAAAAffCjxAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAACewAAAnsB01CO3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAIASURBVEiJ7ZY9axRRFIafsxMStrLQJpAgpBFhi+C9w1YSo00I6RZ/g9vZpBf/QOr4GyRgkSKNSrAadsZqQGwCkuAWyRZJsySwvhZ7N/vhzrgbLH3Ld8597jlzz50zJokyxXH8DqDVar0qi6v8BbItqSGpEcfxdlmsFWXkvX8AfAVWg3UKPEnT9GKujMzsAFgZsVaCN1VTQd77XUnrgE1kv+6935268WRpzrnHZvYRWC7YvC3pRZZl3wozqtVqiyH9IgjAspkd1Gq1xUJQtVrdB9ZKIAOthdg/Qc65LUk7wNIMoCVJO865rYFhkqjX6/d7vV4GPJwBMqofURS5JEk6FYBer/eeYb/Mo9WwFnPOvQbeAvfuAAK4BN4sAJtAG/gJIElmNuiJyba3EGNmZiPeZuEVmVell/Y/6N+CzDn3AXhEOOo7Hv/3BeAz8IzQkMPnJbuPx1wC+yYJ7/0nYIP5S/0FHKdp+rwCEEXRS/rf5Hl1Gtb2M0iSpCOpCZzPATmX1EySpHMLAsiy7MjMDoHrGSDXZnaYZdnRwBh7J91utwmczAA6CbG3GgPleX4jqUH/a1CktqRGnuc3hSCAMB32gKspkCtgb3KCQMmkjeP4WNJThrNNZval1WptTIsv7JtQ4tmIdRa8qSoEpWl6YWZNoAN0zKxZNPehpLSBZv2t+Q0CJ9lLnARQLAAAAABJRU5ErkJggg==);background-repeat:no-repeat;background-position:center}.color-picker .type-policy .type-policy-arrow{display:block;width:100%;height:50%}.color-picker .selected-color{position:absolute;top:16px;left:8px;width:40px;height:40px;border:1px solid #a9a9a9;border-radius:50%}.color-picker .selected-color-background{width:40px;height:40px;border-radius:50%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAh0lEQVRYR+2W0QlAMQgD60zdfwOdqa8TmI/wQMr5K0I5bZLIzLOa2nt37VVVbd+dDx5obgCC3KBLwJ2ff4PnVidkf+ucIhw80HQaCLo3DMH3CRK3iFsmAWVl6hPNDwt8EvNE5q+YuEXcMgkonVM6SdyCoEvAnZ8v1Hjx817MilmxSUB5rdLJDycZgUAZUch/AAAAAElFTkSuQmCC)}.color-picker .saturation-lightness{direction:ltr;width:100%;height:130px;border:none;cursor:pointer;touch-action:manipulation;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOYAAACCCAYAAABSD7T3AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwksPWR6lgAAIABJREFUeNrtnVuT47gRrAHN+P//Or/61Y5wONZ7mZ1u3XAeLMjJZGZVgdKsfc5xR3S0RIIUW+CHzCpc2McYo7XGv3ex7UiZd57rjyzzv+v+33X/R/+3r/f7vR386Y+TvKNcf/wdhTLPcv9qU2wZd74uth0t1821jkIZLPcsI/6nWa4XvutquU0Z85mnx80S/ZzgpnLnOtHNt7/ofx1TKXcSNzN/7qbMQ3ju7rNQmMYYd/4s2j9aa+P+gGaMcZrb1M/tdrvf7/d2v99P9/t93O/3cbvdxu12G9frdVwul3E+n8c///nP+2+//Xb66aefxl//+tfx5z//2YK5Al2rgvf4UsbpdGrB52bAvArXpuzjmiqAVSGz5eDmGYXzhbAZmCrnmzddpUU+8Y1dAOYeXCtDUwVwV7YCGH6uAmyMcZ9l5vkUaBPGMUZ7/J5w/792/fvv9Xq93263dr/fTxPECeME8nK5jM/Pz/HTTz/dv337dvrll1/GP/7xj/G3v/1t/OUvfwkVswongjdOp9PzH3U3D3zmWGnZVXn4jCqs7wC2BKP4/8tAzkZsoWx6XrqeHZymvp4ABCBJhTQwKfDT8gzrZCIqi5AhiACjBfEB2rP8/X63MM7f6/V6v9/v7Xa7bYC83W7jcrlsVHIq5ffv30+//fbb+OWXX8ZPP/00/v73v4+ff/75JSvbeu+bL2WMMaFbAlpBNM85QX+ct6qoSqkPAwuQlBVKqGNFSUOAA3Bmu7gC5hNOd15nSwvAOUW7C4giUCV8Sgn5L9hNFIqTsp0GxI0ysioyjAjkY/tGJVEpz+fz+OWXX+7fv38//f777+Pbt2/j119/HT///PP49ddfx8fHRwrmTjV779EXu2px2xhjwtdJZQcAWQIPLPISsMJaSwiD8gzIKrwSyATE5j5nAbR5c1dBUwBlsEWW0h6LqiYsqFPAQxCyRZ3wOSARxmlXMX5k64pQfvv27f75+dk+Pj5OHx8f4/v37+Pbt2/jt99+G9++fRsfHx/jcrmUFLO31gYDWblxRIs/TqfT7ousxJsAxXA2Gc7TA9XdgfdoHbFsj76X2+1WArgI1ageGwA3qupqoHsmcbI6Fu93quggFa9d7LeDtgKfAFHBJ+NEByIkcJ5KervdTmhhGcgJJSZ5vn//fj+fz+18Pp8+Pz/H5+fnmGD+/vvv4/v37+Pj42N8fn6O2+1Ws7JjjP6wraMI5E4RZ8x2vV5TSwkquotV7/d7Tz6HFWsD/qNcdw0CQ3q/321c686TwDVIdbuy73zNldhSHb8I2klZznm+InBS4U6n0302aBFsLhHDAKJVJVglfI9jhvu53W53sLANYNxAiDA6MCeUHx8f9+v12i6XS7tcLqcZW57P5yeY8/fz83Ocz+fnsSmYUyknWEG85WBst9stzSLyMdfr9Qi08iY15UZ0LlDGLhR3o5zK2j7OPUTD0E+nU3tk7Xb/16NFbhloAMuY1zjLUOO3BKeIDe+Z8s3/J4gFo4TM5jPmuRg28foUKKVSwo16TgA5npywcWLHgYl/Pz8/73/605/ab7/91m63W7tcLie0sZj4mao5gTyfz88E0f1+j8EcYzwTPEG2cqjyfHNF0M8fuqEiaOVnRzZZQNh5fwQyHg/HDGfJo89Q1zb/quu5XC6773I2XKfTqd/v9+d3wuqWva/YTdUdEV3fhIv/Viyps6YE3x3r43K5bJQS66zaxVGFsvd+//j4aF+/fm3fv39vt9utff36tf3+++/tdrudvn37ZuNLBaaCMgUzC+rZRiFowxUuJI8YMqcCp9Opq5vagaYU6lGJA1XQqejchw6Cj0Gw5nYBrGw01A2O206n04BGouNNyTfp/FwElhUey6nXrIKw7QQWddxuN2ldL5fL839gSPF8ahu/JvBO48CPSuqMf8Vp9/P53L58+dLu93s7n8/tfr8/39/v9/b5+TkhPJ3P56mQ436/j+/fv+/iSgbzer0+AZx/5+88bv6OMda6S5z6kd21fYC9dxv7cIJJ2d9AOS30fPMzyHiTM8B4DF6XUlYHp4KQW3W+1t77MNB1vGHxWq7Xa7vf78+y5/N5A+H1et29xuP5dbYtyaRu4AksbPq6936fjRzXRxBbPr/b+b18+fKljTHaBBBfn8/n0/1+H1++fBnn8zm0sB8fH5u4cr5GuBhMVk0EEn9RsctgVhM+ixlJtMA23R8B6yysAstBOgFXIKKCMIgToMqNEu2fYMH7ztc732dQKkCj1ytAZtY0Kx8pIr8GGJ+AT3V+2Hirhl++fBmXy2Wz73w+b17P8p+fn8/tUwGVleVkTyUb68DkfayWY4zxNRihU4EpLJPZVrK+u7J4/mgfKqeLW9X2REWlItL1diynbDDb3+jXgYjQqn0rrxWc+NkILP7F7xIbMvx7vV53x40xnlbWJF12ZSag/N0pW6t+ZzmOMzHjajKwDfond78zYTdfq18up97zr2q8v3IioBprRtBl0EZ9og5WBRGOdOHjIjXF7UotFbgOWnXzIJyzYvjG5IYgsmMOxHkz8OsMSrVNWeq5T8DaOcbEv1Od5rbs9aO7YvMet63EkF++fMExq+MRl4/L5bLZN/+ez+fnZ6KazuMqXSQVO5spJXflHAIzes/xJseckRJiDMog9d6VfRrqXMr6KpVV27jRwJacGovOAM1zMdQMnwK1AubK63kdCChvI1C7g0z9nf/D+Xze2Vj8H7Gx4P9duQlsYCrqyN8XqG3Hm/10Oj3jw/n+crlstuM+jPmmxT2dTuPz83Pzt2pn1XsEHX/bnPaVqVmh0xwOt0o6XLLAHePUU203wHfcrspCwmV3TryB5s0Mseeg97x/BwzCjBlbB+pRAPla0BVQuT6V6QHdBlj3d0KG147b+DqxQeUymDO43W4dQar+TIjwmAd0z8/h65vf0/yLv3Pb5XLpru/ydDo9s7ET0I+Pj6dKK9VUEIeKWQWPAOrJ8LKd4vE+t91Y3e7UFlWatg2VwJnb+HPmtvm/sfK59/OaWF3x/eP1UPHvA5DDYDpYXfb0drv1V2DkBkxtw/tEWVVlXWdC9pFYs5/jfh9dS/16vW7s6lTG+TfqsxSJHxkXXq/Xdr1eu4LsfD6P3vsT3N77DkL+zPm5jSdKL4zR3AxQd6rHkLkYlSowsrq7znzu6wSwdsMJOXmA5fBcjxtgMGBYHlr5zokhtsMCTgXLQOW4XC6dEyEMprL8mAQzXRgduix2yZzorxkYsDn3hB1VeMLGsXsVtgl2pW8S3svk0vw7R4hNaHvv4cACl5HFzwIH0Kc6zu4XjDPR/jpAVxWzO1Xk2DDb3vTcxeGU1iWZHkmIDWziWKvirCJ4Dravs6IJ/GG6cTqWdXDy+fArQDVVkLqkVjAoZIITdmmIqXwqa95N3+MGYoZQdRVNO53Y1xRkhO16vY7eu507Ca9lJnbGpxOemQhSw/AQsmmp5zU9BiU8G6wvX76M6/U6Pj4+do0Bz4CpgiknTUeDqwlKBmg3u4OVjrZ1A+rAcgaejWq6eJCvCYFDONSwOgHX4EQRw8lxbzDOdEK6gZ3Hk1b+8g2o1JFtKXyv/fEdTXuWjWXdAZiBp6ADeDrCFiim7B6ZFneeI7Gvm/PMkUDX67W7xI8b0D7/v8dA9qfN5oaCf74WZjH0mf1cmfY1Y0JUFmVrTWu8uzkNcLtEj7u5FXBTkfC6GOA5q8YMxO8KVvF6sAVGdcrUbsKODcQKkLMOMdmlxum642YrPm26AlhZW1YB1R+rrGswE8TaYAWeUMxdf+WjwSvZ2Ef3ytOyfn5+PpVPAaqOn43MtNBqvmjjxbjM4lZjZY4gqNMI5ktaW/sYKNwS+9lFQzGihmMCKPa7+Z0V6Eb0GRmobtpX8JljWu5FMLN5ja6hG9kwQgZqf5+1NH5UxzkFReCdWhJ8XdlGUkxO7HRlYRm4mVO43W7ter12TPJEw/rmEN3L5SKHIWZg9mz+pUoKOYq5bJTJdX2gme1UcxMZQFaEQIlHct32M+Y1BzGkGuzfiyAN9z+ugplZ1symCrDCYYkGxDTpI9RzBy0rHyeDUC1nWaeUaD9n4xkNyYMBDZtzZ3B++fJlY21XFDOcARJlabOyiS3uCpLI9jrZjCDkaVvcCCjwognKShWdzXZWlZMvVTgD8LpqlCLrqgbcB+qYwrgKYpT0ccCqbKyCValkEabn/FynogCrPKfqf51xJ7sGB2ZXcZmxoSOztjx300DZi7a0/2AIR0UlBag9SuDw6KcAzlaB7vHZvWpjK90dyrq6bKyDUZQbR0B05biLQkHIcSUmgIK+SwuqgHCnoio2RQU1yj+BnBy9pphVKLGyC7ZzFK1pxWK+E8IhVCWLN/uLtnUU4ayoYLoaANz8FdtaSvY4pV0BEW2ls61czqllBKpTyKgMAhrZ1cdc1RROtPmvWNkdcKZ7ZKxaWjiPLJMpp7OZKxA+rqG/oJLjxf0pnJlqLoDZo3gyU0mKGys2taKecj/d1C+rJSplBqlTyAqgR+D8KjKlmRL2gtUcAdCtsL+ijCNT1oqqqkH2OHEbG5sDFnUg5Aa+yLou2VU1ptj1S2ZQqv1ORZN9IWzRfgaRBxKoBE8UWyqlJFtrIc0AxNjSjed99CTY/XDfSzCz5M0IZoVEsWnPFNTsl8ooVC1TzbGgqFZNDSgVwKK+1sGDMKqxZCWGVMDysiEr1jVSQJUYwj5iHOlThdHt44SQg9CN+nl8D90NMIgAdgr46JqRiR9I8vRdFvbr17m/yxUMKjNLMiVUADwu2CWGhhi+F55TWM9M9cogzms1dnM4uOF/LAEYWdcqnM7yFmyq3IfwmOROd7Y1iFWtOjoY8To41mTV5IysgFFuRzsbWFGbNIIJCDv1dOo4lZG7jWBwRFtVTKuWyeCByJKOan8oZ3ep9XddNl0tDuaywLz9cXPYeDAA0SpkBO9sbVcTOVWldPv4uyzEkzxHtjvonHoSkFEWNoo1d8DhcQputd2ppNon4BzoAiJ1hBFQg0dVtdbGHHDQWushmNEQukLM2QO1G2Y8bgTXqFhcBJj7EjPgcPts8US8qPpPB/dXznOh5Z438tzH5ec6QgrOKrRRfKmysBmUDB+PhYabMlVPER+GCSITTzr7am2tArH3bgcEzPJm+cr5jJ4NnHNFDVrFXcI5Le9k5Jnw+bedbV+FfRzZIHaOOaOsLY0/7UGs58DjrGwKMIMFIGzOEW1/jGsdAtCN6hEAI4hBe9YXeRROBSVPAVPAqvIM5bx5hVKWAMP6zBRy3iescridVdFBinBxXDnG2GRY2XbCvp1lhvGtO9Bxu5h908XQu42lnSArMFdizMim8uwRCxPGnnOS8lwpnbOiDqTAjsrRN/PcoAScCbaACqVM40ylnjjTBs+bwWlAG23/UKbdkiwKWIQPGzWaczpoSlxPEj822cNWkpS7FyzsDrqpfgpG3jahw2vgbaSQAxuLWZYt7JzyNe8JoZpNAcvDFOdw0wqYT9AK1rZz/DdbSlLPp0ryIxgQJlK9AZlEq7IOXpohg9PIhrCng88JsOxiV4ZWAYfg4sikx/8ky2Z9l862uqwrfscIH8+ugTmVGyiddeVYUgEMn4GZzg14EwIsh9sx2cKKiWXReuOE5gzGOQgdlRKVVdlevqb279Xq0Qnsts2VDaBO0coezsruWtHApu6sKG4IBhN0aGU2kLrMKGRTN3HmbCDwKV14zvkMEDG4QfZVspVlaNU2mhc5TEZ3N1h/zqTheuLpW05ZWTGVjb3dbnNmxKZBnN8JqidaVLKAOyARNLS+MB54Z2+VaqoMLKroVBlngefnTPAcoHNWCSvlfA8CI0HEmBNBnBlXyMrzU7A7WVm94PPqQ2gmqKx+WDGsnvilmcSOBJqOK1nYyAIzuAyesq3UdSK3KfWcYKD95HmfYOU3qser2CtYEUA+FpfqdNvgPBZUBhDrGONRVlQsh8rLcaUCykHG0OOUwTlLBrsh5soEMGezi1E4HRVt1icp5wZEFXdibCkG8Y8vX75sbO4E0iom9z+hjSiOfy3DhpXItpVhE+UGQdvoWjtChmrGHf4YAzKgBNnGtuJxFCeGdhUAfQLLK8kBYAP6gvFJZajMG3Xkycy8KuC0q4Eyymwtwdxdv2M0mIBtK0LKnf640j00Auq4gUkdWGlhs22qJc6dZCsL19oxnlTJG4SYVRIGpD8TPFBuM6OElbS1pldid4mGAyN6ZIupbC5bXJN9fdpbThSxLUaI8IG1XIYBxW3Tjs6KQosKcxfxcQmdnwRGM10GnFcCy2XYunLMyAkdgk4mePiczsLygthcBut6goOqS7YVFXADLjaosB6s6ofcZWAZSIRYqSUkizYwttYab3vUOQ9w2HRxIIg8WwRVeE68xi4UtL3zRphxplzwuZrcqYCq1I3jPI5dnJIygEohMbPqVJSzrwzxBJTs5zN+ReUSgxikPQVF3JVBeNQxbHENrEMNvEdFZVV9lH9+ORGEsNZQpyTNc4C3AG7XF4ngzq+DrO2zbuaaOXgdaFcdkEotoSFBVX2qJ0C8OWZeG4KGlpghA0XfTOPCqV2qqwQ26QWfF2PMLhI2w1lVAa2aPsYd0za25MQRwgcZN6uQDCi+ZxiD4XEM2kZxOT41FnZnaRlcpZouzlRqqdbQVWopQoSB58RV50lBNrHi/AwXS5LrwDVlpY3Fc3ByiYGc52Trist6kOXdwInAQtJpp5QchyaquYOV7Su+fxVMaV3dc0RE2S6mUY0gLt2pMcYqrKIQ9w2l1gpQUMtQYcmmbt5DTNxdhnUCjQqtbK9SUSzvrC0mmhhE1e2FS2+oxypy/ZASutkmtjx3vcBC24PX65nbqkBCRhfjS9kIYPnee8cMagVOhI/3T1fAmdtAWZsCswTJCkQVNa0qWKSKPOpHAUhD9DrbVcyoYkwqhvh17vYAayXLQyKGYdxlUDFp494rBXRjYgO17DDYetNIUj/ezp6S0lnlpEwsWmJMkOwsKXeZKEAjIHn0EQJISaRBcO6UMINz7p/bEjjnw4ft+xmDvksxX4G2rIris7qaeKwAFMP2Oi7n4criuZwtpSUwpfLxSnORSrIqusc5ZFaXysqRWjiZ2DyAWEIL35tVSoQElFACjOeGGSE7AHEQgdo/LSvCOgGBvkxsmDbvlS3Fp5vhaB2TAGqRKrKKMrhLVpaGzEVjZ0OQxDhaCTA+QyRR1d15aQzrJntL3RibsipjG6jlgL4yqbS0sNYg1e84vhbBVrElK64CUcWYXDfKxhpIuxiVJZUxsbMy/uRBKTNRQ4kQ3LdRYLS0rJjRPlTPqY6gdJsEDc+aQXAn+HgsNUCbRuF0Oj0zwnA7bWDkbhO5Ens00qeQhS1laBMl5M/cAaxsLF8rKyql+Tf7ELLEGu/ixiimdCvo0TjfpjKwaggen4eh5v7LokLKbLuyvHhcZG8dhGrEDx7Hg93ZppJF7qBqO3iVveXEDQNInzeoe8Yq6ePaZBZ2JviM3W2UAGotekRCAGq4EkF1X3DOnR11yRsBL1tRa0PVcZiNFXZ2c34FskvomInQQ6lzpJoZbJxk43NwKJFBquJSsrByHydxKOnTxQASBmS3j+JMnsHSla3Ec6K9VWoJVn9zfjwOM7hqYAAqJQwE2a3nA48J2QGegRkpZNivSY+ys3EkKd4oJIwsvIHl3cWgLt5k4NH6OmtLWdpurOkwEMupYc7eMtDRhOcI2ui5JhVIzXzLyto/GAPuZoyo8wkoduVgJglCt7OhGbgID4Mq4si+63zUS1FuFFXFlqyaj2emHlLMcBqYu0FMuR28BbB7lOxRMSiCQXFhCKuwkhZ+pYDiGSgbsKKV8MiSRsuHSIWM9rklRiIlZZuqXjsQK8ooYJMgq3JKWVkhHbhsVxFUzthOWPkYijcbx54IKsSdT+uLr3crGKyoYgFiGR9iBk4kfloUX+JIlQRQqabmpgnhqtpQpb6RVQ1WH5DnrS4hEoGZqaerQ2dhFbz8XePxShmDbo70eISjoorO2vK8SJXI4SUmEU4zWKDzUDtWTYw7xXlbSTEj4FRg7zKnKoGRALv0Gs9Tgc1BpCywGZRQAtqVz2xrBcAMzEpfZwFSa2G5W0QBFjSMapWAEFa3HcGN7CxDzECyIkJ97qwrqWNTWVo876PPsjPkj2wvgroM5lLZKMETKVql/CvnWVFiFa/SzJUQwkoZsr67Y6vlSRV3/2tmNTOY3vnaxYwMuoPKqdzR1w7IqHymlPxaAThfU7Ko2ZXYj4AYJHL+kNdKwRQYESTRa5fsUZ/rVC1TMTyWVyYoqNtuzaHsMyv2tvoarxdfqwYgU1axFo/cnql1FGsqK+uAROV8BX4GU8WcZTATi2q7Qcyi0O0V+GhWBMNRUkn8H1SsWVE5By3Gi0ECqUeJoBfAtDa4amkdXG37AGP5Ggeb84p7UazpoKRzdFzeQ8HkoHGxprKy/Hpm5t12p47J6xTYDEz7uINEXSuxYXvFskYAc+ySxH9sf5ftKzU6IbwVBcUGg5e5FMCEXSErZR0wGayV19woM9guPjTqJdVTqR4uE4nJnLldWVkECCZLd2VLF+xtamex7IpiriSDUpvrpn9lrwGMCHyppMH+ps6LILsuFGUj1XEOXiqbqSHPUKnClpWV68kqtURVNDY4TNaocykoYeTU5ngGEQa/S1DnnE4AeXMcKjHPAmFVjCBENaeyLVNHfr3px8xUstJ94hIpfH4HKE/eDaArK6lSyVVFbdt1gxTIVk3pppVlFXi4pEhVBTObquohU85MLXn1iahvUkHJjSCMc01tLFveVVBx0DodM6jftCu7DOtIzYxrc0qp1JGP2ayYFz2Gb6HvMrO8cnGtV6Gjm3uImSfD2GpWK6uowbZGMxFKQCo1pOMtcMXFpRst+hXGoAomF3sSTBGgTglbBKWwsQ3tZqaYSp0Z1CimRDWFcCJUPYJ00BI5FkKYNoifuQxmN88SWVXWLMaUqqqgC0BmQJR6sk3u9NCf6jYLXxAfqsYEgVLAhRY2AtgtflZNFmFyhxdrLkAdWlk4D88M2ixHyepIdhMHrG/iR1ZGtq0MGpbDbRPYOXeSY1M6Ny4ZstvGSktK+XbFPATj2D371saPEsAMXhXrsZ0km/XStkhhMyBfsa6uXFZe2VCe+YMr1+GKgwrQyNYq1VRrB+EizAow6NsdNKcyVEkYeM73ys6q4kAHp6BiFklTkIrVC5oYV7uzwOGCz4UJ0Stq2lWMJy4wtb+RetL6tZFicnJmBw5UjCvXXMZVJX2MQkbf+XN5EWd78Vz8/JEsMZTBiKNzsm1inLRUQ74H4NidaqI68j5sAFgxcRveC7ieLJXfQYxjZZ2CsiWFewZXJmBIlZ1tdtrX4hSuateKso/RZOtOKW2nmq1oTzeK6dRWAWu2NRVb4hq0SXm1GvtugHrbr5IXqmSktg5CuDE2MSlPwsY5kNE2Wp3AqiZbWVLAxiBF+2iBZbuNj6MB6rsMLC7FyasaYDyo7KkoPyEtw3pEMXfPvxAJi2jAQQgjrz0rLIZSWZlIoNhwd5xK4AR9mYNjWAaLrnuImJeBVN9zBORObVvbr+mTTfFSEJLSRnHo7hEJoIi8MFqjxmvgmF5URZz4zLFgZZ8Ctu2X7ggVccKm9gVxIsOHqxXgNMKnFWZYnf1dBnOhayXq17QwFlWW09eNKyVJFmXqaONGA5aCegMbJ3UUkGY1ic3nKWgjq8qfVYGQG1gRt6rs62a6HiqqUOqdesK5NmX4nGofJoiE1d0dF9lVVkvT1/kEEaaCoYOwFpcVcoLM+7669PxC9rWqktH0sWUYld0VCpuBZ/stVRcGgy9WX2+U1Qthi9SzAqSxzZsy+OiFzBYnySGV6Gku44rD8BCOZBV3BvD5+AKRHNwMEsB6EzHnJpkTAeiUlEGkcECeB6GDZTp5YEJTlvdrknxYjTllMkfNtXwDjM7uVjK5JXUUn43rrqpK2jytaxHW0M5G8DC8rtHMYs7KSgduVQMGTYFqFvVS6rkD3sDJ46afdYFwoq11AOKCBLhvwoUgc8IGANycR6knZrdJPdsuxnyjfd3FovTlRMdEdtOl5CMV5EHsXQBis7TOwvIDZaGj2Vnpbh7cpK63VwYEMLwqbjzyl699sawFFkF1yqjUU31HfC6sW1ZFVFuXVXVgz9keEaw0ys1lWfm+azQAQSWA+hKYVfsZjPncAcUB9oIayy/UZXRNckDGji77GsWbvBo6tPrWPqOyVkBUq+INeqpzNdYs/u0ifh5qmpqIW+33JVSUcwY70KL4U9lYdU6ljtSls7lmfi9g3YzeQfVkaGFaV3ODCnaD2N8wsEDFklE3RzM3ZghdYkWHsszq70FIecnKkVkt8ezMzRq9bkGuKojRLBVSod3Y1yPqKgYW7JRQTPVyy5xIYLjOgxgT52RKJUY1dOrIiRd4futQx/A5AcSmEjz0vFWrkLzvbWAu9HOWbGgxFk1VNTpnBKk6TgwisI/HcxYXP1uAWO72ULFlBTq+aSu2VTUs6hrxM2CF+hEor1VIA9ZmFUaab1lSSgZsVs4sxzHlVLoJHr9H4DhONTkI1XC0/wiY2NoWAG5RlnHFnq6oLccpQddMuJ/O17JVA5OHLi0BqCztq7Y1++ucCd98qLI8MIHBV/cKjxQTme3hFBS3MyCqnDsuym2o80HjvFFTtrURmNaGJsmVahImjTsUXKtQZTAVs7Mvv8/+fzUrZAXcLJ6M4koe6XP0b6SmWWNDzyUpQ8bl+LtWx4tuqZ36cRYV3yuVxPNwvIiqiQCSmu7srgTzR6nkyhpCarXwFy1vGd5iP2cY06lFr5Njhhg1Y6+NB28ftbK83s8rf7kLJbKwDFPbLg25a0AdZJEiqr5phixKMDlRUtcssq1hriLqGoH+zeNgVm9OemjsETV8JdF0NHnkIFxWY1OB4Yrp7rtWJ7NgAAAPXklEQVQ3oNs5nplyVf8u2FoLu1JrHveaZWQjqAkshtFa2gzsSG3Zpkbvg3HafF9slPPlldjFlK80Gysm8Mr4MPhneNWENPGjAIpmilTPATdTRTXlCBYHYAQuPwA36xIpWtGN4q3Y2MhiGsUpuSSnlEJRD8PorC7CFYVw+F51qThgabxsTxWzCGY0ZSsb3lfqAy0OPNjNy8xiQQKsHYFQ2HBZVvVbBuq3m1oWKajqaonsM6uZUr6CjXWNZ0l5E3h3jURma6kP3MJIiy1Lm+kahQq41N2iZja5sjtlLYNZHZrH6qUGm4vMbDp6Rw2CFmvuyFkrBcCyMtFqBaECmsHoK9BZ2LA/lJcRqSaDqnaWbrZdGaz3DLgIvBln4woGztbyJGqslwxkhhHrTjTYFXCtOoKS8uLdofVdAbOylGU6nlYpXWZts4nXBq6WxJitMNokHUJnbnJplQm+aGpY2a5GMV2QD1hRubBPFKdumf5OHkLHz0F9luE5kjBjRa0nFE5CUGqHw32MmjZ6xkgINVnSnZ1VZStK2qKlRaLlQgK7uTq7JFXJwM+3SOEKyhZNI+tJ0I5qMYy9k2qJD7dVWdqKXa0CKNR0Ccjg+B2IYu2fcBZJZkMFgM11r0X92wilghFGgzVnexlqB7xL9mS29SiYUVY2nXOZjNBRsyDsQPRWW5hrZ4XcdC4HVWRbjgJr4sFofK5SzjQ7rhI1UebdPdEbj6sqIvTZQZ5va08rABsAW0UxeWytAk7A2KJ9ZpxzCioB24XFtYAeXYxr6anSqhLgppEqWbGwLunTgrV+IjWlL29ljaAl4EQMGsErp4apeZiquwRXLXAqOCeru32mmydc6oWTSWpFAGdzeTB8RTHVMEtlM90CbbQCYhPjq3egYr1FGdYIQjiuDGZ5zZ/AzobKGOyLxti6c4Rwtv2anyWlLICnlLhxJRXt6A5ebDBWFNONbxWZ2d02mnu4S9YECpeppV1zSWRBWxHYzVIv1CXSouwqqX3jBBBDZdYQbpTQW4ZQlS8r5kH4suSRmg2++3JN10x1PaAmEkmtYlEdeGpJEM6kOuCqCR22oSujj5IV2HdT0zj5prLKTjXFAPjdQlyq7xIBxAQP5yMczG4VxAKw0n6ilZ2QBce2pLulkuxxqnoIzFfgqyqjil9S1VNwBrFmeyeops8yOjZUybZdfS8CuaTIJumzs5tODaNtLpFDQ/PcJGweLhmeL1nB0KqiUDScsiUVD89Di3HtrKtSULw3RLiygZD+7sF8JTObgYsrGvDNUFRGl1iy0Ll1YkUc2aJYMog920I8qW6YDCg1Mqk0JHJFKXkbgbRreI+qpYNOZHrVcDUba7pjsphSJNtK6upgRNAVoOS0mugBeN4bIZgHhuPZ/s1ENaX6KsVr+YNrh1Nb7ipR0PE5zbNRegCbrHRUw6Yf07dLBJl1f8KB9as2V1nNqAsl62LBBhehwalerkHmB1JFIEZKSEusdl5JQj1nJlHXSCF342gJ9CYGrXelknJIXqVP8sD+qtplCR3XH2qfKq0ygMp+KnVkKxNlZ8m2YkIlVMiCnXUwl7qznBKSvQz3m3Pt6oQbXO5b5FixCh/fHxUQW/AEcK6zCNqKQnL9sywqmKuwvqSYzT/aPVNNpVyhvRW21aqciCsjdWvBwILUvh5VyCzbWoC1pJjJ680CWsl+udKB6T5RwG1mlohnlpbg47iz5U9ha0FGtmRLFYBtO99y97Ap0z+ZDTAog6kSLZsMHg/IFkkgp6CpvU2U0cYVSdnmkjwBdOmXbxTWNWzuIbipMioVxEckZEoahSOiy2M3K0jcC1LhVDwaqG0ZvkcWqCnrG4GIxykrqlbWdw6LQyBaZR8HmLRIhQWsHswD42ZXVLNkf9l+FlW0HVQ2lwFsC/Z1FdzlQR0KaPfo+Fdfu+/dwVRICu1CGR7AEIiAhc+AZUF0kOBaPxmUqg4i64vQnU4nFDYJ9Nz+1fVXveH9qmr+kPILx8oKcRV/BFbxbE0JMT0kSD4w6L/lNY8ocsqagVdU3A3MjxhxcGuqzsPH4irpaow1q6OyrVjvp9Npc59E91LldboYVzJWdimWfAW2SNEKcDaX2FmBLLA/uKxlmhh613Is1URQApbKfttwxL02q6Onx5pQxSbPojAg+v5hAnN6LHVRDXIsvKtRjiS0qJUyZTAXVbAK82ElFJWaQdVoqUC1Unt7BVaTQudM6SuqexjQJN4+0icaxv/utbKv83ETbT8H8gjcOKxOJmbUa6OOVXht3dFY6rHv9XoNzFLceEA1o8+pKm0LAHPHZ2rYKjFq0hfZFixsqHJgD3eD5n+U0kb1mFjXkn2lvMSSOsNE/CdIAKF0Sytq6urOHUN5gwg4GZosgbmggM5ucra2qrS2Ig1cbiBBcxYzgzUDNLCvL8GbZXNp6ORy3LmS+Kk83zRIAK6A1ioKa2I9NapIuiUFdfC9766PFZUtqUr6KbWk+zZU1a/ZrIXEztrjTOfz7hwKziCeXIaraHtbZIMz+2pGgazCmw4qWAFvEdhodYp0Xq0pV7G1YWYWbO4qhGq42+Z8BYtrLWvluNPpZAeaFFS1vubPgbgxsqcpnAaszBovKaFoDQ8BGtjfUOl4NAG2nmQV04feJgumvX2fsrQEWZghL0JnVdYkn3DOZIeRN86RqPWCmsvGVqEMRnwxQAxwS8EMYo3IzmY2+BCcLp4MKiuyuhImamlbZFcNoNl7tp+RHd18ZjQIRKyXdFRhN98/hyKqwXWNo7O1wiaXoHN108REZZWEq6grnIfjzeg8jdRf1XEL4kkXa5bBjKxoKaljBjeHlVxQ4GaycpW4lDOAKtnTxHAtOfzOtZwHAM7sqVXkV6yu6kap1nHkXKqWF/4XHqjenNKqBjpR3l1ch3Ejg1+EsgdQhsdG0B4FM9sWAVWpuAyiwTPleZxt9VyZVS2qXfReWqTAilpr9ApoWTjxymit7NwV4JTriZyOA9B0k7HFfULourmKYHVnRQvqGL5HMHdqFcR2qWpmcK6eTwx2dipWrviDilr+fKWq3OWRWdHKwA4eu8wjchbeRzFilqjjZN3ufCpfkJ0/scVpnYk6L0PI77lxdWCZ87WiWm7B/AGquQSnujGKsB8CJmiJq8q1pKIVWyqOiTK66r18BN8r74/AE71fdC3yPS2MxdOpnE1tlVxD9JmVOoggN+r4PjAXVFPa3Eg5jVJGFVUGNolH20GVrUB7BOySWq6WqYQdWR92pcFMYMwckbSgCKCqD67DiiWu1g8MQC9ByfcFqW1L+jL714qNCuznoSxt0da2gtWN1G8F0BK0NN0nuimelUF9dIdAfjO44UT3CjQLoUeLHJFTO3gmpRuIIOvwBQCbqNeo3qtZ9iF6xVK13GRlo4zqimq+CGdTiR1uRY8oqgE02hZBa79kZXPMquxRHKla2saZWN4mRqZUj0vLCKhkjKnqOQHNuSZVJoKvAqS1wpEquvWDC1B2ypwrCPsRMEPVTODMLJMDv6qeKXwi2JYV5Sq4qKyvgGsHCLiuj2jR59V8gMqSJ2FJZRXEHVRHj3sFPrct6OpqlW1GpatQdt0GvwfM6n63InsGVFhJGaBqgqqIV6IsXllZgySPq4R3bnt3wi5cv+cN2yqQLW1T95KYVsWWtKk4cB9W53WQQflQYR6Wl4HaJZjvVE0D5yvq+RKgZCs5qdBEP5sD94cAvQLlSgNaSMAtHx88BuNQ41zdFsX30zKbcs0MLD/ihkpQzl0wiTqKLTfbKmCmyYICnK0IbaieC4CG9iSyLQ7cIMGQwau6TKoq60Apl3WN40LZpca1CKKK9VQyyIEn8w0F8F6CL2h8o3ixGwC7s7EWzCOqmcApYxYD4jsAzVS0sl2t98pA7vrKophCVSonbYpgH6mvSn24pTBV4sdtV3BtMq5k82y+IADvUJ0uAlkCVTxIaPm+UNu/qkV4F1TzHXCGrXIAqItBKypqK99VtAOVs64O4ObX7pHLVCpYHcRmwvLR7TvYAKBBN58LGVzDuFz+hQbWgncQyCZAk+VbsPSouf93261iZgmfCpwRbAvqmSqriU2PwhjaoOyYqtIegVXViTsmyta6bGySpY3gyRrpIyAeaWDDxtpsXwKyalMDKNP7YBXMqEskUsi2uC8FNAPxAKTVfT1o6VzM0E0jF+1rWcUuHvdyg7vgoFplX8HpvHpMCOMRUPHzZkInsqlFKNX/EIO52E0SxSzOwob2VmRLW5D1XIU0rbgM1AzWgyC7fe8G7xUAK/taEBat7luqtyP7EmsaJQOj5F+mrnZfCuYCfBUAWwShyd6pMY/vAHG1UqOYpbI/gy5T0CMKm+UO3gFuC85dgfDVeguPDfITrIBLsLrcgdh3CFgFZjaKJ4Iv3F8ANEqvuxR1tVKOgLoCa1jxboBAkj6v7j/icFbA7f4rfRnQDLRViG13i0vqBQrYVqBbADZT0ZpiHoSzvQpopKIFS3sE1HfBWlHXd0H7LnArqvougMtljHBgZnh3Eoz/BKjLML4Z2Aq0+hEJr9jaVUBbvNzCIUiroC7AWmmFw4o5AK3MtB5VypZMSFgs05JyGVwlwBqsEGAAa2ZU1CjUexXGsE4rKriilBvFzOKKo3AuAroE6QFQU3u8YpNXwS5k+1TZt5UrwouN4KiUEw+k3ZWDp1RXHNRqXb21Ts39945yZSg3VnZFNQ9CF3XeZyr5DgBXKiwCMa2MxeTDYXgP1Fsf9QNKZc0k81RJk3r6EQ3rCmBVyLL75EjZ1pIVDHoFtiOAHoB0BdTVylqBsKKKS+AeBXJVLY+CXASuGvO/Auq7GuEjDfGKg1oKa1z/dmmi9I9SUGNhl0AtfulHAawoYrnSkmNXAVuGEhrEVXvUF+A5Ct2PqNOjDetyna4CmeUolmeXLN4Aq7C5Sj10Q7yjgl+t6CNxSRHmI5X+CpwreYB3Qfdqna4q21KdBuc4GoZsn49ZOOiVinwHqK9WzjvgeweEh2AU5+vtxZ9Cd9Wqkh49V18E5oj6vVyn0RStAyGIO5edXRKd5B0VGVXq2yr3xYp+5Ut+C4QJ4P1N339pQMjRejj4vb/Dcr6rQc3O/0rjmtZpeYCBiCHfCemRbNhbK/pNUPc3wfKy5f2D7OlL3/uPhve/oU4T0F8f+VNM2vyoiv0jK+KHQfdHq+0bncz4oz73/+Y6LbKw1o/5B7eOf1Rl/0du9B9tn/9bvrf/j+v0h6ttn2tp/r/4819y4/zv5391uvzzfwDifz6phT1MPgAAAABJRU5ErkJggg==)}.color-picker .cp-add-color-button-class{position:absolute;display:inline;padding:0;margin:3px -3px;border:0;cursor:pointer;background:transparent}.color-picker .cp-add-color-button-class:hover{text-decoration:underline}.color-picker .cp-add-color-button-class:disabled{cursor:not-allowed;color:#999}.color-picker .cp-add-color-button-class:disabled:hover{text-decoration:none}.color-picker .cp-remove-color-button-class{position:absolute;top:-5px;right:-5px;display:block;width:10px;height:10px;border-radius:50%;cursor:pointer;text-align:center;background:#fff;box-shadow:1px 1px 5px #333}.color-picker .cp-remove-color-button-class:before{content:"x";position:relative;bottom:3.5px;display:inline-block;font-size:10px}.color-picker .eyedropper-icon{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);fill:#fff;mix-blend-mode:exclusion}\n'],encapsulation:2}),n})(),vre=(()=>{class n{constructor(e,i,r,s,a,u){this.injector=e,this.cfr=i,this.appRef=r,this.vcRef=s,this.elRef=a,this._service=u,this.dialogCreated=!1,this.ignoreChanges=!1,this.viewAttachedToAppRef=!1,this.cpWidth="230px",this.cpHeight="auto",this.cpToggle=!1,this.cpDisabled=!1,this.cpIgnoredElements=[],this.cpFallbackColor="",this.cpColorMode="color",this.cpCmykEnabled=!1,this.cpOutputFormat="auto",this.cpAlphaChannel="enabled",this.cpDisableInput=!1,this.cpDialogDisplay="popup",this.cpSaveClickOutside=!0,this.cpCloseClickOutside=!0,this.cpUseRootViewContainer=!1,this.cpPosition="auto",this.cpPositionOffset="0%",this.cpPositionRelativeToArrow=!1,this.cpOKButton=!1,this.cpOKButtonText="OK",this.cpOKButtonClass="cp-ok-button-class",this.cpCancelButton=!1,this.cpCancelButtonText="Cancel",this.cpCancelButtonClass="cp-cancel-button-class",this.cpEyeDropper=!1,this.cpPresetLabel="Preset colors",this.cpPresetColorsClass="cp-preset-colors-class",this.cpMaxPresetColorsLength=6,this.cpPresetEmptyMessage="No colors added",this.cpPresetEmptyMessageClass="preset-empty-message",this.cpAddColorButton=!1,this.cpAddColorButtonText="Add color",this.cpAddColorButtonClass="cp-add-color-button-class",this.cpRemoveColorButtonClass="cp-remove-color-button-class",this.cpArrowPosition=0,this.cpInputChange=new o.vpe(!0),this.cpToggleChange=new o.vpe(!0),this.cpSliderChange=new o.vpe(!0),this.cpSliderDragEnd=new o.vpe(!0),this.cpSliderDragStart=new o.vpe(!0),this.colorPickerOpen=new o.vpe(!0),this.colorPickerClose=new o.vpe(!0),this.colorPickerCancel=new o.vpe(!0),this.colorPickerSelect=new o.vpe(!0),this.colorPickerChange=new o.vpe(!1),this.cpCmykColorChange=new o.vpe(!0),this.cpPresetColorsChange=new o.vpe(!0)}handleClick(){this.inputFocus()}handleFocus(){this.inputFocus()}handleInput(e){this.inputChange(e)}ngOnDestroy(){null!=this.cmpRef&&(this.viewAttachedToAppRef&&this.appRef.detachView(this.cmpRef.hostView),this.cmpRef.destroy(),this.cmpRef=null,this.dialog=null)}ngOnChanges(e){e.cpToggle&&!this.cpDisabled&&(e.cpToggle.currentValue?this.openDialog():e.cpToggle.currentValue||this.closeDialog()),e.colorPicker&&(this.dialog&&!this.ignoreChanges&&("inline"===this.cpDialogDisplay&&this.dialog.setInitialColor(e.colorPicker.currentValue),this.dialog.setColorFromString(e.colorPicker.currentValue,!1),this.cpUseRootViewContainer&&"inline"!==this.cpDialogDisplay&&this.cmpRef.changeDetectorRef.detectChanges()),this.ignoreChanges=!1),(e.cpPresetLabel||e.cpPresetColors)&&this.dialog&&this.dialog.setPresetConfig(this.cpPresetLabel,this.cpPresetColors)}openDialog(){if(this.dialogCreated)this.dialog&&this.dialog.openDialog(this.colorPicker);else{let e=this.vcRef;if(this.dialogCreated=!0,this.viewAttachedToAppRef=!1,this.cpUseRootViewContainer&&"inline"!==this.cpDialogDisplay){const s=this.injector.get(this.appRef.componentTypes[0],o.zs3.NULL);s!==o.zs3.NULL?e=s.vcRef||s.viewContainerRef||this.vcRef:this.viewAttachedToAppRef=!0}const i=this.cfr.resolveComponentFactory(_re);if(this.viewAttachedToAppRef)this.cmpRef=i.create(this.injector),this.appRef.attachView(this.cmpRef.hostView),document.body.appendChild(this.cmpRef.hostView.rootNodes[0]);else{const r=o.zs3.create({providers:[],parent:e.injector});this.cmpRef=e.createComponent(i,0,r,[])}this.cmpRef.instance.setupDialog(this,this.elRef,this.colorPicker,this.cpWidth,this.cpHeight,this.cpDialogDisplay,this.cpFallbackColor,this.cpColorMode,this.cpCmykEnabled,this.cpAlphaChannel,this.cpOutputFormat,this.cpDisableInput,this.cpIgnoredElements,this.cpSaveClickOutside,this.cpCloseClickOutside,this.cpUseRootViewContainer,this.cpPosition,this.cpPositionOffset,this.cpPositionRelativeToArrow,this.cpPresetLabel,this.cpPresetColors,this.cpPresetColorsClass,this.cpMaxPresetColorsLength,this.cpPresetEmptyMessage,this.cpPresetEmptyMessageClass,this.cpOKButton,this.cpOKButtonClass,this.cpOKButtonText,this.cpCancelButton,this.cpCancelButtonClass,this.cpCancelButtonText,this.cpAddColorButton,this.cpAddColorButtonClass,this.cpAddColorButtonText,this.cpRemoveColorButtonClass,this.cpEyeDropper,this.elRef,this.cpExtraTemplate),this.dialog=this.cmpRef.instance,this.vcRef!==e&&this.cmpRef.changeDetectorRef.detectChanges()}}closeDialog(){this.dialog&&"popup"===this.cpDialogDisplay&&this.dialog.closeDialog()}cmykChanged(e){this.cpCmykColorChange.emit(e)}stateChanged(e){this.cpToggleChange.emit(e),e?this.colorPickerOpen.emit(this.colorPicker):this.colorPickerClose.emit(this.colorPicker)}colorChanged(e,i=!0){this.ignoreChanges=i,this.colorPickerChange.emit(e)}colorSelected(e){this.colorPickerSelect.emit(e)}colorCanceled(){this.colorPickerCancel.emit()}inputFocus(){const e=this.elRef.nativeElement,i=this.cpIgnoredElements.filter(r=>r===e);!this.cpDisabled&&!i.length&&(typeof document<"u"&&e===document.activeElement?this.openDialog():this.dialog&&this.dialog.show?this.closeDialog():this.openDialog())}inputChange(e){this.dialog?this.dialog.setColorFromString(e.target.value,!0):(this.colorPicker=e.target.value,this.colorPickerChange.emit(this.colorPicker))}inputChanged(e){this.cpInputChange.emit(e)}sliderChanged(e){this.cpSliderChange.emit(e)}sliderDragEnd(e){this.cpSliderDragEnd.emit(e)}sliderDragStart(e){this.cpSliderDragStart.emit(e)}presetColorsChanged(e){this.cpPresetColorsChange.emit(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.zs3),o.Y36(o._Vd),o.Y36(o.z2F),o.Y36(o.s_b),o.Y36(o.SBq),o.Y36(PN))},n.\u0275dir=o.lG2({type:n,selectors:[["","colorPicker",""]],hostBindings:function(e,i){1&e&&o.NdJ("click",function(){return i.handleClick()})("focus",function(){return i.handleFocus()})("input",function(s){return i.handleInput(s)})},inputs:{colorPicker:"colorPicker",cpWidth:"cpWidth",cpHeight:"cpHeight",cpToggle:"cpToggle",cpDisabled:"cpDisabled",cpIgnoredElements:"cpIgnoredElements",cpFallbackColor:"cpFallbackColor",cpColorMode:"cpColorMode",cpCmykEnabled:"cpCmykEnabled",cpOutputFormat:"cpOutputFormat",cpAlphaChannel:"cpAlphaChannel",cpDisableInput:"cpDisableInput",cpDialogDisplay:"cpDialogDisplay",cpSaveClickOutside:"cpSaveClickOutside",cpCloseClickOutside:"cpCloseClickOutside",cpUseRootViewContainer:"cpUseRootViewContainer",cpPosition:"cpPosition",cpPositionOffset:"cpPositionOffset",cpPositionRelativeToArrow:"cpPositionRelativeToArrow",cpOKButton:"cpOKButton",cpOKButtonText:"cpOKButtonText",cpOKButtonClass:"cpOKButtonClass",cpCancelButton:"cpCancelButton",cpCancelButtonText:"cpCancelButtonText",cpCancelButtonClass:"cpCancelButtonClass",cpEyeDropper:"cpEyeDropper",cpPresetLabel:"cpPresetLabel",cpPresetColors:"cpPresetColors",cpPresetColorsClass:"cpPresetColorsClass",cpMaxPresetColorsLength:"cpMaxPresetColorsLength",cpPresetEmptyMessage:"cpPresetEmptyMessage",cpPresetEmptyMessageClass:"cpPresetEmptyMessageClass",cpAddColorButton:"cpAddColorButton",cpAddColorButtonText:"cpAddColorButtonText",cpAddColorButtonClass:"cpAddColorButtonClass",cpRemoveColorButtonClass:"cpRemoveColorButtonClass",cpArrowPosition:"cpArrowPosition",cpExtraTemplate:"cpExtraTemplate"},outputs:{cpInputChange:"cpInputChange",cpToggleChange:"cpToggleChange",cpSliderChange:"cpSliderChange",cpSliderDragEnd:"cpSliderDragEnd",cpSliderDragStart:"cpSliderDragStart",colorPickerOpen:"colorPickerOpen",colorPickerClose:"colorPickerClose",colorPickerCancel:"colorPickerCancel",colorPickerSelect:"colorPickerSelect",colorPickerChange:"colorPickerChange",cpCmykColorChange:"cpCmykColorChange",cpPresetColorsChange:"cpPresetColorsChange"},exportAs:["ngxColorPicker"],features:[o.TTD]}),n})(),bre=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[PN],imports:[or]}),n})();function wre(n,t){if(1&n&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Oqu(e.getNameError())}}function xre(n,t){1&n&&(o.ynx(0),o.TgZ(1,"h5")(2,"i"),o._uU(3,"No characters created yet."),o.qZA()(),o.BQk())}const Cre=function(){return["#2889e9","#7fe1df","#e920e9","#b3eda0","#fff500","#ec4040"]};function Dre(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",21)(1,"mat-form-field")(2,"input",22),o.NdJ("ngModelChange",function(r){const a=o.CHM(e).$implicit;return o.KtG(a.name=r)})("keydown",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.onType())}),o.qZA()(),o.TgZ(3,"div",10)(4,"input",23),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.onType())})("colorPickerChange",function(r){const a=o.CHM(e).$implicit;return o.KtG(a.color=r)}),o.qZA()(),o.TgZ(5,"button",24),o.NdJ("click",function(){const s=o.CHM(e).index,a=o.oxw();return o.KtG(a.deletePerson(s))}),o.TgZ(6,"mat-icon"),o._uU(7,"delete"),o.qZA()()()}if(2&n){const e=t.$implicit;o.xp6(2),o.Q6J("ngModel",e.name),o.xp6(2),o.Udp("width","20px")("height","20px")("border-radius","5px")("background",e.color),o.Q6J("colorPicker",e.color)("cpOutputFormat","hex")("cpPresetColors",o.DdM(12,Cre))}}const Sre=function(){return["#2889e9","#e920e9","#b3eda0","#fff500","rgb(236,64,64)"]};let Ere=(()=>{class n{constructor(e,i,r,s){if(this.data=e,this.downloadHandler=i,this.uploadHandler=r,this.snackbar=s,this.defaultColor="#2889e9",this.acceptedFiles=".json",this.characters=[],this.backUpPersons=[],this.color=this.defaultColor,this.isDirty=!1,this.data)for(let a of this.data){const u={name:a.name,color:a.color};this.characters.push(u),this.backUpPersons.push(u)}else this.characters=[];this.personForm=new Io({name:new vr("",[Ao.required,Ao.pattern(/^[A-Za-z\u0391-\u03a9\u03b1-\u03c9\u0386-\u038f\u03ac-\u03ce0-9\s]*$/)])})}addPerson(){this.personForm.value.name&&(this.characters.push({name:this.personForm.value.name,color:this.color}),this.personForm.controls.name.setValue(""),this.color=this.defaultColor,this.personForm.reset(),this.isDirty=!0)}getNameError(){return this.personForm.get("name")?.hasError("required")?"This field is required":this.personForm.get("name")?.hasError("pattern")?"Field's format is not supported":void 0}onType(){this.isDirty=!0}exportActors(){this.characters.length>0?this.downloadHandler.exportAllActors(this.characters):this.snackbar.open("You have not created any actors yet","OK",{duration:3e3})}importActors(e){let i=e.target.files[0];if(i){const r=new FileReader;r.onload=s=>{const a=s.target.result;"json"===i.name.split(".")[1]?(this.characters=this.uploadHandler.importActorsFromFile(a),this.isDirty=!0):this.snackbar.open("This file is not supported","OK",{duration:3e3})},r.readAsText(i)}}deletePerson(e){this.characters.splice(e,1),this.isDirty=!0}resetCharacters(){this.characters=[...this.backUpPersons]}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(ll),o.Y36(ON),o.Y36(RN),o.Y36(Sa))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-person-creation-dialog"]],decls:46,vars:20,consts:[["mat-dialog-title","",1,"title-dialog-header"],[1,"export-import-btn"],["mat-mini-fab","","color","primary","matTooltip","Import actors",3,"click"],["hidden","hidden","id","uploadFile","type","file",3,"accept","change"],["uploadFile",""],["mat-mini-fab","","color","primary","matTooltip","Export actors",3,"click"],[1,"mat-typography"],[1,"input-container",3,"formGroup"],["matInput","","formControlName","name","type","text"],[4,"ngIf"],["matTooltip","Choose color for the character",1,"color-picker-wrapper"],[1,"select-color-picker",3,"colorPicker","cpPresetColors","colorPickerChange"],["mat-raised-button","","color","primary","matTooltip","Click to add new character",1,"add-person-btn",3,"disabled","click"],[1,"add-icon"],[1,"char-btn-wrapper"],[1,"saved-characters-wrappers"],["class","input-container created",4,"ngFor","ngForOf"],[1,"btn-options"],["align","end"],["mat-raised-button","","color","warn",3,"mat-dialog-close","click"],["mat-raised-button","","color","primary",3,"disabled","mat-dialog-close"],[1,"input-container","created"],["matInput","",3,"ngModel","ngModelChange","keydown"],[1,"select-color-picker",3,"colorPicker","cpOutputFormat","cpPresetColors","click","colorPickerChange"],["mat-icon-button","","matTooltip","Delete the character",1,"delete-person-btn",3,"click"]],template:function(i,r){if(1&i){const s=o.EpF();o.TgZ(0,"main")(1,"h2",0)(2,"span"),o._uU(3,"Manage Characters/Voice Actors"),o.qZA(),o.TgZ(4,"div",1)(5,"button",2),o.NdJ("click",function(){o.CHM(s);const u=o.MAs(9);return o.KtG(u.click())}),o.TgZ(6,"mat-icon"),o._uU(7,"file_upload"),o.qZA()(),o.TgZ(8,"input",3,4),o.NdJ("change",function(u){return r.importActors(u)}),o.qZA(),o.TgZ(10,"button",5),o.NdJ("click",function(){return r.exportActors()}),o.TgZ(11,"mat-icon"),o._uU(12,"file_download"),o.qZA()()()(),o.TgZ(13,"mat-dialog-content",6)(14,"h3"),o._uU(15,"Assign a person to a subtitle to help you recognize who it is voiced by. You can also choose color in order to distinguish your character"),o.qZA(),o.TgZ(16,"h3"),o._uU(17,"You can also export all your actors that you have created in a JSON file. Or you can import them from a JSON file."),o.qZA()(),o.TgZ(18,"div",7)(19,"mat-form-field")(20,"mat-label"),o._uU(21,"Enter your character's name"),o.qZA(),o._UZ(22,"input",8),o.YNc(23,wre,2,1,"mat-error",9),o.qZA(),o.TgZ(24,"label"),o._uU(25,"Color:"),o.qZA(),o.TgZ(26,"div",10)(27,"input",11),o.NdJ("colorPickerChange",function(u){return r.color=u}),o.qZA()(),o.TgZ(28,"button",12),o.NdJ("click",function(){return r.addPerson()}),o.TgZ(29,"mat-icon",13),o._uU(30,"add"),o.qZA(),o.TgZ(31,"span"),o._uU(32,"Add"),o.qZA()()(),o.TgZ(33,"div",14)(34,"div",15)(35,"mat-dialog-content",6)(36,"h3"),o._uU(37,"Your characters/voice actors:"),o.qZA(),o.YNc(38,xre,4,0,"ng-container",9),o.qZA(),o.YNc(39,Dre,8,13,"div",16),o.qZA(),o.TgZ(40,"div",17)(41,"mat-dialog-actions",18)(42,"button",19),o.NdJ("click",function(){return r.resetCharacters()}),o._uU(43,"Cancel"),o.qZA(),o.TgZ(44,"button",20),o._uU(45,"Save"),o.qZA()()()()()}if(2&i){let s,a;o.xp6(8),o.Q6J("accept",r.acceptedFiles),o.xp6(10),o.Q6J("formGroup",r.personForm),o.xp6(5),o.Q6J("ngIf",null==(s=r.personForm.get("name"))?null:s.invalid),o.xp6(4),o.Udp("width","20px")("height","20px")("border-radius","5px")("background",r.color),o.Q6J("colorPicker",r.color)("cpPresetColors",o.DdM(19,Sre)),o.xp6(1),o.Q6J("disabled",null==(a=r.personForm.get("name"))?null:a.invalid),o.xp6(10),o.Q6J("ngIf",0===r.characters.length),o.xp6(1),o.Q6J("ngForOf",r.characters),o.xp6(3),o.Q6J("mat-dialog-close",null),o.xp6(2),o.Q6J("disabled",!r.isDirty)("mat-dialog-close",r.characters)}},dependencies:[Fi,Vn,Rs,fa,Fm,el,cs,Mr,Ps,ds,Hl,Lr,Xg,tC,Qo,Pd,_s,ms,Wo,Ko,gs,vre],styles:[".title-dialog-header[_ngcontent-%COMP%]{display:flex;margin-top:15px;justify-content:space-between}.export-import-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}.input-container[_ngcontent-%COMP%]{padding-left:24px;padding-right:5px;gap:25px;display:flex;align-items:center}.input-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin-bottom:8px}  .mat-mdc-form-field-subscript-wrapper{display:none}  .mat-mdc-form-field{flex-grow:1}.mdc-dialog__actions[_ngcontent-%COMP%]{padding-top:16px}.add-person-btn[_ngcontent-%COMP%]{border-radius:25px}.add-icon[_ngcontent-%COMP%]{margin-bottom:2px}.delete-person-btn[_ngcontent-%COMP%]:hover{color:red}.select-color-picker[_ngcontent-%COMP%]:hover{cursor:pointer}.char-btn-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:auto}.saved-characters-wrappers[_ngcontent-%COMP%]{flex-grow:1;max-height:400px;overflow-y:auto}.btn-options[_ngcontent-%COMP%]{margin-top:10px}"]})}return n})(),Tre=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-unsaved-changes-dialog"]],decls:10,vars:2,consts:[["mat-dialog-title",""],[1,"mat-typography"],["align","end"],["mat-raised-button","","color","primary","cdkFocusInitial","",3,"mat-dialog-close"],["mat-raised-button","","color","warn",3,"mat-dialog-close"]],template:function(i,r){1&i&&(o.TgZ(0,"h2",0),o._uU(1,"Save your Subtitles!"),o.qZA(),o.TgZ(2,"mat-dialog-content",1)(3,"h3"),o._uU(4,"Generating a speech will navigate you to a different Page. Before you leave this page, make sure you have saved your changes to not lose your progress."),o.qZA()(),o.TgZ(5,"mat-dialog-actions",2)(6,"button",3),o._uU(7,"Cancel"),o.qZA(),o.TgZ(8,"button",4),o._uU(9,"Generate Speech"),o.qZA()()),2&i&&(o.xp6(6),o.Q6J("mat-dialog-close",!1),o.xp6(2),o.Q6J("mat-dialog-close",!0))},dependencies:[Lr,ms,Wo,Ko,gs]})}return n})(),Are=(()=>{class n{constructor(e){this.data=e}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(ll))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-confirmation-modal"]],decls:20,vars:4,consts:[["mat-dialog-title",""],[1,"mat-typography"],[2,"display","flex"],["matInput","","readonly","",3,"value"],["align","end"],["mat-button","",3,"mat-dialog-close"],["color","primary","mat-button","",3,"mat-dialog-close"]],template:function(i,r){1&i&&(o.TgZ(0,"h2",0),o._uU(1,"ChatGPT Action Preview"),o.qZA(),o.TgZ(2,"mat-dialog-content",1)(3,"h3"),o._uU(4,"Make sure you are satisfied with the new sentence provided by ChatGPT."),o.qZA(),o.TgZ(5,"div",2)(6,"mat-form-field")(7,"mat-label"),o._uU(8,"Current Text"),o.qZA(),o._UZ(9,"input",3),o.qZA()(),o.TgZ(10,"div",2)(11,"mat-form-field")(12,"mat-label"),o._uU(13,"ChatGPT Generated Text"),o.qZA(),o._UZ(14,"input",3),o.qZA()()(),o.TgZ(15,"mat-dialog-actions",4)(16,"button",5),o._uU(17,"Cancel"),o.qZA(),o.TgZ(18,"button",6),o._uU(19,"CONFIRM"),o.qZA()()),2&i&&(o.xp6(9),o.Q6J("value",r.data.current_text),o.xp6(5),o.Q6J("value",r.data.new_text),o.xp6(2),o.Q6J("mat-dialog-close",!1),o.xp6(2),o.Q6J("mat-dialog-close",!0))},dependencies:[Rs,fa,el,Lr,ms,Wo,Ko,gs],styles:[".mat-mdc-form-field{flex-grow:1}"]})}return n})(),Bz=(()=>{class n{constructor(){this.loadingSubject=new E(!1),this.loading$=this.loadingSubject.asObservable()}setLoading(e){this.loadingSubject.next(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ire=(()=>{class n{constructor(e){this.loadingService=e,this.loading=new E(null),this.loadingService.loading$.subscribe(i=>{this.loading.next(i)})}onClickToCreateBatch(){this.loadingService.setLoading(!0)}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(Bz))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-batch-dialog-modal"]],decls:18,vars:4,consts:[["mat-dialog-title",""],[1,"mat-typography"],[1,"input-container"],["matInput","","type","number",3,"min"],["interval",""],["align","end"],["mat-raised-button","","color","warn",3,"mat-dialog-close"],["mat-raised-button","","color","primary",3,"disabled","mat-dialog-close","click"]],template:function(i,r){if(1&i&&(o.TgZ(0,"h2",0),o._uU(1,"Batch Dialog Creation Configuration"),o.qZA(),o.TgZ(2,"mat-dialog-content",1)(3,"h3"),o._uU(4,"Set an interval in seconds for dialog box creation."),o.qZA(),o.TgZ(5,"h5"),o._uU(6,"*Note that if the video duration is big and the interval number is small enough it can cause heavy delay creating a lot of dialog boxes"),o.qZA()(),o.TgZ(7,"div",2)(8,"mat-form-field")(9,"mat-label"),o._uU(10,"Set Interval"),o.qZA(),o._UZ(11,"input",3,4),o.qZA()(),o.TgZ(13,"mat-dialog-actions",5)(14,"button",6),o._uU(15,"Cancel"),o.qZA(),o.TgZ(16,"button",7),o.NdJ("click",function(){return r.onClickToCreateBatch()}),o._uU(17,"Create"),o.qZA()()),2&i){const s=o.MAs(12);o.xp6(11),o.Q6J("min",1),o.xp6(3),o.Q6J("mat-dialog-close",null),o.xp6(2),o.Q6J("disabled",""==s.value||+s.value<=0)("mat-dialog-close",s.value)}},dependencies:[Rs,fa,el,Lr,ms,Wo,Ko,gs],styles:[".input-container[_ngcontent-%COMP%]{display:flex}.input-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;padding-left:25px;padding-right:25px;width:80%}"]})}return n})();const kre=["input"],Mre=["label"],Rre=["*"],Ore=new o.OlP("mat-checkbox-default-options",{providedIn:"root",factory:Vz});function Vz(){return{color:"accent",clickAction:"check-indeterminate"}}const Pre={provide:pa,useExisting:(0,o.Gpc)(()=>Hz),multi:!0};class Fre{}let Nre=0;const Uz=Vz(),Lre=KD(Sm(Em(kf(class{constructor(n){this._elementRef=n}}))));let Bre=(()=>{class n extends Lre{get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(e){this._required=Nt(e)}constructor(e,i,r,s,a,u,f){super(i),this._changeDetectorRef=r,this._ngZone=s,this._animationMode=u,this._options=f,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new o.vpe,this.indeterminateChange=new o.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||Uz,this.color=this.defaultColor=this._options.color||Uz.color,this.tabIndex=parseInt(a)||0,this.id=this._uniqueId=`${e}${++Nre}`}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(e){const i=Nt(e);i!=this.checked&&(this._checked=i,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const i=Nt(e);i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const i=e!=this._indeterminate;this._indeterminate=Nt(e),i&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_transitionCheckState(e){let i=this._currentCheckState,r=this._getAnimationTargetElement();if(i!==e&&r&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);const s=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(s)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const e=this._options?.clickAction;this.disabled||"noop"===e?!this.disabled&&"noop"===e&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==e&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(e){e.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(e,i){if("NoopAnimations"===this._animationMode)return"";switch(e){case 0:if(1===i)return this._animationClasses.uncheckedToChecked;if(3==i)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===i?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===i?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===i?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(e){const i=this._inputElement;i&&(i.nativeElement.indeterminate=e)}}return n.\u0275fac=function(e){o.$Z()},n.\u0275dir=o.lG2({type:n,viewQuery:function(e,i){if(1&e&&(o.Gf(kre,5),o.Gf(Mre,5),o.Gf(ks,5)),2&e){let r;o.iGM(r=o.CRH())&&(i._inputElement=r.first),o.iGM(r=o.CRH())&&(i._labelElement=r.first),o.iGM(r=o.CRH())&&(i.ripple=r.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[o.qOj]}),n})(),Hz=(()=>{class n extends Bre{constructor(e,i,r,s,a,u){super("mat-mdc-checkbox-",e,i,r,s,a,u),this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"}}focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(e){const i=new Fre;return i.source=this,i.checked=e,i}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_onInputClick(){super._handleInputClick()}_onTouchTargetClick(){super._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(e){e.target&&this._labelElement.nativeElement.contains(e.target)&&e.stopPropagation()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(o.R0b),o.$8M("tabindex"),o.Y36(o.QbO,8),o.Y36(Ore,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-mdc-checkbox"],hostVars:12,hostBindings:function(e,i){2&e&&(o.Ikx("id",i.id),o.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mdc-checkbox--disabled",i.disabled)("mat-mdc-checkbox-disabled",i.disabled)("mat-mdc-checkbox-checked",i.checked))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[o._Bn([Pre]),o.qOj],ngContentSelectors:Rre,decls:15,vars:19,consts:[[1,"mdc-form-field",3,"click"],[1,"mdc-checkbox"],["checkbox",""],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","indeterminate","disabled","id","required","tabIndex","blur","click","change"],["input",""],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[3,"for"],["label",""]],template:function(e,i){if(1&e&&(o.F$t(),o.TgZ(0,"div",0),o.NdJ("click",function(s){return i._preventBubblingFromLabel(s)}),o.TgZ(1,"div",1,2)(3,"div",3),o.NdJ("click",function(){return i._onTouchTargetClick()}),o.qZA(),o.TgZ(4,"input",4,5),o.NdJ("blur",function(){return i._onBlur()})("click",function(){return i._onInputClick()})("change",function(s){return i._onInteractionEvent(s)}),o.qZA(),o._UZ(6,"div",6),o.TgZ(7,"div",7),o.O4$(),o.TgZ(8,"svg",8),o._UZ(9,"path",9),o.qZA(),o.kcU(),o._UZ(10,"div",10),o.qZA(),o._UZ(11,"div",11),o.qZA(),o.TgZ(12,"label",12,13),o.Hsn(14),o.qZA()()),2&e){const r=o.MAs(2);o.ekj("mdc-form-field--align-end","before"==i.labelPosition),o.xp6(4),o.ekj("mdc-checkbox--selected",i.checked),o.Q6J("checked",i.checked)("indeterminate",i.indeterminate)("disabled",i.disabled)("id",i.inputId)("required",i.required)("tabIndex",i.tabIndex),o.uIk("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby)("name",i.name)("value",i.value),o.xp6(7),o.Q6J("matRippleTrigger",r)("matRippleDisabled",i.disableRipple||i.disabled)("matRippleCentered",!0),o.xp6(1),o.Q6J("for",i.inputId)}},dependencies:[ks],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size, 48px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);width:var(--mdc-checkbox-state-layer-size, 48px);height:var(--mdc-checkbox-state-layer-size, 48px)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color, rgba(0, 0, 0, 0.38));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color, rgba(0, 0, 0, 0.38))}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color, #fff)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color, #fff)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, #fff)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, #fff)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786{0%{border-color:var(--mdc-checkbox-unselected-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786))}100%{border-color:var(--mdc-checkbox-unselected-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}}.mat-mdc-checkbox .mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-FF018786FF01878600000000FF018786{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-FF018786FF01878600000000FF018786{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786))}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}}.mat-mdc-checkbox .mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF018786FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF018786FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-FF018786FF01878600000000FF018786{0%{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-FF018786FF01878600000000FF018786{0%,80%{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786))}100%{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}}.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF018786FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF018786FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786))}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}}.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px) / 2)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2);width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px)}.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control:not([disabled])~.mdc-checkbox__ripple{opacity:.04;transform:scale(1);transition:opacity 80ms 0 cubic-bezier(0, 0, 0.2, 1),transform 80ms 0 cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:not([disabled]):focus~.mdc-checkbox__ripple{opacity:.16}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__native-control:focus:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, black)}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})(),Gz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),Hre=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Mn,Mm,Gz,Mn,Gz]}),n})(),Gre=(()=>{class n{constructor(e){if(this.subName=e,this.srtChecked=!1,this.sbvChecked=!1,this.atLeastOne=!1,this.returnValue="",this.typeForm=new Io({srt:new vr(!1),sbv:new vr(!1)}),e){switch(this.format=e.split(".")[1],this.format){case"srt":this.typeForm.controls.srt.setValue(!0),this.srtChecked=!this.srtChecked;break;case"sbv":this.typeForm.controls.sbv.setValue(!0),this.sbvChecked=!this.sbvChecked}this.atLeastOne=this.srtChecked||this.sbvChecked,this.setUpReturnValue()}}onChecked(e){switch(e){case"srt":this.srtChecked=!this.srtChecked;break;case"sbv":this.sbvChecked=!this.sbvChecked}this.atLeastOne=this.srtChecked||this.sbvChecked,this.setUpReturnValue()}setUpReturnValue(){this.returnValue=this.sbvChecked&&this.srtChecked?"both":this.srtChecked&&!this.sbvChecked?"srt":!this.srtChecked&&this.sbvChecked?"sbv":""}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(ll))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-download-options-dialog"]],decls:17,vars:4,consts:[["mat-dialog-title",""],[1,"mat-typography"],[1,"type-checkboxes",3,"formGroup"],["formControlName","srt",3,"change"],["formControlName","sbv",3,"change"],[1,"options-sub-btn"],["align","end"],["mat-raised-button","","color","warn",3,"mat-dialog-close"],["mat-raised-button","","color","primary",3,"disabled","mat-dialog-close"]],template:function(i,r){1&i&&(o.TgZ(0,"main")(1,"h2",0),o._uU(2,"Download subtitle options"),o.qZA(),o.TgZ(3,"mat-dialog-content",1)(4,"h3"),o._uU(5,"Please select one or both types for your subtitle file to download"),o.qZA()(),o.TgZ(6,"div",2)(7,"mat-checkbox",3),o.NdJ("change",function(){return r.onChecked("srt")}),o._uU(8,".SRT (Most common subtitle file type)"),o.qZA(),o.TgZ(9,"mat-checkbox",4),o.NdJ("change",function(){return r.onChecked("sbv")}),o._uU(10,".SBV (YouTube subtitle file type)"),o.qZA()(),o.TgZ(11,"div",5)(12,"mat-dialog-actions",6)(13,"button",7),o._uU(14,"Cancel"),o.qZA(),o.TgZ(15,"button",8),o._uU(16,"Download"),o.qZA()()()()),2&i&&(o.xp6(6),o.Q6J("formGroup",r.typeForm),o.xp6(7),o.Q6J("mat-dialog-close",null),o.xp6(2),o.Q6J("disabled",!r.atLeastOne)("mat-dialog-close",r.returnValue))},dependencies:[Mr,Ps,ds,Hl,Lr,ms,Wo,Ko,gs,Hz],styles:[".type-checkboxes[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-left:20px}"]})}return n})();class zre{}function FN(n){return n&&"function"==typeof n.connect&&!(n instanceof vy)}class zz{applyChanges(t,e,i,r,s){t.forEachOperation((a,u,f)=>{let m,v;if(null==a.previousIndex){const x=i(a,u,f);m=e.createEmbeddedView(x.templateRef,x.context,x.index),v=1}else null==f?(e.remove(u),v=3):(m=e.get(u),e.move(m,f),v=2);s&&s({context:m?.context,operation:v,record:a})})}detach(){}}class jre{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new gt.x,e&&e.length&&(t?e.forEach(s=>this._markSelected(s)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,i=new Set(t);t.forEach(s=>this._markSelected(s)),e.filter(s=>!i.has(s)).forEach(s=>this._unmarkSelected(s));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(t){if(this.compareWith){for(let e of this._selection)if(this.compareWith(t,e))return e;return t}return t}}let qre=(()=>{class n{constructor(){this._listeners=[]}notify(e,i){for(let r of this._listeners)r(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gC=new o.OlP("_ViewRepeater"),Zre=["trigger"],$re=["panel"];function Yre(n,t){if(1&n&&(o.TgZ(0,"span",10),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Oqu(e.placeholder)}}function Wre(n,t){if(1&n&&(o.TgZ(0,"span",14),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.Oqu(e.triggerValue)}}function Kre(n,t){1&n&&o.Hsn(0,0,["*ngSwitchCase","true"])}function Qre(n,t){if(1&n&&(o.TgZ(0,"span",11),o.YNc(1,Wre,2,1,"span",12),o.YNc(2,Kre,1,0,"ng-content",13),o.qZA()),2&n){const e=o.oxw();o.Q6J("ngSwitch",!!e.customTrigger),o.xp6(2),o.Q6J("ngSwitchCase",!0)}}function Jre(n,t){if(1&n){const e=o.EpF();o.O4$(),o.kcU(),o.TgZ(0,"div",15,16),o.NdJ("@transformPanel.done",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._handleKeydown(r))}),o.Hsn(2,1),o.qZA()}if(2&n){const e=o.oxw();o.Gre("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),o.Q6J("ngClass",e.panelClass)("@transformPanel","showing"),o.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const Xre=[[["mat-select-trigger"]],"*"],eoe=["mat-select-trigger","*"],toe={transformPanelWrap:_r("transformPanelWrap",[wi("* => void",ss("@transformPanel",[xc()],{optional:!0}))]),transformPanel:_r("transformPanel",[$n("void",dn({opacity:0,transform:"scale(1, 0.8)"})),wi("void => showing",ui("120ms cubic-bezier(0, 0, 0.2, 1)",dn({opacity:1,transform:"scale(1, 1)"}))),wi("* => void",ui("100ms linear",dn({opacity:0})))])};let qz=0;const Zz=new o.OlP("mat-select-scroll-strategy"),ioe=new o.OlP("MAT_SELECT_CONFIG"),roe={provide:Zz,deps:[Da],useFactory:function noe(n){return()=>n.scrollStrategies.reposition()}},ooe=new o.OlP("MatSelectTrigger");class soe{constructor(t,e){this.source=t,this.value=e}}const aoe=Em(KD(kf(Ob(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r,this.stateChanges=new gt.x}}))));let loe=(()=>{class n extends aoe{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(Ao.required)??!1}set required(e){this._required=Nt(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=Nt(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Nt(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=So(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}constructor(e,i,r,s,a,u,f,m,v,x,I,B,q,ue){super(a,s,f,m,x),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=u,this._parentFormField=v,this._liveAnnouncer=q,this._defaultOptions=ue,this._panelOpen=!1,this._compareWith=(ge,Oe)=>ge===Oe,this._uid="mat-select-"+qz++,this._triggerAriaLabelledBy=null,this._destroy=new gt.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+qz++,this._panelDoneAnimatingStream=new gt.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=Xt(()=>{const ge=this.options;return ge?ge.changes.pipe(yr(ge),Pn(()=>(0,Mi.T)(...ge.map(Oe=>Oe.onSelectionChange)))):this._ngZone.onStable.pipe(Tt(1),Pn(()=>this.optionSelectionChanges))}),this.openedChange=new o.vpe,this._openedStream=this.openedChange.pipe(oi(ge=>ge),(0,dt.U)(()=>{})),this._closedStream=this.openedChange.pipe(oi(ge=>!ge),(0,dt.U)(()=>{})),this.selectionChange=new o.vpe,this.valueChange=new o.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=ue?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=ue.typeaheadDebounceInterval),this._scrollStrategyFactory=B,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(I)||0,this.id=this.id}ngOnInit(){this._selectionModel=new jre(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Nl(),an(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(an(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(yr(null),an(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,s=13===i||32===i,a=this._keyManager;if(!a.isTyping()&&s&&!Ka(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const u=this.selected;a.onKeydown(e);const f=this.selected;f&&u!==f&&this._liveAnnouncer.announce(f.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,s=40===r||38===r,a=i.isTyping();if(s&&e.altKey)e.preventDefault(),this.close();else if(a||13!==r&&32!==r||!i.activeItem||Ka(e))if(!a&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const u=this.options.some(f=>!f.disabled&&!f.selected);this.options.forEach(f=>{f.disabled||(u?f.select():f.deselect())})}else{const u=i.activeItemIndex;i.onKeydown(e),this._multiple&&s&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==u&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Tt(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new Ok(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,Mi.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(an(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Mi.T)(...this.options.map(i=>i._stateChanges)).pipe(an(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Lv),o.Y36(o.sBO),o.Y36(o.R0b),o.Y36(Tm),o.Y36(o.SBq),o.Y36(ri,8),o.Y36(Ym,8),o.Y36(ds,8),o.Y36(Pf,8),o.Y36(Vo,10),o.$8M("tabindex"),o.Y36(Zz),o.Y36(UD),o.Y36(ioe,8))},n.\u0275dir=o.lG2({type:n,viewQuery:function(e,i){if(1&e&&(o.Gf(Zre,5),o.Gf($re,5),o.Gf(ZH,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.trigger=r.first),o.iGM(r=o.CRH())&&(i.panel=r.first),o.iGM(r=o.CRH())&&(i._overlayDir=r.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[o.qOj,o.TTD]}),n})(),HA=(()=>{class n extends loe{constructor(){super(...arguments),this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(an(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(),this._changeDetectorRef.detectChanges())})}ngAfterViewInit(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin())}open(){this._overlayWidth=this._getOverlayWidth(),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(e){const i=this.options.toArray()[e];if(i){const r=this.panel.nativeElement,s=function Om(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),s=0;for(let a=0;a<n+1;a++)i[a].group&&i[a].group===r[s]&&s++;return s}return 0}(e,this.options,this.optionGroups),a=i._getHostElement();r.scrollTop=0===e&&1===s?0:function Bb(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}(a.offsetTop,a.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new soe(this,e)}_getOverlayWidth(){return(this._preferredOverlayOrigin instanceof oN?this._preferredOverlayOrigin.elementRef:this._preferredOverlayOrigin||this._elementRef).nativeElement.getBoundingClientRect().width}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=Nt(e),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const e of this.options)e._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,ooe,5),o.Suo(r,ju,5),o.Suo(r,Lb,5)),2&e){let s;o.iGM(s=o.CRH())&&(i.customTrigger=s.first),o.iGM(s=o.CRH())&&(i.options=s),o.iGM(s=o.CRH())&&(i.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(e,i){1&e&&o.NdJ("keydown",function(s){return i._handleKeydown(s)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(o.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),o.ekj("mat-mdc-select-disabled",i.disabled)("mat-mdc-select-invalid",i.errorState)("mat-mdc-select-required",i.required)("mat-mdc-select-empty",i.empty)("mat-mdc-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[o._Bn([{provide:$b,useExisting:n},{provide:sM,useExisting:n}]),o.qOj],ngContentSelectors:eoe,decls:11,vars:11,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(o.F$t(Xre),o.TgZ(0,"div",0,1),o.NdJ("click",function(){return i.toggle()}),o.TgZ(3,"div",2),o.YNc(4,Yre,2,1,"span",3),o.YNc(5,Qre,3,2,"span",4),o.qZA(),o.TgZ(6,"div",5)(7,"div",6),o.O4$(),o.TgZ(8,"svg",7),o._UZ(9,"path",8),o.qZA()()()(),o.YNc(10,Jre,3,9,"ng-template",9),o.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const r=o.MAs(1);o.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),o.xp6(3),o.Q6J("ngSwitch",i.empty),o.uIk("id",i._valueId),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngSwitchCase",!1),o.xp6(5),o.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",i._preferredOverlayOrigin||r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayWidth",i._overlayWidth)}},dependencies:[cn,xs,vo,Ti,ZH,oN],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:calc(100vw - 32px);max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:calc(100vh - 32px);max-height:var(--mdc-menu-max-height, calc(100vh - 32px));margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;border-radius:4px;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}.mat-mdc-select{display:inline-block;width:100%;outline:none}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}.mdc-menu-surface.mat-mdc-select-panel{width:100%;max-height:275px;position:static;outline:0;margin:0;padding:8px 0;list-style-type:none}.mdc-menu-surface.mat-mdc-select-panel:focus{outline:none}.cdk-high-contrast-active .mdc-menu-surface.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) .mdc-menu-surface.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above .mdc-menu-surface.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[toe.transformPanel]},changeDetection:0}),n})(),coe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[roe],imports:[or,Vv,Pm,Mn,Bv,Ff,Pm,Mn]}),n})();const doe=["input"],uoe=["*"];let $z=0;class Yz{constructor(t,e){this.source=t,this.value=e}}const hoe={provide:pa,useExisting:(0,o.Gpc)(()=>Kz),multi:!0},Wz=new o.OlP("MatRadioGroup"),foe=new o.OlP("mat-radio-default-options",{providedIn:"root",factory:function poe(){return{color:"accent"}}});let moe=(()=>{class n{get name(){return this._name}set name(e){this._name=e,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(e){this._labelPosition="before"===e?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(e){this._selected=e,this.value=e?e.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(e){this._disabled=Nt(e),this._markRadiosForCheck()}get required(){return this._required}set required(e){this._required=Nt(e),this._markRadiosForCheck()}constructor(e){this._changeDetector=e,this._value=null,this._name="mat-radio-group-"+$z++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new o.vpe}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(e=>{e.name=this.name,e._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(i=>{i.checked=this.value===i.value,i.checked&&(this._selected=i)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new Yz(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(e=>e._markForCheck())}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetector.markForCheck()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO))},n.\u0275dir=o.lG2({type:n,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}}),n})();class goe{constructor(t){this._elementRef=t}}const _oe=Em(KD(goe));let yoe=(()=>{class n extends _oe{get checked(){return this._checked}set checked(e){const i=Nt(e);this._checked!==i&&(this._checked=i,i&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!i&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),i&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(e){this._setDisabled(Nt(e))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){this._required=Nt(e)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(e){this._color=e}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,i,r,s,a,u,f,m){super(i),this._changeDetector=r,this._focusMonitor=s,this._radioDispatcher=a,this._providerOverride=f,this._uniqueId="mat-radio-"+ ++$z,this.id=this._uniqueId,this.change=new o.vpe,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=e,this._noopAnimations="NoopAnimations"===u,m&&(this.tabIndex=So(m,0))}focus(e,i){i?this._focusMonitor.focusVia(this._inputElement,i,e):this._inputElement.nativeElement.focus(e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((e,i)=>{e!==this.id&&i===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new Yz(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(e){e.stopPropagation()}_onInputInteraction(e){if(e.stopPropagation(),!this.checked&&!this.disabled){const i=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),i&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(e){this._onInputInteraction(e),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}_updateTabIndex(){const e=this.radioGroup;let i;if(i=e&&e.selected&&!this.disabled?e.selected===this?this.tabIndex:-1:this.tabIndex,i!==this._previousTabIndex){const r=this._inputElement?.nativeElement;r&&(r.setAttribute("tabindex",i+""),this._previousTabIndex=i)}}}return n.\u0275fac=function(e){o.$Z()},n.\u0275dir=o.lG2({type:n,viewQuery:function(e,i){if(1&e&&o.Gf(doe,5),2&e){let r;o.iGM(r=o.CRH())&&(i._inputElement=r.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[o.qOj]}),n})(),Kz=(()=>{class n extends moe{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["mat-radio-group"]],contentQueries:function(e,i,r){if(1&e&&o.Suo(r,Qz,5),2&e){let s;o.iGM(s=o.CRH())&&(i._radios=s)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],exportAs:["matRadioGroup"],features:[o._Bn([hoe,{provide:Wz,useExisting:n}]),o.qOj]}),n})(),Qz=(()=>{class n extends yoe{constructor(e,i,r,s,a,u,f,m){super(e,i,r,s,a,u,f,m)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Wz,8),o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(Bl),o.Y36(qre),o.Y36(o.QbO,8),o.Y36(foe,8),o.$8M("tabindex"))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(e,i){1&e&&o.NdJ("focus",function(){return i._inputElement.nativeElement.focus()}),2&e&&(o.uIk("id",i.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),o.ekj("mat-primary","primary"===i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("mat-mdc-radio-checked",i.checked)("_mat-animation-noopable",i._noopAnimations))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[o.qOj],ngContentSelectors:uoe,decls:13,vars:17,consts:[[1,"mdc-form-field"],["formField",""],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"id","checked","disabled","required","change"],["input",""],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[3,"for"]],template:function(e,i){if(1&e&&(o.F$t(),o.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3),o.NdJ("click",function(s){return i._onTouchTargetClick(s)}),o.qZA(),o.TgZ(4,"input",4,5),o.NdJ("change",function(s){return i._onInputInteraction(s)}),o.qZA(),o.TgZ(6,"div",6),o._UZ(7,"div",7)(8,"div",8),o.qZA(),o.TgZ(9,"div",9),o._UZ(10,"div",10),o.qZA()(),o.TgZ(11,"label",11),o.Hsn(12),o.qZA()()),2&e){const r=o.MAs(1);o.ekj("mdc-form-field--align-end","before"==i.labelPosition),o.xp6(2),o.ekj("mdc-radio--disabled",i.disabled),o.xp6(2),o.Q6J("id",i.inputId)("checked",i.checked)("disabled",i.disabled)("required",i.required),o.uIk("name",i.name)("value",i.value)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby),o.xp6(5),o.Q6J("matRippleTrigger",r)("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0),o.xp6(2),o.Q6J("for",i.inputId)}},dependencies:[ks],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size, 40px) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, #000)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, #000)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, #000)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color, #000)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color, #000)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color, #000)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size, 40px) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size, 40px) - 20px) / 2);width:var(--mdc-radio-state-layer-size, 40px);height:var(--mdc-radio-state-layer-size, 40px)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size, 40px) - var(--mdc-radio-state-layer-size, 40px)) / 2);right:calc((var(--mdc-radio-state-layer-size, 40px) - var(--mdc-radio-state-layer-size, 40px)) / 2);left:calc((var(--mdc-radio-state-layer-size, 40px) - var(--mdc-radio-state-layer-size, 40px)) / 2);width:var(--mdc-radio-state-layer-size, 40px);height:var(--mdc-radio-state-layer-size, 40px)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-mdc-radio-ripple-color, transparent)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-mdc-radio-checked-ripple-color, transparent)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-mdc-radio-checked-ripple-color, transparent)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0}),n})(),voe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Mn,or,Mm,Mn]}),n})();function boe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-option",14),o.NdJ("click",function(){const s=o.CHM(e).$implicit,a=o.oxw();return o.KtG(a.selectLanguage(s.language))}),o._uU(1),o.qZA()}if(2&n){const e=t.$implicit;o.xp6(1),o.Oqu(e.name)}}let Jz=(()=>{class n{constructor(e,i){this.data=e,this.google=i,this._supportedLanguages$=new E(null),this.disabledBtn=!1,this.data&&e.subscribe(r=>{this.targetLang=r.language,this.selectedLang=r.language,this.langName=r.name}),this.form=new Io({radioBtn:new vr("1"),selectedLang:new vr("")}),this.form.get("selectedLang").disable(),this.getSupportedLanguages()}get supportedLanguages$(){return this._supportedLanguages$}getSupportedLanguages(){this.google.getSupportedLanguages().pipe((0,Un.b)(()=>{})).subscribe(e=>{this._supportedLanguages$.next(e)})}onChangeRadioButton(){"2"==this.form.controls.radioBtn.value?(this.disabledBtn=!0,this.form.get("selectedLang").enable(),this.form.controls.selectedLang.setValue("")):(this.selectedLang=this.targetLang,this.disabledBtn=!1,this.form.get("selectedLang").disable())}selectLanguage(e){e&&(this.disabledBtn=!1,this.selectedLang=e)}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(ll),o.Y36(ul))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-translate-subs-dialog"]],decls:31,vars:8,consts:[["mat-dialog-title",""],[1,"radio-btn-wrapper",3,"formGroup"],["aria-label","Select an option","formControlName","radioBtn",3,"change"],["mat-dialog-content","",1,"mat-typography"],[1,"target-lang"],["value","1",1,"radio-btn","target"],[1,"another-lang"],["value","2",1,"radio-btn","another"],[1,"select-lang-menu"],["formControlName","selectedLang"],["value","language.language",3,"click",4,"ngFor","ngForOf"],["mat-dialog-actions","","align","end"],["mat-raised-button","","color","warn",3,"mat-dialog-close"],["mat-raised-button","","color","primary",3,"disabled","mat-dialog-close"],["value","language.language",3,"click"]],template:function(i,r){if(1&i&&(o.TgZ(0,"h3",0),o._uU(1,"Translate Subtitles"),o.qZA(),o.TgZ(2,"div",1)(3,"mat-radio-group",2),o.NdJ("change",function(){return r.onChangeRadioButton()}),o.TgZ(4,"div",3)(5,"h3"),o._uU(6,"Translate subtitle to target language"),o.qZA()(),o.TgZ(7,"div",4)(8,"mat-radio-button",5),o._uU(9,"Target Language:"),o.qZA(),o.TgZ(10,"h3")(11,"b"),o._uU(12),o.qZA()()(),o.TgZ(13,"div",3)(14,"h3"),o._uU(15,"Or translate it to another language"),o.qZA()(),o.TgZ(16,"div",6)(17,"mat-radio-button",7),o._uU(18,"Another Language:"),o.qZA(),o.TgZ(19,"div",8)(20,"mat-form-field")(21,"mat-label"),o._uU(22,"Languages"),o.qZA(),o.TgZ(23,"mat-select",9),o.YNc(24,boe,2,1,"mat-option",10),o.ALo(25,"async"),o.qZA()()()()()(),o.TgZ(26,"div",11)(27,"button",12),o._uU(28,"Cancel"),o.qZA(),o.TgZ(29,"button",13),o._uU(30,"Translate"),o.qZA()()),2&i){let s;o.xp6(2),o.Q6J("formGroup",r.form),o.xp6(10),o.Oqu(r.langName),o.xp6(12),o.Q6J("ngForOf",null==(s=o.lcZ(25,6,r.supportedLanguages$))||null==s.data?null:s.data.languages),o.xp6(3),o.Q6J("mat-dialog-close",null),o.xp6(2),o.Q6J("disabled",r.disabledBtn)("mat-dialog-close",r.selectedLang)}},dependencies:[Fi,Rs,fa,Mr,Ps,ds,Hl,Lr,ms,Wo,Ko,gs,HA,ju,Kz,Qz,Hi],styles:[".radio-btn-wrapper[_ngcontent-%COMP%]{height:auto}.radio-btn[_ngcontent-%COMP%]{margin-left:40px}.target-lang[_ngcontent-%COMP%]{display:flex}.target-lang[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-left:15px;margin-top:6px}.another-lang[_ngcontent-%COMP%]{display:flex}.select-lang-menu[_ngcontent-%COMP%]{margin-left:15px;margin-bottom:5px}.radio-btn.another[_ngcontent-%COMP%]{margin-top:10px}"]})}return n})(),woe=(()=>{class n{constructor(e){this.data=e,this.langName="",this.data&&e.subscribe(i=>{this.langName=i.name,this.targetLanguage=i.language})}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(ll))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-detect-language-dialog"]],decls:14,vars:3,consts:[["mat-dialog-title",""],[1,"options-sub-btn"],["align","end"],["mat-raised-button","","color","warn",3,"mat-dialog-close"],["mat-raised-button","","color","primary",3,"mat-dialog-close"]],template:function(i,r){1&i&&(o.TgZ(0,"main")(1,"mat-dialog-content")(2,"h2",0),o._uU(3,"Different Language detected!"),o.qZA(),o.TgZ(4,"h3"),o._uU(5," In subtitle file has been detected different language from the target language!"),o._UZ(6,"br"),o._uU(7),o.qZA(),o.TgZ(8,"div",1)(9,"mat-dialog-actions",2)(10,"button",3),o._uU(11,"Keep as it is"),o.qZA(),o.TgZ(12,"button",4),o._uU(13,"Translate it"),o.qZA()()()()()),2&i&&(o.xp6(7),o.hij(" Do you want to translate it to ",r.langName," or keep as it is? "),o.xp6(3),o.Q6J("mat-dialog-close",null),o.xp6(2),o.Q6J("mat-dialog-close",r.targetLanguage))},dependencies:[Lr,ms,Wo,Ko,gs]})}return n})(),Xz=(()=>{class n{constructor(){}set_initContentSSML(e){this.initContentSSML=e}set_formContent(e){this.formContentGroup=e}get_initContentSSML(){return this.initContentSSML}get_formContent(){return this.formContentGroup}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xoe=(()=>{class n{constructor(e){this.http=e,this.promptMap=new Map([["sad","Adjust the tone of the following sentence to make it sadder."],["joyful","Transform the following sentence to make it more joyful."],["shorter","Condense the following sentence while preserving its original meaning."],["longer","Enlarge the following sentence without changing its original meaning."]])}getDataFromOpenAI(e){const r=(new Kd).set("Authorization","Bearer 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");let s={model:"gpt-3.5-turbo",messages:[{role:"user",content:this.promptMap.get(e.action)+e.text}]};return this.http.post("https://api.openai.com/v1/chat/completions",s,{headers:r}).pipe((0,dt.U)(a=>a.choices[0].message.content))}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(wh))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Coe=(()=>{class n{constructor(e){this.firestore=e}getCharactersOfSubtitle(e,i,r,s){return s=s.split(".")[0],this.firestore.collection(`users/${e}/videos/${i}/subtitleLanguages/${r}/subtitles/${s}/characters`).valueChanges()}saveCharacters(e,i,r,s,a){s=s.split(".")[0];for(let u=0;u<a.length;u++)this.firestore.doc(`users/${e}/videos/${i}/subtitleLanguages/${r}/subtitles/${s}/characters/${a[u].name}`).set(a[u],{merge:!0}).then(m=>{}).catch(m=>(console.error(m),!1));return!0}deleteCharacter(e,i,r,s,a){s=s.split(".")[0];for(let u=0;u<a.length;u++)this.firestore.doc(`users/${e}/videos/${i}/subtitleLanguages/${r}/subtitles/${s}/characters/${a[u].name}`).delete().then(()=>{}).catch(m=>(console.error(m),!1));return!0}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(al))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Doe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-comment-dialog"]],decls:10,vars:4,consts:[["mat-dialog-title",""],["type","text","type","text",1,"commentArea",3,"ngModel","ngModelChange"],["commentInput",""],["mat-dialog-content",""],[1,"right-bottom"],["mat-button","",3,"mat-dialog-close"],["mat-raised-button","","color","primary",3,"mat-dialog-close","disabled"]],template:function(i,r){if(1&i&&(o.TgZ(0,"h2",0),o._uU(1,"Enter a comment:"),o.qZA(),o.TgZ(2,"textarea",1,2),o.NdJ("ngModelChange",function(a){return r.comment=a}),o.qZA(),o.TgZ(4,"div",3)(5,"mat-dialog-actions",4)(6,"button",5),o._uU(7,"Cancel"),o.qZA(),o.TgZ(8,"button",6),o._uU(9,"Add comment"),o.qZA()()()),2&i){const s=o.MAs(3);o.xp6(2),o.Q6J("ngModel",r.comment),o.xp6(4),o.Q6J("mat-dialog-close",null),o.xp6(2),o.Q6J("mat-dialog-close",r.comment)("disabled",""==s.value)}},dependencies:[cs,Mr,Lr,Pd,ms,Wo,Ko,gs],styles:["button[_ngcontent-%COMP%]{margin-right:8px}h4[_ngcontent-%COMP%]{font-weight:600}p[_ngcontent-%COMP%]{font-weight:500}mat-dialog-actions[_ngcontent-%COMP%]{justify-content:flex-end;margin-top:16px}.commentArea[_ngcontent-%COMP%]{display:inline-block;width:416px;min-height:50px!important;padding:5px;font-size:16px;vertical-align:middle;margin:10px 5px 0}.right-bottom[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-bottom:16px;position:absolute;bottom:0;right:0}"]})}return n})();function ej(n){for(let t in n){let e=n[t]??"";switch(t){case"display":n.display="flex"===e?["-webkit-flex","flex"]:"inline-flex"===e?["-webkit-inline-flex","inline-flex"]:e;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":n["-webkit-"+t]=e;break;case"flex-direction":n["-webkit-flex-direction"]=e,n["flex-direction"]=e;break;case"order":n.order=n["-webkit-"+t]=isNaN(+e)?"0":e}}return n}const NN="inline",GA=["row","column","row-reverse","column-reverse"];function tj(n){let[t,e,i]=nj(n);return function Eoe(n,t=null,e=!1){return{display:e?"inline-flex":"flex","box-sizing":"border-box","flex-direction":n,"flex-wrap":t||null}}(t,e,i)}function nj(n){n=n?.toLowerCase()??"";let[t,e,i]=n.split(" ");return GA.find(r=>r===t)||(t=GA[0]),e===NN&&(e=i!==NN?i:"",i=NN),[t,Soe(e),!!i]}function _C(n){let[t]=nj(n);return t.indexOf("row")>-1}function Soe(n){if(n)switch(n.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":n="wrap-reverse";break;case"no":case"none":case"nowrap":n="nowrap";break;default:n="wrap"}return n}function Eh(n,...t){if(null==n)throw TypeError("Cannot convert undefined or null to object");for(let e of t)if(null!=e)for(let i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n}const Aoe={provide:o.tb,useFactory:function Toe(n,t){return()=>{if(Ar(t)){const e=Array.from(n.querySelectorAll(`[class*=${ij}]`)),i=/\bflex-layout-.+?\b/g;e.forEach(r=>{r.classList.contains(`${ij}ssr`)&&r.parentNode?r.parentNode.removeChild(r):r.className.replace(i,"")})}}},deps:[j,o.Lbi],multi:!0},ij="flex-layout-";let LN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Aoe]}),n})();class l_{constructor(t=!1,e="all",i="",r="",s=0){this.matches=t,this.mediaQuery=e,this.mqAlias=i,this.suffix=r,this.priority=s,this.property=""}clone(){return new l_(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let Ioe=(()=>{class n{constructor(){this.stylesheet=new Map}addStyleToElement(e,i,r){const s=this.stylesheet.get(e);s?s.set(i,r):this.stylesheet.set(e,new Map([[i,r]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(e,i){const r=this.stylesheet.get(e);let s="";if(r){const a=r.get(i);("number"==typeof a||"string"==typeof a)&&(s=a+"")}return s}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const BN={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},Uc=new o.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>BN}),Yv=new o.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),VN=new o.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function rj(n,t){return n=n?.clone()??new l_,t&&(n.mqAlias=t.alias,n.mediaQuery=t.mediaQuery,n.suffix=t.suffix,n.priority=t.priority),n}class Br{constructor(){this.shouldCache=!0}sideEffect(t,e,i){}}let Xi=(()=>{class n{constructor(e,i,r,s){this._serverStylesheet=e,this._serverModuleLoaded=i,this._platformId=r,this.layoutConfig=s}applyStyleToElement(e,i,r=null){let s={};"string"==typeof i&&(s[i]=r,i=s),s=this.layoutConfig.disableVendorPrefixes?i:ej(i),this._applyMultiValueStyleToElement(s,e)}applyStyleToElements(e,i=[]){const r=this.layoutConfig.disableVendorPrefixes?e:ej(e);i.forEach(s=>{this._applyMultiValueStyleToElement(r,s)})}getFlowDirection(e){const i="flex-direction";let r=this.lookupStyle(e,i);return[r||"row",this.lookupInlineStyle(e,i)||wo(this._platformId)&&this._serverModuleLoaded?r:""]}hasWrap(e){return"wrap"===this.lookupStyle(e,"flex-wrap")}lookupAttributeValue(e,i){return e.getAttribute(i)??""}lookupInlineStyle(e,i){return Ar(this._platformId)?e.style.getPropertyValue(i):function koe(n,t){return oj(n)[t]??""}(e,i)}lookupStyle(e,i,r=!1){let s="";return e&&((s=this.lookupInlineStyle(e,i))||(Ar(this._platformId)?r||(s=getComputedStyle(e).getPropertyValue(i)):this._serverModuleLoaded&&(s=this._serverStylesheet.getStyleForElement(e,i)))),s?s.trim():""}_applyMultiValueStyleToElement(e,i){Object.keys(e).sort().forEach(r=>{const s=e[r],a=Array.isArray(s)?s:[s];a.sort();for(let u of a)u=u?u+"":"",Ar(this._platformId)||!this._serverModuleLoaded?Ar(this._platformId)?i.style.setProperty(r,u):Moe(i,r,u):this._serverStylesheet.addStyleToElement(i,r,u)})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ioe),o.LFG(Yv),o.LFG(o.Lbi),o.LFG(Uc))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Moe(n,t,e){t=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const i=oj(n);i[t]=e??"",function Roe(n,t){let e="";for(const i in t)t[i]&&(e+=`${i}:${t[i]};`);n.setAttribute("style",e)}(n,i)}function oj(n){const t={},e=n.getAttribute("style");if(e){const i=e.split(/;+/g);for(let r=0;r<i.length;r++){const s=i[r].trim();if(s.length>0){const a=s.indexOf(":");if(-1===a)throw new Error(`Invalid CSS style: ${s}`);t[s.substr(0,a).trim()]=s.substr(a+1).trim()}}}return t}function yC(n,t){return(t&&t.priority||0)-(n&&n.priority||0)}function Ooe(n,t){return(n.priority||0)-(t.priority||0)}let UN=(()=>{class n{constructor(e,i,r){this._zone=e,this._platformId=i,this._document=r,this.source=new E(new l_(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const e=[];return this.registry.forEach((i,r)=>{i.matches&&e.push(r)}),e}isActive(e){return this.registry.get(e)?.matches??this.registerQuery(e).some(r=>r.matches)}observe(e,i=!1){if(e&&e.length){const r=this._observable$.pipe(oi(a=>!i||e.indexOf(a.mediaQuery)>-1)),s=new kn.y(a=>{const u=this.registerQuery(e);if(u.length){const f=u.pop();u.forEach(m=>{a.next(m)}),this.source.next(f)}a.complete()});return(0,Mi.T)(s,r)}return this._observable$}registerQuery(e){const i=Array.isArray(e)?e:[e],r=[];return function Poe(n,t){const e=n.filter(i=>!sj[i]);if(e.length>0){const i=e.join(", ");try{const r=t.createElement("style");r.setAttribute("type","text/css"),r.styleSheet||r.appendChild(t.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${i} {.fx-query-test{ }}\n`)),t.head.appendChild(r),e.forEach(s=>sj[s]=r)}catch(r){console.error(r)}}}(i,this._document),i.forEach(s=>{const a=f=>{this._zone.run(()=>this.source.next(new l_(f.matches,s)))};let u=this.registry.get(s);u||(u=this.buildMQL(s),u.addListener(a),this.pendingRemoveListenerFns.push(()=>u.removeListener(a)),this.registry.set(s,u)),u.matches&&r.push(new l_(!0,s))}),r}ngOnDestroy(){let e;for(;e=this.pendingRemoveListenerFns.pop();)e()}buildMQL(e){return function Noe(n,t){return t&&window.matchMedia("all").addListener?window.matchMedia(n):function Foe(n){const t=new EventTarget;return t.matches="all"===n||""===n,t.media=n,t.addListener=()=>{},t.removeListener=()=>{},t.addEventListener=()=>{},t.dispatchEvent=()=>!1,t.onchange=null,t}(n)}(e,Ar(this._platformId))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b),o.LFG(o.Lbi),o.LFG(j))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sj={},Loe=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],aj="(orientation: portrait) and (max-width: 599.98px)",lj="(orientation: landscape) and (max-width: 959.98px)",cj="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",dj="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",uj="(orientation: portrait) and (min-width: 840px)",hj="(orientation: landscape) and (min-width: 1280px)",Th={HANDSET:`${aj}, ${lj}`,TABLET:`${cj} , ${dj}`,WEB:`${uj}, ${hj} `,HANDSET_PORTRAIT:`${aj}`,TABLET_PORTRAIT:`${cj} `,WEB_PORTRAIT:`${uj}`,HANDSET_LANDSCAPE:`${lj}`,TABLET_LANDSCAPE:`${dj}`,WEB_LANDSCAPE:`${hj}`},Boe=[{alias:"handset",priority:2e3,mediaQuery:Th.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:Th.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:Th.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:Th.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:Th.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:Th.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:Th.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:Th.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:Th.WEB_PORTRAIT,overlapping:!0}],Voe=/(\.|-|_)/g;function Uoe(n){let t=n.length>0?n.charAt(0):"",e=n.length>1?n.slice(1):"";return t.toUpperCase()+e}const joe=new o.OlP("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const n=(0,o.f3M)(VN),t=(0,o.f3M)(Uc),e=[].concat.apply([],(n||[]).map(r=>Array.isArray(r)?r:[r]));return function zoe(n,t=[]){const e={};return n.forEach(i=>{e[i.alias]=i}),t.forEach(i=>{e[i.alias]?Eh(e[i.alias],i):e[i.alias]=i}),function Goe(n){return n.forEach(t=>{t.suffix||(t.suffix=function Hoe(n){return n.replace(Voe,"|").split("|").map(Uoe).join("")}(t.alias),t.overlapping=!!t.overlapping)}),n}(Object.keys(e).map(i=>e[i]))}((t.disableDefaultBps?[]:Loe).concat(t.addOrientationBps?Boe:[]),e)}});let HN=(()=>{class n{constructor(e){this.findByMap=new Map,this.items=[...e].sort(Ooe)}findByAlias(e){return e?this.findWithPredicate(e,i=>i.alias===e):null}findByQuery(e){return this.findWithPredicate(e,i=>i.mediaQuery===e)}get overlappings(){return this.items.filter(e=>e.overlapping)}get aliases(){return this.items.map(e=>e.alias)}get suffixes(){return this.items.map(e=>e?.suffix??"")}findWithPredicate(e,i){let r=this.findByMap.get(e);return r||(r=this.items.find(i)??null,this.findByMap.set(e,r)),r??null}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(joe))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Wv="print",qoe={alias:Wv,mediaQuery:Wv,priority:1e3};let Zoe=(()=>{class n{constructor(e,i,r){this.breakpoints=e,this.layoutConfig=i,this._document=r,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new $oe,this.deactivations=[]}withPrintQuery(e){return[...e,Wv]}isPrintEvent(e){return e.mediaQuery.startsWith(Wv)}get printAlias(){return[...this.layoutConfig.printWithBreakpoints??[]]}get printBreakPoints(){return this.printAlias.map(e=>this.breakpoints.findByAlias(e)).filter(e=>null!==e)}getEventBreakpoints({mediaQuery:e}){const i=this.breakpoints.findByQuery(e);return(i?[...this.printBreakPoints,i]:this.printBreakPoints).sort(yC)}updateEvent(e){let i=this.breakpoints.findByQuery(e.mediaQuery);return this.isPrintEvent(e)&&(i=this.getEventBreakpoints(e)[0],e.mediaQuery=i?.mediaQuery??""),rj(e,i)}registerBeforeAfterPrintHooks(e){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const i=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(e,this.getEventBreakpoints(new l_(!0,Wv))),e.updateStyles())},r=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(e),e.updateStyles())};this._document.defaultView.addEventListener("beforeprint",i),this._document.defaultView.addEventListener("afterprint",r),this.beforePrintEventListeners.push(i),this.afterPrintEventListeners.push(r)}interceptEvents(e){return i=>{this.isPrintEvent(i)?i.matches&&!this.isPrinting?(this.startPrinting(e,this.getEventBreakpoints(i)),e.updateStyles()):!i.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(e),e.updateStyles()):this.collectActivations(e,i)}}blockPropagation(){return e=>!(this.isPrinting||this.isPrintEvent(e))}startPrinting(e,i){this.isPrinting=!0,this.formerActivations=e.activatedBreakpoints,e.activatedBreakpoints=this.queue.addPrintBreakpoints(i)}stopPrinting(e){e.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations(e,i){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!i.matches){const r=this.breakpoints.findByQuery(i.mediaQuery);if(r){const s=this.formerActivations&&this.formerActivations.includes(r),a=!this.formerActivations&&e.activatedBreakpoints.includes(r);(s||a)&&(this.deactivations.push(r),this.deactivations.sort(yC))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("beforeprint",e)),this.afterPrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("afterprint",e)))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(HN),o.LFG(Uc),o.LFG(j))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class $oe{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(t){return t.push(qoe),t.sort(yC),t.forEach(e=>this.addBreakpoint(e)),this.printBreakpoints}addBreakpoint(t){t&&void 0===this.printBreakpoints.find(i=>i.mediaQuery===t.mediaQuery)&&(this.printBreakpoints=function Yoe(n){return n?.mediaQuery.startsWith(Wv)??!1}(t)?[t,...this.printBreakpoints]:[...this.printBreakpoints,t])}clear(){this.printBreakpoints=[]}}let cr=(()=>{class n{constructor(e,i,r){this.matchMedia=e,this.breakpoints=i,this.hook=r,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new gt.x,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?.alias??""}set activatedBreakpoints(e){this._activatedBreakpoints=[...e]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks(e){this._useFallbacks=e}onMediaChange(e){const i=this.findByQuery(e.mediaQuery);if(i){e=rj(e,i);const r=this.activatedBreakpoints.indexOf(i);e.matches&&-1===r?(this._activatedBreakpoints.push(i),this._activatedBreakpoints.sort(yC),this.updateStyles()):!e.matches&&-1!==r&&(this._activatedBreakpoints.splice(r,1),this._activatedBreakpoints.sort(yC),this.updateStyles())}}init(e,i,r,s,a=[]){fj(this.updateMap,e,i,r),fj(this.clearMap,e,i,s),this.buildElementKeyMap(e,i),this.watchExtraTriggers(e,i,a)}getValue(e,i,r){const s=this.elementMap.get(e);if(s){const a=void 0!==r?s.get(r):this.getActivatedValues(s,i);if(a)return a.get(i)}}hasValue(e,i){const r=this.elementMap.get(e);if(r){const s=this.getActivatedValues(r,i);if(s)return void 0!==s.get(i)||!1}return!1}setValue(e,i,r,s){let a=this.elementMap.get(e);if(a){const f=(a.get(s)??new Map).set(i,r);a.set(s,f),this.elementMap.set(e,a)}else a=(new Map).set(s,(new Map).set(i,r)),this.elementMap.set(e,a);const u=this.getValue(e,i);void 0!==u&&this.updateElement(e,i,u)}trackValue(e,i){return this.subject.asObservable().pipe(oi(r=>r.element===e&&r.key===i))}updateStyles(){this.elementMap.forEach((e,i)=>{const r=new Set(this.elementKeyMap.get(i));let s=this.getActivatedValues(e);s&&s.forEach((a,u)=>{this.updateElement(i,u,a),r.delete(u)}),r.forEach(a=>{if(s=this.getActivatedValues(e,a),s){const u=s.get(a);this.updateElement(i,a,u)}else this.clearElement(i,a)})})}clearElement(e,i){const r=this.clearMap.get(e);if(r){const s=r.get(i);s&&(s(),this.subject.next({element:e,key:i,value:""}))}}updateElement(e,i,r){const s=this.updateMap.get(e);if(s){const a=s.get(i);a&&(a(r),this.subject.next({element:e,key:i,value:r}))}}releaseElement(e){const i=this.watcherMap.get(e);i&&(i.forEach(s=>s.unsubscribe()),this.watcherMap.delete(e));const r=this.elementMap.get(e);r&&(r.forEach((s,a)=>r.delete(a)),this.elementMap.delete(e))}triggerUpdate(e,i){const r=this.elementMap.get(e);if(r){const s=this.getActivatedValues(r,i);s&&(i?this.updateElement(e,i,s.get(i)):s.forEach((a,u)=>this.updateElement(e,u,a)))}}buildElementKeyMap(e,i){let r=this.elementKeyMap.get(e);r||(r=new Set,this.elementKeyMap.set(e,r)),r.add(i)}watchExtraTriggers(e,i,r){if(r&&r.length){let s=this.watcherMap.get(e);if(s||(s=new Map,this.watcherMap.set(e,s)),!s.get(i)){const u=(0,Mi.T)(...r).subscribe(()=>{const f=this.getValue(e,i);this.updateElement(e,i,f)});s.set(i,u)}}}findByQuery(e){return this.breakpoints.findByQuery(e)}getActivatedValues(e,i){for(let s=0;s<this.activatedBreakpoints.length;s++){const u=e.get(this.activatedBreakpoints[s].alias);if(u&&(void 0===i||u.has(i)&&null!=u.get(i)))return u}if(!this._useFallbacks)return;const r=e.get("");return void 0===i||r&&r.has(i)?r:void 0}observeActivations(){const e=this.breakpoints.items.map(i=>i.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(e)).pipe((0,Un.b)(this.hook.interceptEvents(this)),oi(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(UN),o.LFG(HN),o.LFG(Zoe))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fj(n,t,e,i){if(void 0!==i){const r=n.get(t)??new Map;r.set(e,i),n.set(t,r)}}let Cr=(()=>{class n{constructor(e,i,r,s){this.elementRef=e,this.styleBuilder=i,this.styler=r,this.marshal=s,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new gt.x,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,this.marshal.activatedAlias)}ngOnChanges(e){Object.keys(e).forEach(i=>{if(-1!==this.inputs.indexOf(i)){const r=i.split(".").slice(1).join(".");this.setValue(e[i].currentValue,r)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(e=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),e)}addStyles(e,i){const r=this.styleBuilder,s=r.shouldCache;let a=this.styleCache.get(e);(!a||!s)&&(a=r.buildStyles(e,i),s&&this.styleCache.set(e,a)),this.mru={...a},this.applyStyleToElement(a),r.sideEffect(e,a,i)}clearStyles(){Object.keys(this.mru).forEach(e=>{this.mru[e]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(e,i=!1){if(e){const[r,s]=this.styler.getFlowDirection(e);if(!s&&i){const a=tj(r);this.styler.applyStyleToElements(a,[e])}return r.trim()}return"row"}hasWrap(e){return this.styler.hasWrap(e)}applyStyleToElement(e,i,r=this.nativeElement){this.styler.applyStyleToElement(r,e,i)}setValue(e,i){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,i)}updateWithValue(e){this.currentValue!==e&&(this.addStyles(e),this.currentValue=e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Br),o.Y36(Xi),o.Y36(cr))},n.\u0275dir=o.lG2({type:n,features:[o.TTD]}),n})();class Koe extends EventTarget{constructor(t){super(),this._mediaQuery=t,this._isActive=!1,this._listeners=[],this.onchange=null}get matches(){return this._isActive}get media(){return this._mediaQuery}destroy(){this.deactivate(),this._listeners=[]}activate(){return this._isActive||(this._isActive=!0,this._listeners.forEach(t=>{t.call(this,{matches:this.matches,media:this.media})})),this}deactivate(){return this._isActive&&(this._isActive=!1,this._listeners.forEach(t=>{t.call(this,{matches:this.matches,media:this.media})})),this}addListener(t){-1===this._listeners.indexOf(t)&&this._listeners.push(t),this._isActive&&t.call(this,{matches:this.matches,media:this.media})}removeListener(t){}dispatchEvent(t){return!1}}function pj(n,t="1",e="1"){let i=[t,e,n],r=n.indexOf("calc");if(r>0){i[2]=mj(n.substring(r).trim());let s=n.substr(0,r).trim().split(" ");2==s.length&&(i[0]=s[0],i[1]=s[1])}else if(0==r)i[2]=mj(n.trim());else{let s=n.split(" ");i=3===s.length?s:[t,e,n]}return i}function mj(n){return n.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}const gj="x";function zA(n,t){if(void 0===t)return n;const e=i=>{const r=+i.slice(0,-gj.length);return n.endsWith(gj)&&!isNaN(r)?`${r*t.value}${t.unit}`:n};return n.includes(" ")?n.split(" ").map(e).join(" "):e(n)}let Qoe=(()=>{class n extends Br{buildStyles(e,{display:i}){const r=tj(e);return{...r,display:"none"===i?i:r.display}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Joe=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let Xoe=(()=>{class n extends Cr{constructor(e,i,r,s,a){super(e,r,i,s),this._config=a,this.DIRECTIVE_KEY="layout",this.init()}updateWithValue(e){const r=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=_j.get(r)??new Map,_j.set(r,this.styleCache),this.currentValue!==e&&(this.addStyles(e,{display:r}),this.currentValue=e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Xi),o.Y36(Qoe),o.Y36(cr),o.Y36(Uc))},n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})(),GN=(()=>{class n extends Xoe{constructor(){super(...arguments),this.inputs=Joe}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[o.qOj]}),n})();const _j=new Map,yj={"margin-left":null,"margin-right":null,"margin-top":null,"margin-bottom":null};let ese=(()=>{class n extends Br{constructor(e,i){super(),this._styler=e,this._config=i}buildStyles(e,i){return e.endsWith(jA)?function lse(n,t){const[e,i]=n.split(" "),s=m=>`-${m}`;let a="0px",u=s(i??e),f="0px";return"rtl"===t?f=s(e):a=s(e),{margin:`0px ${a} ${u} ${f}`}}(e=zA(e=e.slice(0,e.indexOf(jA)),this._config.multiplier),i.directionality):{}}sideEffect(e,i,r){const s=r.items;if(e.endsWith(jA)){const a=function ase(n,t){const[e,i]=n.split(" ");let s="0px",u="0px";return"rtl"===t?u=e:s=e,{padding:`0px ${s} ${i??e} ${u}`}}(e=zA(e=e.slice(0,e.indexOf(jA)),this._config.multiplier),r.directionality);this._styler.applyStyleToElements(a,r.items)}else{e=zA(e,this._config.multiplier),e=this.addFallbackUnit(e);const a=s.pop(),u=function cse(n,t){const e=vj(t.directionality,t.layout),i={...yj};return i[e]=n,i}(e,r);this._styler.applyStyleToElements(u,s),this._styler.applyStyleToElements(yj,[a])}}addFallbackUnit(e){return isNaN(+e)?e:`${e}${this._config.defaultUnit}`}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Xi),o.LFG(Uc))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const tse=["fxLayoutGap","fxLayoutGap.xs","fxLayoutGap.sm","fxLayoutGap.md","fxLayoutGap.lg","fxLayoutGap.xl","fxLayoutGap.lt-sm","fxLayoutGap.lt-md","fxLayoutGap.lt-lg","fxLayoutGap.lt-xl","fxLayoutGap.gt-xs","fxLayoutGap.gt-sm","fxLayoutGap.gt-md","fxLayoutGap.gt-lg"];let nse=(()=>{class n extends Cr{constructor(e,i,r,s,a,u){super(e,a,s,u),this.zone=i,this.directionality=r,this.styleUtils=s,this.layout="row",this.DIRECTIVE_KEY="layout-gap",this.observerSubject=new gt.x;const f=[this.directionality.change,this.observerSubject.asObservable()];this.init(f),this.marshal.trackValue(this.nativeElement,"layout").pipe(an(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}get childrenNodes(){const e=this.nativeElement.children,i=[];for(let r=e.length;r--;)i[r]=e[r];return i}ngAfterContentInit(){this.buildChildObservable(),this.triggerUpdate()}ngOnDestroy(){super.ngOnDestroy(),this.observer&&this.observer.disconnect()}onLayoutChange(e){const r=e.value.split(" ");this.layout=r[0],GA.find(s=>s===this.layout)||(this.layout="row"),this.triggerUpdate()}updateWithValue(e){const i=this.childrenNodes.filter(r=>1===r.nodeType&&this.willDisplay(r)).sort((r,s)=>{const a=+this.styler.lookupStyle(r,"order"),u=+this.styler.lookupStyle(s,"order");return isNaN(a)||isNaN(u)||a===u?0:a>u?1:-1});if(i.length>0){const r=this.directionality.value,s=this.layout;"row"===s&&"rtl"===r?this.styleCache=ise:"row"===s&&"rtl"!==r?this.styleCache=ose:"column"===s&&"rtl"===r?this.styleCache=rse:"column"===s&&"rtl"!==r&&(this.styleCache=sse),this.addStyles(e,{directionality:r,items:i,layout:s})}}clearStyles(){const e=Object.keys(this.mru).length>0,i=e?"padding":vj(this.directionality.value,this.layout);e&&super.clearStyles(),this.styleUtils.applyStyleToElements({[i]:""},this.childrenNodes)}willDisplay(e){const i=this.marshal.getValue(e,"show-hide");return!0===i||void 0===i&&"none"!==this.styleUtils.lookupStyle(e,"display")}buildChildObservable(){this.zone.runOutsideAngular(()=>{typeof MutationObserver<"u"&&(this.observer=new MutationObserver(e=>{e.some(r=>r.addedNodes&&r.addedNodes.length>0||r.removedNodes&&r.removedNodes.length>0)&&this.observerSubject.next()}),this.observer.observe(this.nativeElement,{childList:!0}))})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(ri),o.Y36(Xi),o.Y36(ese),o.Y36(cr))},n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})(),zN=(()=>{class n extends nse{constructor(){super(...arguments),this.inputs=tse}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","fxLayoutGap",""],["","fxLayoutGap.xs",""],["","fxLayoutGap.sm",""],["","fxLayoutGap.md",""],["","fxLayoutGap.lg",""],["","fxLayoutGap.xl",""],["","fxLayoutGap.lt-sm",""],["","fxLayoutGap.lt-md",""],["","fxLayoutGap.lt-lg",""],["","fxLayoutGap.lt-xl",""],["","fxLayoutGap.gt-xs",""],["","fxLayoutGap.gt-sm",""],["","fxLayoutGap.gt-md",""],["","fxLayoutGap.gt-lg",""]],inputs:{fxLayoutGap:"fxLayoutGap","fxLayoutGap.xs":"fxLayoutGap.xs","fxLayoutGap.sm":"fxLayoutGap.sm","fxLayoutGap.md":"fxLayoutGap.md","fxLayoutGap.lg":"fxLayoutGap.lg","fxLayoutGap.xl":"fxLayoutGap.xl","fxLayoutGap.lt-sm":"fxLayoutGap.lt-sm","fxLayoutGap.lt-md":"fxLayoutGap.lt-md","fxLayoutGap.lt-lg":"fxLayoutGap.lt-lg","fxLayoutGap.lt-xl":"fxLayoutGap.lt-xl","fxLayoutGap.gt-xs":"fxLayoutGap.gt-xs","fxLayoutGap.gt-sm":"fxLayoutGap.gt-sm","fxLayoutGap.gt-md":"fxLayoutGap.gt-md","fxLayoutGap.gt-lg":"fxLayoutGap.gt-lg"},features:[o.qOj]}),n})();const ise=new Map,rse=new Map,ose=new Map,sse=new Map,jA=" grid";function vj(n,t){switch(t){case"column":return"margin-bottom";case"column-reverse":return"margin-top";case"row":default:return"rtl"===n?"margin-left":"margin-right";case"row-reverse":return"rtl"===n?"margin-right":"margin-left"}}let dse=(()=>{class n extends Br{constructor(e){super(),this.layoutConfig=e}buildStyles(e,i){let[r,s,...a]=e.split(" "),u=a.join(" ");const f=i.direction.indexOf("column")>-1?"column":"row",m=_C(f)?"max-width":"max-height",v=_C(f)?"min-width":"min-height",x=String(u).indexOf("calc")>-1,I=x||"auto"===u,B=String(u).indexOf("%")>-1&&!x,q=String(u).indexOf("px")>-1||String(u).indexOf("rem")>-1||String(u).indexOf("em")>-1||String(u).indexOf("vw")>-1||String(u).indexOf("vh")>-1;let ue=x||q;r="0"==r?0:r,s="0"==s?0:s;const ge=!r&&!s;let Oe={};const nt={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(u||""){case"":u="row"===f?"0%":!1!==this.layoutConfig.useColumnBasisZero?"0.000000001px":"auto";break;case"initial":case"nogrow":r=0,u="auto";break;case"grow":u="100%";break;case"noshrink":s=0,u="auto";break;case"auto":break;case"none":r=0,s=0,u="auto";break;default:!ue&&!B&&!isNaN(u)&&(u+="%"),"0%"===u&&(ue=!0),"0px"===u&&(u="0%"),Oe=Eh(nt,x?{"flex-grow":r,"flex-shrink":s,"flex-basis":ue?u:"100%"}:{flex:`${r} ${s} ${ue?u:"100%"}`})}return Oe.flex||Oe["flex-grow"]||(Oe=Eh(nt,x?{"flex-grow":r,"flex-shrink":s,"flex-basis":u}:{flex:`${r} ${s} ${u}`})),"0%"!==u&&"0px"!==u&&"0.000000001px"!==u&&"auto"!==u&&(Oe[v]=ge||ue&&r?u:null,Oe[m]=ge||!I&&s?u:null),Oe[v]||Oe[m]?i.hasWrap&&(Oe[x?"flex-basis":"flex"]=Oe[m]?x?Oe[m]:`${r} ${s} ${Oe[m]}`:x?Oe[v]:`${r} ${s} ${Oe[v]}`):Oe=Eh(nt,x?{"flex-grow":r,"flex-shrink":s,"flex-basis":u}:{flex:`${r} ${s} ${u}`}),Eh(Oe,{"box-sizing":"border-box"})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Uc))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const use=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let hse=(()=>{class n extends Cr{constructor(e,i,r,s,a){super(e,s,i,a),this.layoutConfig=r,this.marshal=a,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(e){this.flexShrink=e||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(e){this.flexGrow=e||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe(an(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe(an(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(e){const r=e.value.split(" ");this.direction=r[0],this.wrap=void 0!==r[1]&&"wrap"===r[1],this.triggerUpdate()}updateWithValue(e){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const r=this.direction,s=r.startsWith("row"),a=this.wrap;s&&a?this.styleCache=mse:s&&!a?this.styleCache=fse:!s&&a?this.styleCache=gse:!s&&!a&&(this.styleCache=pse);const f=pj(String(e).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(f.join(" "),{direction:r,hasWrap:a})}triggerReflow(){const e=this.activatedValue;if(void 0!==e){const i=pj(e+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,i.join(" "))}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Xi),o.Y36(Uc),o.Y36(dse),o.Y36(cr))},n.\u0275dir=o.lG2({type:n,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[o.qOj]}),n})(),jN=(()=>{class n extends hse{constructor(){super(...arguments),this.inputs=use}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[o.qOj]}),n})();const fse=new Map,pse=new Map,mse=new Map,gse=new Map;let Vse=(()=>{class n extends Br{buildStyles(e,i){const r={},[s,a]=e.split(" ");switch(s){case"center":r["justify-content"]="center";break;case"space-around":r["justify-content"]="space-around";break;case"space-between":r["justify-content"]="space-between";break;case"space-evenly":r["justify-content"]="space-evenly";break;case"end":case"flex-end":r["justify-content"]="flex-end";break;default:r["justify-content"]="flex-start"}switch(a){case"start":case"flex-start":r["align-items"]=r["align-content"]="flex-start";break;case"center":r["align-items"]=r["align-content"]="center";break;case"end":case"flex-end":r["align-items"]=r["align-content"]="flex-end";break;case"space-between":r["align-content"]="space-between",r["align-items"]="stretch";break;case"space-around":r["align-content"]="space-around",r["align-items"]="stretch";break;case"baseline":r["align-content"]="stretch",r["align-items"]="baseline";break;default:r["align-items"]=r["align-content"]="stretch"}return Eh(r,{display:i.inline?"inline-flex":"flex","flex-direction":i.layout,"box-sizing":"border-box","max-width":"stretch"===a?_C(i.layout)?null:"100%":null,"max-height":"stretch"===a&&_C(i.layout)?"100%":null})}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Use=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let Hse=(()=>{class n extends Cr{constructor(e,i,r,s){super(e,r,i,s),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe(an(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(e){const i=this.layout||"row",r=this.inline;"row"===i&&r?this.styleCache=Zse:"row"!==i||r?"row-reverse"===i&&r?this.styleCache=Yse:"row-reverse"!==i||r?"column"===i&&r?this.styleCache=$se:"column"!==i||r?"column-reverse"===i&&r?this.styleCache=Wse:"column-reverse"===i&&!r&&(this.styleCache=qse):this.styleCache=zse:this.styleCache=jse:this.styleCache=Gse,this.addStyles(e,{layout:i,inline:r})}onLayoutChange(e){const i=e.value.split(" ");this.layout=i[0],this.inline=e.value.includes("inline"),GA.find(r=>r===this.layout)||(this.layout="row"),this.triggerUpdate()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Xi),o.Y36(Vse),o.Y36(cr))},n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})(),bj=(()=>{class n extends Hse{constructor(){super(...arguments),this.inputs=Use}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[o.qOj]}),n})();const Gse=new Map,zse=new Map,jse=new Map,qse=new Map,Zse=new Map,$se=new Map,Yse=new Map,Wse=new Map;let wj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[LN,la]}),n})(),tae=(()=>{class n extends Cr{constructor(e,i,r,s,a,u,f){super(e,null,i,r),this.ngClassInstance=f,this.DIRECTIVE_KEY="ngClass",this.ngClassInstance||(this.ngClassInstance=new cn(s,a,e,u)),this.init(),this.setValue("","")}set klass(e){this.ngClassInstance.klass=e,this.setValue(e,"")}updateWithValue(e){this.ngClassInstance.ngClass=e,this.ngClassInstance.ngDoCheck()}ngDoCheck(){this.ngClassInstance.ngDoCheck()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Xi),o.Y36(cr),o.Y36(o.ZZ4),o.Y36(o.aQg),o.Y36(o.Qsj),o.Y36(cn,10))},n.\u0275dir=o.lG2({type:n,inputs:{klass:["class","klass"]},features:[o.qOj]}),n})();const nae=["ngClass","ngClass.xs","ngClass.sm","ngClass.md","ngClass.lg","ngClass.xl","ngClass.lt-sm","ngClass.lt-md","ngClass.lt-lg","ngClass.lt-xl","ngClass.gt-xs","ngClass.gt-sm","ngClass.gt-md","ngClass.gt-lg"];let qN=(()=>{class n extends tae{constructor(){super(...arguments),this.inputs=nae}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","ngClass",""],["","ngClass.xs",""],["","ngClass.sm",""],["","ngClass.md",""],["","ngClass.lg",""],["","ngClass.xl",""],["","ngClass.lt-sm",""],["","ngClass.lt-md",""],["","ngClass.lt-lg",""],["","ngClass.lt-xl",""],["","ngClass.gt-xs",""],["","ngClass.gt-sm",""],["","ngClass.gt-md",""],["","ngClass.gt-lg",""]],inputs:{ngClass:"ngClass","ngClass.xs":"ngClass.xs","ngClass.sm":"ngClass.sm","ngClass.md":"ngClass.md","ngClass.lg":"ngClass.lg","ngClass.xl":"ngClass.xl","ngClass.lt-sm":"ngClass.lt-sm","ngClass.lt-md":"ngClass.lt-md","ngClass.lt-lg":"ngClass.lt-lg","ngClass.lt-xl":"ngClass.lt-xl","ngClass.gt-xs":"ngClass.gt-xs","ngClass.gt-sm":"ngClass.gt-sm","ngClass.gt-md":"ngClass.gt-md","ngClass.gt-lg":"ngClass.gt-lg"},features:[o.qOj]}),n})();class aae{constructor(t,e,i=!0){this.key=t,this.value=e,this.key=i?t.replace(/['"]/g,"").trim():t.trim(),this.value=i?e.replace(/['"]/g,"").trim():e.trim(),this.value=this.value.replace(/;/,"")}}function xj(n){let t=typeof n;return"object"===t?n.constructor===Array?"array":n.constructor===Set?"set":"object":t}function Dj(n){const[t,...e]=n.split(":");return new aae(t,e.join(":"))}function Sj(n,t){return t.key&&(n[t.key]=t.value),n}let dae=(()=>{class n extends Cr{constructor(e,i,r,s,a,u,f,m,v){super(e,null,i,r),this.sanitizer=s,this.ngStyleInstance=f,this.DIRECTIVE_KEY="ngStyle",this.ngStyleInstance||(this.ngStyleInstance=new es(e,a,u)),this.init();const x=this.nativeElement.getAttribute("style")??"";this.fallbackStyles=this.buildStyleMap(x),this.isServer=m&&wo(v)}updateWithValue(e){const i=this.buildStyleMap(e);this.ngStyleInstance.ngStyle={...this.fallbackStyles,...i},this.isServer&&this.applyStyleToElement(i),this.ngStyleInstance.ngDoCheck()}clearStyles(){this.ngStyleInstance.ngStyle=this.fallbackStyles,this.ngStyleInstance.ngDoCheck()}buildStyleMap(e){const i=r=>this.sanitizer.sanitize(o.q3G.STYLE,r)??"";if(e)switch(xj(e)){case"string":return Tj(function lae(n,t=";"){return String(n).trim().split(t).map(e=>e.trim()).filter(e=>""!==e)}(e),i);case"array":return Tj(e,i);default:return function Cj(n,t){let e=[];return"set"===xj(n)?n.forEach(i=>e.push(i)):Object.keys(n).forEach(i=>{e.push(`${i}:${n[i]}`)}),function cae(n,t){return n.map(Dj).filter(i=>!!i).map(i=>(t&&(i.value=t(i.value)),i)).reduce(Sj,{})}(e,t)}(e,i)}return{}}ngDoCheck(){this.ngStyleInstance.ngDoCheck()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Xi),o.Y36(cr),o.Y36(sa),o.Y36(o.aQg),o.Y36(o.Qsj),o.Y36(es,10),o.Y36(Yv),o.Y36(o.Lbi))},n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})();const uae=["ngStyle","ngStyle.xs","ngStyle.sm","ngStyle.md","ngStyle.lg","ngStyle.xl","ngStyle.lt-sm","ngStyle.lt-md","ngStyle.lt-lg","ngStyle.lt-xl","ngStyle.gt-xs","ngStyle.gt-sm","ngStyle.gt-md","ngStyle.gt-lg"];let Ej=(()=>{class n extends dae{constructor(){super(...arguments),this.inputs=uae}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","ngStyle",""],["","ngStyle.xs",""],["","ngStyle.sm",""],["","ngStyle.md",""],["","ngStyle.lg",""],["","ngStyle.xl",""],["","ngStyle.lt-sm",""],["","ngStyle.lt-md",""],["","ngStyle.lt-lg",""],["","ngStyle.lt-xl",""],["","ngStyle.gt-xs",""],["","ngStyle.gt-sm",""],["","ngStyle.gt-md",""],["","ngStyle.gt-lg",""]],inputs:{ngStyle:"ngStyle","ngStyle.xs":"ngStyle.xs","ngStyle.sm":"ngStyle.sm","ngStyle.md":"ngStyle.md","ngStyle.lg":"ngStyle.lg","ngStyle.xl":"ngStyle.xl","ngStyle.lt-sm":"ngStyle.lt-sm","ngStyle.lt-md":"ngStyle.lt-md","ngStyle.lt-lg":"ngStyle.lt-lg","ngStyle.lt-xl":"ngStyle.lt-xl","ngStyle.gt-xs":"ngStyle.gt-xs","ngStyle.gt-sm":"ngStyle.gt-sm","ngStyle.gt-md":"ngStyle.gt-md","ngStyle.gt-lg":"ngStyle.gt-lg"},features:[o.qOj]}),n})();function Tj(n,t){return n.map(Dj).filter(i=>!!i).map(i=>(t&&(i.value=t(i.value)),i)).reduce(Sj,{})}let Aj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[LN]}),n})();function Ij(n,t){return t?e=>Hu(t.pipe(Tt(1),function hae(){return(0,pi.e)((n,t)=>{n.subscribe((0,mi.x)(t,Ou.Z))})}()),e.pipe(Ij(n))):(0,br.z)((e,i)=>n(e,i).pipe(Tt(1),aE(e)))}function kj(n,t=ua.z){const e=tN(n,t);return Ij(()=>e)}const fae=["mat-menu-item",""];function pae(n,t){1&n&&(o.O4$(),o.TgZ(0,"svg",3),o._UZ(1,"polygon",4),o.qZA())}const mae=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],gae=["mat-icon, [matMenuItemIcon]","*"];function _ae(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",0),o.NdJ("keydown",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._handleKeydown(r))})("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.closed.emit("click"))})("@transformMenu.start",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._onAnimationStart(r))})("@transformMenu.done",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._onAnimationDone(r))}),o.TgZ(1,"div",1),o.Hsn(2),o.qZA()()}if(2&n){const e=o.oxw();o.Q6J("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),o.uIk("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const yae=["*"],$N=new o.OlP("MAT_MENU_PANEL"),vae=Em(kf(class{}));let qA=(()=>{class n extends vae{constructor(e,i,r,s,a){super(),this._elementRef=e,this._document=i,this._focusMonitor=r,this._parentMenu=s,this._changeDetectorRef=a,this.role="menuitem",this._hovered=new gt.x,this._focused=new gt.x,this._highlighted=!1,this._triggersSubmenu=!1,s?.addItem?.(this)}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),i=e.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(j),o.Y36(Bl),o.Y36($N,8),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator","mdc-list-item"],hostVars:8,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i._checkDisabled(s)})("mouseenter",function(){return i._handleMouseEnter()}),2&e&&(o.uIk("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled)("disabled",i.disabled||null),o.ekj("mat-mdc-menu-item-highlighted",i._highlighted)("mat-mdc-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[o.qOj],attrs:fae,ngContentSelectors:gae,decls:5,vars:3,consts:[[1,"mdc-list-item__primary-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,i){1&e&&(o.F$t(mae),o.Hsn(0),o.TgZ(1,"span",0),o.Hsn(2,1),o.qZA(),o._UZ(3,"div",1),o.YNc(4,pae,2,0,"svg",2)),2&e&&(o.xp6(3),o.Q6J("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),o.xp6(1),o.Q6J("ngIf",i._triggersSubmenu))},dependencies:[Vn,ks],encapsulation:2,changeDetection:0}),n})();const bae=new o.OlP("MatMenuContent"),ZA={transformMenu:_r("transformMenu",[$n("void",dn({opacity:0,transform:"scale(0.8)"})),wi("void => enter",ui("120ms cubic-bezier(0, 0, 0.2, 1)",dn({opacity:1,transform:"scale(1)"}))),wi("* => void",ui("100ms 25ms linear",dn({opacity:0})))]),fadeInItems:_r("fadeInItems",[$n("showing",dn({opacity:1})),wi("void => *",[dn({opacity:0}),ui("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let wae=0;const Mj=new o.OlP("mat-menu-default-options",{providedIn:"root",factory:function xae(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let vC=(()=>{class n{get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=Nt(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Nt(e)}set panelClass(e){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}constructor(e,i,r,s){this._elementRef=e,this._ngZone=i,this._defaultOptions=r,this._changeDetectorRef=s,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new o.n_E,this._classList={},this._panelAnimationState="void",this._animationDone=new gt.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new o.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+wae++}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Y_(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(yr(this._directDescendantItems),Pn(e=>(0,Mi.T)(...e.map(i=>i._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=e.toArray(),s=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[s]&&!r[s].disabled?i.setActiveItem(s):i.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(yr(this._directDescendantItems),Pn(i=>(0,Mi.T)(...i.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const i=e.keyCode,r=this._keyManager;switch(i){case 27:Ka(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe(Tt(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const i=Math.min(this._baseElevation+e,24),r=`${this._elevationPrefix}${i}`,s=Object.keys(this._classList).find(a=>a.startsWith(this._elevationPrefix));(!s||s===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(e=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===e,r["mat-menu-after"]="after"===e,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(yr(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(Mj),o.Y36(o.sBO))},n.\u0275dir=o.lG2({type:n,contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,bae,5),o.Suo(r,qA,5),o.Suo(r,qA,4)),2&e){let s;o.iGM(s=o.CRH())&&(i.lazyContent=s.first),o.iGM(s=o.CRH())&&(i._allItems=s),o.iGM(s=o.CRH())&&(i.items=s)}},viewQuery:function(e,i){if(1&e&&o.Gf(o.Rgc,5),2&e){let r;o.iGM(r=o.CRH())&&(i.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),Cae=(()=>{class n extends vC{constructor(e,i,r,s){super(e,i,r,s),this._elevationPrefix="mat-elevation-z",this._baseElevation=8}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(Mj),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,i){2&e&&o.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[o._Bn([{provide:$N,useExisting:n}]),o.qOj],ngContentSelectors:yae,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mdc-menu-surface","mdc-menu-surface--open","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content","mdc-list"]],template:function(e,i){1&e&&(o.F$t(),o.YNc(0,_ae,3,6,"ng-template"))},dependencies:[cn],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:var(--mdc-menu-max-height, calc(100vh - 32px));margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;position:relative}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item.mdc-list-item{align-items:center}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item .mdc-list-item__primary-text{white-space:normal}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[ZA.transformMenu,ZA.fadeInItems]},changeDetection:0}),n})();const Rj=new o.OlP("mat-menu-scroll-strategy"),Sae={provide:Rj,deps:[Da],useFactory:function Dae(n){return()=>n.scrollStrategies.reposition()}},Oj=qr({passive:!0});let Eae=(()=>{class n{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(e,i,r,s,a,u,f,m,v){this._overlay=e,this._element=i,this._viewContainerRef=r,this._menuItemInstance=u,this._dir=f,this._focusMonitor=m,this._ngZone=v,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=C.w0.EMPTY,this._hoverSubscription=C.w0.EMPTY,this._menuCloseSubscription=C.w0.EMPTY,this._changeDetectorRef=(0,o.f3M)(o.sBO),this._handleTouchStart=x=>{J_(x)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new o.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new o.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=a instanceof vC?a:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,Oj)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,Oj),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const e=this.menu;if(this._menuOpen||!e)return;const i=this._createOverlay(e),r=i.getConfig(),s=r.positionStrategy;this._setPosition(e,s),r.hasBackdrop=null==e.hasBackdrop?!this.triggersSubmenu():e.hasBackdrop,i.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof vC&&(e._startAnimation(),e._directDescendantItems.changes.pipe(an(e.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof vC?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(oi(r=>"void"===r.toState),Tt(1),an(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let i=0,r=e.parentMenu;for(;r;)i++,r=r.parentMenu;e.setElevation(i)}}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){const i=this._getOverlayConfig(e);this._subscribeToPositions(e,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new rC({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,i){e.setPositionClasses&&i.positionChanges.subscribe(r=>{const s="start"===r.connectionPair.overlayX?"after":"before",a="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(s,a)):e.setPositionClasses(s,a)})}_setPosition(e,i){let[r,s]="before"===e.xPosition?["end","start"]:["start","end"],[a,u]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[f,m]=[a,u],[v,x]=[r,s],I=0;if(this.triggersSubmenu()){if(x=r="before"===e.xPosition?"start":"end",s=v="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const B=this._parentMaterialMenu.items.first;this._parentInnerPadding=B?B._getHostElement().offsetTop:0}I="bottom"===a?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(f="top"===a?"bottom":"top",m="top"===u?"bottom":"top");i.withPositions([{originX:r,originY:f,overlayX:v,overlayY:a,offsetY:I},{originX:s,originY:f,overlayX:x,overlayY:a,offsetY:I},{originX:r,originY:m,overlayX:v,overlayY:u,offsetY:-I},{originX:s,originY:m,overlayX:x,overlayY:u,offsetY:-I}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:se(),s=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(oi(a=>a!==this._menuItemInstance),oi(()=>this._menuOpen)):se();return(0,Mi.T)(e,r,s,i)}_handleMousedown(e){Q_(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const i=e.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(oi(e=>e===this._menuItemInstance&&!e.disabled),kj(0,eN)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof vC&&this.menu._isAnimating?this.menu._animationDone.pipe(Tt(1),kj(0,eN),an(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new Ov(e.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Da),o.Y36(o.SBq),o.Y36(o.s_b),o.Y36(Rj),o.Y36($N,8),o.Y36(qA,10),o.Y36(ri,8),o.Y36(Bl),o.Y36(o.R0b))},n.\u0275dir=o.lG2({type:n,hostVars:3,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i._handleClick(s)})("mousedown",function(s){return i._handleMousedown(s)})("keydown",function(s){return i._handleKeydown(s)}),2&e&&o.uIk("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),Tae=(()=>{class n extends Eae{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],exportAs:["matMenuTrigger"],features:[o.qOj]}),n})(),Aae=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Sae],imports:[or,Mm,Mn,Vv,Bv,Mn]}),n})();const Iae=["cardElement"],kae=["translateMenu"],Mae=["assingPersonMenu"],Rae=["openAIMenu"],Oae=["textarea"];function Pae(n,t){if(1&n&&o._UZ(0,"span",24,25),2&n){const e=o.oxw();o.Udp("background",e.assignedPerson.color)}}function Fae(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"p",26),o.NdJ("click",function(){const s=o.CHM(e).$implicit,a=o.oxw();return o.KtG(a.chatGPTevent(s.key))}),o._uU(1),o.qZA()}if(2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e.value," ")}}function Nae(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",28),o.NdJ("click",function(){const s=o.CHM(e).$implicit,a=o.oxw(2);return o.KtG(a.assignPerson(s))}),o.TgZ(1,"p",29),o._uU(2),o.qZA(),o._UZ(3,"span"),o.qZA()}if(2&n){const e=t.$implicit;o.xp6(2),o.Oqu(e.name),o.xp6(1),o.Udp("background",e.color)}}function Lae(n,t){if(1&n&&(o.ynx(0),o.YNc(1,Nae,4,3,"div",27),o.BQk()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",e.persons)}}function Bae(n,t){1&n&&(o.TgZ(0,"p",29),o._uU(1,"No characters created yet."),o.qZA()),2&n&&o.Udp("padding","5px")}function Vae(n,t){if(1&n){const e=o.EpF();o.ynx(0,30),o.TgZ(1,"h3",29),o._uU(2),o.qZA(),o._UZ(3,"span",31),o.TgZ(4,"div",32),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.removePerson())}),o.TgZ(5,"mat-icon"),o._uU(6,"remove"),o.qZA()(),o.BQk()}if(2&n){const e=o.oxw();o.xp6(2),o.Oqu(e.assignedPerson.name),o.xp6(1),o.Udp("background",e.assignedPerson.color)}}function Uae(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div")(1,"button",33),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.openCommentDialog())}),o.TgZ(2,"mat-icon"),o._uU(3,"comment"),o.qZA()()()}}function Hae(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"Invalid time format."),o.qZA())}const Gae=function(n){return{"focused-box":n}};let zae=(()=>{class n{constructor(e,i){this.youtube=e,this.dialog=i,this.loading$=new o.vpe,this.deleteDialogBoxEvent=new o.vpe,this.dialogEmitter=new o.vpe,this.translateSubtitle=new o.vpe,this.chatGPTEventEmitter=new o.vpe,this.isDirty=new o.vpe,this.wordCount=0,this.characterCount=0,this.timingEstimation=0,this.openAIMenuMap=new Map([["translate","Translate this sentence"],["sad","Give this sentence a sadder tone"],["joyful","Give this sentence a joyful tone"],["shorter","Make this sentence shorter"],["longer","Make this sentence longer"]])}ngOnChanges(e){this.loading$.emit(!0),!0===e?.hasFocus?.currentValue&&this.cardElement?.nativeElement?.scrollIntoView({behavior:"smooth",block:"center"}),this.wordCounter(),this.characterCounter(),this.subtitlingTimingEstimation(),this.loading$.emit(!1)}openCommentDialog(){this.dialog.open(Doe,{width:"440px",height:"250px"}).afterClosed().subscribe(i=>{if(i){const r=`#${i}#`,s=this.getDialogControl("subtitles");s.setValue(`${r}\n${s.value}`)}})}getDialogControl(e){return this.dialogGroup.get(e)}deleteDialogBox(e){this.deleteDialogBoxEvent.emit(e),this.isDirty.emit(!0)}emitDialogId(e){this.dialogEmitter.emit({id:this.dialogId,control:e})}assignPerson(e){this.assignedPerson=e,this.isDirty.emit(!0)}removePerson(){this.assignedPerson=null}translateSub(){this.dialog.open(Jz,{width:"600px",data:this.currentLanguage$}).afterClosed().subscribe({next:e=>{e&&this.translateSubtitle.emit({lang:e,id:this.dialogId})}})}chatGPTevent(e){const i={dialogId:this.dialogId,text:this.dialogGroup.get("subtitles").value,action:e};i.text&&this.chatGPTEventEmitter.emit(i)}seekToPlayer(e){this.youtube.seekToPoint(zs(Dh(e)))}wordCounter(){this.wordCount=this.dialogGroup.get("subtitles").value?this.dialogGroup.get("subtitles").value?.split(/\s+/).filter(i=>i.length>0)?.length:0}characterCounter(){this.characterCount=this.dialogGroup.get("subtitles").value.split(/\S/g).length-1}subtitlingTimingEstimation(){this.timingEstimation=240*this.wordCount+60*this.characterCount,this.subtitleValidityEstimation()}subtitleValidityEstimation(){const e=Dh(this.getDialogControl("start_time").value),i=Dh(this.getDialogControl("end_time").value),r=Math.round(1e3*(zs(i)-zs(e)));r-this.timingEstimation<0?(this.estimationTooltip="Based on the average reading speed of an adult, this subtitle length is too long for it's set Time range: "+r+"ms",this.estimationIcon="report"):(this.estimationTooltip="Based on the average reading speed of an adult, this subtitle length is VALID for it's set Time range: "+r+"ms",this.estimationIcon="done")}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(i_),o.Y36(cl))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["dialog-content"]],viewQuery:function(i,r){if(1&i&&(o.Gf(Iae,5),o.Gf(kae,5),o.Gf(Mae,5),o.Gf(Rae,5),o.Gf(Oae,5)),2&i){let s;o.iGM(s=o.CRH())&&(r.cardElement=s.first),o.iGM(s=o.CRH())&&(r.translateMenu=s.first),o.iGM(s=o.CRH())&&(r.assignPersonMenu=s.first),o.iGM(s=o.CRH())&&(r.openAIMenu=s.first),o.iGM(s=o.CRH())&&(r.textarea=s.first)}},inputs:{dialogGroup:"dialogGroup",index:"index",dialogId:"dialogId",persons:"persons",supportedLanguages:"supportedLanguages",hasFocus:"hasFocus",canOnlyView:"canOnlyView",canComment:"canComment",currentLanguage$:"currentLanguage$"},outputs:{loading$:"loading$",deleteDialogBoxEvent:"deleteDialogBoxEvent",dialogEmitter:"dialogEmitter",translateSubtitle:"translateSubtitle",chatGPTEventEmitter:"chatGPTEventEmitter",isDirty:"isDirty"},features:[o.TTD],decls:48,vars:32,consts:[[3,"ngClass"],["class","header-assigment-ribbon",3,"background",4,"ngIf"],["cardElement",""],[3,"className"],[3,"matTooltip"],["mat-icon-button","","matTooltip","ChatGPT Helper",1,"gpt-sub-btn",3,"disabled","matMenuTriggerFor"],["width","48","height","48","src","assets/images/chat_gpt_logo.svg","alt","chatgpt"],["openAIMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-icon-button","","matTooltip","Translate this subtitle",1,"translate-sub-btn",3,"disabled","click"],["mat-icon-button","","matTooltip","Assign Person to this subtitle",1,"assign-person-btn",3,"disabled","matMenuTriggerFor"],["assignPersonMenu","matMenu"],[4,"ngIf","ngIfElse"],["noPersons",""],["class","sub-character-wrapper",4,"ngIf"],["mat-icon-button","","matTooltip","Delete Subtitle",1,"delete-action",3,"disabled","click"],[4,"ngIf"],["subscriptSizing","dynamic"],["matInput","","type","text",1,"sub-text-area",3,"readonly","formControl","input","click"],["textarea",""],["fxLayout","column","fxLayoutGap","10px","fxFlex","30"],["subscriptSizing","dynamic",3,"click"],["matInput","","matTooltip","mm:ss:ms","type","text",3,"formControl","maxlength","input"],["matInput","","matTooltip","mm:ss:ms","type","text",3,"readonly","formControl","maxlength","input"],[1,"header-assigment-ribbon"],["card",""],["mat-menu-item","",3,"click"],["class","person-menu-item","mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-menu-item","",1,"person-menu-item",3,"click"],[1,"mat-typography"],[1,"sub-character-wrapper"],[1,"person-item"],["matTooltip","Remove Assigned Character",1,"remove-person-btn",3,"click"],["matTooltip","Add comment","subscriptSizing","dynamic","mat-icon-button","",3,"click"]],template:function(i,r){if(1&i&&(o.TgZ(0,"mat-card",0),o.YNc(1,Pae,2,2,"span",1),o.TgZ(2,"mat-card-header")(3,"mat-card-title",null,2),o._uU(5),o.qZA(),o.TgZ(6,"div",3)(7,"mat-icon",4),o._uU(8),o.qZA()(),o.TgZ(9,"button",5),o._UZ(10,"img",6),o.qZA(),o.TgZ(11,"mat-menu",null,7),o.YNc(13,Fae,2,1,"p",8),o.ALo(14,"keyvalue"),o.qZA(),o.TgZ(15,"button",9),o.NdJ("click",function(){return r.translateSub()}),o.TgZ(16,"mat-icon"),o._uU(17,"g_translate"),o.qZA()(),o.TgZ(18,"button",10)(19,"mat-icon"),o._uU(20,"person_add"),o.qZA()(),o.TgZ(21,"mat-menu",null,11),o.YNc(23,Lae,2,1,"ng-container",12),o.YNc(24,Bae,2,2,"ng-template",null,13,o.W1O),o.qZA(),o.YNc(26,Vae,7,3,"ng-container",14),o.TgZ(27,"button",15),o.NdJ("click",function(){return r.deleteDialogBox(r.dialogId)}),o.TgZ(28,"mat-icon"),o._uU(29,"delete"),o.qZA()()(),o.TgZ(30,"mat-card-content"),o.YNc(31,Uae,4,0,"div",16),o.TgZ(32,"mat-form-field",17)(33,"textarea",18,19),o.NdJ("input",function(){return r.wordCounter(),r.characterCounter(),r.subtitlingTimingEstimation()})("click",function(){return r.seekToPlayer(r.dialogGroup.get("start_time").value)}),o.qZA()(),o.TgZ(35,"div",20)(36,"mat-form-field",21),o.NdJ("click",function(){return r.seekToPlayer(r.dialogGroup.get("start_time").value)}),o.TgZ(37,"mat-label"),o._uU(38,"From:"),o.qZA(),o.TgZ(39,"input",22),o.NdJ("input",function(){return r.emitDialogId("start_time"),r.subtitlingTimingEstimation()}),o.qZA()(),o.TgZ(40,"mat-form-field",21),o.NdJ("click",function(){return r.seekToPlayer(r.dialogGroup.get("end_time").value)}),o.TgZ(41,"mat-label"),o._uU(42,"To:"),o.qZA(),o.TgZ(43,"input",23),o.NdJ("input",function(){return r.emitDialogId("end_time"),r.subtitlingTimingEstimation()}),o.qZA(),o.YNc(44,Hae,2,0,"mat-error",16),o.qZA()()(),o.TgZ(45,"mat-card-subtitle")(46,"span"),o._uU(47),o.qZA()()()),2&i){const s=o.MAs(12),a=o.MAs(22),u=o.MAs(25);o.Q6J("ngClass",o.VKq(30,Gae,r.hasFocus)),o.xp6(1),o.Q6J("ngIf",r.assignedPerson),o.xp6(4),o.hij("Subtitle ",r.index+1,""),o.xp6(1),o.Q6J("className","estimation-icon-"+r.estimationIcon),o.xp6(1),o.Q6J("matTooltip",r.estimationTooltip),o.xp6(1),o.Oqu(r.estimationIcon),o.xp6(1),o.Q6J("disabled",r.canOnlyView)("matMenuTriggerFor",s),o.xp6(4),o.Q6J("ngForOf",o.lcZ(14,28,r.openAIMenuMap)),o.xp6(2),o.Q6J("disabled",r.canOnlyView),o.xp6(3),o.Q6J("disabled",r.canOnlyView)("matMenuTriggerFor",a),o.xp6(5),o.Q6J("ngIf",r.persons)("ngIfElse",u),o.xp6(3),o.Q6J("ngIf",r.assignedPerson),o.xp6(1),o.Q6J("disabled",r.canOnlyView),o.xp6(4),o.Q6J("ngIf",r.canComment),o.xp6(2),o.Q6J("readonly",r.canOnlyView)("formControl",r.getDialogControl("subtitles")),o.xp6(6),o.Q6J("formControl",r.getDialogControl("start_time"))("maxlength",9),o.xp6(4),o.Q6J("readonly",r.canOnlyView)("formControl",r.getDialogControl("end_time"))("maxlength",9),o.xp6(1),o.Q6J("ngIf",r.getDialogControl("end_time").hasError("invalidTimeFormat")),o.xp6(3),o.lnq("",r.wordCount," words, ",r.characterCount," characters, ",r.timingEstimation," ms estimated reading time.")}},dependencies:[cn,Fi,Vn,Rs,fa,Fm,el,cs,Mr,M0,w0,Xg,Qo,_s,GN,zN,jN,qN,n_,cC,Hv,AG,Rp,Cae,qA,Tae,au],styles:[".mat-mdc-form-field[_ngcontent-%COMP%]{flex-grow:1;padding-right:15px}.mat-mdc-card-content[_ngcontent-%COMP%]{display:flex;min-width:650px}.sub-text-area[_ngcontent-%COMP%]{min-height:100px!important}.mat-mdc-card-header[_ngcontent-%COMP%]{padding:8px 16px;align-items:center;gap:15px}.delete-action[_ngcontent-%COMP%]{margin-left:auto}.delete-action[_ngcontent-%COMP%]:hover{color:red}.mat-mdc-card[_ngcontent-%COMP%]{margin-bottom:15px}.mat-mdc-card-subtitle[_ngcontent-%COMP%]{padding-top:4px;padding-left:16px;padding-bottom:4px}.mat-icon[_ngcontent-%COMP%]{width:24px;height:24px;font-size:24px}.span-color[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:24px;height:24px}.person-menu-item[_ngcontent-%COMP%]{display:flex;align-items:center}.person-menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;width:24px;height:24px;border-radius:5px}.person-item[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;border-radius:5px}.header-assigment-ribbon[_ngcontent-%COMP%]{display:inline-block;width:100%;height:4px;border-radius:90%}.mat-typography[_ngcontent-%COMP%]{margin-bottom:0}.focused-box[_ngcontent-%COMP%]{border:2px solid #4d68f147}.gpt-sub-btn[_ngcontent-%COMP%]:hover{filter:invert(17%) sepia(52%) saturate(4775%) hue-rotate(99deg) brightness(96%) contrast(103%)}.translate-sub-btn[_ngcontent-%COMP%]:hover{color:#0016a1}.assign-person-btn[_ngcontent-%COMP%]:hover{color:#930086}.remove-person-btn[_ngcontent-%COMP%]{border-radius:50%;text-align:center;height:32px;width:32px}.remove-person-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-top:5px}.remove-person-btn[_ngcontent-%COMP%]:hover{cursor:pointer;display:block;background-color:#efefef;color:#b20000}.estimation-icon-report[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover{cursor:help;color:red}.estimation-icon-done[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover{cursor:help;color:green}"]})}return n})(),jae=(()=>{class n{constructor(){this.fileContent$=new E(null),this.isFormDirty=new o.vpe,this.fileContentEmit=new o.vpe}selectFile(e){let i=e.target.files[0];this.readFile(i).then(r=>{this.fileContent$.next(r),this.fileContentEmit.emit({data:this.fileContent$,format:i.name.split(".")[1]})})}readFile(e){var i=this;return(0,Ge.Z)(function*(){return new Promise((r,s)=>{const a=new FileReader;if(a.onload=u=>(i.fileContent$.next(a.result),i.isFormDirty.emit(!0),r(u.target.result)),a.onerror=()=>(console.error(`FileReader failed on file ${e.name}.`),s(null)),!e)return console.error("No file to read."),s(null);a.readAsText(e)})})()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["import-button"]],inputs:{acceptedFiles:"acceptedFiles"},outputs:{isFormDirty:"isFormDirty",fileContentEmit:"fileContentEmit"},decls:5,vars:1,consts:[["mat-icon-button","","color","primary","matTooltip","Import Subtitles",3,"click"],["hidden","true","id","uploadFile","type","file",3,"accept","change"],["uploadFile",""]],template:function(i,r){if(1&i){const s=o.EpF();o.TgZ(0,"button",0),o.NdJ("click",function(){o.CHM(s);const u=o.MAs(4);return o.KtG(u.click())}),o.TgZ(1,"mat-icon"),o._uU(2,"file_upload"),o.qZA()(),o.TgZ(3,"input",1,2),o.NdJ("change",function(u){return r.selectFile(u)}),o.qZA()}2&i&&(o.xp6(3),o.Q6J("accept",r.acceptedFiles))},dependencies:[Xg,Qo,_s],styles:["button[_ngcontent-%COMP%]{transition:scale .14s ease}button[_ngcontent-%COMP%]:hover{scale:118%}"]})}return n})();const qae=["translateMenu"],Zae=["scrollContainer"];function $ae(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"dialog-content",14),o.NdJ("loading$",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.setLoading(r))})("translateSubtitle",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.translateSingleSubtitle(r))})("chatGPTEventEmitter",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.chatGPTEventDispatcher(r))})("deleteDialogBoxEvent",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.deleteDialogBox(r))})("dialogEmitter",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.timeRangeValidation(r))})("isDirty",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.setFormDirtyStatus(r))}),o.ALo(1,"async"),o.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=o.oxw();let s;o.Q6J("dialogGroup",r.getDialogControl(e.id))("index",i)("dialogId",e.id)("persons",r.characters.length<=0?null:r.characters)("hasFocus",r.focusedDialogBox===e.id)("supportedLanguages",null==(s=o.lcZ(1,9,r.supportedLanguages$))||null==s.data?null:s.data.languages)("currentLanguage$",r.currentLanguage$)("canOnlyView",r.canOnlyView)("canComment",r.canComment)}}function Yae(n,t){1&n&&o._UZ(0,"fullscreen-loader")}let Pj=(()=>{class n{constructor(e,i,r,s,a,u,f,m,v,x,I,B,q){this.fb=e,this.fileService=i,this.storage=r,this.google=s,this.dialog=a,this.ttsService=u,this.openai=f,this.youtube=m,this.snackbar=v,this.charService=x,this.auth=I,this.downService=B,this.loadingService=q,this.dialogBoxId=1,this._supportedLanguages$=new E(null),this._translatedText$=new E(null),this.subtitles$=new E(null),this.characters=[],this.loading=new E(null),this.isDirty=!1,this.initSubtitles=!0,this.loading$=new o.vpe,this.subtitleUploadEmitter=new o.vpe,this.formStatusChange=new o.vpe,this.navigateTTS=new o.vpe,this.captionsPreviewDispatch=new o.vpe,this.dialogBoxes=[{id:1,text:"",start_time:"",end_time:""}]}get supportedLanguages$(){return this._supportedLanguages$}ngOnInit(){this.user$=this.auth.user,this.loading$.emit(!0),this.user$.subscribe({next:e=>{e&&(this.uid=e.uid,this.charService.getCharactersOfSubtitle(this.uid,this.videoId,this.isoCode,this.subtitleName).subscribe(i=>{i&&(this.characters=i,this.newCharacters=[...this.characters])}))}}),this.loadingService.loading$.subscribe(e=>{this.loading.next(e)}),this.initSubtitles&&(this.ownerId.length<=0?this.storage.getSubtitleURL(this.videoId,this.isoCode,this.subtitleName).pipe(Tt(1)).subscribe(e=>{e&&this.storage.fetchSubtitleFile(e).subscribe(i=>{this.subtitles$.next(i),this.handleFileUpload({data:this.subtitles$,format:this.subtitleName.split(".")[1]})})}):this.storage.getSubtitleURLForShared(this.ownerId,this.videoId,this.isoCode,this.subtitleName).pipe(Tt(1)).subscribe(e=>{e&&this.storage.fetchSubtitleFile(e).subscribe(i=>{this.subtitles$.next(i),this.handleFileUpload({data:this.subtitles$,format:this.subtitleName.split(".")[1]})})})),this.form=this.fb.group({"1-dialogBox":this.fb.group({subtitles:this.fb.control("",[Ao.pattern("")]),start_time:this.fb.control("00:00.000"),end_time:this.fb.control("00:02.000")})}),this.form.statusChanges.pipe().subscribe(()=>{this.isDirty=this.form.dirty,this.isDirty&&this.formStatusChange.emit(this.isDirty)}),this.youtube.getCurrentTime().pipe(Db(1)).subscribe(e=>{const i=this.dialogBoxes.find(r=>{const s=this.getSecondsFromTime(this.form.get(r.id+"-dialogBox").get("start_time").value),a=this.getSecondsFromTime(this.form.get(r.id+"-dialogBox").get("end_time").value);return e>=s&&e<=a});i?(this.setFocusToDialogBoxItem(i.id),this.youtube.updateCurrentCaption(this.form.get(i.id+"-dialogBox").get("subtitles").value)):(this.focusedDialogBox=void 0,this.youtube.updateCurrentCaption(null))}),this.getSupportedLanguages(),this.loading$.emit(!1)}setLoading(e){this.loading$.emit(e)}setFocusToDialogBoxItem(e){this.focusedDialogBox=e}setFormDirtyStatus(e){this.formStatusChange.emit(e)}getDialogControl(e){return this.form.get(e+"-dialogBox")}setIsFormDirty(e){this.formStatusChange.emit(e),this.isDirty=e}addDialogBox(e=null,i){this.dialogBoxId++,this.form.addControl(this.dialogBoxId+"-dialogBox",this.fb.group({subtitles:this.fb.control(e?.subtitleText?e.subtitleText:""),start_time:this.fb.control(e?.start_time?e.start_time:this.setStartTimeControlValue()),end_time:this.fb.control(e?.end_time?e.end_time:this.setEndTimeControlValue())})),this.dialogBoxes.push({id:this.dialogBoxId,text:e?.subtitleText,start_time:e?.start_time,end_time:e?.end_time}),i&&(this.formStatusChange.emit(!0),this.isDirty=!0)}openDialogForBatchDialogCreation(){this.dialog.open(Ire,{width:"500px"}).afterClosed().pipe(Tt(1)).subscribe({next:e=>{e>0&&this.batchCreateDialog(e)},error:e=>{console.error(e)}})}batchCreateDialog(e){this.formStatusChange.emit(!0);const i=this.videoDurationToSeconds(this.videoDuration),r=Object.keys(this.form.controls);for(let a=parseInt(r[r.length-1].split("-")[0]);a<i/e;a++)this.addDialogBox({start_time:this.form.get(a+"-dialogBox").get("end_time").value,end_time:this.intervalAddition(this.form.get(a+"-dialogBox").get("end_time").value,e),subtitleText:""},!0);this.loadingService.setLoading(!1)}intervalAddition(e,i){const[r,s]=e.split(":"),[a,u]=s.split("."),m=1e3*(60*parseInt(r)+parseInt(a))+parseInt(u)+1e3*i,v=Math.floor(m/6e4),x=Math.floor(m%6e4/1e3),I=m%1e3;return`${String(v).padStart(2,"0")}:${String(x).padStart(2,"0")}.${String(I).padStart(3,"0")}`}videoDurationToSeconds(e){let i=e.match(/PT(\d+H)?(\d+M)?(\d+S)?/);return i=i.slice(1).map(function(u){if(null!=u)return u.replace(/\D/,"")}),3600*(parseInt(i[0])||0)+60*(parseInt(i[1])||0)+(parseInt(i[2])||0)}deleteDialogBox(e){this.form.removeControl(e+"-dialogBox"),this.dialogBoxes=this.dialogBoxes.filter(i=>i.id!==e)}setStartTimeControlValue(){if(this.dialogBoxes.length){const e=Object.keys(this.form.controls).length-1,r=Object.keys(this.form.controls)[e].toString();return this.form?.get(r)?.get("end_time")?.value}return"00:00.000"}setEndTimeControlValue(){if(this.dialogBoxes.length){const e=Object.keys(this.form.controls).length-1,r=Object.keys(this.form.controls)[e].toString(),s=this.form?.get(r)?.get("end_time")?.value,[a,u]=s.split("."),[f,m]=a.split(":");let v=parseInt(m)+2,x=parseInt(f);return v>=60&&(x+=Math.floor(v/60),v%=60),`${x.toString().padStart(2,"0")}:${v.toString().padStart(2,"0")}.${u}`}return"00:02.000"}timeRangeValidation(e){const i=this.form.get(e.id-1+"-dialogBox"),r=this.form.get(e.id+"-dialogBox"),s=this.form.get(e.id+1+"-dialogBox"),a=Dh(r.get("start_time").value),u=Dh(r.get("end_time").value);"start_time"===e.control?this.startTimeValidation(i,r,a,u):this.endTimeValidation(s,r,a,u)}startTimeValidation(e,i,r,s){zs(r)>zs(s)?i.get("start_time").setErrors({higherStartTime:!0}):i.get("start_time").setErrors(null),e&&(zs(Dh(e?.get("end_time")?.value))>zs(r)?(i.get("start_time").setErrors({higherPrevEndTime:!0}),e.get("end_time").setErrors({higherPrevEndTime:!0})):zs(r)>zs(s)?i.get("start_time").setErrors({higherStartTime:!0}):(i.get("start_time").setErrors(null),e.get("end_time").setErrors(null)),i.get("start_time").markAsTouched(),e.get("end_time").markAsTouched())}endTimeValidation(e,i,r,s){zs(r)>zs(s)?i.get("end_time").setErrors({higherStartTime:!0}):i.get("end_time").setErrors(null),e&&(zs(Dh(e?.get("start_time")?.value))<zs(s)?e.get("start_time").setErrors({higherPrevEndTime:!0}):e.get("start_time").setErrors(null),i.get("end_time").markAsTouched(),e.get("start_time").markAsTouched())}getSecondsFromTime(e){const[i,r]=e.split(":").map(parseFloat);return 60*i+r}openDialogToTranslateSubtitles(){this.dialog.open(Jz,{width:"600px",data:this.currentLanguage$}).afterClosed().subscribe({next:e=>{e&&this.translateAllSubtitles(e)}})}translateAllSubtitles(e){let i={q:[],target:e},r={controlsName:[]};Object.keys(this.form.controls).forEach(s=>{const a=this.form.get(s).get("subtitles").value;a&&(i.q.push(a),r.controlsName.push(s))}),i.q&&(this.google.translate(i).subscribe(s=>{this._translatedText$.next(s);let a=this._translatedText$.value.data.translations;if(a)for(let u=0;u<r.controlsName.length;u++)this.form.get(r.controlsName[u]).get("subtitles").setValue(a[u].translatedText)}),this.formStatusChange.emit(!0),this.isDirty=!0,this.snackbar.open("Subtitles translated successfully","OK",{duration:3500}))}translateSingleSubtitle(e){let i={q:[this.form.get(e.id+"-dialogBox").get("subtitles").value],target:e.lang};this.google.translate(i).subscribe(r=>{r&&(this.form.get(e.id+"-dialogBox").get("subtitles").setValue(r.data.translations[0].translatedText),this.formStatusChange.emit(!0),this.isDirty=!0)})}chatGPTEventDispatcher(e){this.openai.getDataFromOpenAI(e).subscribe(i=>{i&&this.dialog.open(Are,{width:"700px",data:{current_text:this.form.get(e.dialogId+"-dialogBox").get("subtitles").value,new_text:i}}).afterClosed().pipe(Tt(1)).subscribe(r=>{r&&this.form.get(e.dialogId+"-dialogBox").get("subtitles").setValue(i)})})}getSupportedLanguages(){this.google.getSupportedLanguages().pipe((0,Un.b)(()=>{})).subscribe(e=>{this._supportedLanguages$.next(e)})}openPersonCreationModal(){this.dialog.open(Ere,{width:"600px",data:this.characters}).afterClosed().subscribe({next:e=>{e&&(this.newCharacters=e,this.saveCharacters(),this.characters=[...this.newCharacters],this.formStatusChange.emit(!0),this.isDirty=!0)}})}saveCharacters(){this.charService.deleteCharacter(this.uid,this.videoId,this.isoCode,this.subtitleName,this.characters)&&this.charService.saveCharacters(this.uid,this.videoId,this.isoCode,this.subtitleName,this.newCharacters)?this.snackbar.open("Your characters have been saved!","OK",{duration:3500}):this.snackbar.open("There was a problem saving your characters","OK",{duration:3500})}uploadSubtitle(){this.subtitleUploadEmitter.emit(this.createSubtitleBlob(this.subtitleName.split(".")[1])),this.isDirty=!1}createSubtitleBlob(e){let i="";return Object.keys(this.form.controls).forEach(r=>{const s=this.form.get(r);i+=`${"00:"+s.get("start_time").value},${"00:"+s.get("end_time").value}\n${s.get("subtitles").value}\n\n`}),new Blob([i],{type:"text/"+e+";charset=utf8"})}openDownloadDialog(){this.dialog.open(Gre,{width:"500px",data:this.subtitleName}).afterClosed().subscribe({next:e=>{if(e)switch(e){case"srt":this.handleFileDownload(".srt");break;case"sbv":this.handleFileDownload(".sbv");break;case"both":this.handleMultipleFilesDownload()}},error:e=>{console.error("Error: "+e.message)}})}handleMultipleFilesDownload(){let e=[],i=[];e.push(this.createSubtitleBlob("srt")),e.push(this.createSubtitleBlob("sbv")),i.push(this.subtitleName.split(".")[1]+".srt"),i.push(this.subtitleName.split(".")[1]+".sbv"),this.downService.downloadSubtitleFiles(e,i)}handleFileDownload(e){let i=this.subtitleName.split(".")[0];const r=this.createSubtitleBlob(e.split(".")[1]),s=window.URL.createObjectURL(r),a=document.createElement("a");a.href=s,document.body.appendChild(a),a.download=i+e,a.click(),window.URL.revokeObjectURL(s),document.body.removeChild(a)}handleFileUpload(e){let f,i=e.data.value,r=[],s=0,a=0,u=0;switch(e.format){case"sbv":case"srt":r=this.fileService.cleanMultilineString(i);break;case"txt":r=this.fileService.youtubeTranscriptParse(i);break;default:this.snackbar.open("Format not supported!","DISMISS",{duration:5e3})}if(r.length){Object.keys(this.form.controls).forEach(m=>{this.form.removeControl(m)}),this.dialogBoxes=[],this.dialogBoxId=0,s=r.length;for(let m of r)this.addDialogBox(m,!1),m.subtitleText.length>0?this.google.detectLanguage(m.subtitleText).subscribe({next:v=>{v&&(u+=v.data.detections[0][0].language===this.isoCode?1:0)},error:v=>{console.error(v)},complete:()=>{a+=1,a==s&&(f=u/a*100,this.checkIfSubIsDifferentLang(f))}}):s-=1}}checkIfSubIsDifferentLang(e){e<50&&this.dialog.open(woe,{width:"500px",data:this.currentLanguage$}).afterClosed().subscribe({next:i=>{i&&this.translateAllSubtitles(i)}})}checkIfChangesToGenerateSpeech(){this.isDirty?this.dialog.open(Tre,{width:"500px"}).afterClosed().subscribe(e=>{e&&this.generateSpeechInit()}):this.generateSpeechInit()}generateSpeechInit(){let e=[];Object.keys(this.form.controls).forEach(i=>{const r=Dh(this.form.get(i).get("start_time").value),s=Dh(this.form.get(i).get("end_time").value),a={text:this.form.get(i).get("subtitles").value,totalDuration:Math.floor(1e3*(zs(s)-zs(r)))+"ms",start_time:this.form.get(i).get("start_time").value,end_time:this.form.get(i).get("end_time").value};e.push(a)}),this.ttsService.set_initContentSSML(e),this.navigateTTS.emit()}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(Jm),o.Y36(RN),o.Y36(s_),o.Y36(ul),o.Y36(cl),o.Y36(Xz),o.Y36(xoe),o.Y36(i_),o.Y36(Sa),o.Y36(Coe),o.Y36(Ea),o.Y36(ON),o.Y36(Bz))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["dialog-component"]],viewQuery:function(i,r){if(1&i&&(o.Gf(qae,5),o.Gf(Zae,5)),2&i){let s;o.iGM(s=o.CRH())&&(r.translateMenu=s.first),o.iGM(s=o.CRH())&&(r.scrollContainer=s)}},inputs:{canOnlyView:"canOnlyView",canComment:"canComment",initSubtitles:"initSubtitles",subtitleName:"subtitleName",videoId:"videoId",isoCode:"isoCode",videoDuration:"videoDuration",currentLanguage$:"currentLanguage$",ownerId:"ownerId"},outputs:{loading$:"loading$",subtitleUploadEmitter:"subtitleUploadEmitter",formStatusChange:"formStatusChange",navigateTTS:"navigateTTS",captionsPreviewDispatch:"captionsPreviewDispatch"},features:[o._Bn([RN,ul,s_])],decls:29,vars:7,consts:[[1,"dialog-wrapper"],[1,"button-wrapper"],["mat-icon-button","","color","primary","matTooltip","Add Dialog Box",3,"click"],["mat-icon-button","","color","primary","matTooltip","Batch Add Dialog Boxes",3,"click"],["mat-icon-button","","color","primary","matTooltip","Translate all subtitles",3,"click"],[3,"acceptedFiles","fileContentEmit","isFormDirty"],["mat-icon-button","","color","primary","matTooltip","Download Subtitles",3,"click"],["mat-icon-button","","color","primary","matTooltip","Manage Characters/Voice actors to assign them to subtitles",3,"disabled","click"],["mat-icon-button","","color","primary","matTooltip","Generete Voices/Speech for your subtitles",3,"disabled","click"],["mat-icon-button","","color","primary","matTooltip","Save",3,"click"],[1,"main-content_wrapper"],["scrollContainer",""],[3,"dialogGroup","index","dialogId","persons","hasFocus","supportedLanguages","currentLanguage$","canOnlyView","canComment","loading$","translateSubtitle","chatGPTEventEmitter","deleteDialogBoxEvent","dialogEmitter","isDirty",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"dialogGroup","index","dialogId","persons","hasFocus","supportedLanguages","currentLanguage$","canOnlyView","canComment","loading$","translateSubtitle","chatGPTEventEmitter","deleteDialogBoxEvent","dialogEmitter","isDirty"]],template:function(i,r){1&i&&(o.TgZ(0,"div",0)(1,"div",1)(2,"button",2),o.NdJ("click",function(){return r.addDialogBox(null,!0)}),o.TgZ(3,"mat-icon"),o._uU(4,"add"),o.qZA()(),o.TgZ(5,"button",3),o.NdJ("click",function(){return r.openDialogForBatchDialogCreation()}),o.TgZ(6,"mat-icon"),o._uU(7,"library_add"),o.qZA()(),o.TgZ(8,"button",4),o.NdJ("click",function(){return r.openDialogToTranslateSubtitles()}),o.TgZ(9,"mat-icon"),o._uU(10,"g_translate"),o.qZA()(),o.TgZ(11,"import-button",5),o.NdJ("fileContentEmit",function(a){return r.handleFileUpload(a)})("isFormDirty",function(a){return r.setIsFormDirty(a)}),o.qZA(),o.TgZ(12,"button",6),o.NdJ("click",function(){return r.openDownloadDialog()}),o.TgZ(13,"mat-icon"),o._uU(14,"file_download"),o.qZA()(),o.TgZ(15,"button",7),o.NdJ("click",function(){return r.openPersonCreationModal()}),o.TgZ(16,"mat-icon"),o._uU(17,"person"),o.qZA()(),o.TgZ(18,"button",8),o.NdJ("click",function(){return r.checkIfChangesToGenerateSpeech()}),o.TgZ(19,"mat-icon"),o._uU(20,"record_voice_over"),o.qZA()(),o.TgZ(21,"button",9),o.NdJ("click",function(){return r.uploadSubtitle()}),o.TgZ(22,"mat-icon"),o._uU(23,"save"),o.qZA()()(),o.TgZ(24,"div",10,11),o.YNc(26,$ae,2,11,"dialog-content",12),o.qZA()(),o.YNc(27,Yae,1,0,"fullscreen-loader",13),o.ALo(28,"async")),2&i&&(o.xp6(11),o.Q6J("acceptedFiles",".sbv, .srt, .txt"),o.xp6(4),o.Q6J("disabled",r.canOnlyView),o.xp6(3),o.Q6J("disabled",r.canOnlyView),o.xp6(8),o.Q6J("ngForOf",r.dialogBoxes),o.xp6(1),o.Q6J("ngIf",o.lcZ(28,5,r.loading)))},dependencies:[Fi,Vn,Xg,Qo,_s,zae,jae,r_,Hi],styles:[".dialog-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column}.main-content_wrapper[_ngcontent-%COMP%]{overflow-y:auto;height:65vh;overflow-x:visible}.button-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:20px;padding-bottom:20px;justify-content:center}.button-wrapper[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{display:none}.button-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{transition:scale .14s ease}.button-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{scale:118%}"]})}return n})();function Wae(n,t){1&n&&o._UZ(0,"fullscreen-loader")}let Fj=(()=>{class n{constructor(e,i,r,s,a,u,f){this.route=e,this.router=i,this.storageService=r,this.storage=s,this.googleLangService=a,this.dialog=u,this.youtube=f,this.isFormDirty=!1,this.availableLanguages$=new E(null),this.videoDetails$=new E(null),this.videoDuration=new E(""),this.loading$=new E(null)}ngOnInit(){this.ownerId=this.route.snapshot.paramMap?.get("ownerId"),this.videoId=this.route.snapshot.paramMap.get("id"),this.languageIsoCode=this.route.snapshot.paramMap.get("languageCode"),this.fileName=this.route.snapshot.paramMap.get("name"),this.subFormat=this.route.snapshot.paramMap.get("format"),this.right=this.route.snapshot.paramMap?.get("right"),this.canOnlyView=!(!this.right||"Editor"==this.right),this.canComment="Viewer"!=this.right,null==this.ownerId&&(this.ownerId=""),this.youtube.getAllVideoDetails(this.videoId).pipe(Tt(1),(0,Un.b)(()=>{this.loading$.next(!0)})).subscribe(e=>{e&&(this.videoDetails$.next(e),this.videoDuration.next(this.videoDetails$.value[0].contentDetails.duration),this.loading$.next(!1))}),this.getAvailableLanguages()}get currentLanguage$(){return this._currentLanguage$}setFormDirtyStatus(e){this.isFormDirty=e}setLoading(e){this.loading$.next(e)}uploadToFirestorage(e){this.isFormDirty=!1,this.ownerId.length<=0?this.storageService.createFirestorageRef(this.storage,this.languageIsoCode,e,this.videoId,this.fileName):this.storageService.saveToFireStorageShared(this.ownerId,this.storage,this.languageIsoCode,e,this.videoId,this.fileName)}navigateTTS(){this.router.navigate(["generate-tts",this.videoId,this.languageIsoCode])}getAvailableLanguages(){this.googleLangService.getSupportedLanguages().pipe((0,Un.b)(()=>{this.loading$.next(!0)})).subscribe(e=>{this.availableLanguages$.next(e),this.loading$.next(!1),this._currentLanguage$=this.availableLanguages$.pipe((0,dt.U)(i=>i.data.languages.find(r=>r.language===this.languageIsoCode))),this.langName$=this.availableLanguages$.pipe((0,dt.U)(i=>i.data.languages.find(r=>r.language===this.languageIsoCode)?.name)),this.youtube.getAllVideoDetails(this.videoId).subscribe({next:i=>{this.videoLang$=this.availableLanguages$.pipe((0,dt.U)(r=>r.data.languages.find(s=>s.language===i[0].snippet.defaultAudioLanguage)?.name))}})})}navigateToDetails(){const e=this.route.snapshot.url.join("/");this.isFormDirty?this.dialog.open(Mz,{width:"500px"}).afterClosed().subscribe(i=>{i&&(e.includes("edit/shared")?this.router.navigate(["shared",this.videoId]):this.router.navigate(["details",this.videoId]))}):e.includes("edit/shared")?this.router.navigate(["shared",this.videoId]):this.router.navigate(["details",this.videoId])}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(nl),o.Y36($i),o.Y36(s_),o.Y36($v),o.Y36(ul),o.Y36(cl),o.Y36(i_))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["subtitling-container"]],features:[o._Bn([s_])],decls:32,vars:24,consts:[[1,"container"],[1,"dashboard-navigation"],[1,"back-button-wrapper"],["mat-mini-fab","","color","primary","matTooltip","Back to Details",1,"back-button",3,"click"],[1,"sub-details-wrapper"],[1,"sub-name-wrapper"],[1,"lags-info-wrapper"],[1,"video-lang-wrapper"],[1,"lang-wrapper"],[1,"wrapper"],[3,"videoId","captionsPreview"],[3,"isoCode","videoId","subtitleName","videoDuration","currentLanguage$","ownerId","canOnlyView","canComment","loading$","subtitleUploadEmitter","navigateTTS","formStatusChange"],[4,"ngIf"]],template:function(i,r){1&i&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),o.NdJ("click",function(){return r.navigateToDetails()}),o.TgZ(4,"mat-icon"),o._uU(5,"arrow_back"),o.qZA()()(),o.TgZ(6,"div",4)(7,"div",5)(8,"span"),o._uU(9,"Editing Subtitle: "),o.TgZ(10,"b"),o._uU(11),o.qZA()()(),o.TgZ(12,"div",6)(13,"div",7)(14,"span"),o._uU(15,"Video Language: "),o.TgZ(16,"b"),o._uU(17),o.ALo(18,"async"),o.qZA()()(),o.TgZ(19,"div",8)(20,"span"),o._uU(21,"Subtitle Language: "),o.TgZ(22,"b"),o._uU(23),o.ALo(24,"async"),o.qZA()()()()()(),o.TgZ(25,"div",9),o._UZ(26,"video-player",10),o.ALo(27,"async"),o.TgZ(28,"dialog-component",11),o.NdJ("loading$",function(a){return r.setLoading(a)})("subtitleUploadEmitter",function(a){return r.uploadToFirestorage(a)})("navigateTTS",function(){return r.navigateTTS()})("formStatusChange",function(a){return r.setFormDirtyStatus(a)}),o.ALo(29,"async"),o.qZA()()(),o.YNc(30,Wae,1,0,"fullscreen-loader",12),o.ALo(31,"async")),2&i&&(o.xp6(11),o.Oqu(r.fileName),o.xp6(6),o.Oqu(o.lcZ(18,14,r.videoLang$)),o.xp6(6),o.Oqu(o.lcZ(24,16,r.langName$)),o.xp6(3),o.Q6J("videoId",r.videoId)("captionsPreview",o.lcZ(27,18,r.youtube.getCurrentCaption())),o.xp6(2),o.Q6J("isoCode",r.languageIsoCode)("videoId",r.videoId)("subtitleName",r.fileName)("videoDuration",o.lcZ(29,20,r.videoDuration))("currentLanguage$",r.currentLanguage$)("ownerId",r.ownerId)("canOnlyView",r.canOnlyView)("canComment",r.canComment),o.xp6(2),o.Q6J("ngIf",o.lcZ(31,22,r.loading$)))},dependencies:[Vn,tC,Qo,_s,Rz,Pj,r_,Hi],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;width:100%;flex-wrap:wrap;gap:40px;justify-content:space-around;padding-top:35px}.dashboard-navigation[_ngcontent-%COMP%]{display:flex;padding-top:20px}.back-button-wrapper[_ngcontent-%COMP%]{margin-left:20px}.sub-details-wrapper[_ngcontent-%COMP%]{margin-left:100px;margin-top:10px}.lags-info-wrapper[_ngcontent-%COMP%]{margin-top:15px;display:flex}.sub-name-wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:25px}.lang-wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .video-lang-wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:22px}.lang-wrapper[_ngcontent-%COMP%]{margin-left:30px}.back-button[_ngcontent-%COMP%]{top:5%;left:3%}video-player[_ngcontent-%COMP%]{flex-grow:.8}"]})}return n})();function Kae(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-option",13),o.NdJ("click",function(){const s=o.CHM(e).$implicit,a=o.oxw();return o.KtG(a.saveLanguage(s))}),o._uU(1),o.qZA()}if(2&n){const e=t.$implicit;o.s9C("value",e.language),o.xp6(1),o.Oqu(e.name)}}function Qae(n,t){1&n&&(o.TgZ(0,"mat-dialog-content",3)(1,"h3"),o._uU(2,"Now set a name that will help you identify your subtitle."),o.qZA()())}function Jae(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"The name contains one or more unaccepted special characters"),o.qZA())}function Xae(n,t){if(1&n&&(o.TgZ(0,"div",14)(1,"mat-form-field")(2,"mat-label"),o._uU(3,"Choose name"),o.qZA(),o._UZ(4,"input",15),o.YNc(5,Jae,2,0,"mat-error",16),o.qZA(),o.TgZ(6,"mat-form-field",17)(7,"mat-label"),o._uU(8,"Format"),o.qZA(),o.TgZ(9,"mat-select",18)(10,"mat-option",19),o._uU(11,"SBV"),o.qZA(),o.TgZ(12,"mat-option",19),o._uU(13,"SRT"),o.qZA()()()()),2&n){const e=o.oxw();let i;o.xp6(5),o.Q6J("ngIf",null==(i=e.newSubForm.get("name"))?null:i.hasError("pattern")),o.xp6(5),o.Q6J("value","sbv"),o.xp6(2),o.Q6J("value","srt")}}const ele=function(n,t,e){return{language:n,name:t,format:e}};let tle=(()=>{class n{constructor(e,i){this.translateService=e,this.fb=i,this.supportedLanguages$=new E(null),this.loading$=new E(null),this.langIsSelected=!1,this.newSubForm=new Io({language:new vr("",Ao.required),name:new vr("",[Ao.pattern("^[a-zA-Z0-9_\\[\\]()]+$")]),format:new vr("",Ao.required)})}ngOnInit(){this.getSupportedLanguages()}getSupportedLanguages(){this.translateService.getSupportedLanguages().pipe((0,Un.b)(()=>{this.loading$.next(!0)})).subscribe(e=>{this.supportedLanguages$.next(e),this.loading$.next(!1)})}isSelected(){this.langIsSelected="0"!=this.newSubForm.controls.language.value}saveLanguage(e){this.selectedLang=e}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(ul),o.Y36(Jm))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-save-subtitle-dialog"]],features:[o._Bn([ul,$l])],decls:18,vars:13,consts:[["mat-dialog-title",""],[1,"new-sub-container-form",3,"formGroup"],[1,"language-selector"],[1,"mat-typography"],["appearance","fill"],["formControlName","language",3,"selectionChange"],[3,"value","click",4,"ngFor","ngForOf"],["class","mat-typography",4,"ngIf"],["class","input-container",4,"ngIf"],[1,"actions-btn"],["align","end"],["mat-button","","color","warn",3,"mat-dialog-close"],["mat-raised-button","","color","primary",3,"disabled","mat-dialog-close"],[3,"value","click"],[1,"input-container"],["matInput","","type","text","formControlName","name"],[4,"ngIf"],[1,"format-selector"],["formControlName","format"],[3,"value"]],template:function(i,r){if(1&i&&(o.TgZ(0,"h2",0),o._uU(1,"Set up new subtitle"),o.qZA(),o.TgZ(2,"div",1)(3,"div",2)(4,"h3",3),o._uU(5,"First select Language:"),o.qZA(),o.TgZ(6,"mat-form-field",4)(7,"mat-select",5),o.NdJ("selectionChange",function(){return r.isSelected()}),o.YNc(8,Kae,2,2,"mat-option",6),o.ALo(9,"async"),o.qZA()()(),o.YNc(10,Qae,3,0,"mat-dialog-content",7),o.YNc(11,Xae,14,3,"div",8),o.qZA(),o.TgZ(12,"div",9)(13,"mat-dialog-actions",10)(14,"button",11),o._uU(15,"Cancel"),o.qZA(),o.TgZ(16,"button",12),o._uU(17," Save "),o.qZA()()()),2&i){let s;o.xp6(2),o.Q6J("formGroup",r.newSubForm),o.xp6(6),o.Q6J("ngForOf",null==(s=o.lcZ(9,7,r.supportedLanguages$))||null==s.data?null:s.data.languages),o.xp6(2),o.Q6J("ngIf",r.langIsSelected),o.xp6(1),o.Q6J("ngIf",r.langIsSelected),o.xp6(3),o.Q6J("mat-dialog-close",null),o.xp6(2),o.Q6J("disabled",r.newSubForm.invalid)("mat-dialog-close",o.kEZ(9,ele,r.selectedLang,r.newSubForm.controls.name.value,r.newSubForm.controls.format.value))}},dependencies:[Fi,Vn,Rs,fa,Fm,el,cs,Mr,Ps,ds,Hl,Lr,ms,Wo,Ko,gs,HA,ju,Hi],styles:[".mat-mdc-form-field{flex-grow:1}.input-container[_ngcontent-%COMP%]{padding-left:24px;padding-right:24px;display:flex}.format-selector[_ngcontent-%COMP%]{width:20%;padding-left:10px}.mat-mdc-dialog-actions[_ngcontent-%COMP%]{padding-right:25px}.language-selector[_ngcontent-%COMP%]{display:flex;padding-right:25px;padding-left:25px}.language-selector[_ngcontent-%COMP%]   .mat-typography[_ngcontent-%COMP%]{margin-top:14px;margin-right:10px}"]})}return n})();function nle(n,t){1&n&&(o.TgZ(0,"p"),o._uU(1,"Sending a new ownership transfer request will cancel the previous one. You'll be the owner until this person accepts ownership."),o.qZA())}function ile(n,t){1&n&&(o.TgZ(0,"p"),o._uU(1,"You'll be the owner until this person accepts ownership."),o.qZA())}const rle=function(n){return{email:n}};let ole=(()=>{class n{constructor(e,i){this.data=e,this.dialogRef=i}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(ll),o.Y36(Wd))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-transfer-ownership-dialog"]],decls:16,vars:6,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"ngTemplateOutlet"],["alternativeTemplate",""],["defaultTemplate",""],["mat-dialog-actions","","align","end"],["mat-button","",3,"mat-dialog-close"],["mat-raised-button","","cdkFocusInitial","","color","primary",1,"Send",3,"mat-dialog-close"]],template:function(i,r){if(1&i&&(o.TgZ(0,"h3",0),o._uU(1,"Transfer ownership?"),o.qZA(),o.TgZ(2,"div",1)(3,"h4"),o._uU(4),o.qZA(),o._UZ(5,"br"),o.GkF(6,2),o.YNc(7,nle,2,0,"ng-template",null,3,o.W1O),o.YNc(9,ile,2,0,"ng-template",null,4,o.W1O),o.qZA(),o.TgZ(11,"div",5)(12,"button",6),o._uU(13,"Cancel"),o.qZA(),o.TgZ(14,"button",7),o._uU(15,"Send invitation"),o.qZA()()),2&i){const s=o.MAs(8),a=o.MAs(10);o.xp6(4),o.Oqu(r.data.email),o.xp6(2),o.Q6J("ngTemplateOutlet",""!=r.data.requestOwnerEmail?s:a),o.xp6(6),o.Q6J("mat-dialog-close",null),o.xp6(2),o.Q6J("mat-dialog-close",o.VKq(4,rle,r.data.email))}},dependencies:[yi,Lr,ms,Wo,Ko,gs],styles:["button[_ngcontent-%COMP%]{margin-right:8px}h4[_ngcontent-%COMP%]{font-weight:600}p[_ngcontent-%COMP%]{font-weight:500}"]})}return n})(),YN=(()=>{class n{constructor(e){this.firestore=e}getRequestOwnerEmail(e,i,r,s,a){var u=this;return(0,Ge.Z)(function*(){const f=yield u.firestore.collection("sharedVideos",m=>m.where("videoId","==",e).where("iso","==",i).where("language","==",r).where("fileName","==",s).where("id","==",a)).get().toPromise();return f.empty?null:f.docs[0].data().requestOwnerEmail})()}getSharedSubtitleLanguages(e,i){return this.firestore.collection("sharedVideos",s=>s.where("videoId","==",i)).get().pipe((0,dt.U)(s=>s.docs.filter(a=>{const u=a.data().usersRights;return u.some(f=>f.userEmail===e)&&u.length>1}).map(a=>a.data())))}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(al))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sle(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"h3")(1,"input",20),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw(2);return o.KtG(s.sendNotificationValue=r)})("ngModelChange",function(){o.CHM(e);const r=o.oxw(2);return o.KtG(r.sendNotification=!!r.sendNotificationValue)}),o.qZA(),o._uU(2,"Send notification email"),o.qZA()}if(2&n){const e=o.oxw(2);o.xp6(1),o.Q6J("ngModel",e.sendNotificationValue)}}function ale(n,t){1&n&&(o.TgZ(0,"p"),o._uU(1,"Owner pending "),o.qZA())}function lle(n,t){if(1&n&&(o.TgZ(0,"mat-option",12),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.Q6J("value",e.value),o.xp6(1),o.Oqu(e.label)}}const Nj=function(n){return{"line-through":n}};function cle(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div")(1,"mat-card",21)(2,"div",22)(3,"div",23)(4,"h4",24),o._uU(5),o.qZA(),o.YNc(6,ale,2,0,"p",13),o.qZA(),o.TgZ(7,"div",23)(8,"mat-form-field")(9,"mat-select",25),o.NdJ("valueChange",function(r){const a=o.CHM(e).$implicit;return o.KtG(a.right=r)})("selectionChange",function(r){const a=o.CHM(e).index,u=o.oxw(2);return o.KtG(u.onSelectionChange(r,a))}),o.YNc(10,lle,2,2,"mat-option",26),o.qZA()()()()()()}if(2&n){const e=t.$implicit,i=t.index,r=o.oxw(2);o.xp6(4),o.Q6J("ngClass",o.VKq(5,Nj,"Remove right"===e.right)),o.xp6(1),o.Oqu(e.userEmail),o.xp6(1),o.Q6J("ngIf",e.userEmail==r.owner_text),o.xp6(3),o.Q6J("value",e.right),o.xp6(1),o.Q6J("ngForOf",r.getOptions(e.right,i))}}const dle=function(n,t,e,i){return{email:n,right:t,usersRights:e,sendNotification:i}};function ule(n,t){if(1&n&&(o.TgZ(0,"div",5)(1,"mat-form-field",6)(2,"mat-label"),o._uU(3,"Add email"),o.qZA(),o._UZ(4,"input",7,8),o.qZA(),o.TgZ(6,"mat-form-field",9)(7,"mat-label"),o._uU(8,"Rights"),o.qZA(),o.TgZ(9,"mat-select",10,11)(11,"mat-option",12),o._uU(12," Editor "),o.qZA(),o.TgZ(13,"mat-option",12),o._uU(14," Viewer "),o.qZA(),o.TgZ(15,"mat-option",12),o._uU(16," Commenter "),o.qZA()()(),o.YNc(17,sle,3,1,"h3",13),o.qZA(),o.TgZ(18,"div",14)(19,"mat-dialog-content")(20,"h3"),o._uU(21,"People with access"),o.qZA(),o.YNc(22,cle,11,7,"div",15),o.qZA()(),o.TgZ(23,"div",16)(24,"mat-dialog-actions",17)(25,"button",18),o._uU(26,"Cancel"),o.qZA(),o.TgZ(27,"button",19),o._uU(28,"Save"),o.qZA()()()),2&n){const e=o.MAs(5),i=o.MAs(10),r=o.oxw();o.xp6(11),o.Q6J("value","Editor"),o.xp6(2),o.Q6J("value","Viewer"),o.xp6(2),o.Q6J("value","Commenter"),o.xp6(2),o.Q6J("ngIf",e.value&&i.value),o.xp6(5),o.Q6J("ngForOf",r.movedUsersRights),o.xp6(3),o.Q6J("mat-dialog-close",null),o.xp6(2),o.Q6J("mat-dialog-close",o.l5B(7,dle,e.value,i.value,r.data.usersRights,r.sendNotification))}}function hle(n,t){1&n&&(o.TgZ(0,"p"),o._uU(1,"Owner pending "),o.qZA())}function fle(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div")(1,"mat-card",21)(2,"div",22)(3,"div",23)(4,"h4",24),o._uU(5),o.qZA(),o.YNc(6,hle,2,0,"p",13),o.qZA(),o.TgZ(7,"div",23)(8,"mat-form-field")(9,"mat-select",25),o.NdJ("valueChange",function(r){const a=o.CHM(e).$implicit;return o.KtG(a.right=r)})("selectionChange",function(r){const a=o.CHM(e).index,u=o.oxw(2);return o.KtG(u.onSelectionChange(r,a))}),o.TgZ(10,"mat-option",12),o._uU(11),o.qZA()()()()()()()}if(2&n){const e=t.$implicit,i=o.oxw(2);o.xp6(4),o.Q6J("ngClass",o.VKq(6,Nj,"Remove right"===e.right)),o.xp6(1),o.Oqu(e.userEmail),o.xp6(1),o.Q6J("ngIf",e.userEmail==i.owner_text),o.xp6(3),o.Q6J("value",e.right),o.xp6(1),o.Q6J("value",e.right),o.xp6(1),o.Oqu(e.right)}}function ple(n,t){if(1&n&&(o.TgZ(0,"div",14)(1,"mat-dialog-content")(2,"h3"),o._uU(3,"People with access"),o.qZA(),o.YNc(4,fle,12,8,"div",15),o.qZA()(),o.TgZ(5,"div",16)(6,"mat-dialog-actions",17)(7,"button",19),o._uU(8,"Close"),o.qZA()()()),2&n){const e=o.oxw();o.xp6(4),o.Q6J("ngForOf",e.movedUsersRights),o.xp6(3),o.Q6J("mat-dialog-close",null)}}let Lj=(()=>{class n{constructor(e,i,r,s,a,u){this.dialogRef=e,this.data=i,this.fb=r,this.detailsViewService=s,this.dialog=a,this.shareService=u,this.movedUsersRights=[],this.canEdit=!1,this.sendNotificationValue=!1,this.sendNotification=!1,this.allOptions=[{label:"Editor",value:"Editor"},{label:"Viewer",value:"Viewer"},{label:"Commenter",value:"Commenter"},{label:"Owner",value:"Owner"},{label:"Transfer Ownership",value:"Transfer Ownership"},{label:"Remove right",value:"Remove right"}],this.filename=i.filename,this.usersRights=i.usersRights,this.videoId=i.videoId,this.ISOcode=i.ISOcode,this.language=i.language,this.owner_text=i.owner_text,this.format=i.format,this.requestOwnerEmail=i.owner_text,this.videoTitle=i.videoTitle,this.subtitleId=i.subtitleId}ngOnInit(){const e=this.data.usersRights.findIndex(r=>"Owner"===r.right);this.movedUsersRights=-1!==e?[this.data.usersRights[e]].concat(this.data.usersRights.slice(0,e)).concat(this.data.usersRights.slice(e+1)):this.data.usersRights,this.movedUsersRights.filter(r=>"Owner"==r.right)[0].userEmail==this.data.userEmail&&(this.canEdit=!0)}getOptions(e,i){return"Owner"!=e?this.allOptions.filter(r=>"Owner"!==r.value):"Owner"===e?this.allOptions.filter(r=>"Owner"==r.value):this.allOptions}onSelectionChange(e,i){const s=this.movedUsersRights[i].userEmail;if("Transfer Ownership"===e.value){const a=this.movedUsersRights.filter(u=>"Owner"==u.right)[0].userEmail;this.resetUserRight(s,i).then(()=>{this.transferOwnershipPrompt(s,i,a)})}}transferOwnershipPrompt(e,i,r){this.dialog.open(ole,{width:"400px",data:{email:e,requestOwnerEmail:this.requestOwnerEmail},scrollStrategy:new iC}).afterClosed().pipe(Tt(1)).subscribe(a=>{null==a?this.resetUserRight(e,i):a&&a.email&&(this.detailsViewService.transferOwnership(r,a.email,this.data.filename,this.videoId,this.ISOcode,this.language,this.data.format,this.videoTitle,this.subtitleId),this.dialog.closeAll())})}resetUserRight(e,i){return new Promise(r=>{this.detailsViewService.resetUserRightByEmail(e,this.filename,this.videoId,this.ISOcode,this.language,this.subtitleId).then(s=>{this.movedUsersRights[i].right=s.toString(),r()})})}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(Wd),o.Y36(ll),o.Y36(Jm),o.Y36($l),o.Y36(cl),o.Y36(YN))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-share-subtitle-dialog"]],features:[o._Bn([$l])],decls:12,vars:2,consts:[["mat-dialog-title",""],[1,"mat-typography"],[3,"ngTemplateOutlet"],["defaultTemplate",""],["noEdit",""],[1,"input-container"],[1,"emailInput"],["matInput","","type","email","required",""],["email",""],[1,"format-selector"],["required",""],["right",""],[3,"value"],[4,"ngIf"],[1,"accessGridList"],[4,"ngFor","ngForOf"],[1,"buttons-div-container"],[1,"dialog-buttons"],["mat-button","",3,"mat-dialog-close"],["mat-raised-button","","color","primary",3,"mat-dialog-close"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"access-card"],[1,"row"],[1,"col"],[3,"ngClass"],[3,"value","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"]],template:function(i,r){if(1&i&&(o.TgZ(0,"h2",0),o._uU(1,"Share subtitle"),o.qZA(),o.TgZ(2,"mat-dialog-content",1)(3,"h3",1),o._uU(4,"Filename: "),o.TgZ(5,"b"),o._uU(6),o.qZA()()(),o.GkF(7,2),o.YNc(8,ule,29,12,"ng-template",null,3,o.W1O),o.YNc(10,ple,9,2,"ng-template",null,4,o.W1O)),2&i){const s=o.MAs(9),a=o.MAs(11);o.xp6(6),o.Oqu(r.data.filename),o.xp6(1),o.Q6J("ngTemplateOutlet",1==r.canEdit?s:a)}},dependencies:[cn,Fi,Vn,yi,Rs,fa,el,oy,Mr,Lr,Pd,qN,n_,ms,Wo,Ko,gs,HA,ju],styles:[".emailInput[_ngcontent-%COMP%]{width:60%;margin-left:10px}.dialog-buttons[_ngcontent-%COMP%]{display:flex;flex-grow:1;gap:normal 16px;justify-content:flex-end}.buttons-div-container[_ngcontent-%COMP%]{align-items:center;display:flex;flex-wrap:wrap;justify-content:space-between;padding:8px 0;row-gap:8px}.accessGridList[_ngcontent-%COMP%]{overflow-y:auto;display:block;unicode-bidi:isolate}.row[_ngcontent-%COMP%]{display:flex;align-items:center;height:50px}.col[_ngcontent-%COMP%]{flex:1;padding:0}.col[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .col[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px;padding-left:10px}.col[_ngcontent-%COMP%]:first-child{text-align:left}.col[_ngcontent-%COMP%]:last-child{text-align:right}.access-card[_ngcontent-%COMP%]{margin:10px;box-shadow:0 2px 4px #0003}.access-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{background-color:#e0e0e0;padding:10px}.access-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.2rem}.access-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:10px}.access-card[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:-10px}.access-card[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%]{width:100%}.access-card[_ngcontent-%COMP%]   mat-option[_ngcontent-%COMP%]{font-size:1rem}.line-through[_ngcontent-%COMP%]{text-decoration:line-through}input[type=checkbox][_ngcontent-%COMP%]{margin-left:10px}"],changeDetection:0})}return n})();function mle(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div")(1,"input",6),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.deadlineDate=r)}),o.ALo(2,"date"),o.qZA()()}if(2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngModel",e.deadlineDate)("min",o.xi3(2,2,e.today,"yyyy-MM-dd"))}}let gle=(()=>{class n{constructor(e,i){this.dialogRef=e,this.data=i,this.deadlineOption=!1,this.noDeadlineOption=!1,this.deadlineDate=null,this.videoTitle=i.videoTitle,this.subtitleTitle=i.subtitleTitle,this.language=i.language,this.today=(new Date).toISOString().split("T")[0]}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(Wd),o.Y36(ll))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-request-community-help"]],decls:21,vars:10,consts:[["mat-dialog-title",""],["type","radio","name","deadlineOption",3,"ngModel","value","ngModelChange"],[4,"ngIf"],[1,"button-container"],["mat-button","","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"mat-dialog-close","disabled"],["type","date","lang","en",3,"ngModel","min","ngModelChange"]],template:function(i,r){1&i&&(o.TgZ(0,"h2",0),o._uU(1),o.qZA(),o.TgZ(2,"mat-dialog-content")(3,"h4"),o._uU(4),o.qZA(),o.TgZ(5,"h4"),o._uU(6),o.qZA(),o.TgZ(7,"p"),o._uU(8,"Select a deadline:"),o.qZA(),o.TgZ(9,"label")(10,"input",1),o.NdJ("ngModelChange",function(a){return r.deadlineOption=a}),o.qZA(),o._uU(11," Deadline "),o.qZA(),o.TgZ(12,"label")(13,"input",1),o.NdJ("ngModelChange",function(a){return r.deadlineOption=a}),o.qZA(),o._uU(14," No deadline "),o.qZA(),o.YNc(15,mle,3,5,"div",2),o.qZA(),o.TgZ(16,"mat-dialog-actions",3)(17,"button",4),o._uU(18,"Cancel"),o.qZA(),o.TgZ(19,"button",5),o._uU(20,"Request Help"),o.qZA()()),2&i&&(o.xp6(1),o.Oqu(r.videoTitle),o.xp6(3),o.Oqu(r.subtitleTitle),o.xp6(2),o.hij("Language: ",r.language,""),o.xp6(4),o.Q6J("ngModel",r.deadlineOption)("value",!0),o.xp6(3),o.Q6J("ngModel",r.deadlineOption)("value",!1),o.xp6(2),o.Q6J("ngIf",r.deadlineOption),o.xp6(4),o.Q6J("mat-dialog-close",r.deadlineOption?r.deadlineDate:"No")("disabled",!(!1===r.deadlineOption||r.deadlineDate)))},dependencies:[Vn,cs,Fs,Mr,Lr,Pd,ms,Wo,Ko,gs,rr],styles:[".button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}label[_ngcontent-%COMP%]{display:inline-block;margin-right:10px}h4[_ngcontent-%COMP%]{font-weight:500}input[type=date][_ngcontent-%COMP%]{width:100%;padding:10px;font-size:16px;border:none;border-radius:4px;background-color:#f0f0f0;box-shadow:0 0 10px #0000001a}input[type=date][_ngcontent-%COMP%]:focus{border-color:#2196f3;box-shadow:0 0 10px #0000004d}input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{color:#2196f3;opacity:1}"]})}return n})(),WN=(()=>{class n{constructor(e){this.firestore=e}getUserDetails(e){return this.firestore.doc(`users/${e}`).get()}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(al))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Bj=(()=>{class n{constructor(e,i){this.firestore=e,this.http=i}getCountries(){return this.http.get("assets/data/google-countries.json")}getSkillLevels(){return this.http.get("assets/data/lang-skill-levels.json")}addForeignLanguages(e,i){for(let r of i)this.firestore.doc(`users/${e}/languages/${r.language}`).set(r,{merge:!0}).catch(u=>(console.log(u.message),!1));return!0}getAllLanguages(e){return this.otherLanguages$=this.firestore.collection(`users/${e}/languages/`).valueChanges()}getUserRatings(e){return this.firestore.collection(`users/${e}/ratings`).valueChanges()}updateProfile(e){return this.firestore.doc(`users/${e.uid}`).update(e)}deleteForeignLang(e,i){return this.firestore.doc(`users/${e}/languages/${i}`).delete()}setRating(e,i){return this.firestore.doc(`users/${e}/ratings/${i.raterId}`).set(i,{merge:!0})}static#e=this.\u0275fac=function(i){return new(i||n)(o.LFG(al),o.LFG(wh))};static#t=this.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _le(n,t){1&n&&(o.TgZ(0,"h3",12),o._uU(1,"Profile Overview"),o.qZA())}function yle(n,t){1&n&&(o.TgZ(0,"h3",12),o._uU(1,"Rate this User:"),o.qZA())}function vle(n,t){if(1&n&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&n){const e=o.oxw(3);o.xp6(1),o.hij(" \u275d ",e.user.bio," \u275e ")}}function ble(n,t){if(1&n&&(o.TgZ(0,"div",13)(1,"p"),o.YNc(2,vle,2,1,"span",14),o.qZA()()),2&n){const e=o.oxw(2);o.xp6(2),o.Q6J("ngIf",e.user.bio.length>0)}}function wle(n,t){1&n&&(o.TgZ(0,"mat-icon"),o._uU(1,"star"),o.qZA())}function xle(n,t){if(1&n&&(o.TgZ(0,"div",19),o.YNc(1,wle,2,0,"mat-icon",14),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.Q6J("ngIf",1==e)}}function Cle(n,t){1&n&&(o.TgZ(0,"mat-icon"),o._uU(1,"star_half"),o.qZA())}function Dle(n,t){if(1&n&&(o.TgZ(0,"div",20),o.YNc(1,Cle,2,0,"mat-icon",14),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.Q6J("ngIf",2==e)}}function Sle(n,t){1&n&&(o.TgZ(0,"span",23),o._uU(1,"star"),o.qZA())}function Ele(n,t){if(1&n&&(o.TgZ(0,"div",21),o.YNc(1,Sle,2,0,"span",22),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.Q6J("ngIf",3==e)}}function Tle(n,t){if(1&n&&(o.TgZ(0,"div",15),o.YNc(1,xle,2,1,"div",16),o.YNc(2,Dle,2,1,"div",17),o.YNc(3,Ele,2,1,"div",18),o.qZA()),2&n){const e=o.oxw(2);o.s9C("matTooltip",e.ratingTooltip),o.xp6(1),o.Q6J("ngForOf",e.stars),o.xp6(1),o.Q6J("ngForOf",e.stars),o.xp6(1),o.Q6J("ngForOf",e.stars)}}function Ale(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",28)(1,"button",29),o.NdJ("click",function(){o.CHM(e);const r=o.oxw(3);return o.KtG(r.onClickToRateUser())}),o._uU(2,"Rate this user!"),o.qZA()()}}function Ile(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"i",35),o.NdJ("click",function(){const s=o.CHM(e).index,a=o.oxw(4);return o.KtG(a.rate(s+1))})("mouseover",function(){const s=o.CHM(e).index,a=o.oxw(4);return o.KtG(a.setHover(s+1))})("mouseleave",function(){o.CHM(e);const r=o.oxw(4);return o.KtG(r.resetHover())}),o.TgZ(1,"span",36),o._uU(2,"star"),o.qZA()()}if(2&n){const e=t.index,i=o.oxw(4);o.ekj("filled",e<i.hoverIndex||e<i.selectedRating)}}function kle(n,t){if(1&n&&(o.TgZ(0,"div",30)(1,"mat-card-header")(2,"mat-card-title")(3,"h2"),o._uU(4,"Select 1 to 5 stars"),o.qZA()()(),o.TgZ(5,"div",31),o.YNc(6,Ile,3,2,"i",32),o.qZA(),o.TgZ(7,"mat-card-header")(8,"mat-card-title")(9,"h2"),o._uU(10,"You can also include comments"),o.qZA()()(),o.TgZ(11,"mat-form-field",33),o._UZ(12,"textarea",34),o.qZA()()),2&n){const e=o.oxw(3);o.Q6J("formGroup",e.rateForm),o.xp6(6),o.Q6J("ngForOf",e.ratedStars)}}function Mle(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",37)(1,"button",38),o.NdJ("click",function(){o.CHM(e);const r=o.oxw(3);return o.KtG(r.resetPreview())}),o._uU(2,"Cancel"),o.qZA(),o.TgZ(3,"button",39),o.NdJ("click",function(){o.CHM(e);const r=o.oxw(3);return o.KtG(r.saveRating())}),o._uU(4,"Rate!"),o.qZA()()}if(2&n){const e=o.oxw(3);o.xp6(3),o.Q6J("disabled",0==e.selectedRating||null==e.selectedRating)}}function Rle(n,t){if(1&n&&(o.TgZ(0,"div",24),o.YNc(1,Ale,3,0,"div",25),o.YNc(2,kle,13,2,"div",26),o.YNc(3,Mle,5,1,"div",27),o.qZA()),2&n){const e=t.ngIf,i=o.oxw(2);o.xp6(1),o.Q6J("ngIf",e.uid!=i.user.uid&&!i.givingRate),o.xp6(1),o.Q6J("ngIf",i.givingRate),o.xp6(1),o.Q6J("ngIf",i.givingRate)}}function Ole(n,t){if(1&n&&(o.TgZ(0,"div",2)(1,"div",3),o.YNc(2,_le,2,0,"h3",4),o.YNc(3,yle,2,0,"h3",4),o.qZA(),o.TgZ(4,"div",5),o._UZ(5,"img",6),o.qZA(),o.TgZ(6,"div",7)(7,"p"),o._uU(8),o.qZA()(),o.TgZ(9,"div",8)(10,"p"),o._uU(11),o.qZA()(),o.YNc(12,ble,3,1,"div",9),o.YNc(13,Tle,4,4,"div",10),o.YNc(14,Rle,4,3,"div",11),o.ALo(15,"async"),o.qZA()),2&n){const e=o.oxw();o.xp6(2),o.Q6J("ngIf",!e.givingRate),o.xp6(1),o.Q6J("ngIf",e.givingRate),o.xp6(2),o.Q6J("src",e.user.photoURL,o.LSH),o.xp6(3),o.Oqu(e.user.displayName),o.xp6(3),o.Oqu(e.user.email),o.xp6(1),o.Q6J("ngIf",!e.givingRate),o.xp6(1),o.Q6J("ngIf",!e.givingRate),o.xp6(1),o.Q6J("ngIf",o.lcZ(15,8,e.user$))}}let Vj=(()=>{class n{constructor(e,i,r,s,a){this.userData=e,this.userService=i,this.profileService=r,this.snackbar=s,this.auth=a,this.stars=[],this.averageRate=0,this.ratingTooltip="",this.givingRate=!1,this.ratedStars=[1,2,3,4,5],this.selectedRating=0,this.hoverIndex=0,this.user$=this.auth.user,this.user$.subscribe({next:u=>{this.uid=u.uid}}),this.userService.getUserDetails(this.userData.find(u=>"Owner"===u.right).userUid).pipe(Tt(1)).subscribe(u=>{this.user=u.data(),this.profileService.getUserRatings(this.user.uid).subscribe({next:f=>{this.loadRatings(f)}})}),this.rateForm=new Io({comment:new vr("")})}loadRatings(e){let i=0,r=0,s=5;this.stars=[];for(let a=0;a<e.length;a++)i++,r+=e[a].rating;if(i>0){this.averageRate=r/i,this.averageRate>5&&(this.averageRate=5);let a=this.averageRate;for(this.ratingTooltip=`User's rate is: ${this.averageRate}`;s>0;)this.stars.push(a>=1?1:a>=.5?2:3),a--,s--}else{this.ratingTooltip="No rates yet";for(let a=0;a<5;a++)this.stars.push(3)}}onClickToRateUser(){this.givingRate=!0}rate(e){this.selectedRating=e}setHover(e){this.hoverIndex=e}resetHover(){this.hoverIndex=0}resetPreview(){this.selectedRating=0,this.givingRate=!1}saveRating(){this.givingRate=!1,this.profileService.setRating(this.user.uid,{rating:this.selectedRating,comment:this.rateForm.controls.comment.value,raterId:this.uid}).then(i=>{this.snackbar.open("You successfully rated this user","OK",{duration:5e3})}),this.selectedRating=0,this.rateForm.controls.comment.setValue("")}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(ll),o.Y36(WN),o.Y36(Bj),o.Y36(Sa),o.Y36(Ea))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-profile-preview-dialog"]],decls:2,vars:1,consts:[["rel","stylesheet","href","https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@26,400,0,0"],["class","profile-details-card",4,"ngIf"],[1,"profile-details-card"],[1,"prof-overview-header"],["mat-dialog-title","",4,"ngIf"],[1,"profile-img"],["alt","profile-user-img","referrerpolicy","no-referrer",3,"src"],[1,"profile-display-name"],[1,"prof-user-email"],["class","prof-bio-display",4,"ngIf"],["class","user-rating-display",3,"matTooltip",4,"ngIf"],["class","rate-user-wrapper",4,"ngIf"],["mat-dialog-title",""],[1,"prof-bio-display"],[4,"ngIf"],[1,"user-rating-display",3,"matTooltip"],["class","full-star",4,"ngFor","ngForOf"],["class","half-star",4,"ngFor","ngForOf"],["class","empty-star",4,"ngFor","ngForOf"],[1,"full-star"],[1,"half-star"],[1,"empty-star"],["class","material-symbols-outlined",4,"ngIf"],[1,"material-symbols-outlined"],[1,"rate-user-wrapper"],["class","give-rate-btn",4,"ngIf"],["class","rate-form-wrapper",3,"formGroup",4,"ngIf"],["class","btn-rate-options",4,"ngIf"],[1,"give-rate-btn"],["mat-raised-button","","color","primary",3,"click"],[1,"rate-form-wrapper",3,"formGroup"],["matTooltip","Select a star (1 = lowest, 5 = highest)",1,"radio-star-system"],["class","star",3,"filled","click","mouseover","mouseleave",4,"ngFor","ngForOf"],["matTooltip","Include your comments here","matTooltipPosition","above"],["matInput","","formControlName","comment","placeholder","Your comments"],[1,"star",3,"click","mouseover","mouseleave"],[1,"material-symbols-outlined","rate-sys-star"],[1,"btn-rate-options"],["mat-raised-button","","color","warn",1,"cancel-rate-btn",3,"click"],["mat-raised-button","","color","primary",1,"save-rate-btn",3,"disabled","click"]],template:function(i,r){1&i&&(o._UZ(0,"link",0),o.YNc(1,Ole,16,10,"div",1)),2&i&&(o.xp6(1),o.Q6J("ngIf",r.user))},dependencies:[Fi,Vn,Rs,el,cs,Mr,Ps,ds,Hl,Lr,Qo,_s,Hv,Rp,Wo,Hi],styles:[".profile-details-card[_ngcontent-%COMP%]{padding:15px;border-radius:15px;box-shadow:0 0 4px #7e7e7e80;background-color:#f6f6f6;height:-moz-fit-content;height:fit-content;text-align:center}.profile-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:100px;height:100px}.profile-display-name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:15px;font-size:1.55em}.prof-user-email[_ngcontent-%COMP%]{margin-top:10px}.prof-user-email[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9em;color:gray}.prof-bio-display[_ngcontent-%COMP%]{font-size:1.2em;font-style:italic;color:#333}.profile-edit-head[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .prof-overview-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.9em;margin-bottom:40px}.profile-details-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .lang-details-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px}.profile-lang-control[_ngcontent-%COMP%]{margin-left:20px;padding-left:20px;border-left:1px #b4b4b4 solid}.profile-edit-bio[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:40px}.profile-edit-gmail[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%], .profile-edit-gmail[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{cursor:not-allowed}.table-container[_ngcontent-%COMP%]{text-align:center}.empty-table[_ngcontent-%COMP%]{font-style:italic;font-size:12px;color:#323e48}.lang-skill-sector[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding-bottom:10px}.rate-sys-star[_ngcontent-%COMP%]{margin-right:15px}.user-rating-display[_ngcontent-%COMP%]{margin:auto;display:flex;justify-content:center}.user-rating-display[_ngcontent-%COMP%]:hover{cursor:pointer}.user-rating-display[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .user-rating-display[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ce950c}.star-rating[_ngcontent-%COMP%]{display:flex}.star[_ngcontent-%COMP%]{font-size:2rem;color:#d3d3d3;cursor:pointer;transition:color .2s}.star.filled[_ngcontent-%COMP%]{color:#ce950c}mat-form-field[_ngcontent-%COMP%]{width:100%!important}.cancel-rate-btn[_ngcontent-%COMP%]{margin-right:10px}.give-rate-btn[_ngcontent-%COMP%]{margin-top:10px}"]})}return n})();const Fle=[[["caption"]],[["colgroup"],["col"]]],Nle=["caption","colgroup, col"];function KN(n){return class extends n{get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=Nt(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}}}const Kv=new o.OlP("CDK_TABLE");let Qv=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),Jv=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),$A=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class Ule{}const Hle=KN(Ule);let Ah=(()=>{class n extends Hle{get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=Nt(e),this._hasStickyChanged=i!==this._stickyEnd}constructor(e){super(),this._table=e,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Kv,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,Qv,5),o.Suo(r,Jv,5),o.Suo(r,$A,5)),2&e){let s;o.iGM(s=o.CRH())&&(i.cell=s.first),o.iGM(s=o.CRH())&&(i.headerCell=s.first),o.iGM(s=o.CRH())&&(i.footerCell=s.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[o._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),o.qOj]}),n})();class QN{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let JN=(()=>{class n extends QN{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ah),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[o.qOj]}),n})(),XN=(()=>{class n extends QN{constructor(e,i){if(super(e,i),1===e._table?._elementRef.nativeElement.nodeType){const r=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===r||"treegrid"===r?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ah),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[o.qOj]}),n})();class Hj{constructor(){this.tasks=[],this.endTasks=[]}}const eL=new o.OlP("_COALESCED_STYLE_SCHEDULER");let Gj=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new gt.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new Hj,this._getScheduleObservable().pipe(an(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new Hj;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,ee.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Tt(1))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),tL=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof bC?e.headerCell.template:this instanceof wC?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc),o.Y36(o.ZZ4))},n.\u0275dir=o.lG2({type:n,features:[o.TTD]}),n})();class Gle extends tL{}const zle=KN(Gle);let bC=(()=>{class n extends zle{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(Kv,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[o.qOj,o.TTD]}),n})();class jle extends tL{}const qle=KN(jle);let wC=(()=>{class n extends qle{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(Kv,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[o.qOj,o.TTD]}),n})(),YA=(()=>{class n extends tL{constructor(e,i,r){super(e,i),this._table=r}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(Kv,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[o.qOj]}),n})(),Ih=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),nL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&o.GkF(0,0)},dependencies:[Ih],encapsulation:2}),n})(),rL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&o.GkF(0,0)},dependencies:[Ih],encapsulation:2}),n})(),WA=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const zj=["top","bottom","left","right"];class Zle{constructor(t,e,i,r,s=!0,a=!0,u){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=s,this._needsPositionStickyOnElement=a,this._positionListener=u,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let s=0;s<r.children.length;s++)i.push(r.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,i,r=!0){if(!t.length||!this._isBrowser||!e.some(I=>I)&&!i.some(I=>I))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const s=t[0],a=s.children.length,u=this._getCellWidths(s,r),f=this._getStickyStartColumnPositions(u,e),m=this._getStickyEndColumnPositions(u,i),v=e.lastIndexOf(!0),x=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const I="rtl"===this.direction,B=I?"right":"left",q=I?"left":"right";for(const ue of t)for(let ge=0;ge<a;ge++){const Oe=ue.children[ge];e[ge]&&this._addStickyStyle(Oe,B,f[ge],ge===v),i[ge]&&this._addStickyStyle(Oe,q,m[ge],ge===x)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===v?[]:u.slice(0,v+1).map((ue,ge)=>e[ge]?ue:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===x?[]:u.slice(x).map((ue,ge)=>i[ge+x]?ue:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const r="bottom"===i?t.slice().reverse():t,s="bottom"===i?e.slice().reverse():e,a=[],u=[],f=[];for(let v=0,x=0;v<r.length;v++){if(!s[v])continue;a[v]=x;const I=r[v];f[v]=this._isNativeHtmlTable?Array.from(I.children):[I];const B=I.getBoundingClientRect().height;x+=B,u[v]=B}const m=s.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let v=0;v<r.length;v++){if(!s[v])continue;const x=a[v],I=v===m;for(const B of f[v])this._addStickyStyle(B,i,x,I)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:u,offsets:a,elements:f}):this._positionListener?.stickyFooterRowsUpdated({sizes:u,offsets:a,elements:f})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);zj.some(r=>-1===e.indexOf(r)&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const r of zj)t.style[r]&&(i+=e[r]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=t.children;for(let s=0;s<r.length;s++)i.push(r[s].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let r=0;for(let s=0;s<t.length;s++)e[s]&&(i[s]=r,r+=t[s]);return i}_getStickyEndColumnPositions(t,e){const i=[];let r=0;for(let s=t.length;s>0;s--)e[s]&&(i[s]=r,r+=t[s]);return i}}const oL=new o.OlP("CDK_SPL");let KA=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),QA=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),JA=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),XA=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),eI=(()=>{class n{get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=Nt(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=Nt(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(e,i,r,s,a,u,f,m,v,x,I,B){this._differs=e,this._changeDetectorRef=i,this._elementRef=r,this._dir=a,this._platform=f,this._viewRepeater=m,this._coalescedStyleScheduler=v,this._viewportRuler=x,this._stickyPositioningListener=I,this._ngZone=B,this._onDestroy=new gt.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new o.vpe,this.viewChange=new E({start:0,end:Number.MAX_VALUE}),s||this._elementRef.nativeElement.setAttribute("role","table"),this._document=u,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(an(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),FN(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(r,s,a)=>this._getEmbeddedViewArgs(r.item,a),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&o.R0b.isInAngularZone()?this._ngZone.onStable.pipe(Tt(1),an(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=e.length?"":"none");const s=this._headerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,s,"top"),this._headerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=e.length?"":"none");const s=this._footerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,s,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,s),this._footerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((s,a)=>{this._addStickyColumnStyles([s],this._headerRowDefs[a])}),this._rowDefs.forEach(s=>{const a=[];for(let u=0;u<i.length;u++)this._renderRows[u].rowDef===s&&a.push(i[u]);this._addStickyColumnStyles(a,s)}),r.forEach((s,a)=>{this._addStickyColumnStyles([s],this._footerRowDefs[a])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let s=this._data[r];const a=this._getRenderRowsForData(s,r,i.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let u=0;u<a.length;u++){let f=a[u];const m=this._cachedRenderRowsMap.get(f.data);m.has(f.rowDef)?m.get(f.rowDef).push(f):m.set(f.rowDef,[f]),e.push(f)}}return e}_getRenderRowsForData(e,i,r){return this._getRowDefs(e,i).map(a=>{const u=r&&r.has(a)?r.get(a):[];if(u.length){const f=u.shift();return f.dataIndex=i,f}return{data:e,rowDef:a,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),tI(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=tI(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=tI(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=tI(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(a,u)=>a||!!u.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();const s=this._footerRowDefs.reduce(e,!1);return s&&this._forceRenderFooterRows(),i||r||s}_switchDataSource(e){this._data=[],FN(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;FN(this.dataSource)?e=this.dataSource.connect(this):function Ple(n){return!!n&&(n instanceof kn.y||(0,Uo.m)(n.lift)&&(0,Uo.m)(n.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=se(this.dataSource)),this._renderChangeSubscription=e.pipe(an(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const r=Array.from(i.columns||[]).map(u=>this._columnDefsByName.get(u)),s=r.map(u=>u.sticky),a=r.map(u=>u.stickyEnd);this._stickyStyler.updateStickyColumns(e,s,a,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let r=0;r<e.viewContainer.length;r++){const s=e.viewContainer.get(r);i.push(s.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(s=>!s.when||s.when(i,e));else{let s=this._rowDefs.find(a=>a.when&&a.when(i,e))||this._defaultRowDef;s&&r.push(s)}return r}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,r,s={}){const a=e.viewContainer.createEmbeddedView(i.template,s,r);return this._renderCellTemplateForItem(i,s),a}_renderCellTemplateForItem(e,i){for(let r of this._getCellTemplates(e))Ih.mostRecentCellOutlet&&Ih.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){const a=e.get(i).context;a.count=r,a.first=0===i,a.last=i===r-1,a.even=i%2==0,a.odd=!a.even,this.multiTemplateDataRows?(a.dataIndex=this._renderRows[i].dataIndex,a.renderIndex=i):a.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const r=this._columnDefsByName.get(i);return e.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const s=this._document.createElement(r.tag);s.setAttribute("role","rowgroup");for(const a of r.outlets)s.appendChild(a.elementRef.nativeElement);e.appendChild(s)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new Zle(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:se()).pipe(an(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const s=r.createEmbeddedView(e.templateRef),a=s.rootNodes[0];1===s.rootNodes.length&&a?.nodeType===this._document.ELEMENT_NODE&&(a.setAttribute("role","row"),a.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.ZZ4),o.Y36(o.sBO),o.Y36(o.SBq),o.$8M("role"),o.Y36(ri,8),o.Y36(j),o.Y36(li),o.Y36(gC),o.Y36(eL),o.Y36(Lv),o.Y36(oL,12),o.Y36(o.R0b,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,WA,5),o.Suo(r,Ah,5),o.Suo(r,YA,5),o.Suo(r,bC,5),o.Suo(r,wC,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._noDataRow=s.first),o.iGM(s=o.CRH())&&(i._contentColumnDefs=s),o.iGM(s=o.CRH())&&(i._contentRowDefs=s),o.iGM(s=o.CRH())&&(i._contentHeaderRowDefs=s),o.iGM(s=o.CRH())&&(i._contentFooterRowDefs=s)}},viewQuery:function(e,i){if(1&e&&(o.Gf(KA,7),o.Gf(QA,7),o.Gf(JA,7),o.Gf(XA,7)),2&e){let r;o.iGM(r=o.CRH())&&(i._rowOutlet=r.first),o.iGM(r=o.CRH())&&(i._headerRowOutlet=r.first),o.iGM(r=o.CRH())&&(i._footerRowOutlet=r.first),o.iGM(r=o.CRH())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[o._Bn([{provide:Kv,useExisting:n},{provide:gC,useClass:zz},{provide:eL,useClass:Gj},{provide:oL,useValue:null}])],ngContentSelectors:Nle,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(o.F$t(Fle),o.Hsn(0),o.Hsn(1,1),o.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[KA,QA,JA,XA],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})();function tI(n,t){return n.concat(Array.from(t))}let Yle=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[iN]}),n})();const Wle=[[["caption"]],[["colgroup"],["col"]]],Kle=["caption","colgroup, col"];let nI=(()=>{class n extends eI{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mdc-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[o._Bn([{provide:eI,useExisting:n},{provide:Kv,useExisting:n},{provide:eL,useClass:Gj},{provide:gC,useClass:zz},{provide:oL,useValue:null}]),o.qOj],ngContentSelectors:Kle,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(o.F$t(Wle),o.Hsn(0),o.Hsn(1,1),o.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[KA,QA,JA,XA],styles:[".mdc-data-table{border-radius:var(--mdc-shape-medium, 4px);border-width:1px;border-style:solid}.mdc-data-table .mdc-data-table__header-cell:first-child{border-top-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:first-child,.mdc-data-table .mdc-data-table__header-cell:first-child[dir=rtl]{border-top-right-radius:var(--mdc-shape-medium, 4px);border-top-left-radius:0}.mdc-data-table .mdc-data-table__header-cell:last-child{border-top-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:last-child,.mdc-data-table .mdc-data-table__header-cell:last-child[dir=rtl]{border-top-left-radius:var(--mdc-shape-medium, 4px);border-top-right-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child{border-bottom-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child[dir=rtl]{border-bottom-right-radius:var(--mdc-shape-medium, 4px);border-bottom-left-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child{border-bottom-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child[dir=rtl]{border-bottom-left-radius:var(--mdc-shape-medium, 4px);border-bottom-right-radius:0}.mdc-data-table__cell,.mdc-data-table__header-cell{border-bottom-width:1px;border-bottom-style:solid}.mdc-data-table__pagination{border-top-width:1px;border-top-style:solid}.mdc-data-table__row:last-child .mdc-data-table__cell{border-bottom:none}.mdc-data-table__row{height:52px}.mdc-data-table__pagination{min-height:52px}.mdc-data-table__header-row{height:56px}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table--sticky-header .mdc-data-table__header-cell{position:sticky;top:0;z-index:1}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__pagination{box-sizing:border-box;display:flex;justify-content:flex-end}.mdc-data-table__pagination-trailing{margin-left:4px;margin-right:0;align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-end}[dir=rtl] .mdc-data-table__pagination-trailing,.mdc-data-table__pagination-trailing[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__pagination-navigation{align-items:center;display:flex}.mdc-data-table__pagination-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__pagination-button .mdc-button__icon,.mdc-data-table__pagination-button .mdc-button__icon[dir=rtl]{transform:rotate(180deg)}[dir=rtl] .mdc-data-table__pagination-button,.mdc-data-table__pagination-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__pagination-total{margin-left:14px;margin-right:36px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-total,.mdc-data-table__pagination-total[dir=rtl]{margin-left:36px;margin-right:14px}.mdc-data-table__pagination-rows-per-page{margin-left:0;margin-right:22px;align-items:center;display:inline-flex}[dir=rtl] .mdc-data-table__pagination-rows-per-page,.mdc-data-table__pagination-rows-per-page[dir=rtl]{margin-left:22px;margin-right:0}.mdc-data-table__pagination-rows-per-page-label{margin-left:0;margin-right:12px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-rows-per-page-label,.mdc-data-table__pagination-rows-per-page-label[dir=rtl]{margin-left:12px;margin-right:0}.mdc-data-table__pagination-rows-per-page-select{min-width:var(--mdc-menu-min-width, 80px);margin:8px 0}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{width:100%;min-width:80px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{height:36px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__dropdown-icon{width:20px;height:20px}.mdc-data-table__pagination-rows-per-page-select.mdc-select--outlined .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 56px)}.mdc-data-table__pagination-rows-per-page-select .mdc-list-item.mdc-list-item--with-one-line{height:36px}.mdc-data-table__progress-indicator{display:none;position:absolute;width:100%}.mdc-data-table--in-progress .mdc-data-table__progress-indicator{display:block}.mdc-data-table__scrim{background-color:var(--mdc-theme-surface, #fff);height:100%;opacity:.32;position:absolute;top:0;width:100%}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table-sticky{position:sticky !important}.mat-mdc-table{table-layout:auto;white-space:normal}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table .mat-mdc-row:hover,.mat-mdc-table .mat-mdc-footer-row:hover{background-color:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2}),n})(),xC=(()=>{class n extends Qv{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matCellDef",""]],features:[o._Bn([{provide:Qv,useExisting:n}]),o.qOj]}),n})(),CC=(()=>{class n extends Jv{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[o._Bn([{provide:Jv,useExisting:n}]),o.qOj]}),n})(),DC=(()=>{class n extends Ah{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[o._Bn([{provide:Ah,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),o.qOj]}),n})(),SC=(()=>{class n extends JN{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[o.qOj]}),n})(),EC=(()=>{class n extends XN{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[o.qOj]}),n})(),iI=(()=>{class n extends bC{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[o._Bn([{provide:bC,useExisting:n}]),o.qOj]}),n})(),rI=(()=>{class n extends YA{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[o._Bn([{provide:YA,useExisting:n}]),o.qOj]}),n})(),oI=(()=>{class n extends nL{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[o._Bn([{provide:nL,useExisting:n}]),o.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&o.GkF(0,0)},dependencies:[Ih],encapsulation:2}),n})(),sI=(()=>{class n extends rL{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[o._Bn([{provide:rL,useExisting:n}]),o.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&o.GkF(0,0)},dependencies:[Ih],encapsulation:2}),n})(),sL=(()=>{class n extends WA{constructor(){super(...arguments),this._contentClassName="mat-mdc-no-data-row"}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["ng-template","matNoDataRow",""]],features:[o._Bn([{provide:WA,useExisting:n}]),o.qOj]}),n})(),oce=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Mn,Yle,Mn]}),n})();class ace extends zre{get data(){return this._data.value}set data(t){t=Array.isArray(t)?t:[],this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}constructor(t=[]){super(),this._renderData=new E([]),this._filter=new E(""),this._internalPageChanges=new gt.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,i)=>{const r=e[i];if(yf(r)){const s=Number(r);return s<9007199254740991?s:r}return r},this.sortData=(e,i)=>{const r=i.active,s=i.direction;return r&&""!=s?e.sort((a,u)=>{let f=this.sortingDataAccessor(a,r),m=this.sortingDataAccessor(u,r);const v=typeof f,x=typeof m;v!==x&&("number"===v&&(f+=""),"number"===x&&(m+=""));let I=0;return null!=f&&null!=m?f>m?I=1:f<m&&(I=-1):null!=f?I=1:null!=m&&(I=-1),I*("asc"==s?1:-1)}):e},this.filterPredicate=(e,i)=>{const r=Object.keys(e).reduce((a,u)=>a+e[u]+"\u25ec","").toLowerCase(),s=i.trim().toLowerCase();return-1!=r.indexOf(s)},this._data=new E(t),this._updateChangeSubscription()}_updateChangeSubscription(){const t=this._sort?(0,Mi.T)(this._sort.sortChange,this._sort.initialized):se(null),e=this._paginator?(0,Mi.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):se(null),r=Yr([this._data,this._filter]).pipe((0,dt.U)(([u])=>this._filterData(u))),s=Yr([r,t]).pipe((0,dt.U)(([u])=>this._orderData(u))),a=Yr([s,e]).pipe((0,dt.U)(([u])=>this._pageData(u)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=a.subscribe(u=>this._renderData.next(u))}_filterData(t){return this.filteredData=null==this.filter||""===this.filter?t:t.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const i=Math.ceil(e.length/e.pageSize)-1||0,r=Math.min(e.pageIndex,i);r!==e.pageIndex&&(e.pageIndex=r,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}class lce extends ace{}const cce=["translateMenu"];function dce(n,t){if(1&n&&(o.TgZ(0,"div",26)(1,"a",27),o._UZ(2,"img",28),o.qZA(),o.TgZ(3,"div",29)(4,"span"),o._uU(5),o.ALo(6,"slice"),o.qZA()(),o.TgZ(7,"div",30)(8,"span",31),o._uU(9),o.ALo(10,"number"),o.qZA(),o._uU(11," \xb7 "),o.TgZ(12,"span"),o._uU(13),o.ALo(14,"async"),o.qZA()()()),2&n){const e=t.ngIf,i=o.oxw();o.xp6(1),o.Q6J("href","//youtube.com/watch?v="+(null==e[0]?null:e[0].id),o.LSH),o.xp6(1),o.Q6J("src",null==e[0]||null==e[0].snippet.thumbnails||null==e[0].snippet.thumbnails.medium?null:e[0].snippet.thumbnails.medium.url,o.LSH),o.xp6(3),o.hij(" ",(null==e[0]||null==e[0].snippet||null==e[0].snippet.title?null:e[0].snippet.title.length)>50?o.Dn7(6,5,null==e[0]||null==e[0].snippet?null:e[0].snippet.title,0,50)+"...":null==e[0]||null==e[0].snippet?null:e[0].snippet.title," "),o.xp6(4),o.hij("",o.lcZ(10,9,null==e[0]||null==e[0].statistics?null:e[0].statistics.viewCount)," views"),o.xp6(4),o.hij("",o.lcZ(14,11,i.publishDate)," ago")}}function uce(n,t){if(1&n&&(o.TgZ(0,"span",32),o._uU(1),o.ALo(2,"uppercase"),o.qZA()),2&n){const e=t.$implicit,i=o.oxw();o.xp6(1),o.AsE(" ",i.regionNamesInEnglish.of(e.snippet.language)," - ",o.lcZ(2,2,e.snippet.trackKind)," ")}}function hce(n,t){1&n&&(o.TgZ(0,"th",33),o._uU(1," Name "),o.qZA())}function fce(n,t){if(1&n&&(o.TgZ(0,"td",34),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e.fileName," ")}}function pce(n,t){1&n&&(o.TgZ(0,"th",33),o._uU(1," Format "),o.qZA())}function mce(n,t){if(1&n&&(o.TgZ(0,"td",35),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e.format," ")}}function gce(n,t){1&n&&(o.TgZ(0,"th",33),o._uU(1," Language "),o.qZA())}function _ce(n,t){if(1&n&&(o.TgZ(0,"td",35),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e.language," ")}}function yce(n,t){1&n&&(o.TgZ(0,"th",33),o._uU(1," Last Updated "),o.qZA())}function vce(n,t){if(1&n&&(o.TgZ(0,"td",35),o._uU(1),o.ALo(2,"date"),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",o.xi3(2,1,e.lastUpdated,"medium")," ")}}function bce(n,t){1&n&&(o.TgZ(0,"th",33),o._uU(1," Owner "),o.qZA())}function wce(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",35)(1,"img",36),o.NdJ("click",function(){const s=o.CHM(e).$implicit,a=o.oxw();return o.KtG(a.openProfilePreviewDialog(s.usersRights))}),o.qZA()()}if(2&n){const e=t.$implicit;o.xp6(1),o.s9C("matTooltip",e.ownerName),o.Q6J("src",e.ownerPhoto,o.LSH)}}function xce(n,t){1&n&&(o.TgZ(0,"th",33),o._uU(1," Options "),o.qZA())}function Cce(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",35)(1,"button",37),o.NdJ("click",function(){const s=o.CHM(e).$implicit,a=o.oxw();return o.KtG(a.editSubtitle(s.iso,s.fullFileName))}),o.TgZ(2,"mat-icon"),o._uU(3,"edit"),o.qZA()(),o.TgZ(4,"button",38),o.NdJ("click",function(){const s=o.CHM(e).$implicit,a=o.oxw();return o.KtG(a.requestCommunityHelp(s.language,s.iso,s.fileName,s.format,null==a.videoDetails$.value[0].snippet?null:a.videoDetails$.value[0].snippet.title,s.subtitleSharedId))}),o.TgZ(5,"mat-icon"),o._uU(6,"person_pin_circle"),o.qZA()(),o.TgZ(7,"button",39),o.NdJ("click",function(){const s=o.CHM(e).$implicit,a=o.oxw();return o.KtG(a.shareSubtitle(s.language,s.iso,s.fileName,s.format,s.usersRights,null==a.videoDetails$.value[0].snippet?null:a.videoDetails$.value[0].snippet.title,s.subtitleSharedId))}),o.TgZ(8,"mat-icon"),o._uU(9,"share"),o.qZA()(),o.TgZ(10,"button",40),o.NdJ("click",function(){const s=o.CHM(e).$implicit,a=o.oxw();return o.KtG(a.deleteSubtitle(s.iso,s.fileName,s.format))}),o.TgZ(11,"mat-icon"),o._uU(12,"delete"),o.qZA()()()}}function Dce(n,t){1&n&&o._UZ(0,"tr",41)}function Sce(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"tr",42),o.NdJ("dblclick",function(){const s=o.CHM(e).$implicit,a=o.oxw();return o.KtG(a.editSubtitle(s.iso,s.fullFileName))}),o.qZA()}}function Ece(n,t){1&n&&(o.TgZ(0,"tr",43)(1,"td",44)(2,"span"),o._uU(3,"No subtitles have been added!"),o.qZA()()())}function Tce(n,t){1&n&&o._UZ(0,"fullscreen-loader")}let Ace=(()=>{class n{constructor(e,i,r,s,a,u,f,m,v,x,I,B){this.route=e,this.router=i,this.youtubeService=r,this.dialog=s,this.snackbar=a,this.authService=u,this.userService=f,this.storageService=m,this.translateService=v,this.detailsViewService=x,this.downloadFileService=I,this.shareService=B,this.videoDetails$=new E(null),this.videoCaptionDetails$=new E(null),this.supportedLanguages$=new E(null),this.loading$=new E(null),this.user$=new E(null),this.dataSource=[],this.publishDate=new E(""),this.regionNamesInEnglish=new Intl.DisplayNames(["en"],{type:"language"}),this.displayedColumns=["Name","Format","Language","Last Updated","Owner","Subtitles"],this.open=open}ngOnInit(){this.videoId=this.route.snapshot.paramMap.get("id"),this.authService.user.pipe(Tt(1),Pn(e=>e?(this.user$.next(e),this.detailsViewService.getSubtitleLanguages(this.user$.value.uid,this.videoId)):se(null))).subscribe({next:e=>{this.loadDataSourceOwnerDetails(e)},error:e=>{this.snackbar.open("Could not load data due to an unexpected error: "+e.message,"OK",{duration:5e3})}}),this.getVideoDetails(),this.getCaptionDetails(),this.getSupportedLanguages()}loadDataSourceOwnerDetails(e){this.dataSource=e;for(let i=0;i<e.length;i++)this.userService.getUserDetails(e[i].usersRights.find(r=>"Owner"===r.right).userUid).pipe(Tt(1)).subscribe({next:r=>{this.dataSource[i].ownerName=r.data().displayName,this.dataSource[i].ownerPhoto=r.data().photoURL}})}getVideoDetails(){this.youtubeService.getAllVideoDetails(this.videoId).pipe((0,Un.b)(()=>{this.loading$.next(!0)})).subscribe(e=>{e&&(this.videoDetails$.next(e),this.loading$.next(!1),this.publishDate.next(_N(new Date(this.videoDetails$.value[0]?.snippet?.publishedAt))))})}getCaptionDetails(){this.youtubeService.getCaptionDetails(this.videoId).pipe((0,Un.b)(()=>{this.loading$.next(!0)})).subscribe(e=>{e&&(this.videoCaptionDetails$.next(e),this.loading$.next(!1))})}getSupportedLanguages(){this.translateService.getSupportedLanguages().pipe((0,Un.b)(()=>{this.loading$.next(!0)})).subscribe(e=>{this.supportedLanguages$.next(e),this.loading$.next(!1)})}addSubtitle(){this.dialog.open(tle,{width:"500px"}).afterClosed().pipe(Tt(1)).subscribe(e=>{if(e){let i=!1;for(let r=0;r<this.dataSource.length;r++)e.name===this.dataSource[r].fileName&&e.language.language===this.dataSource[r].iso&&(i=!0);i?this.snackbar.open("You already have a subtitle with this name and this language","DISMISS",{duration:5e3}):this.detailsViewService.addSubtitle(this.videoId,e.language,this.user$.value.uid,e.name,e.format,this.user$.value.email)}})}editSubtitle(e,i){this.router.navigate(["edit",this.videoId,e,i])}requestCommunityHelp(e,i,r,s,a,u){this.dialog.open(gle,{width:"400px",data:{videoTitle:a,subtitleTitle:r+"."+s,language:e}}).afterClosed().pipe(Tt(1)).subscribe(f=>{void 0===f?this.dialog.closeAll():f&&this.detailsViewService.requestCommunityHelp(this.user$.value,this.videoId,e,i,r,s,f,u)})}deleteSubtitle(e,i,r){const s=this.dialog.open(kG,{width:"400px",scrollStrategy:new iC,data:"Are you sure you want to delete this subtitle? This is irreversible and all related data linked to it will be lost."}),a=`subtitles/${this.user$.value.uid}/${this.videoId}/${e}/${i}.${r}`;s.afterClosed().subscribe(f=>{!0===f&&this.detailsViewService.deleteSubtitle(this.videoId,this.user$.value.uid,e,i).then(()=>{this.storageService.deleteSubtitleFile(a).subscribe({next:m=>{this.snackbar.open("You have successfully deleted this subtitle","OK",{duration:5e3})},error:m=>{this.snackbar.open("You have successfully deleted this subtitle. The subtitle file had not been created so could not be deleted","OK",{duration:5e3}),console.log(m.message)}})}).catch(m=>{this.snackbar.open("Could not delete subtitle due to unexpected error: "+m.message,"OK",{duration:5e3})})})}openProfilePreviewDialog(e){this.dialog.open(Vj,{width:"400px",data:e}).afterClosed().pipe(Tt(1)).subscribe(r=>{})}shareSubtitle(e,i,r,s,a,u,f){let m="";void 0===f&&(f=""),this.detailsViewService.getUsersRightsFromSub(this.user$.value.uid,this.videoId,i,r,f).then(v=>{a=v,this.shareService.getRequestOwnerEmail(this.videoId,i,e,r,f).then(x=>{x&&(m=x),this.dialog.open(Lj,{width:"600px",id:"shared-dialog",data:{filename:r,usersRights:a,videoId:this.videoId,ISOcode:i,language:e,owner_text:m,format:s,videoTitle:u,subtitleId:f,userEmail:this.user$.value.email}}).afterClosed().pipe(Tt(1)).subscribe(I=>{void 0===I?this.dialog.closeAll():I&&(I.email&&I.right?this.detailsViewService.shareSubtitle(this.videoId,i,e,this.user$.value.uid,r,s,I.email,I.right,f,I.sendNotification):""==I.email&&I.right||I.email&&null==I.right?this.snackbar.open("Both email and right have to be filled","DISMISS",{duration:3e3}):this.detailsViewService.updateSharedSubtitleRights(this.videoId,i,e,this.user$.value.uid,r,s,a,f))})})})}exportAllSubtitles(){this.dataSource.length<=0?this.snackbar.open("There are no subtitles to export!","DISMISS",{duration:5e3}):this.downloadFileService.massExportSubtitles(this.dataSource,this.videoId,this.user$.value.uid)}navigateToDashboard(){this.router.navigate(["dashboard"]).then(e=>e)}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(nl),o.Y36($i),o.Y36(i_),o.Y36(cl),o.Y36(Sa),o.Y36(Ea),o.Y36(WN),o.Y36(s_),o.Y36(ul),o.Y36($l),o.Y36(ON),o.Y36(YN))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["details-view"]],viewQuery:function(i,r){if(1&i&&o.Gf(cce,5),2&i){let s;o.iGM(s=o.CRH())&&(r.translateMenu=s.first)}},features:[o._Bn([ul,$l])],decls:48,vars:12,consts:[[1,"wrapper"],[1,"left-container"],[1,"dashboard-navigation"],["mat-mini-fab","","color","primary","matTooltip","Back to Dashboard",1,"back-button",3,"click"],[1,"video-wrapper"],["class","video-details",4,"ngIf"],[1,"captions-details"],["class","captions",4,"ngFor","ngForOf"],[1,"main-content"],[1,"subtitles-header"],["mat-mini-fab","","color","primary","matTooltip","Add new subtitle",3,"click"],["mat-mini-fab","","color","primary","matTooltip","Export all subtitles",3,"click"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Name"],["mat-header-cell","",4,"matHeaderCellDef"],["class","mat-cell-name-data","mat-cell","",4,"matCellDef"],["matColumnDef","Format"],["mat-cell","",4,"matCellDef"],["matColumnDef","Language"],["matColumnDef","Last Updated"],["matColumnDef","Owner"],["matColumnDef","Subtitles"],["mat-header-row","",4,"matHeaderRowDef"],["class","mat-row-data","mat-row","",3,"dblclick",4,"matRowDef","matRowDefColumns"],["class","mat-row no-data-row",4,"matNoDataRow"],[4,"ngIf"],[1,"video-details"],["target","_blank",3,"href"],["alt","Video",3,"src"],[1,"title"],[1,"views"],["id","views"],[1,"captions"],["mat-header-cell",""],["mat-cell","",1,"mat-cell-name-data"],["mat-cell",""],["alt","profile-user-img","referrerpolicy","no-referrer",1,"profile-img-element",3,"src","matTooltip","click"],["matTooltip","Edit subtitles","mat-icon-button","","color","primary",3,"click"],["matTooltip","Request help by someone in the Sub&Dub Community","mat-icon-button","","color","primary",2,"margin-left","5px",3,"click"],["matTooltip","Share subtitles with someone","mat-icon-button","","color","primary",2,"margin-left","5px",3,"click"],["matTooltip","Delete this subtitle","mat-icon-button","","color","warn",2,"margin-left","5px",3,"click"],["mat-header-row",""],["mat-row","",1,"mat-row-data",3,"dblclick"],[1,"mat-row","no-data-row"],["colspan","5",1,"mat-cell","empty-table"]],template:function(i,r){1&i&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),o.NdJ("click",function(){return r.navigateToDashboard()}),o.TgZ(4,"mat-icon"),o._uU(5,"arrow_back"),o.qZA()()(),o.TgZ(6,"div",4),o.YNc(7,dce,15,13,"div",5),o.ALo(8,"async"),o.TgZ(9,"div",6)(10,"span"),o._uU(11,"Existing Captions in YouTube:"),o.qZA(),o.YNc(12,uce,3,4,"span",7),o.ALo(13,"async"),o.qZA()()(),o.TgZ(14,"div",8)(15,"div",9)(16,"span"),o._uU(17,"Subtitles"),o.qZA(),o.TgZ(18,"button",10),o.NdJ("click",function(){return r.addSubtitle()}),o.TgZ(19,"mat-icon"),o._uU(20,"add"),o.qZA()(),o.TgZ(21,"button",11),o.NdJ("click",function(){return r.exportAllSubtitles()}),o.TgZ(22,"mat-icon"),o._uU(23,"file_upload"),o.qZA()()(),o.TgZ(24,"table",12),o.ynx(25,13),o.YNc(26,hce,2,0,"th",14),o.YNc(27,fce,2,1,"td",15),o.BQk(),o.ynx(28,16),o.YNc(29,pce,2,0,"th",14),o.YNc(30,mce,2,1,"td",17),o.BQk(),o.ynx(31,18),o.YNc(32,gce,2,0,"th",14),o.YNc(33,_ce,2,1,"td",17),o.BQk(),o.ynx(34,19),o.YNc(35,yce,2,0,"th",14),o.YNc(36,vce,3,4,"td",17),o.BQk(),o.ynx(37,20),o.YNc(38,bce,2,0,"th",14),o.YNc(39,wce,2,2,"td",17),o.BQk(),o.ynx(40,21),o.YNc(41,xce,2,0,"th",14),o.YNc(42,Cce,13,0,"td",17),o.BQk(),o.YNc(43,Dce,1,0,"tr",22),o.YNc(44,Sce,1,0,"tr",23),o.YNc(45,Ece,4,0,"tr",24),o.qZA()()(),o.YNc(46,Tce,1,0,"fullscreen-loader",25),o.ALo(47,"async")),2&i&&(o.xp6(7),o.Q6J("ngIf",o.lcZ(8,6,r.videoDetails$)),o.xp6(5),o.Q6J("ngForOf",o.lcZ(13,8,r.videoCaptionDetails$)),o.xp6(12),o.Q6J("dataSource",r.dataSource),o.xp6(19),o.Q6J("matHeaderRowDef",r.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",r.displayedColumns),o.xp6(2),o.Q6J("ngIf",o.lcZ(47,10,r.loading$)))},dependencies:[Fi,Vn,Xg,tC,Qo,_s,nI,CC,iI,DC,xC,rI,SC,EC,oI,sI,sL,r_,Hi,lo,Oa,Ra,rr],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;gap:50px;margin-top:20px}.main-content[_ngcontent-%COMP%]{margin-top:10px;margin-right:50px;display:flex;flex-direction:column;flex-grow:1}.left-container[_ngcontent-%COMP%]{max-width:20vw;display:flex;flex-grow:1;flex-direction:column;padding-left:20px}.dashboard-navigation[_ngcontent-%COMP%]{margin-top:5px;display:flex;align-items:center;justify-content:flex-start}.video-details[_ngcontent-%COMP%]{display:flex;flex-direction:column}.video-details[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.video-details[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:18px;color:#000;font-weight:700;text-decoration:none}.subtitles-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;font-size:32px;gap:30px}.mat-mdc-table[_ngcontent-%COMP%]{background:none;box-shadow:none}  .mat-mdc-menu-content{max-height:700px}.captions-details[_ngcontent-%COMP%]{display:flex;flex-direction:column}.views[_ngcontent-%COMP%]{flex:6;font-size:16px;color:gray}.video-wrapper[_ngcontent-%COMP%]{margin-top:20px;box-shadow:#717172 0 10px 35px -10px;border-radius:5px}.title[_ngcontent-%COMP%], .views[_ngcontent-%COMP%], .captions-details[_ngcontent-%COMP%]{padding-left:10px;padding-bottom:5px}.mat-cell-name-data[_ngcontent-%COMP%]{font-weight:700}.mat-column-Format[_ngcontent-%COMP%], .mat-column-Language[_ngcontent-%COMP%], .mat-column-Last-Updated[_ngcontent-%COMP%], .mat-column-Subtitles[_ngcontent-%COMP%], .mat-column-Owner[_ngcontent-%COMP%]{text-align:center}.mat-row-data[_ngcontent-%COMP%]:hover{background-color:#efefef!important}.empty-table[_ngcontent-%COMP%]{text-align:center;font-style:italic}.mat-row-data[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{scale:100%;transition:scale .2s ease}.mat-row-data[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{scale:108%;transform:rotate(4deg)}.profile-img-element[_ngcontent-%COMP%]{border-radius:50%;width:35px;height:35px}.profile-img-element[_ngcontent-%COMP%]:hover{cursor:pointer}"]})}return n})();function Ice(n,t){1&n&&o.Hsn(0)}const kce=["*"];let qj=(()=>{class n{constructor(e){this._elementRef=e}focus(){this._elementRef.nativeElement.focus()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkStepHeader",""]],hostAttrs:["role","tab"]}),n})(),Zj=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkStepLabel",""]]}),n})(),Mce=0;const $j=new o.OlP("STEPPER_GLOBAL_OPTIONS");let aL=(()=>{class n{get editable(){return this._editable}set editable(e){this._editable=Nt(e)}get optional(){return this._optional}set optional(e){this._optional=Nt(e)}get completed(){return null==this._completedOverride?this._getDefaultCompleted():this._completedOverride}set completed(e){this._completedOverride=Nt(e)}_getDefaultCompleted(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted}get hasError(){return null==this._customError?this._getDefaultError():this._customError}set hasError(e){this._customError=Nt(e)}_getDefaultError(){return this.stepControl&&this.stepControl.invalid&&this.interacted}constructor(e,i){this._stepper=e,this.interacted=!1,this.interactedStream=new o.vpe,this._editable=!0,this._optional=!1,this._completedOverride=null,this._customError=null,this._stepperOptions=i||{},this._displayDefaultIndicatorType=!1!==this._stepperOptions.displayDefaultIndicatorType}select(){this._stepper.selected=this}reset(){this.interacted=!1,null!=this._completedOverride&&(this._completedOverride=!1),null!=this._customError&&(this._customError=!1),this.stepControl&&this.stepControl.reset()}ngOnChanges(){this._stepper._stateChanged()}_markAsInteracted(){this.interacted||(this.interacted=!0,this.interactedStream.emit(this))}_showError(){return this._stepperOptions.showError??null!=this._customError}}return n.\u0275fac=function(e){return new(e||n)(o.Y36((0,o.Gpc)(()=>TC)),o.Y36($j,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["cdk-step"]],contentQueries:function(e,i,r){if(1&e&&o.Suo(r,Zj,5),2&e){let s;o.iGM(s=o.CRH())&&(i.stepLabel=s.first)}},viewQuery:function(e,i){if(1&e&&o.Gf(o.Rgc,7),2&e){let r;o.iGM(r=o.CRH())&&(i.content=r.first)}},inputs:{stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],state:"state",editable:"editable",optional:"optional",completed:"completed",hasError:"hasError"},outputs:{interactedStream:"interacted"},exportAs:["cdkStep"],features:[o.TTD],ngContentSelectors:kce,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.YNc(0,Ice,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),n})(),TC=(()=>{class n{get linear(){return this._linear}set linear(e){this._linear=Nt(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){const i=So(e);this.steps&&this._steps?(this._isValidIndex(i),this.selected?._markAsInteracted(),this._selectedIndex!==i&&!this._anyControlsInvalidOrPending(i)&&(i>=this._selectedIndex||this.steps.toArray()[i].editable)&&this._updateSelectedItemIndex(i)):this._selectedIndex=i}get selected(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0}set selected(e){this.selectedIndex=e&&this.steps?this.steps.toArray().indexOf(e):-1}get orientation(){return this._orientation}set orientation(e){this._orientation=e,this._keyManager&&this._keyManager.withVerticalOrientation("vertical"===e)}constructor(e,i,r){this._dir=e,this._changeDetectorRef=i,this._elementRef=r,this._destroyed=new gt.x,this.steps=new o.n_E,this._sortedHeaders=new o.n_E,this._linear=!1,this._selectedIndex=0,this.selectionChange=new o.vpe,this._orientation="horizontal",this._groupId=Mce++}ngAfterContentInit(){this._steps.changes.pipe(yr(this._steps),an(this._destroyed)).subscribe(e=>{this.steps.reset(e.filter(i=>i._stepper===this)),this.steps.notifyOnChanges()})}ngAfterViewInit(){this._stepHeader.changes.pipe(yr(this._stepHeader),an(this._destroyed)).subscribe(e=>{this._sortedHeaders.reset(e.toArray().sort((i,r)=>i._elementRef.nativeElement.compareDocumentPosition(r._elementRef.nativeElement)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)),this._sortedHeaders.notifyOnChanges()}),this._keyManager=new Y_(this._sortedHeaders).withWrap().withHomeAndEnd().withVerticalOrientation("vertical"===this._orientation),(this._dir?this._dir.change:se()).pipe(yr(this._layoutDirection()),an(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e)),this._keyManager.updateActiveItem(this._selectedIndex),this.steps.changes.subscribe(()=>{this.selected||(this._selectedIndex=Math.max(this._selectedIndex-1,0))}),this._isValidIndex(this._selectedIndex)||(this._selectedIndex=0)}ngOnDestroy(){this._keyManager?.destroy(),this.steps.destroy(),this._sortedHeaders.destroy(),this._destroyed.next(),this._destroyed.complete()}next(){this.selectedIndex=Math.min(this._selectedIndex+1,this.steps.length-1)}previous(){this.selectedIndex=Math.max(this._selectedIndex-1,0)}reset(){this._updateSelectedItemIndex(0),this.steps.forEach(e=>e.reset()),this._stateChanged()}_getStepLabelId(e){return`cdk-step-label-${this._groupId}-${e}`}_getStepContentId(e){return`cdk-step-content-${this._groupId}-${e}`}_stateChanged(){this._changeDetectorRef.markForCheck()}_getAnimationDirection(e){const i=e-this._selectedIndex;return i<0?"rtl"===this._layoutDirection()?"next":"previous":i>0?"rtl"===this._layoutDirection()?"previous":"next":"current"}_getIndicatorType(e,i="number"){const r=this.steps.toArray()[e],s=this._isCurrentStep(e);return r._displayDefaultIndicatorType?this._getDefaultIndicatorLogic(r,s):this._getGuidelineLogic(r,s,i)}_getDefaultIndicatorLogic(e,i){return e._showError()&&e.hasError&&!i?"error":!e.completed||i?"number":e.editable?"edit":"done"}_getGuidelineLogic(e,i,r="number"){return e._showError()&&e.hasError&&!i?"error":e.completed&&!i?"done":e.completed&&i?r:e.editable&&i?"edit":r}_isCurrentStep(e){return this._selectedIndex===e}_getFocusIndex(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex}_updateSelectedItemIndex(e){const i=this.steps.toArray();this.selectionChange.emit({selectedIndex:e,previouslySelectedIndex:this._selectedIndex,selectedStep:i[e],previouslySelectedStep:i[this._selectedIndex]}),this._containsFocus()?this._keyManager.setActiveItem(e):this._keyManager.updateActiveItem(e),this._selectedIndex=e,this._stateChanged()}_onKeydown(e){const i=Ka(e),r=e.keyCode,s=this._keyManager;null==s.activeItemIndex||i||32!==r&&13!==r?s.setFocusOrigin("keyboard").onKeydown(e):(this.selectedIndex=s.activeItemIndex,e.preventDefault())}_anyControlsInvalidOrPending(e){return!!(this._linear&&e>=0)&&this.steps.toArray().slice(0,e).some(i=>{const r=i.stepControl;return(r?r.invalid||r.pending||!i.interacted:!i.completed)&&!i.optional&&!i._completedOverride})}_layoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_containsFocus(){const e=this._elementRef.nativeElement,i=os();return e===i||e.contains(i)}_isValidIndex(e){return e>-1&&(!this.steps||e<this.steps.length)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ri,8),o.Y36(o.sBO),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkStepper",""]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,aL,5),o.Suo(r,qj,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._steps=s),o.iGM(s=o.CRH())&&(i._stepHeader=s)}},inputs:{linear:"linear",selectedIndex:"selectedIndex",selected:"selected",orientation:"orientation"},outputs:{selectionChange:"selectionChange"},exportAs:["cdkStepper"]}),n})(),Rce=(()=>{class n{constructor(e){this._stepper=e,this.type="submit"}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(TC))},n.\u0275dir=o.lG2({type:n,selectors:[["button","cdkStepperNext",""]],hostVars:1,hostBindings:function(e,i){1&e&&o.NdJ("click",function(){return i._stepper.next()}),2&e&&o.Ikx("type",i.type)},inputs:{type:"type"}}),n})(),Oce=(()=>{class n{constructor(e){this._stepper=e,this.type="button"}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(TC))},n.\u0275dir=o.lG2({type:n,selectors:[["button","cdkStepperPrevious",""]],hostVars:1,hostBindings:function(e,i){1&e&&o.NdJ("click",function(){return i._stepper.previous()}),2&e&&o.Ikx("type",i.type)},inputs:{type:"type"}}),n})(),Pce=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[la]}),n})();function Fce(n,t){if(1&n&&o.GkF(0,8),2&n){const e=o.oxw();o.Q6J("ngTemplateOutlet",e.iconOverrides[e.state])("ngTemplateOutletContext",e._getIconContext())}}function Nce(n,t){if(1&n&&(o.TgZ(0,"span",13),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.Oqu(e._getDefaultTextForState(e.state))}}function Lce(n,t){if(1&n&&(o.TgZ(0,"span",14),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.Oqu(e._intl.completedLabel)}}function Bce(n,t){if(1&n&&(o.TgZ(0,"span",14),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.Oqu(e._intl.editableLabel)}}function Vce(n,t){if(1&n&&(o.TgZ(0,"mat-icon",13),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.Oqu(e._getDefaultTextForState(e.state))}}function Uce(n,t){if(1&n&&(o.ynx(0,9),o.YNc(1,Nce,2,1,"span",10),o.YNc(2,Lce,2,1,"span",11),o.YNc(3,Bce,2,1,"span",11),o.YNc(4,Vce,2,1,"mat-icon",12),o.BQk()),2&n){const e=o.oxw();o.Q6J("ngSwitch",e.state),o.xp6(1),o.Q6J("ngSwitchCase","number"),o.xp6(1),o.Q6J("ngIf","done"===e.state),o.xp6(1),o.Q6J("ngIf","edit"===e.state)}}function Hce(n,t){if(1&n&&(o.TgZ(0,"div",15),o.GkF(1,16),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngTemplateOutlet",e._templateLabel().template)}}function Gce(n,t){if(1&n&&(o.TgZ(0,"div",15),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Oqu(e.label)}}function zce(n,t){if(1&n&&(o.TgZ(0,"div",17),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Oqu(e._intl.optionalLabel)}}function jce(n,t){if(1&n&&(o.TgZ(0,"div",18),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Oqu(e.errorMessage)}}function qce(n,t){}function Zce(n,t){if(1&n&&(o.Hsn(0),o.YNc(1,qce,0,0,"ng-template",0)),2&n){const e=o.oxw();o.xp6(1),o.Q6J("cdkPortalOutlet",e._portal)}}const $ce=["*"];function Yce(n,t){1&n&&o._UZ(0,"div",11)}const Yj=function(n,t){return{step:n,i:t}};function Wce(n,t){if(1&n&&(o.ynx(0),o.GkF(1,9),o.YNc(2,Yce,1,0,"div",10),o.BQk()),2&n){const e=t.$implicit,i=t.index,r=t.last;o.oxw(2);const s=o.MAs(4);o.xp6(1),o.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",o.WLB(3,Yj,e,i)),o.xp6(1),o.Q6J("ngIf",!r)}}const Wj=function(n){return{animationDuration:n}},Kj=function(n,t){return{value:n,params:t}};function Kce(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",12),o.NdJ("@horizontalStepTransition.done",function(r){o.CHM(e);const s=o.oxw(2);return o.KtG(s._animationDone.next(r))}),o.GkF(1,13),o.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=o.oxw(2);o.ekj("mat-horizontal-stepper-content-inactive",r.selectedIndex!==i),o.Q6J("@horizontalStepTransition",o.WLB(8,Kj,r._getAnimationDirection(i),o.VKq(6,Wj,r._getAnimationDuration())))("id",r._getStepContentId(i)),o.uIk("aria-labelledby",r._getStepLabelId(i)),o.xp6(1),o.Q6J("ngTemplateOutlet",e.content)}}function Qce(n,t){if(1&n&&(o.TgZ(0,"div",4)(1,"div",5),o.YNc(2,Wce,3,6,"ng-container",6),o.qZA(),o.TgZ(3,"div",7),o.YNc(4,Kce,2,11,"div",8),o.qZA()()),2&n){const e=o.oxw();o.xp6(2),o.Q6J("ngForOf",e.steps),o.xp6(2),o.Q6J("ngForOf",e.steps)}}function Jce(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",15),o.GkF(1,9),o.TgZ(2,"div",16)(3,"div",17),o.NdJ("@verticalStepTransition.done",function(r){o.CHM(e);const s=o.oxw(2);return o.KtG(s._animationDone.next(r))}),o.TgZ(4,"div",18),o.GkF(5,13),o.qZA()()()()}if(2&n){const e=t.$implicit,i=t.index,r=t.last,s=o.oxw(2),a=o.MAs(4);o.xp6(1),o.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",o.WLB(10,Yj,e,i)),o.xp6(1),o.ekj("mat-stepper-vertical-line",!r),o.xp6(1),o.ekj("mat-vertical-stepper-content-inactive",s.selectedIndex!==i),o.Q6J("@verticalStepTransition",o.WLB(15,Kj,s._getAnimationDirection(i),o.VKq(13,Wj,s._getAnimationDuration())))("id",s._getStepContentId(i)),o.uIk("aria-labelledby",s._getStepLabelId(i)),o.xp6(2),o.Q6J("ngTemplateOutlet",e.content)}}function Xce(n,t){if(1&n&&(o.ynx(0),o.YNc(1,Jce,6,18,"div",14),o.BQk()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",e.steps)}}function ede(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-step-header",19),o.NdJ("click",function(){const s=o.CHM(e).step;return o.KtG(s.select())})("keydown",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._onKeydown(r))}),o.qZA()}if(2&n){const e=t.step,i=t.i,r=o.oxw();o.ekj("mat-horizontal-stepper-header","horizontal"===r.orientation)("mat-vertical-stepper-header","vertical"===r.orientation),o.Q6J("tabIndex",r._getFocusIndex()===i?0:-1)("id",r._getStepLabelId(i))("index",i)("state",r._getIndicatorType(i,e.state))("label",e.stepLabel||e.label)("selected",r.selectedIndex===i)("active",r._stepIsNavigable(i,e))("optional",e.optional)("errorMessage",e.errorMessage)("iconOverrides",r._iconOverrides)("disableRipple",r.disableRipple||!r._stepIsNavigable(i,e))("color",e.color||r.color),o.uIk("aria-posinset",i+1)("aria-setsize",r.steps.length)("aria-controls",r._getStepContentId(i))("aria-selected",r.selectedIndex==i)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null)("aria-disabled",!r._stepIsNavigable(i,e)||null)}}let lL=(()=>{class n extends Zj{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matStepLabel",""]],features:[o.qOj]}),n})(),aI=(()=>{class n{constructor(){this.changes=new gt.x,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nde={provide:aI,deps:[[new o.FiY,new o.tp0,aI]],useFactory:function tde(n){return n||new aI}},ide=Sm(class extends qj{constructor(t){super(t)}},"primary");let Qj=(()=>{class n extends ide{constructor(e,i,r,s){super(r),this._intl=e,this._focusMonitor=i,this._intlSubscription=e.changes.subscribe(()=>s.markForCheck())}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._intlSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._elementRef,e,i):this._elementRef.nativeElement.focus(i)}_stringLabel(){return this.label instanceof lL?null:this.label}_templateLabel(){return this.label instanceof lL?this.label:null}_getHostElement(){return this._elementRef.nativeElement}_getIconContext(){return{index:this.index,active:this.active,optional:this.optional}}_getDefaultTextForState(e){return"number"==e?`${this.index+1}`:"edit"==e?"create":"error"==e?"warning":e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(aI),o.Y36(Bl),o.Y36(o.SBq),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-step-header"]],hostAttrs:["role","tab",1,"mat-step-header"],inputs:{color:"color",state:"state",label:"label",errorMessage:"errorMessage",iconOverrides:"iconOverrides",index:"index",selected:"selected",active:"active",optional:"optional",disableRipple:"disableRipple"},features:[o.qOj],decls:10,vars:19,consts:[["matRipple","",1,"mat-step-header-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-step-icon-content",3,"ngSwitch"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngSwitchCase"],[3,"ngSwitch",4,"ngSwitchDefault"],[1,"mat-step-label"],["class","mat-step-text-label",4,"ngIf"],["class","mat-step-optional",4,"ngIf"],["class","mat-step-sub-label-error",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngSwitch"],["aria-hidden","true",4,"ngSwitchCase"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true",4,"ngSwitchDefault"],["aria-hidden","true"],[1,"cdk-visually-hidden"],[1,"mat-step-text-label"],[3,"ngTemplateOutlet"],[1,"mat-step-optional"],[1,"mat-step-sub-label-error"]],template:function(e,i){1&e&&(o._UZ(0,"div",0),o.TgZ(1,"div")(2,"div",1),o.YNc(3,Fce,1,2,"ng-container",2),o.YNc(4,Uce,5,4,"ng-container",3),o.qZA()(),o.TgZ(5,"div",4),o.YNc(6,Hce,2,1,"div",5),o.YNc(7,Gce,2,1,"div",5),o.YNc(8,zce,2,1,"div",6),o.YNc(9,jce,2,1,"div",7),o.qZA()),2&e&&(o.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disableRipple),o.xp6(1),o.Gre("mat-step-icon-state-",i.state," mat-step-icon"),o.ekj("mat-step-icon-selected",i.selected),o.xp6(1),o.Q6J("ngSwitch",!(!i.iconOverrides||!i.iconOverrides[i.state])),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(2),o.ekj("mat-step-label-active",i.active)("mat-step-label-selected",i.selected)("mat-step-label-error","error"==i.state),o.xp6(1),o.Q6J("ngIf",i._templateLabel()),o.xp6(1),o.Q6J("ngIf",i._stringLabel()),o.xp6(1),o.Q6J("ngIf",i.optional&&"error"!=i.state),o.xp6(1),o.Q6J("ngIf","error"==i.state))},dependencies:[Vn,yi,xs,vo,Ti,Qo,ks],styles:['.mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-step-header:focus .mat-focus-indicator::before{content:""}.cdk-high-contrast-active .mat-step-header{outline:solid 1px}.cdk-high-contrast-active .mat-step-header[aria-selected=true] .mat-step-label{text-decoration:underline}.cdk-high-contrast-active .mat-step-header[aria-disabled=true]{outline-color:GrayText}.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-label,.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-icon,.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-optional{color:GrayText}.mat-step-optional,.mat-step-sub-label-error{font-size:12px}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative}.mat-step-icon-content{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);display:flex}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,changeDetection:0}),n})();const eq={horizontalStepTransition:_r("horizontalStepTransition",[$n("previous",dn({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"})),$n("current",dn({transform:"none",visibility:"inherit"})),$n("next",dn({transform:"translate3d(100%, 0, 0)",visibility:"hidden"})),wi("* => *",ui("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)"),{params:{animationDuration:"500ms"}})]),verticalStepTransition:_r("verticalStepTransition",[$n("previous",dn({height:"0px",visibility:"hidden"})),$n("next",dn({height:"0px",visibility:"hidden"})),$n("current",dn({height:"*",visibility:"inherit"})),wi("* <=> current",ui("{{animationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)"),{params:{animationDuration:"225ms"}})])};let rde=(()=>{class n{constructor(e){this.templateRef=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["ng-template","matStepperIcon",""]],inputs:{name:["matStepperIcon","name"]}}),n})(),tq=(()=>{class n{constructor(e){this._template=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["ng-template","matStepContent",""]]}),n})(),nq=(()=>{class n extends aL{constructor(e,i,r,s){super(e,s),this._errorStateMatcher=i,this._viewContainerRef=r,this._isSelected=C.w0.EMPTY}ngAfterContentInit(){this._isSelected=this._stepper.steps.changes.pipe(Pn(()=>this._stepper.selectionChange.pipe((0,dt.U)(e=>e.selectedStep===this),yr(this._stepper.selected===this)))).subscribe(e=>{e&&this._lazyContent&&!this._portal&&(this._portal=new Ov(this._lazyContent._template,this._viewContainerRef))})}ngOnDestroy(){this._isSelected.unsubscribe()}isErrorState(e,i){return this._errorStateMatcher.isErrorState(e,i)||!!(e&&e.invalid&&this.interacted)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36((0,o.Gpc)(()=>iq)),o.Y36(Tm,4),o.Y36(o.s_b),o.Y36($j,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-step"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,lL,5),o.Suo(r,tq,5)),2&e){let s;o.iGM(s=o.CRH())&&(i.stepLabel=s.first),o.iGM(s=o.CRH())&&(i._lazyContent=s.first)}},inputs:{color:"color"},exportAs:["matStep"],features:[o._Bn([{provide:Tm,useExisting:n},{provide:aL,useExisting:n}]),o.qOj],ngContentSelectors:$ce,decls:1,vars:0,consts:[[3,"cdkPortalOutlet"]],template:function(e,i){1&e&&(o.F$t(),o.YNc(0,Zce,2,1,"ng-template"))},dependencies:[Pv],encapsulation:2,changeDetection:0}),n})(),iq=(()=>{class n extends TC{get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e)?e+"ms":e}constructor(e,i,r){super(e,i,r),this.steps=new o.n_E,this.animationDone=new o.vpe,this.labelPosition="end",this.headerPosition="top",this._iconOverrides={},this._animationDone=new gt.x,this._animationDuration="";const s=r.nativeElement.nodeName.toLowerCase();this.orientation="mat-vertical-stepper"===s?"vertical":"horizontal"}ngAfterContentInit(){super.ngAfterContentInit(),this._icons.forEach(({name:e,templateRef:i})=>this._iconOverrides[e]=i),this.steps.changes.pipe(an(this._destroyed)).subscribe(()=>{this._stateChanged()}),this._animationDone.pipe(Nl((e,i)=>e.fromState===i.fromState&&e.toState===i.toState),an(this._destroyed)).subscribe(e=>{"current"===e.toState&&this.animationDone.emit()})}_stepIsNavigable(e,i){return i.completed||this.selectedIndex===e||!this.linear}_getAnimationDuration(){return this.animationDuration?this.animationDuration:"horizontal"===this.orientation?"500ms":"225ms"}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ri,8),o.Y36(o.sBO),o.Y36(o.SBq))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-stepper"],["mat-vertical-stepper"],["mat-horizontal-stepper"],["","matStepper",""]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,nq,5),o.Suo(r,rde,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._steps=s),o.iGM(s=o.CRH())&&(i._icons=s)}},viewQuery:function(e,i){if(1&e&&o.Gf(Qj,5),2&e){let r;o.iGM(r=o.CRH())&&(i._stepHeader=r)}},hostAttrs:["role","tablist"],hostVars:11,hostBindings:function(e,i){2&e&&(o.uIk("aria-orientation",i.orientation),o.ekj("mat-stepper-horizontal","horizontal"===i.orientation)("mat-stepper-vertical","vertical"===i.orientation)("mat-stepper-label-position-end","horizontal"===i.orientation&&"end"==i.labelPosition)("mat-stepper-label-position-bottom","horizontal"===i.orientation&&"bottom"==i.labelPosition)("mat-stepper-header-position-bottom","bottom"===i.headerPosition))},inputs:{selectedIndex:"selectedIndex",disableRipple:"disableRipple",color:"color",labelPosition:"labelPosition",headerPosition:"headerPosition",animationDuration:"animationDuration"},outputs:{animationDone:"animationDone"},exportAs:["matStepper","matVerticalStepper","matHorizontalStepper"],features:[o._Bn([{provide:TC,useExisting:n}]),o.qOj],decls:5,vars:3,consts:[[3,"ngSwitch"],["class","mat-horizontal-stepper-wrapper",4,"ngSwitchCase"],[4,"ngSwitchCase"],["stepTemplate",""],[1,"mat-horizontal-stepper-wrapper"],[1,"mat-horizontal-stepper-header-container"],[4,"ngFor","ngForOf"],[1,"mat-horizontal-content-container"],["class","mat-horizontal-stepper-content","role","tabpanel",3,"id","mat-horizontal-stepper-content-inactive",4,"ngFor","ngForOf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","mat-stepper-horizontal-line",4,"ngIf"],[1,"mat-stepper-horizontal-line"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id"],[3,"ngTemplateOutlet"],["class","mat-step",4,"ngFor","ngForOf"],[1,"mat-step"],[1,"mat-vertical-content-container"],["role","tabpanel",1,"mat-vertical-stepper-content",3,"id"],[1,"mat-vertical-content"],[3,"tabIndex","id","index","state","label","selected","active","optional","errorMessage","iconOverrides","disableRipple","color","click","keydown"]],template:function(e,i){1&e&&(o.ynx(0,0),o.YNc(1,Qce,5,2,"div",1),o.YNc(2,Xce,2,1,"ng-container",2),o.BQk(),o.YNc(3,ede,1,23,"ng-template",null,3,o.W1O)),2&e&&(o.Q6J("ngSwitch",i.orientation),o.xp6(1),o.Q6J("ngSwitchCase","horizontal"),o.xp6(1),o.Q6J("ngSwitchCase","vertical"))},dependencies:[Fi,Vn,yi,xs,vo,Qj],styles:['.mat-stepper-vertical,.mat-stepper-horizontal{display:block}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-header-position-bottom .mat-horizontal-stepper-header-container{order:1}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:"";display:inline-block;height:0;position:absolute;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;height:24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-wrapper{display:flex;flex-direction:column}.mat-horizontal-stepper-content{outline:0}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-inactive{height:0;overflow:hidden}.mat-horizontal-stepper-content:not(.mat-horizontal-stepper-content-inactive){visibility:inherit !important}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}.cdk-high-contrast-active .mat-horizontal-content-container{outline:solid 1px}.mat-stepper-header-position-bottom .mat-horizontal-content-container{padding:24px 24px 0 24px}.mat-vertical-content-container{margin-left:36px;border:0;position:relative}.cdk-high-contrast-active .mat-vertical-content-container{outline:solid 1px}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}.mat-stepper-vertical-line::before{content:"";position:absolute;left:0;border-left-width:1px;border-left-style:solid}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0}.mat-vertical-stepper-content:not(.mat-vertical-stepper-content-inactive){visibility:inherit !important}.mat-vertical-content{padding:0 24px 24px 24px}.mat-step:last-child .mat-vertical-content-container{border:none}'],encapsulation:2,data:{animation:[eq.horizontalStepTransition,eq.verticalStepTransition]},changeDetection:0}),n})(),ode=(()=>{class n extends Rce{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["button","matStepperNext",""]],hostAttrs:[1,"mat-stepper-next"],hostVars:1,hostBindings:function(e,i){2&e&&o.Ikx("type",i.type)},inputs:{type:"type"},features:[o.qOj]}),n})(),sde=(()=>{class n extends Oce{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["button","matStepperPrevious",""]],hostAttrs:[1,"mat-stepper-previous"],hostVars:1,hostBindings:function(e,i){2&e&&o.Ikx("type",i.type)},inputs:{type:"type"},features:[o.qOj]}),n})(),ade=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[nde,Tm],imports:[Mn,or,Fv,Pce,TG,Mm,Mn]}),n})();function lde(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),o._uU(3),o.qZA()(),o.TgZ(4,"mat-card-content")(5,"mat-form-field")(6,"textarea",10),o.NdJ("ngModelChange",function(r){const a=o.CHM(e).$implicit;return o.KtG(a.text=r)}),o.qZA()(),o.TgZ(7,"div",11)(8,"mat-form-field")(9,"mat-label"),o._uU(10,"From:"),o.qZA(),o.TgZ(11,"input",12),o.NdJ("ngModelChange",function(r){const a=o.CHM(e).$implicit;return o.KtG(a.start_time=r)}),o.qZA()(),o.TgZ(12,"mat-form-field")(13,"mat-label"),o._uU(14,"To:"),o.qZA(),o.TgZ(15,"input",12),o.NdJ("ngModelChange",function(r){const a=o.CHM(e).$implicit;return o.KtG(a.end_time=r)}),o.qZA()()()()()}if(2&n){const e=t.$implicit,i=t.index;o.xp6(3),o.hij("Subtitle ",i+1,""),o.xp6(3),o.Q6J("value",e.text)("ngModel",e.text),o.xp6(5),o.Q6J("value",e.start_time)("ngModel",e.start_time),o.xp6(4),o.Q6J("value",e.end_time)("ngModel",e.end_time)}}function cde(n,t){if(1&n&&(o.TgZ(0,"div",13)(1,"mat-form-field")(2,"textarea",14),o._uU(3,"                        "),o.qZA()()()),2&n){const e=o.oxw();o.xp6(2),o.Q6J("value",e.SSMLContent)}}let dde=(()=>{class n{constructor(e){this.ttsService=e,this.SSMLContent=""}ngOnInit(){this.textContentSSML=this.ttsService.get_initContentSSML()}generateSSML(){let e="<speak>\n";this.textContentSSML.forEach((i,r)=>{e+=`   <prosody duration="${i.totalDuration}">${i.text}</prosody>\n`,r<this.textContentSSML.length-1&&(e+='   <break time="100ms"/>\n')}),e+="</speak>",this.SSMLContent=e}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(Xz))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["generate-tts"]],decls:13,vars:3,consts:[[3,"linear"],["label","Review your Subtitles",3,"editable","selectionchange"],["fxLayoutAlign","center center","fxLayout","column"],[4,"ngFor","ngForOf"],["mat-button","","matStepperNext","",3,"click"],["label","Generate SSML"],["matStepContent",""],["mat-button","","matStepperNext",""],["label","Generate Speech"],["mat-button","","matStepperPrevious",""],["matInput","","type","text",3,"value","ngModel","ngModelChange"],["fxLayout","column","fxLayoutGap","10px","fxFlex","30"],["matInput","","matTooltip","hh:mm:ss:ms","type","time","step","0.1",3,"value","ngModel","ngModelChange"],["fxLayoutAlign","center center","fxLayout","column",1,"textarea-ssml"],["rows","20","matInput","",3,"value"]],template:function(i,r){1&i&&(o.TgZ(0,"mat-stepper",0)(1,"mat-step",1),o.NdJ("selectionchange",function(){return r.generateSSML()}),o.TgZ(2,"div",2),o.YNc(3,lde,16,7,"mat-card",3),o.qZA(),o.TgZ(4,"button",4),o.NdJ("click",function(){return r.generateSSML()}),o._uU(5,"Next"),o.qZA()(),o.TgZ(6,"mat-step",5),o.YNc(7,cde,4,1,"ng-template",6),o.TgZ(8,"button",7),o._uU(9,"Next"),o.qZA()(),o._UZ(10,"mat-step",8),o.TgZ(11,"button",9),o._uU(12,"Back"),o.qZA()()),2&i&&(o.Q6J("linear",!0),o.xp6(1),o.Q6J("editable",!1),o.xp6(2),o.Q6J("ngForOf",r.textContentSSML))},dependencies:[Fi,Rs,fa,el,cs,Mr,Lr,Pd,_s,GN,zN,bj,jN,n_,cC,Hv,Rp,nq,iq,ode,sde,tq],styles:[".mat-mdc-card[_ngcontent-%COMP%]{margin-bottom:15px;justify-content:center;width:450px}.mat-horizontal-stepper-content[_ngcontent-%COMP%]{display:flex}.mat-mdc-form-field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:100%!important}  .mat-mdc-form-field-infix{height:100%}  .mat-mdc-form-field-flex{height:100%}.mat-mdc-form-field-type-mat-input[_ngcontent-%COMP%]{padding-right:5px;flex-grow:1}.textarea-ssml[_ngcontent-%COMP%]   .mat-mdc-form-field-type-mat-input[_ngcontent-%COMP%]{width:1000px}"]})}return n})(),ude=(()=>{class n{constructor(e,i,r,s,a){this.route=e,this.router=i,this.storageService=r,this.communityService=s,this.dialog=a,this.loading$=new E(null),this.isFormDirty=!1,this.storage=(0,o.f3M)($v)}ngOnInit(){this.videoId=this.route.snapshot.paramMap.get("id"),this.currentLanguage=this.route.snapshot.paramMap.get("languageCode"),this.requestId=this.route.snapshot.paramMap.get("requestId"),this.storageService.getCommunityRequestDetails(this.requestId).subscribe(e=>{this.requestDetails=e})}setFormDirtyStatus(e){this.isFormDirty=e}uploadToFirestorage(e){this.isFormDirty=!1,this.storageService.createFirestorageRefCommunity(this.storage,e,this.requestId,this.requestDetails)}navigateTTS(){this.router.navigate(["generate-tts",this.videoId,this.currentLanguage])}navigateToDashboard(){this.isFormDirty?this.dialog.open(Mz,{width:"500px"}).afterClosed().subscribe(e=>{e&&this.router.navigate(["dashboard"])}):this.router.navigate(["dashboard"])}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(nl),o.Y36($i),o.Y36(s_),o.Y36(Op),o.Y36(cl))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["community-subtitling-container"]],features:[o._Bn([s_,Op])],decls:8,vars:4,consts:[[1,"container"],[1,"dashboard-navigation"],["mat-mini-fab","","color","primary","matTooltip","Back to Details",1,"back-button",3,"click"],[1,"wrapper"],[3,"videoId"],[3,"isoCode","videoId","initSubtitles","subtitleUploadEmitter","navigateTTS","formStatusChange"]],template:function(i,r){1&i&&(o.TgZ(0,"div",0)(1,"div",1)(2,"button",2),o.NdJ("click",function(){return r.navigateToDashboard()}),o.TgZ(3,"mat-icon"),o._uU(4,"arrow_back"),o.qZA()()(),o.TgZ(5,"div",3),o._UZ(6,"video-player",4),o.TgZ(7,"dialog-component",5),o.NdJ("subtitleUploadEmitter",function(a){return r.uploadToFirestorage(a)})("navigateTTS",function(){return r.navigateTTS()})("formStatusChange",function(a){return r.setFormDirtyStatus(a)}),o.qZA()()()),2&i&&(o.xp6(6),o.Q6J("videoId",r.videoId),o.xp6(1),o.Q6J("isoCode",r.currentLanguage)("videoId",r.videoId)("initSubtitles",!1))},dependencies:[tC,Qo,_s,Rz,Pj],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;width:100%;flex-wrap:wrap;gap:40px;justify-content:space-around;padding-top:20px}.back-button[_ngcontent-%COMP%]{top:5%;left:3%}.dashboard-navigation[_ngcontent-%COMP%]{padding-top:15px}video-player[_ngcontent-%COMP%]{flex-grow:.8}"]})}return n})();const hde=new o.OlP("MAT_SORT_DEFAULT_OPTIONS"),fde=QD(kf(class{}));let pde=(()=>{class n extends fde{get direction(){return this._direction}set direction(e){this._direction=e}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=Nt(e)}constructor(e){super(),this._defaultOptions=e,this.sortables=new Map,this._stateChanges=new gt.x,this.start="asc",this._direction="",this.sortChange=new o.vpe}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){if(!e)return"";let r=function mde(n,t){let e=["asc","desc"];return"desc"==n&&e.reverse(),t||e.push(""),e}(e.start||this.start,e?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),s=r.indexOf(this.direction)+1;return s>=r.length&&(s=0),r[s]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(hde,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[o.qOj,o.TTD]}),n})(),cL=(()=>{class n{constructor(){this.changes=new gt.x}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _de={provide:cL,deps:[[new o.FiY,new o.tp0,cL]],useFactory:function gde(n){return n||new cL}};let yde=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[_de],imports:[or,Mn]}),n})();function vde(n,t){if(1&n&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&n){const e=o.oxw().ngIf;o.xp6(1),o.hij(" \u275d ",e.bio," \u275e ")}}function bde(n,t){1&n&&(o.TgZ(0,"mat-icon"),o._uU(1,"star"),o.qZA())}function wde(n,t){if(1&n&&(o.TgZ(0,"div",47),o.YNc(1,bde,2,0,"mat-icon",2),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.Q6J("ngIf",1==e)}}function xde(n,t){1&n&&(o.TgZ(0,"mat-icon"),o._uU(1,"star_half"),o.qZA())}function Cde(n,t){if(1&n&&(o.TgZ(0,"div",48),o.YNc(1,xde,2,0,"mat-icon",2),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.Q6J("ngIf",2==e)}}function Dde(n,t){1&n&&(o.TgZ(0,"span",51),o._uU(1,"star"),o.qZA())}function Sde(n,t){if(1&n&&(o.TgZ(0,"div",49),o.YNc(1,Dde,2,0,"span",50),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.Q6J("ngIf",3==e)}}function Ede(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"Please fill out display name correctly"),o.qZA())}function Tde(n,t){if(1&n&&(o.TgZ(0,"mat-option",52),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.s9C("value",e.code),o.xp6(1),o.Oqu(e.name)}}function Ade(n,t){if(1&n&&(o.TgZ(0,"mat-option",52),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.s9C("value",e.name),o.xp6(1),o.Oqu(e.name)}}function Ide(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",53),o.NdJ("click",function(){o.CHM(e);const r=o.oxw(2);return o.KtG(r.onClickToAddLang())}),o.TgZ(1,"div",54)(2,"mat-icon",55),o._uU(3,"add"),o.qZA(),o.TgZ(4,"span"),o._uU(5,"Add"),o.qZA()()()}}function kde(n,t){1&n&&(o.TgZ(0,"th",68),o._uU(1,"Language"),o.qZA())}function Mde(n,t){if(1&n&&(o.TgZ(0,"td",69),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.Oqu(e.language)}}function Rde(n,t){1&n&&(o.TgZ(0,"th",68),o._uU(1,"Level"),o.qZA())}function Ode(n,t){if(1&n&&(o.TgZ(0,"td",69),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.Oqu(e.level)}}function Pde(n,t){1&n&&(o.TgZ(0,"th",68),o._uU(1,"Options"),o.qZA())}function Fde(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",69)(1,"div",70)(2,"mat-icon",71),o.NdJ("click",function(){const s=o.CHM(e).index,a=o.oxw(3);return o.KtG(a.onClickToEditLang(s))}),o._uU(3,"edit"),o.qZA(),o.TgZ(4,"mat-icon",72),o.NdJ("click",function(){const s=o.CHM(e).index,a=o.oxw(3);return o.KtG(a.onClickToDeleteLang(s))}),o._uU(5,"delete_forever"),o.qZA()()()}}function Nde(n,t){1&n&&o._UZ(0,"tr",73)}function Lde(n,t){1&n&&o._UZ(0,"tr",74)}function Bde(n,t){1&n&&(o.TgZ(0,"tr",75)(1,"td",76)(2,"span"),o._uU(3,"No languages have been added!"),o.qZA()()())}function Vde(n,t){if(1&n&&(o.TgZ(0,"div",56)(1,"div",57)(2,"table",58,59),o.ynx(4,60),o.YNc(5,kde,2,0,"th",61),o.YNc(6,Mde,2,1,"td",62),o.BQk(),o.ynx(7,63),o.YNc(8,Rde,2,0,"th",61),o.YNc(9,Ode,2,1,"td",62),o.BQk(),o.ynx(10,64),o.YNc(11,Pde,2,0,"th",61),o.YNc(12,Fde,6,0,"td",62),o.BQk(),o.YNc(13,Nde,1,0,"tr",65),o.YNc(14,Lde,1,0,"tr",66),o.YNc(15,Bde,4,0,"tr",67),o.qZA()()()),2&n){const e=o.oxw(2);o.xp6(2),o.Q6J("dataSource",e.langSkillDataSource),o.xp6(11),o.Q6J("matHeaderRowDef",e.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",e.displayedColumns)}}function Ude(n,t){if(1&n&&(o.TgZ(0,"mat-option",52),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.s9C("value",e.name),o.xp6(1),o.Oqu(e.name)}}function Hde(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"You must select a language"),o.qZA())}function Gde(n,t){if(1&n&&(o.TgZ(0,"mat-option",52),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.s9C("value",e.level),o.xp6(1),o.Oqu(e.description)}}function zde(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1,"You must select a skill level"),o.qZA())}function jde(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",77)(1,"div",78)(2,"mat-card-header")(3,"mat-card-title"),o._uU(4,"Language"),o.qZA()(),o.TgZ(5,"mat-form-field",79)(6,"mat-select",80),o.NdJ("selectionChange",function(){o.CHM(e);const r=o.oxw(2);return o.KtG(r.isEdited())}),o.TgZ(7,"mat-option",28),o._uU(8,"Select your language"),o.qZA(),o.YNc(9,Ude,2,2,"mat-option",29),o.ALo(10,"async"),o.qZA(),o.YNc(11,Hde,2,0,"mat-error",2),o.qZA()(),o.TgZ(12,"div",81)(13,"mat-card-header")(14,"mat-card-title"),o._uU(15,"Skill Level"),o.qZA()(),o.TgZ(16,"mat-form-field")(17,"mat-select",82),o.NdJ("selectionChange",function(){o.CHM(e);const r=o.oxw(2);return o.KtG(r.isEdited())}),o.TgZ(18,"mat-option",28),o._uU(19,"Select skill"),o.qZA(),o.YNc(20,Gde,2,2,"mat-option",29),o.qZA(),o.YNc(21,zde,2,0,"mat-error",2),o.qZA(),o.TgZ(22,"div",83)(23,"div",84)(24,"button",44),o.NdJ("click",function(){o.CHM(e);const r=o.oxw(2);return o.KtG(r.onClickToSaveNewLanguage())}),o._uU(25," Save "),o.qZA()(),o.TgZ(26,"div",85)(27,"button",86),o.NdJ("click",function(){o.CHM(e);const r=o.oxw(2);return o.KtG(r.cancelAddEdit())}),o._uU(28,"Cancel"),o.qZA()()()()()}if(2&n){const e=o.oxw(2);let i,r,s,a;o.Q6J("formGroup",e.langSkillsForm),o.xp6(9),o.Q6J("ngForOf",null==(i=o.lcZ(10,6,e.availableLanguages$))||null==i.data?null:i.data.languages),o.xp6(2),o.Q6J("ngIf",null==(r=e.langSkillsForm.get("lang"))?null:r.hasError("required")),o.xp6(9),o.Q6J("ngForOf",e.skillLevels),o.xp6(1),o.Q6J("ngIf",null==(s=e.langSkillsForm.get("skill"))?null:s.hasError("required")),o.xp6(3),o.Q6J("disabled",(null==(a=e.langSkillsForm.get("lang"))?null:a.hasError("required"))||(null==(a=e.langSkillsForm.get("skill"))?null:a.hasError("required"))||0==(null==(a=e.langSkillsForm.get("lang"))?null:a.value)||0==(null==(a=e.langSkillsForm.get("skill"))?null:a.value))}}function qde(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"h3"),o._uU(4,"Profile Overview"),o.qZA()(),o.TgZ(5,"div",6),o._UZ(6,"img",7),o.qZA(),o.TgZ(7,"div",8)(8,"p"),o._uU(9),o.qZA()(),o.TgZ(10,"div",9)(11,"p"),o._uU(12),o.qZA()(),o.TgZ(13,"div",10)(14,"p"),o.YNc(15,vde,2,1,"span",2),o.qZA()(),o.TgZ(16,"div",11),o.YNc(17,wde,2,1,"div",12),o.YNc(18,Cde,2,1,"div",13),o.YNc(19,Sde,2,1,"div",14),o.qZA()(),o.TgZ(20,"div",15)(21,"div",16)(22,"h3"),o._uU(23,"Edit your Profile"),o.qZA()(),o.TgZ(24,"div",17)(25,"div",18)(26,"form",19)(27,"div",20)(28,"h3"),o._uU(29,"Profile details:"),o.qZA()(),o.TgZ(30,"div",21)(31,"mat-card-header")(32,"mat-card-title"),o._uU(33,"Display Name"),o.qZA()(),o.TgZ(34,"mat-form-field")(35,"input",22),o.NdJ("keydown",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.isEdited())}),o.qZA(),o.YNc(36,Ede,2,0,"mat-error",2),o.qZA()(),o.TgZ(37,"div",23)(38,"mat-card-header")(39,"mat-card-title"),o._uU(40,"G-Mail"),o.qZA()(),o.TgZ(41,"mat-form-field",24)(42,"input",25),o.NdJ("keydown",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.isEdited())}),o.qZA()()(),o.TgZ(43,"div",26)(44,"mat-card-header")(45,"mat-card-title"),o._uU(46,"Country"),o.qZA()(),o.TgZ(47,"mat-form-field")(48,"mat-select",27),o.NdJ("selectionChange",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.isEdited())}),o.TgZ(49,"mat-option",28),o._uU(50,"Select your country"),o.qZA(),o.YNc(51,Tde,2,2,"mat-option",29),o.qZA()()(),o.TgZ(52,"div",30)(53,"mat-card-header")(54,"mat-card-title"),o._uU(55,"Biography"),o.qZA()(),o.TgZ(56,"mat-form-field")(57,"textarea",31),o.NdJ("keydown",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.isEdited())}),o.qZA()()()()(),o.TgZ(58,"div",32)(59,"div",33)(60,"h3"),o._uU(61,"Language Skills:"),o.qZA()(),o.TgZ(62,"div",34)(63,"form",19)(64,"div",35)(65,"mat-card-header")(66,"mat-card-title"),o._uU(67,"Mother Language"),o.qZA()(),o.TgZ(68,"mat-form-field")(69,"mat-select",36),o.NdJ("selectionChange",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.isEdited())}),o.TgZ(70,"mat-option",28),o._uU(71,"Select your language"),o.qZA(),o.YNc(72,Ade,2,2,"mat-option",29),o.ALo(73,"async"),o.qZA()()()(),o.TgZ(74,"div",37)(75,"mat-card-header")(76,"mat-card-title"),o._uU(77),o.qZA(),o.TgZ(78,"div",38),o.YNc(79,Ide,6,0,"button",39),o.qZA()(),o.YNc(80,Vde,16,3,"div",40),o.YNc(81,jde,29,8,"div",41),o.qZA()()()(),o.TgZ(82,"div",42)(83,"div",43)(84,"button",44),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.saveChanges())}),o._uU(85,"Save changes"),o.qZA()(),o.TgZ(86,"div",45)(87,"button",46),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.revertChanges())}),o._uU(88,"Revert changes"),o.qZA()()()()()}if(2&n){const e=t.ngIf,i=o.oxw();let r,s;o.xp6(6),o.Q6J("src",e.photoURL,o.LSH),o.xp6(3),o.Oqu(e.displayName),o.xp6(3),o.Oqu(e.email),o.xp6(3),o.Q6J("ngIf",e.bio.length>0),o.xp6(1),o.s9C("matTooltip",i.ratingTooltip),o.xp6(1),o.Q6J("ngForOf",i.stars),o.xp6(1),o.Q6J("ngForOf",i.stars),o.xp6(1),o.Q6J("ngForOf",i.stars),o.xp6(7),o.Q6J("formGroup",i.userInfoForm),o.xp6(10),o.Q6J("ngIf",null==(r=i.userInfoForm.get("displayName"))?null:r.hasError("required")),o.xp6(15),o.Q6J("ngForOf",i.countries),o.xp6(12),o.Q6J("formGroup",i.motherLangForm),o.xp6(9),o.Q6J("ngForOf",null==(s=o.lcZ(73,19,i.availableLanguages$))||null==s.data?null:s.data.languages),o.xp6(5),o.Oqu(i.addLang?"Add new Foreign Language":i.editLang?"Edit Foreign Language":"Foreign Languages"),o.xp6(2),o.Q6J("ngIf",!i.addLang),o.xp6(1),o.Q6J("ngIf",!i.addLang&&!i.editLang),o.xp6(1),o.Q6J("ngIf",i.addLang||i.editLang),o.xp6(3),o.Q6J("disabled",!i.editedProfileDetails||i.addLang||i.editLang||!i.userInfoForm.valid),o.xp6(3),o.Q6J("disabled",!i.editedProfileDetails||i.addLang||i.editLang)}}function Zde(n,t){1&n&&o._UZ(0,"fullscreen-loader")}let $de=(()=>{class n{constructor(e,i,r,s,a){this.auth=e,this.proService=i,this.googleLangService=r,this.snackbar=s,this.dialog=a,this.row=-1,this.loading$=new E(null),this.availableLanguages$=new E(null),this.stars=[],this.averageRate=0,this.ratingTooltip="",this.foreignLanguages=[],this.deletedLang=[],this.langSkillDataSource=new lce([]),this.displayedColumns=["language","skill","options"],this.userInfoForm=new Io({displayName:new vr("",[Ao.required,Ao.pattern(/^[A-Za-z\u0391-\u03a9\u03b1-\u03c9\u0386-\u038f\u03ac-\u03ce0-9\s]*$/)]),email:new vr({value:"",disabled:!0},[Ao.required,Ao.email]),ethnicity:new vr(""),bio:new vr("")}),this.motherLangForm=new Io({motherLang:new vr("")}),this.langSkillsForm=new Io({lang:new vr("",[Ao.required]),skill:new vr("",[Ao.required])}),this.editedProfileDetails=!1,this.addLang=!1,this.editLang=!1,this.user$=this.auth.user}ngOnInit(){this.user$.subscribe({next:e=>{this.loadUserDetails(e),this.uid=e.uid,this.photoUrl=e.photoURL,this.email=e.email,this.loadUserRatings(e.uid),this.proService.getAllLanguages(e.uid).subscribe({next:i=>{this.loadForeignLanguages(i)}})}}),this.proService.getCountries().subscribe({next:e=>{this.loadCountries(e)}}),this.proService.getSkillLevels().subscribe({next:e=>{this.loadSkillLevels(e)}}),this.getAvailableLanguages()}isEdited(){this.editedProfileDetails=!0}loadUserDetails(e){this.userInfoForm.controls.displayName.setValue(e.displayName),this.userInfoForm.controls.email.setValue(e.email),this.userInfoForm.controls.bio.setValue(e.bio),this.userInfoForm.controls.ethnicity.setValue(null==e.ethnicity||""==e.ethnicity?"0":e.ethnicity),this.motherLangForm.controls.motherLang.setValue(null==e.mother_language||""==e.mother_language?"0":e.mother_language)}loadUserRatings(e){this.proService.getUserRatings(e).subscribe({next:i=>{this.loadRatings(i)}})}loadRatings(e){let i=0,r=0,s=5;this.stars=[];for(let a=0;a<e.length;a++)i++,r+=e[a].rating;if(i>0){this.averageRate=r/i,this.averageRate>5&&(this.averageRate=5);let a=this.averageRate;for(this.ratingTooltip=`Your rating is: ${this.averageRate}`;s>0;)this.stars.push(a>=1?1:a>=.5?2:3),a--,s--}else{this.ratingTooltip="You don't have been rated yet";for(let a=0;a<5;a++)this.stars.push(3)}}loadCountries(e){this.countries=e}loadSkillLevels(e){this.skillLevels=e}loadForeignLanguages(e){this.foreignLanguages=e,this.updateForeignLangData()}getAvailableLanguages(){this.googleLangService.getSupportedLanguages().pipe((0,Un.b)(()=>{this.loading$.next(!0)})).subscribe(e=>{this.availableLanguages$.next(e),this.loading$.next(!1)})}onClickToAddLang(){this.addLang=!0,this.langSkillsForm.controls.lang.setValue("0"),this.langSkillsForm.controls.skill.setValue("0")}onClickToEditLang(e){this.row=e,this.editLang=!0,this.langSkillsForm.controls.lang.setValue(this.foreignLanguages[e].language),this.langSkillsForm.controls.skill.setValue(this.foreignLanguages[e].level)}onClickToDeleteLang(e){this.editedProfileDetails=!0,this.deletedLang.push({language:this.foreignLanguages[e].language,level:this.foreignLanguages[e].level}),this.foreignLanguages.splice(e,1),this.updateForeignLangData()}onClickToSaveNewLanguage(){this.editedProfileDetails=!0;const e={language:this.langSkillsForm.value.lang,level:this.langSkillsForm.value.skill};this.editLang&&this.foreignLanguages.splice(this.row,1),this.foreignLanguages.push(e),this.langSkillsForm.controls.lang.setValue("0"),this.langSkillsForm.controls.skill.setValue("0"),this.editLang=!1,this.addLang=!1,this.updateForeignLangData()}cancelAddEdit(){this.langSkillsForm.controls.lang.setValue("0"),this.langSkillsForm.controls.skill.setValue("0"),this.addLang=!1,this.editLang=!1}updateForeignLangData(){this.langSkillDataSource.data=[...this.foreignLanguages]}saveChanges(){const e={uid:this.uid,displayName:this.userInfoForm.value.displayName,ethnicity:0==this.userInfoForm.controls.ethnicity.value?"":this.userInfoForm.controls.ethnicity.value,bio:null==this.userInfoForm.value.bio?"":this.userInfoForm.value.bio,photoURL:this.photoUrl,email:this.email,mother_language:0==this.motherLangForm.controls.motherLang.value?"":this.motherLangForm.value.motherLang};this.saveNewLangData()&&(this.deletedLang=[],this.proService.updateProfile(e).then(i=>{this.snackbar.open("Profile has been updated successfully!","OK",{duration:5e3})}).catch(i=>{this.snackbar.open("Problem with saving your profile settings!","OK",{duration:5e3}),console.log(i.message)}))}saveNewLangData(){if(this.proService.addForeignLanguages(this.uid,this.foreignLanguages)){this.editedProfileDetails=!1;for(let e of this.deletedLang)this.proService.deleteForeignLang(this.uid,e.language).catch(i=>(this.snackbar.open("Problem with saving your foreign language settings!","OK",{duration:5e3}),console.log(i.message),!1));return!0}return this.snackbar.open("Problem with saving your foreign language settings!","OK",{duration:5e3}),!1}revertChanges(){this.ngOnInit(),this.editedProfileDetails=!1}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(Ea),o.Y36(Bj),o.Y36(ul),o.Y36(Sa),o.Y36(cl))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-profile"]],features:[o._Bn([ul])],decls:6,vars:6,consts:[["rel","stylesheet","href","https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"],["class","profile-wrapper",4,"ngIf"],[4,"ngIf"],[1,"profile-wrapper"],[1,"profile-details-card"],[1,"prof-overview-header"],[1,"profile-img"],["alt","profile-user-img","referrerpolicy","no-referrer",3,"src"],[1,"profile-display-name"],[1,"prof-user-email"],[1,"prof-bio-display"],[1,"user-rating-display",3,"matTooltip"],["class","full-star",4,"ngFor","ngForOf"],["class","half-star",4,"ngFor","ngForOf"],["class","empty-star",4,"ngFor","ngForOf"],[1,"profile-edit"],[1,"profile-edit-head"],[1,"controls-container"],[1,"profile-edit-control"],[3,"formGroup"],[1,"profile-details-header"],[1,"profile-edit-display-name"],["matInput","","formControlName","displayName","placeholder","Your Name to Display",3,"keydown"],[1,"profile-edit-gmail"],["matTooltip","To change your Gmail, go to your Google account settings","matTooltipPosition","above"],["matInput","","formControlName","email","placeholder","Your google email",3,"keydown"],[1,"profile-edit-ethnicity"],["formControlName","ethnicity",3,"selectionChange"],["value","0"],[3,"value",4,"ngFor","ngForOf"],[1,"profile-edit-bio"],["formControlName","bio","matInput","","placeholder","Tell something about yourself",3,"keydown"],[1,"profile-lang-control"],[1,"lang-details-header"],[1,"edit-prof-lang-details"],[1,"mother-lang-edit"],["formControlName","motherLang",3,"selectionChange"],[1,"lang-skill-sector"],[1,"add-new-lang"],["mat-raised-button","","color","primary","matTooltip","Click to add new foreign language","matTooltipPosition","above",3,"click",4,"ngIf"],["class","lang-skill-table",4,"ngIf"],["class","add-lang-skill",3,"formGroup",4,"ngIf"],[1,"save-cancel-prof-btn"],[1,"save-profile-changes"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"revert-profile-changes"],["mat-raised-button","","color","warn",3,"disabled","click"],[1,"full-star"],[1,"half-star"],[1,"empty-star"],["class","material-symbols-outlined",4,"ngIf"],[1,"material-symbols-outlined"],[3,"value"],["mat-raised-button","","color","primary","matTooltip","Click to add new foreign language","matTooltipPosition","above",3,"click"],[1,"add-lang-btn"],[1,"add-icon"],[1,"lang-skill-table"],[1,"table-container"],["mat-table","","matSort","",1,"mat-elevation-z8","table",3,"dataSource"],["table",""],["matColumnDef","language"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","skill"],["matColumnDef","options"],["mat-header-row","","class","header",4,"matHeaderRowDef"],["mat-row","","class","header-row",4,"matRowDef","matRowDefColumns"],["class","mat-row no-data-row",4,"matNoDataRow"],["mat-header-cell",""],["mat-cell",""],[1,"leave-options"],["matTooltip","Edit","color","primary",1,"icon","material-symbols-outlined","edit-lang-icon",3,"click"],["matTooltip","Delete!","color","primary",1,"icon","bin","del-lang-icon",3,"click"],["mat-header-row","",1,"header"],["mat-row","",1,"header-row"],[1,"mat-row","no-data-row"],["colspan","3",1,"mat-cell","empty-table"],[1,"add-lang-skill",3,"formGroup"],[1,"foreign-lang-select"],["appearance","fill"],["formControlName","lang",3,"selectionChange"],[1,"skill-level-select"],["formControlName","skill",3,"selectionChange"],[1,"lang-skills-btns"],[1,"save-lang-btn"],[1,"cancel-lang-btn"],["mat-raised-button","","color","warn",3,"click"]],template:function(i,r){1&i&&(o._UZ(0,"link",0),o.TgZ(1,"main"),o.YNc(2,qde,89,21,"div",1),o.ALo(3,"async"),o.YNc(4,Zde,1,0,"fullscreen-loader",2),o.ALo(5,"async"),o.qZA()),2&i&&(o.xp6(2),o.Q6J("ngIf",o.lcZ(3,2,r.auth.user)),o.xp6(2),o.Q6J("ngIf",o.lcZ(5,4,r.loading$)))},dependencies:[Fi,Vn,Rs,Fm,el,Km,cs,Mr,Ps,ds,Hl,Lr,Qo,_s,Hv,Rp,nI,CC,iI,DC,xC,rI,SC,EC,oI,sI,sL,HA,ju,pde,r_,Hi],styles:["main[_ngcontent-%COMP%]{height:85vh}.profile-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;margin-top:40px}.profile-details-card[_ngcontent-%COMP%], .profile-edit[_ngcontent-%COMP%]{padding:20px;border-radius:15px;box-shadow:0 0 4px #7e7e7e80;background-color:#f6f6f6}.profile-details-card[_ngcontent-%COMP%]{text-align:center;width:20%;height:-moz-fit-content;height:fit-content}.profile-edit-control[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%], .profile-lang-control[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:25vw}.profile-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:100px;height:100px}.profile-display-name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:15px;font-size:1.55em}.prof-user-email[_ngcontent-%COMP%]{margin-top:10px}.prof-user-email[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9em;color:gray}.prof-bio-display[_ngcontent-%COMP%]{font-size:1.2em;font-style:italic;color:#333}.profile-edit-head[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .prof-overview-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.9em;margin-bottom:40px}mat-card-title[_ngcontent-%COMP%]{font-size:1.1em}.save-cancel-prof-btn[_ngcontent-%COMP%]{margin-top:50px;display:flex;justify-content:flex-end}.save-profile-changes[_ngcontent-%COMP%]{margin-right:25px}.profile-details-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .lang-details-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px}.controls-container[_ngcontent-%COMP%]{display:flex;flex-flow:wrap}.profile-lang-control[_ngcontent-%COMP%]{margin-left:20px;padding-left:20px;border-left:1px #b4b4b4 solid}.profile-edit-bio[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:40px}.profile-edit-gmail[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%], .profile-edit-gmail[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{cursor:not-allowed}.table-container[_ngcontent-%COMP%]{text-align:center}.empty-table[_ngcontent-%COMP%]{font-style:italic;font-size:12px;color:#323e48}.lang-skill-sector[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding-bottom:10px}.add-new-lang[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:25px}.add-lang-btn[_ngcontent-%COMP%]{display:flex}.add-lang-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-top:3px;padding-left:2px}.lang-skills-btns[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.save-lang-btn[_ngcontent-%COMP%]{margin-right:10px}.table-container[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]{margin-top:10px}.table[_ngcontent-%COMP%]{width:100%}.mat-column-language[_ngcontent-%COMP%], .mat-column-skill[_ngcontent-%COMP%]{width:40%;text-align:center}.mat-column-options[_ngcontent-%COMP%]{width:20%;text-align:right}.leave-options[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{scale:107%;opacity:90%;transition:scale .14s ease}.leave-options[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:hover{cursor:pointer;scale:118%;transform:rotate(3deg)}.leave-options[_ngcontent-%COMP%]   .edit-lang-icon[_ngcontent-%COMP%]:hover{color:#436c21}.leave-options[_ngcontent-%COMP%]   .del-lang-icon[_ngcontent-%COMP%]:hover{color:#6b0b0b}.user-rating-display[_ngcontent-%COMP%]{margin:auto;display:flex;justify-content:center}.user-rating-display[_ngcontent-%COMP%]:hover{cursor:pointer}.user-rating-display[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .user-rating-display[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ce950c}"]})}return n})();const Yde=["translateMenu"];function Wde(n,t){if(1&n&&(o.TgZ(0,"div",23)(1,"a",24),o._UZ(2,"img",25),o.qZA(),o.TgZ(3,"div",26)(4,"span"),o._uU(5),o.ALo(6,"slice"),o.qZA()(),o.TgZ(7,"div",27)(8,"span",28),o._uU(9),o.ALo(10,"number"),o.qZA(),o._uU(11," \xb7 "),o.TgZ(12,"span"),o._uU(13),o.ALo(14,"async"),o.qZA()()()),2&n){const e=t.ngIf,i=o.oxw();o.xp6(1),o.Q6J("href","//youtube.com/watch?v="+(null==e[0]?null:e[0].id),o.LSH),o.xp6(1),o.Q6J("src",null==e[0]||null==e[0].snippet.thumbnails||null==e[0].snippet.thumbnails.medium?null:e[0].snippet.thumbnails.medium.url,o.LSH),o.xp6(3),o.hij(" ",(null==e[0]||null==e[0].snippet||null==e[0].snippet.title?null:e[0].snippet.title.length)>50?o.Dn7(6,5,null==e[0]||null==e[0].snippet?null:e[0].snippet.title,0,50)+"...":null==e[0]||null==e[0].snippet?null:e[0].snippet.title," "),o.xp6(4),o.hij("",o.lcZ(10,9,null==e[0]||null==e[0].statistics?null:e[0].statistics.viewCount)," views"),o.xp6(4),o.hij("",o.lcZ(14,11,i.publishDate)," ago")}}function Kde(n,t){if(1&n&&(o.TgZ(0,"span",29),o._uU(1),o.ALo(2,"uppercase"),o.qZA()),2&n){const e=t.$implicit,i=o.oxw();o.xp6(1),o.AsE(" ",i.regionNamesInEnglish.of(e.snippet.language)," - ",o.lcZ(2,2,e.snippet.trackKind)," ")}}function Qde(n,t){1&n&&(o.TgZ(0,"th",30),o._uU(1," Name "),o.qZA())}function Jde(n,t){if(1&n&&(o.TgZ(0,"td",31),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e.fileName," ")}}function Xde(n,t){1&n&&(o.TgZ(0,"th",30),o._uU(1," Format "),o.qZA())}function eue(n,t){if(1&n&&(o.TgZ(0,"td",32),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e.format," ")}}function tue(n,t){1&n&&(o.TgZ(0,"th",30),o._uU(1," Language "),o.qZA())}function nue(n,t){if(1&n&&(o.TgZ(0,"td",32),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",e.language," ")}}function iue(n,t){1&n&&(o.TgZ(0,"th",30),o._uU(1," Last Updated "),o.qZA())}function rue(n,t){if(1&n&&(o.TgZ(0,"td",32),o._uU(1),o.ALo(2,"date"),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.hij(" ",o.xi3(2,1,e.lastUpdated,"medium")," ")}}function oue(n,t){1&n&&(o.TgZ(0,"th",30),o._uU(1," Owner "),o.qZA())}function sue(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",32)(1,"img",33),o.NdJ("click",function(){const s=o.CHM(e).$implicit,a=o.oxw();return o.KtG(a.openProfilePreviewDialog(s.usersRights))}),o.qZA()()}if(2&n){const e=t.$implicit;o.xp6(1),o.s9C("matTooltip",e.ownerName),o.Q6J("src",e.ownerPhoto,o.LSH)}}function aue(n,t){1&n&&(o.TgZ(0,"th",30),o._uU(1," Options "),o.qZA())}function lue(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",32)(1,"button",34),o.NdJ("click",function(){const s=o.CHM(e).$implicit,a=o.oxw();return o.KtG(a.editSubtitle(s.iso,s.fullFilename,s.usersRights))}),o.TgZ(2,"mat-icon"),o._uU(3,"edit"),o.qZA()(),o.TgZ(4,"button",35),o.NdJ("click",function(){const s=o.CHM(e).$implicit,a=o.oxw();return o.KtG(a.shareSubtitle(s.language,s.iso,s.fileName,s.format,s.usersRights,null==a.videoDetails$||null==a.videoDetails$.value[0]||null==a.videoDetails$.value[0].snippet?null:a.videoDetails$.value[0].snippet.title,s.id))}),o.TgZ(5,"mat-icon"),o._uU(6,"share"),o.qZA()()()}}function cue(n,t){1&n&&o._UZ(0,"tr",36)}function due(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"tr",37),o.NdJ("dblclick",function(){const s=o.CHM(e).$implicit,a=o.oxw();return o.KtG(a.editSubtitle(s.iso,s.fullFilename,s.usersRights))}),o.qZA()}}function uue(n,t){1&n&&o._UZ(0,"fullscreen-loader")}let hue=(()=>{class n{constructor(e,i,r,s,a,u,f,m,v,x){this.route=e,this.router=i,this.youtubeService=r,this.dialog=s,this.snackbar=a,this.authService=u,this.translateService=f,this.detailsViewService=m,this.shareService=v,this.userService=x,this.videoDetails$=new E(null),this.videoCaptionDetails$=new E(null),this.supportedLanguages$=new E(null),this.loading$=new E(null),this.user$=new E(null),this.publishDate=new E(""),this.dataSource=[],this.regionNamesInEnglish=new Intl.DisplayNames(["en"],{type:"language"}),this.displayedColumns=["Name","Format","Language","Last Updated","Owner","Subtitles"],this.console=console}ngOnInit(){this.videoId=this.route.snapshot.paramMap.get("id"),this.authService.user.pipe(Tt(1),Pn(e=>e?(this.user$.next(e),this.shareService.getSharedSubtitleLanguages(this.user$.value.email,this.videoId)):se(null))).subscribe({next:e=>{this.loadDataSourceOwnerDetails(e)},error:e=>{this.snackbar.open("Could not load data due to an unexpected error: "+e.message,"OK",{duration:5e3})}}),this.getVideoDetails(),this.getCaptionDetails(),this.getSupportedLanguages()}loadDataSourceOwnerDetails(e){this.dataSource=e;for(let i=0;i<e.length;i++)this.userService.getUserDetails(e[i].usersRights.find(r=>"Owner"===r.right).userUid).pipe(Tt(1)).subscribe({next:r=>{this.dataSource[i].ownerName=r.data().displayName,this.dataSource[i].ownerPhoto=r.data().photoURL}})}getVideoDetails(){this.youtubeService.getAllVideoDetails(this.videoId).pipe((0,Un.b)(()=>{this.loading$.next(!0)})).subscribe(e=>{e&&(this.videoDetails$.next(e),this.loading$.next(!1),this.publishDate.next(_N(new Date(this.videoDetails$.value[0]?.snippet?.publishedAt))))})}getCaptionDetails(){this.youtubeService.getCaptionDetails(this.videoId).pipe((0,Un.b)(()=>{this.loading$.next(!0)})).subscribe(e=>{e&&(this.videoCaptionDetails$.next(e),this.loading$.next(!1))})}getSupportedLanguages(){this.translateService.getSupportedLanguages().pipe((0,Un.b)(()=>{this.loading$.next(!0)})).subscribe(e=>{this.supportedLanguages$.next(e),this.loading$.next(!1)})}editSubtitle(e,i,r){const s=r.find(f=>"Owner"===f.right).userUid,a=r.find(f=>f.userEmail===this.user$.value.email);let u;u="Viewer"===a.right?"Viewer":"Commenter"===a.right?"Commenter":"Editor"===a.right?"Editor":"",this.router.navigate(["edit/shared",this.videoId,s,e,i,u])}openProfilePreviewDialog(e){this.dialog.open(Vj,{width:"400px",data:e}).afterClosed().pipe(Tt(1)).subscribe(r=>{})}shareSubtitle(e,i,r,s,a,u,f){let m="";void 0===f&&(f=""),this.detailsViewService.getUsersRightsFromSharedSub(this.user$.value.uid,this.videoId,i,r,f,e).then(v=>{a=v,this.shareService.getRequestOwnerEmail(this.videoId,i,e,r,f).then(x=>{x&&(m=x),this.dialog.open(Lj,{width:"600px",id:"shared-dialog",data:{filename:r,usersRights:a,videoId:this.videoId,ISOcode:i,language:e,owner_text:m,format:s,videoTitle:u,subtitleId:f,userEmail:this.user$.value.email}}).afterClosed().pipe(Tt(1)).subscribe(I=>{void 0===I?this.dialog.closeAll():I&&(I.email&&I.right?this.detailsViewService.shareSubtitle(this.videoId,i,e,this.user$.value.uid,r,s,I.email,I.right,f,I.sendNotification):""==I.email&&I.right||I.email&&null==I.right?this.snackbar.open("Both email and right have to be filled","DISMISS",{duration:3e3}):this.detailsViewService.updateSharedSubtitleRights(this.videoId,i,e,this.user$.value.uid,r,s,a,f))})})})}navigateToDashboard(){this.router.navigate(["dashboard"])}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(nl),o.Y36($i),o.Y36(i_),o.Y36(cl),o.Y36(Sa),o.Y36(Ea),o.Y36(ul),o.Y36($l),o.Y36(YN),o.Y36(WN))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-share-subtitling-container"]],viewQuery:function(i,r){if(1&i&&o.Gf(Yde,5),2&i){let s;o.iGM(s=o.CRH())&&(r.translateMenu=s.first)}},features:[o._Bn([ul,$l])],decls:41,vars:12,consts:[[1,"wrapper"],[1,"left-container"],[1,"dashboard-navigation"],["mat-mini-fab","","color","primary","matTooltip","Back to Dashboard",1,"back-button",3,"click"],[1,"video-wrapper"],["class","video-details",4,"ngIf"],[1,"captions-details"],["class","captions",4,"ngFor","ngForOf"],[1,"main-content"],[1,"subtitles-header"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Name"],["mat-header-cell","",4,"matHeaderCellDef"],["class","mat-cell-name-data","mat-cell","",4,"matCellDef"],["matColumnDef","Format"],["mat-cell","",4,"matCellDef"],["matColumnDef","Language"],["matColumnDef","Last Updated"],["matColumnDef","Owner"],["matColumnDef","Subtitles"],["mat-header-row","",4,"matHeaderRowDef"],["class","mat-row-data","mat-row","",3,"dblclick",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],[1,"video-details"],["target","_blank",3,"href"],["alt","Video",3,"src"],[1,"title"],[1,"views"],["id","views"],[1,"captions"],["mat-header-cell",""],["mat-cell","",1,"mat-cell-name-data"],["mat-cell",""],["alt","profile-user-img","referrerpolicy","no-referrer",1,"profile-img-element",3,"src","matTooltip","click"],["matTooltip","Edit subtitles","mat-icon-button","","color","primary",3,"click"],["matTooltip","Share subtitles with someone","mat-icon-button","","color","primary",2,"margin-left","10px",3,"click"],["mat-header-row",""],["mat-row","",1,"mat-row-data",3,"dblclick"]],template:function(i,r){1&i&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),o.NdJ("click",function(){return r.navigateToDashboard()}),o.TgZ(4,"mat-icon"),o._uU(5,"arrow_back"),o.qZA()()(),o.TgZ(6,"div",4),o.YNc(7,Wde,15,13,"div",5),o.ALo(8,"async"),o.TgZ(9,"div",6)(10,"span"),o._uU(11,"Existing Captions in YouTube:"),o.qZA(),o.YNc(12,Kde,3,4,"span",7),o.ALo(13,"async"),o.qZA()()(),o.TgZ(14,"div",8)(15,"div",9)(16,"span"),o._uU(17,"Shared Subtitles"),o.qZA()(),o.TgZ(18,"table",10),o.ynx(19,11),o.YNc(20,Qde,2,0,"th",12),o.YNc(21,Jde,2,1,"td",13),o.BQk(),o.ynx(22,14),o.YNc(23,Xde,2,0,"th",12),o.YNc(24,eue,2,1,"td",15),o.BQk(),o.ynx(25,16),o.YNc(26,tue,2,0,"th",12),o.YNc(27,nue,2,1,"td",15),o.BQk(),o.ynx(28,17),o.YNc(29,iue,2,0,"th",12),o.YNc(30,rue,3,4,"td",15),o.BQk(),o.ynx(31,18),o.YNc(32,oue,2,0,"th",12),o.YNc(33,sue,2,2,"td",15),o.BQk(),o.ynx(34,19),o.YNc(35,aue,2,0,"th",12),o.YNc(36,lue,7,0,"td",15),o.BQk(),o.YNc(37,cue,1,0,"tr",20),o.YNc(38,due,1,0,"tr",21),o.qZA()()(),o.YNc(39,uue,1,0,"fullscreen-loader",22),o.ALo(40,"async")),2&i&&(o.xp6(7),o.Q6J("ngIf",o.lcZ(8,6,r.videoDetails$)),o.xp6(5),o.Q6J("ngForOf",o.lcZ(13,8,r.videoCaptionDetails$)),o.xp6(6),o.Q6J("dataSource",r.dataSource),o.xp6(19),o.Q6J("matHeaderRowDef",r.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",r.displayedColumns),o.xp6(1),o.Q6J("ngIf",o.lcZ(40,10,r.loading$)))},dependencies:[Fi,Vn,Xg,tC,Qo,_s,nI,CC,iI,DC,xC,rI,SC,EC,oI,sI,r_,Hi,lo,Oa,Ra,rr],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;gap:50px;margin-top:20px}.main-content[_ngcontent-%COMP%]{padding-top:10px;margin-right:50px;display:flex;flex-direction:column;flex-grow:1}.left-container[_ngcontent-%COMP%]{max-width:20vw;display:flex;flex-grow:1;flex-direction:column;padding-left:20px}.dashboard-navigation[_ngcontent-%COMP%]{margin-top:5px;display:flex;align-items:center;justify-content:flex-start}.video-details[_ngcontent-%COMP%]{display:flex;flex-direction:column}.video-details[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.video-details[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:18px;color:#000;font-weight:700;text-decoration:none}.subtitles-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;font-size:32px;gap:30px}.mat-mdc-table[_ngcontent-%COMP%]{background:none;box-shadow:none}  .mat-mdc-menu-content{max-height:700px}.captions-details[_ngcontent-%COMP%]{display:flex;flex-direction:column}.views[_ngcontent-%COMP%]{flex:6;font-size:16px;color:gray}.video-wrapper[_ngcontent-%COMP%]{margin-top:20px;box-shadow:#717172 0 10px 35px -10px;border-radius:5px}.title[_ngcontent-%COMP%], .views[_ngcontent-%COMP%], .captions-details[_ngcontent-%COMP%]{padding-left:10px;padding-bottom:5px}.mat-cell-name-data[_ngcontent-%COMP%]{font-weight:700}.mat-column-Format[_ngcontent-%COMP%], .mat-column-Language[_ngcontent-%COMP%], .mat-column-Last-Updated[_ngcontent-%COMP%], .mat-column-Subtitles[_ngcontent-%COMP%], .mat-column-Owner[_ngcontent-%COMP%]{text-align:center}.mat-row-data[_ngcontent-%COMP%]:hover{background-color:#efefef!important}.mat-row-data[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{scale:100%;transition:scale .2s ease}.mat-row-data[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{scale:108%;transform:rotate(4deg)}.profile-img-element[_ngcontent-%COMP%]{border-radius:50%;width:35px;height:35px}.profile-img-element[_ngcontent-%COMP%]:hover{cursor:pointer}"]})}return n})();const Mh=()=>(n=>(0,Xm.z)(MN,(0,dt.U)(t=>t||n)))([""]),fue=[{path:"",component:Iie},{path:"dashboard",component:Cie,canActivate:[eu],data:{authGuardPipe:Mh}},{path:"messages",component:Aie,canActivate:[eu],data:{authGuardPipe:Mh}},{path:"profile",component:$de,canActivate:[eu],data:{authGuardPipe:Mh}},{path:"details/:id",component:Ace,canActivate:[eu],data:{authGuardPipe:Mh}},{path:"edit/:id/:languageCode/:name",component:Fj,canActivate:[eu],data:{authGuardPipe:Mh}},{path:"community/edit/:id/:languageCode/:requestId",component:ude,canActivate:[eu],data:{authGuardPipe:Mh}},{path:"generate-tts/:id/:languageCode",component:dde,canActivate:[eu],data:{authGuardPipe:Mh}},{path:"shared/:id",component:hue,canActivate:[eu],data:{authGuardPipe:Mh}},{path:"edit/shared/:id/:ownerId/:languageCode/:name/:right",component:Fj,canActivate:[eu],data:{authGuardPipe:Mh}}];let pue=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[ET.forRoot(fue),ET]})}return n})();const mue=["*",[["mat-toolbar-row"]]],gue=["*","mat-toolbar-row"],_ue=Sm(class{constructor(n){this._elementRef=n}});let yue=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),vue=(()=>{class n extends _ue{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(li),o.Y36(j))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&o.Suo(r,yue,5),2&e){let s;o.iGM(s=o.CRH())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&o.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[o.qOj],ngContentSelectors:gue,decls:2,vars:0,template:function(e,i){1&e&&(o.F$t(mue),o.Hsn(0),o.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),bue=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Mn,Mn]}),n})();function wue(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div")(1,"button",3),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.auth.signOut())}),o.TgZ(2,"div",4)(3,"span",5),o._uU(4,"logout"),o.qZA(),o.TgZ(5,"span",6),o._uU(6,"Logout"),o.qZA()()()()}}function xue(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div")(1,"button",7),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.auth.googleSignIn())}),o.TgZ(2,"div",8)(3,"span",9),o._uU(4,"login"),o.qZA(),o.TgZ(5,"span"),o._uU(6,"Sign Up / Sign in"),o.qZA()()()()}}let rq=(()=>{class n{constructor(e){this.auth=e}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(Ea))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["login-button"]],decls:5,vars:4,consts:[["rel","stylesheet","href","https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"],[4,"ngIf","ngIfElse"],["login",""],["mat-raised-button","","color","warn",1,"logout-btn",3,"click"],[1,"logout-btn-content"],[1,"material-symbols-outlined"],[2,"margin-top","3px"],["mat-raised-button","","color","primary",1,"login-btn",3,"click"],[1,"login-btn-content"],[1,"material-symbols-outlined",2,"margin-top","3px"]],template:function(i,r){if(1&i&&(o._UZ(0,"link",0),o.YNc(1,wue,7,0,"div",1),o.ALo(2,"async"),o.YNc(3,xue,7,0,"ng-template",null,2,o.W1O)),2&i){const s=o.MAs(4);o.xp6(1),o.Q6J("ngIf",o.lcZ(2,2,r.auth.user))("ngIfElse",s)}},dependencies:[Vn,Lr,Hi],styles:[".profile-drop-down[_ngcontent-%COMP%]{position:absolute;top:100%;right:10%;width:320px;overflow:hidden;display:none}.logout-btn-content[_ngcontent-%COMP%], .login-btn-content[_ngcontent-%COMP%]{display:flex}.material-symbols-outlined[_ngcontent-%COMP%]{margin-right:5px}"]})}return n})();const Cue=function(){return{"background-color":"ed"}};function Due(n,t){if(1&n&&(o.ynx(0),o.TgZ(1,"span",7),o._uU(2),o.qZA(),o.BQk()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngStyle",o.DdM(2,Cue)),o.xp6(1),o.Oqu(e.notifications)}}function Sue(n,t){if(1&n&&(o.TgZ(0,"div",8),o._UZ(1,"img",9),o.qZA()),2&n){const e=t.ngIf;o.xp6(1),o.Q6J("src",e.photoURL,o.LSH)}}function Eue(n,t){1&n&&(o.TgZ(0,"div"),o._UZ(1,"login-button"),o.qZA())}let Tue=(()=>{class n{constructor(e,i,r){this.auth=e,this.router=i,this.messageService=r,this.notifications=0}ngOnInit(){this.auth.user.subscribe(e=>{this.subscription=this.messageService.getMessagesCount(e.uid).subscribe(i=>{this.notifications=i})})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(Ea),o.Y36($i),o.Y36(kN))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-menu"]],decls:17,vars:15,consts:[[3,"routerLink"],[1,"logo"],[1,"menu-items"],[3,"routerLink","matTooltip","matTooltipDisabled"],[4,"ngIf"],[1,"spacer"],["class","user-wrapper","id","user-photo",4,"ngIf"],[1,"notification-badge",3,"ngStyle"],["id","user-photo",1,"user-wrapper"],["alt","user-img","referrerpolicy","no-referrer",1,"user-icon",3,"src"]],template:function(i,r){1&i&&(o.TgZ(0,"mat-toolbar")(1,"span",0)(2,"div",1),o._uU(3,"S & D"),o.qZA()(),o.TgZ(4,"div",2)(5,"span",0),o._uU(6,"Home"),o.qZA(),o.TgZ(7,"span",3),o._uU(8,"Dashboard"),o.qZA(),o.TgZ(9,"span",3),o._uU(10,"Messages"),o.YNc(11,Due,3,3,"ng-container",4),o.qZA()(),o._UZ(12,"span",5),o.YNc(13,Sue,2,1,"div",6),o.ALo(14,"async"),o.YNc(15,Eue,2,0,"div",4),o.ALo(16,"async"),o.qZA()),2&i&&(o.xp6(1),o.Q6J("routerLink",""),o.xp6(4),o.Q6J("routerLink",""),o.xp6(2),o.Q6J("routerLink","dashboard")("matTooltip","Login to view your Dashboard")("matTooltipDisabled",r.auth.isLoggedIn),o.xp6(2),o.Q6J("routerLink","messages")("matTooltip","Login to view your Messages")("matTooltipDisabled",r.auth.isLoggedIn),o.xp6(2),o.Q6J("ngIf",r.notifications>0),o.xp6(2),o.Q6J("ngIf",o.lcZ(14,11,r.auth.user)),o.xp6(2),o.Q6J("ngIf",!o.lcZ(16,13,r.auth.user)))},dependencies:[Vn,es,By,_s,Ej,vue,rq,Hi],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}.user-wrapper[_ngcontent-%COMP%]{display:flex;gap:10px}.user-name[_ngcontent-%COMP%]{margin:0 10px 0 0}.user-icon[_ngcontent-%COMP%]{border-radius:50%;width:45px;height:45px;cursor:pointer;transition:width .1s,height .1s}.user-icon[_ngcontent-%COMP%]:hover{box-shadow:0 0 7px #00000080;width:47px;height:47px}.user-icon[_ngcontent-%COMP%]:active{box-shadow:0 0 7px #00000080;width:45px;height:45px}.mat-toolbar-single-row[_ngcontent-%COMP%]{background:white;border-bottom:1px solid black;height:80px}.logo[_ngcontent-%COMP%]{border-radius:20px;padding:10px;width:150px;background:black;color:#fff;display:flex;justify-content:center;align-items:center;font-size:32px;font-weight:700;font-family:MartianMono;cursor:pointer}.menu-items[_ngcontent-%COMP%]{padding-left:40px;display:flex;flex-direction:row;justify-content:center;align-items:center;gap:40px;font-family:MartianMono;cursor:pointer}.notification-badge[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;border-radius:50%;background-color:red;color:#fff;text-align:center;font-size:12px;line-height:20px;vertical-align:middle;margin-left:5px}"]})}return n})();function Aue(n,t){if(1&n&&(o.TgZ(0,"div",5)(1,"h2",6),o._uU(2),o.qZA()()),2&n){const e=t.ngIf;o.xp6(2),o.hij(" Hello, ",e.displayName,"! ")}}function Iue(n,t){1&n&&(o.TgZ(0,"div",7),o._UZ(1,"login-button"),o.qZA())}let kue=(()=>{class n{constructor(e,i){this.auth=e,this.router=i}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(Ea),o.Y36($i))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["profile-dropdown"]],decls:11,vars:7,consts:[[1,"no-hide-dd"],["class","hello-txt no-hide-dd",4,"ngIf"],[1,"border","no-hide-dd"],[1,"go-to-settings",3,"routerLink"],["class","logout-btn",4,"ngIf"],[1,"hello-txt","no-hide-dd"],[1,"user-name","no-hide-dd"],[1,"logout-btn"]],template:function(i,r){1&i&&(o.TgZ(0,"nav",0),o.YNc(1,Aue,3,1,"div",1),o.ALo(2,"async"),o._UZ(3,"div",2),o.TgZ(4,"div",3)(5,"mat-icon"),o._uU(6,"settings"),o.qZA(),o.TgZ(7,"p"),o._uU(8,"Profile settings"),o.qZA()(),o.YNc(9,Iue,2,0,"div",4),o.ALo(10,"async"),o.qZA()),2&i&&(o.xp6(1),o.Q6J("ngIf",o.lcZ(2,3,r.auth.user)),o.xp6(3),o.Q6J("routerLink","profile"),o.xp6(5),o.Q6J("ngIf",o.lcZ(10,5,r.auth.user)))},dependencies:[Vn,By,Qo,rq,Hi],styles:["nav[_ngcontent-%COMP%]{border:0 solid;border-radius:20px;padding:30px;background-color:#fafafa;box-shadow:0 0 7px #00000080}.logout-btn[_ngcontent-%COMP%]{margin-top:20px;text-align:center}.border[_ngcontent-%COMP%]{height:1px;background-image:linear-gradient(to right,transparent,black,transparent);background-position:left bottom,right bottom;background-repeat:no-repeat}.go-to-settings[_ngcontent-%COMP%]{margin-top:20px;border-radius:15px;padding:4px;display:flex;cursor:pointer;transition:background-color .1s,height .1s}.go-to-settings[_ngcontent-%COMP%]:hover{background-color:#c7c7c7;border-radius:15px}.go-to-settings[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;margin-top:3px;padding-left:10px;padding-top:10px}.go-to-settings[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{padding-top:10px}.user-name[_ngcontent-%COMP%]{text-align:center}.hello-txt[_ngcontent-%COMP%]{max-width:220px}"]})}return n})();function Mue(n,t){if(1&n&&(o.TgZ(0,"div",2),o._UZ(1,"profile-dropdown"),o.qZA()),2&n){const e=o.oxw();o.ekj("dd-activated",e.showMenuDD)}}let Rue=(()=>{class n{constructor(e){this.auth=e,this.showMenuDD=!1}toggleDropDown(e){this.showMenuDD=!(null==e.target.classList||(this.showMenuDD?e.target.classList.contains("user-icon")?this.showMenuDD:!e.target.classList.contains("no-hide-dd"):!e.target.classList.contains("user-icon")||this.showMenuDD))}static#e=this.\u0275fac=function(i){return new(i||n)(o.Y36(Ea))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-root"]],decls:4,vars:1,consts:[[3,"click"],["class","profile-drop-down",3,"dd-activated",4,"ngIf"],[1,"profile-drop-down"]],template:function(i,r){1&i&&(o.TgZ(0,"div",0),o.NdJ("click",function(a){return r.toggleDropDown(a)}),o.YNc(1,Mue,2,2,"div",1),o._UZ(2,"app-menu")(3,"router-outlet"),o.qZA()),2&i&&(o.xp6(1),o.Q6J("ngIf",r.showMenuDD))},dependencies:[Vn,My,Tue,kue],styles:[".main-view-login[_ngcontent-%COMP%]{padding-top:10px;display:flex;justify-content:center;flex-direction:column;align-items:center}.call-to-action_login[_ngcontent-%COMP%]{padding-top:15px;text-align:center}.call-to-action_login[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:600}.mdc-card[_ngcontent-%COMP%]{flex-direction:row}.cards-container[_ngcontent-%COMP%]{display:flex;margin-top:60px;gap:100px;flex-wrap:wrap;justify-content:center}.profile-drop-down[_ngcontent-%COMP%]{font-family:MartianMono;position:absolute;z-index:20;top:100px;right:20px;opacity:1;animation-name:_ngcontent-%COMP%_show-dd;animation-duration:.3s}@keyframes _ngcontent-%COMP%_show-dd{0%{opacity:0}to{opacity:1}}"]})}return n})();function oq(n){return new o.vHH(3e3,!1)}function fhe(){return typeof window<"u"&&typeof window.document<"u"}function dL(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Np(n){switch(n.length){case 0:return new to;case 1:return n[0];default:return new Bo(n)}}function sq(n,t,e,i,r=new Map,s=new Map){const a=[],u=[];let f=-1,m=null;if(i.forEach(v=>{const x=v.get("offset"),I=x==f,B=I&&m||new Map;v.forEach((q,ue)=>{let ge=ue,Oe=q;if("offset"!==ue)switch(ge=t.normalizePropertyName(ge,a),Oe){case Pu:Oe=r.get(ue);break;case $r:Oe=s.get(ue);break;default:Oe=t.normalizeStyleValue(ue,ge,Oe,a)}B.set(ge,Oe)}),I||u.push(B),m=B,f=x}),a.length)throw function the(n){return new o.vHH(3502,!1)}();return u}function uL(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&hL(e,"start",n)));break;case"done":n.onDone(()=>i(e&&hL(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&hL(e,"destroy",n)))}}function hL(n,t,e){const s=fL(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),a=n._data;return null!=a&&(s._data=a),s}function fL(n,t,e,i,r="",s=0,a){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!a}}function hl(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function aq(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let pL=(n,t)=>!1,lq=(n,t,e)=>[],cq=null;function mL(n){const t=n.parentNode||n.host;return t===cq?null:t}(dL()||typeof Element<"u")&&(fhe()?(cq=(()=>document.documentElement)(),pL=(n,t)=>{for(;t;){if(t===n)return!0;t=mL(t)}return!1}):pL=(n,t)=>n.contains(t),lq=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let c_=null,dq=!1;const uq=pL,hq=lq;let fq=(()=>{class n{validateStyleProperty(e){return function mhe(n){c_||(c_=function ghe(){return typeof document<"u"?document.body:null}()||{},dq=!!c_.style&&"WebkitAppearance"in c_.style);let t=!0;return c_.style&&!function phe(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in c_.style,!t&&dq&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in c_.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return uq(e,i)}getParentElement(e){return mL(e)}query(e,i,r){return hq(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,a,u=[],f){return new to(r,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),gL=(()=>{class n{}return n.NOOP=new fq,n})();const _he=1e3,_L="ng-enter",lI="ng-leave",cI="ng-trigger",dI=".ng-trigger",mq="ng-animating",yL=".ng-animating";function Rh(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:vL(parseFloat(t[1]),t[2])}function vL(n,t){return"s"===t?n*_he:n}function uI(n,t,e){return n.hasOwnProperty("duration")?n:function vhe(n,t,e){let r,s=0,a="";if("string"==typeof n){const u=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===u)return t.push(oq()),{duration:0,delay:0,easing:""};r=vL(parseFloat(u[1]),u[2]);const f=u[3];null!=f&&(s=vL(parseFloat(f),u[4]));const m=u[5];m&&(a=m)}else r=n;if(!e){let u=!1,f=t.length;r<0&&(t.push(function Oue(){return new o.vHH(3100,!1)}()),u=!0),s<0&&(t.push(function Pue(){return new o.vHH(3101,!1)}()),u=!0),u&&t.splice(f,0,oq())}return{duration:r,delay:s,easing:a}}(n,t,e)}function AC(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function gq(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Lp(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function yq(n,t,e){return e?t+":"+e+";":""}function vq(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=yq(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=yq(0,Che(e),n.style[e]));n.setAttribute("style",t)}function tu(n,t,e){n.style&&(t.forEach((i,r)=>{const s=wL(r);e&&!e.has(r)&&e.set(r,n.style[s]),n.style[s]=i}),dL()&&vq(n))}function d_(n,t){n.style&&(t.forEach((e,i)=>{const r=wL(i);n.style[r]=""}),dL()&&vq(n))}function IC(n){return Array.isArray(n)?1==n.length?n[0]:bd(n):n}const bL=new RegExp("{{\\s*(.+?)\\s*}}","g");function bq(n){let t=[];if("string"==typeof n){let e;for(;e=bL.exec(n);)t.push(e[1]);bL.lastIndex=0}return t}function kC(n,t,e){const i=n.toString(),r=i.replace(bL,(s,a)=>{let u=t[a];return null==u&&(e.push(function Nue(n){return new o.vHH(3003,!1)}()),u=""),u.toString()});return r==i?n:r}function hI(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const xhe=/-+([a-z0-9])/g;function wL(n){return n.replace(xhe,(...t)=>t[1].toUpperCase())}function Che(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function fl(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function Lue(n){return new o.vHH(3004,!1)}()}}function wq(n,t){return window.getComputedStyle(n)[t]}const mI="*";function Ihe(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function khe(n,t,e){if(":"==n[0]){const f=function Mhe(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function Que(n){return new o.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof f)return void t.push(f);n=f}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function Kue(n){return new o.vHH(3015,!1)}()),t;const r=i[1],s=i[2],a=i[3];t.push(xq(r,a));"<"==s[0]&&!(r==mI&&a==mI)&&t.push(xq(a,r))}(i,e,t)):e.push(n),e}const gI=new Set(["true","1"]),_I=new Set(["false","0"]);function xq(n,t){const e=gI.has(n)||_I.has(n),i=gI.has(t)||_I.has(t);return(r,s)=>{let a=n==mI||n==r,u=t==mI||t==s;return!a&&e&&"boolean"==typeof r&&(a=r?gI.has(n):_I.has(n)),!u&&i&&"boolean"==typeof s&&(u=s?gI.has(t):_I.has(t)),a&&u}}const Rhe=new RegExp("s*:selfs*,?","g");function xL(n,t,e,i){return new Ohe(n).build(t,e,i)}class Ohe{constructor(t){this._driver=t}build(t,e,i){const r=new Nhe(e);return this._resetContextStyleTimingState(r),fl(this,IC(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push(function Vue(){return new o.vHH(3006,!1)}()),t.definitions.forEach(u=>{if(this._resetContextStyleTimingState(e),0==u.type){const f=u,m=f.name;m.toString().split(/\s*,\s*/).forEach(v=>{f.name=v,s.push(this.visitState(f,e))}),f.name=m}else if(1==u.type){const f=this.visitTransition(u,e);i+=f.queryCount,r+=f.depCount,a.push(f)}else e.errors.push(function Uue(){return new o.vHH(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:a,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,a=r||{};i.styles.forEach(u=>{u instanceof Map&&u.forEach(f=>{bq(f).forEach(m=>{a.hasOwnProperty(m)||s.add(m)})})}),s.size&&(hI(s.values()),e.errors.push(function Hue(n,t){return new o.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=fl(this,IC(t.animation),e);return{type:1,matchers:Ihe(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:u_(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>fl(this,i,e)),options:u_(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(a=>{e.currentTime=i;const u=fl(this,a,e);return r=Math.max(r,e.currentTime),u});return e.currentTime=r,{type:3,steps:s,options:u_(t.options)}}visitAnimate(t,e){const i=function Bhe(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return CL(uI(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=CL(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=uI(e,t);return CL(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:dn({});if(5==s.type)r=this.visitKeyframes(s,e);else{let a=t.styles,u=!1;if(!a){u=!0;const m={};i.easing&&(m.easing=i.easing),a=dn(m)}e.currentTime+=i.duration+i.delay;const f=this.visitStyle(a,e);f.isEmptyStep=u,r=f}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let u of r)"string"==typeof u?u===$r?i.push(u):e.errors.push(new o.vHH(3002,!1)):i.push(gq(u));let s=!1,a=null;return i.forEach(u=>{if(u instanceof Map&&(u.has("easing")&&(a=u.get("easing"),u.delete("easing")),!s))for(let f of u.values())if(f.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:a,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(a=>{"string"!=typeof a&&a.forEach((u,f)=>{const m=e.collectedStyles.get(e.currentQuerySelector),v=m.get(f);let x=!0;v&&(s!=r&&s>=v.startTime&&r<=v.endTime&&(e.errors.push(function zue(n,t,e,i,r){return new o.vHH(3010,!1)}()),x=!1),s=v.startTime),x&&m.set(f,{startTime:s,endTime:r}),e.options&&function whe(n,t,e){const i=t.params||{},r=bq(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function Fue(n){return new o.vHH(3001,!1)}())})}(u,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function jue(){return new o.vHH(3011,!1)}()),i;let s=0;const a=[];let u=!1,f=!1,m=0;const v=t.steps.map(Oe=>{const nt=this._makeStyleAst(Oe,e);let it=null!=nt.offset?nt.offset:function Lhe(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(nt.styles),pt=0;return null!=it&&(s++,pt=nt.offset=it),f=f||pt<0||pt>1,u=u||pt<m,m=pt,a.push(pt),nt});f&&e.errors.push(function que(){return new o.vHH(3012,!1)}()),u&&e.errors.push(function Zue(){return new o.vHH(3200,!1)}());const x=t.steps.length;let I=0;s>0&&s<x?e.errors.push(function $ue(){return new o.vHH(3202,!1)}()):0==s&&(I=1/(x-1));const B=x-1,q=e.currentTime,ue=e.currentAnimateTimings,ge=ue.duration;return v.forEach((Oe,nt)=>{const it=I>0?nt==B?1:I*nt:a[nt],pt=it*ge;e.currentTime=q+ue.delay+pt,ue.duration=pt,this._validateStyleAst(Oe,e),Oe.offset=it,i.styles.push(Oe)}),i}visitReference(t,e){return{type:8,animation:fl(this,IC(t.animation),e),options:u_(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:u_(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:u_(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,a]=function Phe(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(Rhe,"")),n=n.replace(/@\*/g,dI).replace(/@\w+/g,e=>dI+"-"+e.slice(1)).replace(/:animating/g,yL),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,hl(e.collectedStyles,e.currentQuerySelector,new Map);const u=fl(this,IC(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:u,originalSelector:t.selector,options:u_(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function Yue(){return new o.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:uI(t.timings,e.errors,!0);return{type:12,animation:fl(this,IC(t.animation),e),timings:i,options:null}}}class Nhe{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function u_(n){return n?(n=AC(n)).params&&(n.params=function Fhe(n){return n?AC(n):null}(n.params)):n={},n}function CL(n,t,e){return{duration:n,delay:t,easing:e}}function DL(n,t,e,i,r,s,a=null,u=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:a,subTimeline:u}}class yI{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Hhe=new RegExp(":enter","g"),zhe=new RegExp(":leave","g");function SL(n,t,e,i,r,s=new Map,a=new Map,u,f,m=[]){return(new jhe).buildKeyframes(n,t,e,i,r,s,a,u,f,m)}class jhe{buildKeyframes(t,e,i,r,s,a,u,f,m,v=[]){m=m||new yI;const x=new EL(t,e,m,r,s,v,[]);x.options=f;const I=f.delay?Rh(f.delay):0;x.currentTimeline.delayNextStep(I),x.currentTimeline.setStyles([a],null,x.errors,f),fl(this,i,x);const B=x.timelines.filter(q=>q.containsAnimation());if(B.length&&u.size){let q;for(let ue=B.length-1;ue>=0;ue--){const ge=B[ue];if(ge.element===e){q=ge;break}}q&&!q.allowOnlyTimelineStyles()&&q.setStyles([u],null,x.errors,f)}return B.length?B.map(q=>q.buildKeyframes()):[DL(e,[],[],[],0,I,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,a=this._visitSubInstructions(i,r,r.options);s!=a&&e.transformIntoNewTimeline(a)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const s=r?.delay;if(s){const a="number"==typeof s?s:Rh(kC(s,r?.params??{},e.errors));i.delayNextStep(a)}}}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const a=null!=i.duration?Rh(i.duration):null,u=null!=i.delay?Rh(i.delay):null;return 0!==a&&t.forEach(f=>{const m=e.appendInstructionToTimeline(f,a,u);s=Math.max(s,m.duration+m.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),fl(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=vI);const a=Rh(s.delay);r.delayNextStep(a)}t.steps.length&&(t.steps.forEach(a=>fl(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?Rh(t.options.delay):0;t.steps.forEach(a=>{const u=e.createSubContext(t.options);s&&u.delayNextStep(s),fl(this,a,u),r=Math.max(r,u.currentTimeline.currentTime),i.push(u.currentTimeline)}),i.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return uI(e.params?kC(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,u=e.createSubContext().currentTimeline;u.easing=i.easing,t.styles.forEach(f=>{u.forwardTime((f.offset||0)*s),u.setStyles(f.styles,f.easing,e.errors,e.options),u.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(u),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?Rh(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=vI);let a=i;const u=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=u.length;let f=null;u.forEach((m,v)=>{e.currentQueryIndex=v;const x=e.createSubContext(t.options,m);s&&x.delayNextStep(s),m===e.element&&(f=x.currentTimeline),fl(this,t.animation,x),x.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,x.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),f&&(e.currentTimeline.mergeTimelineCollectedStyles(f),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,a=Math.abs(s.duration),u=a*(e.currentQueryTotal-1);let f=a*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":f=u-f;break;case"full":f=i.currentStaggerTime}const v=e.currentTimeline;f&&v.delayNextStep(f);const x=v.currentTime;fl(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-x+(r.startTime-i.currentTimeline.startTime)}}const vI={};class EL{constructor(t,e,i,r,s,a,u,f){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=a,this.timelines=u,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=vI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=f||new bI(this._driver,e,0),u.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Rh(i.duration)),null!=i.delay&&(r.delay=Rh(i.delay));const s=i.params;if(s){let a=r.params;a||(a=this.options.params={}),Object.keys(s).forEach(u=>{(!e||!a.hasOwnProperty(u))&&(a[u]=kC(s[u],a,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new EL(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=vI,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new qhe(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,a){let u=[];if(r&&u.push(this.element),t.length>0){t=(t=t.replace(Hhe,"."+this._enterClassName)).replace(zhe,"."+this._leaveClassName);let m=this._driver.query(this.element,t,1!=i);0!==i&&(m=i<0?m.slice(m.length+i,m.length):m.slice(0,i)),u.push(...m)}return!s&&0==u.length&&a.push(function Wue(n){return new o.vHH(3014,!1)}()),u}}class bI{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new bI(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||$r),this._currentKeyframe.set(e,$r);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const s=r&&r.params||{},a=function Zhe(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let s of i)e.set(s,$r)}else Lp(r,e)}),e}(t,this._globalTimelineStyles);for(let[u,f]of a){const m=kC(f,s,i);this._pendingStyles.set(u,m),this._localTimelineStyles.has(u)||this._backFill.set(u,this._globalTimelineStyles.get(u)??$r),this._updateStyle(u,m)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((u,f)=>{const m=Lp(u,new Map,this._backFill);m.forEach((v,x)=>{v===Pu?t.add(x):v===$r&&e.add(x)}),i||m.set("offset",f/this.duration),r.push(m)});const s=t.size?hI(t.values()):[],a=e.size?hI(e.values()):[];if(i){const u=r[0],f=new Map(u);u.set("offset",0),f.set("offset",1),r=[u,f]}return DL(this.element,r,s,a,this.duration,this.startTime,this.easing,!1)}}class qhe extends bI{constructor(t,e,i,r,s,a,u=!1){super(t,e,a.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=u,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],a=i+e,u=e/a,f=Lp(t[0]);f.set("offset",0),s.push(f);const m=Lp(t[0]);m.set("offset",Sq(u)),s.push(m);const v=t.length-1;for(let x=1;x<=v;x++){let I=Lp(t[x]);const B=I.get("offset");I.set("offset",Sq((e+B*i)/a)),s.push(I)}i=a,e=0,r="",t=s}return DL(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function Sq(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class TL{}const $he=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Yhe extends TL{normalizePropertyName(t,e){return wL(t)}normalizeStyleValue(t,e,i,r){let s="";const a=i.toString().trim();if($he.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const u=i.match(/^[+-]?[\d\.]+([a-z]*)$/);u&&0==u[1].length&&r.push(function Bue(n,t){return new o.vHH(3005,!1)}())}return a+s}}function Eq(n,t,e,i,r,s,a,u,f,m,v,x,I){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:a,timelines:u,queriedElements:f,preStyleProps:m,postStyleProps:v,totalTime:x,errors:I}}const AL={};class Tq{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function Whe(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,s,a,u,f,m,v){const x=[],I=this.ast.options&&this.ast.options.params||AL,q=this.buildStyles(i,u&&u.params||AL,x),ue=f&&f.params||AL,ge=this.buildStyles(r,ue,x),Oe=new Set,nt=new Map,it=new Map,pt="void"===r,zt={params:Khe(ue,I),delay:this.ast.options?.delay},jt=v?[]:SL(t,e,this.ast.animation,s,a,q,ge,zt,m,x);let Bn=0;if(jt.forEach(Xr=>{Bn=Math.max(Xr.duration+Xr.delay,Bn)}),x.length)return Eq(e,this._triggerName,i,r,pt,q,ge,[],[],nt,it,Bn,x);jt.forEach(Xr=>{const gl=Xr.element,fb=hl(nt,gl,new Set);Xr.preStyleProps.forEach(Fh=>fb.add(Fh));const D_=hl(it,gl,new Set);Xr.postStyleProps.forEach(Fh=>D_.add(Fh)),gl!==e&&Oe.add(gl)});const Kn=hI(Oe.values());return Eq(e,this._triggerName,i,r,pt,q,ge,jt,Kn,nt,it,Bn)}}function Khe(n,t){const e=AC(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class Qhe{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=AC(this.defaultParams);return Object.keys(t).forEach(s=>{const a=t[s];null!==a&&(r[s]=a)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,u)=>{a&&(a=kC(a,r,e));const f=this.normalizer.normalizePropertyName(u,e);a=this.normalizer.normalizeStyleValue(u,f,a,e),i.set(u,a)})}),i}}class Xhe{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new Qhe(r.style,r.options&&r.options.params||{},i))}),Aq(this.states,"true","1"),Aq(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new Tq(t,r,this.states))}),this.fallbackTransition=function efe(n,t,e){return new Tq(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,u)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(a=>a.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function Aq(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const tfe=new yI;class nfe{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],r=[],s=xL(this._driver,e,i,r);if(i.length)throw function nhe(n){return new o.vHH(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,i){const r=t.element,s=sq(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations.get(t);let a;const u=new Map;if(s?(a=SL(this._driver,e,s,_L,lI,new Map,new Map,i,tfe,r),a.forEach(v=>{const x=hl(u,v.element,new Map);v.postStyleProps.forEach(I=>x.set(I,null))})):(r.push(function ihe(){return new o.vHH(3300,!1)}()),a=[]),r.length)throw function rhe(n){return new o.vHH(3504,!1)}();u.forEach((v,x)=>{v.forEach((I,B)=>{v.set(B,this._driver.computeStyle(x,B,$r))})});const m=Np(a.map(v=>{const x=u.get(v.element);return this._buildPlayer(v,new Map,x)}));return this._playersById.set(t,m),m.onDestroy(()=>this.destroy(t)),this.players.push(m),m}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function ohe(n){return new o.vHH(3301,!1)}();return e}listen(t,e,i,r){const s=fL(e,"","","");return uL(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Iq="ng-animate-queued",IL="ng-animate-disabled",afe=[],kq={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},lfe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Yl="__ng_removed";class kL{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function hfe(n){return n??null}(i?t.value:t),i){const s=AC(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const MC="void",ML=new kL(MC);class cfe{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Wl(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function she(n,t){return new o.vHH(3302,!1)}();if(null==i||0==i.length)throw function ahe(n){return new o.vHH(3303,!1)}();if(!function ffe(n){return"start"==n||"done"==n}(i))throw function lhe(n,t){return new o.vHH(3400,!1)}();const s=hl(this._elementListeners,t,[]),a={name:e,phase:i,callback:r};s.push(a);const u=hl(this._engine.statesByElement,t,new Map);return u.has(e)||(Wl(t,cI),Wl(t,cI+"-"+e),u.set(e,ML)),()=>{this._engine.afterFlush(()=>{const f=s.indexOf(a);f>=0&&s.splice(f,1),this._triggers.has(e)||u.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function che(n){return new o.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),a=new RL(this.id,e,t);let u=this._engine.statesByElement.get(t);u||(Wl(t,cI),Wl(t,cI+"-"+e),this._engine.statesByElement.set(t,u=new Map));let f=u.get(e);const m=new kL(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&f&&m.absorbOptions(f.options),u.set(e,m),f||(f=ML),m.value!==MC&&f.value===m.value){if(!function gfe(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(f.params,m.params)){const ue=[],ge=s.matchStyles(f.value,f.params,ue),Oe=s.matchStyles(m.value,m.params,ue);ue.length?this._engine.reportError(ue):this._engine.afterFlush(()=>{d_(t,ge),tu(t,Oe)})}return}const I=hl(this._engine.playersByElement,t,[]);I.forEach(ue=>{ue.namespaceId==this.id&&ue.triggerName==e&&ue.queued&&ue.destroy()});let B=s.matchTransition(f.value,m.value,t,m.params),q=!1;if(!B){if(!r)return;B=s.fallbackTransition,q=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:B,fromState:f,toState:m,player:a,isFallbackTransition:q}),q||(Wl(t,Iq),a.onStart(()=>{Xv(t,Iq)})),a.onDone(()=>{let ue=this.players.indexOf(a);ue>=0&&this.players.splice(ue,1);const ge=this._engine.playersByElement.get(t);if(ge){let Oe=ge.indexOf(a);Oe>=0&&ge.splice(Oe,1)}}),this.players.push(a),I.push(a),a}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,dI,!0);i.forEach(r=>{if(r[Yl])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(a=>a.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),a=new Map;if(s){const u=[];if(s.forEach((f,m)=>{if(a.set(m,f.value),this._triggers.has(m)){const v=this.trigger(t,m,MC,r);v&&u.push(v)}}),u.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,a),i&&Np(u).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const a=s.name;if(r.has(a))return;r.add(a);const f=this._triggers.get(a).fallbackTransition,m=i.get(a)||ML,v=new kL(MC),x=new RL(this.id,a,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:a,transition:f,fromState:m,toState:v,player:x,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let a=t;for(;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[Yl];(!s||s===kq)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Wl(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,a=this._elementListeners.get(s);a&&a.forEach(u=>{if(u.name==i.triggerName){const f=fL(s,i.triggerName,i.fromState.value,i.toState.value);f._data=t,uL(i.player,u.phase,f,u.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,a=r.transition.ast.depCount;return 0==s||0==a?s-a:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class dfe{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new cfe(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let a=!1,u=this.driver.getParentElement(e);for(;u;){const f=r.get(u);if(f){const m=i.indexOf(f);i.splice(m+1,0,t),a=!0;break}u=this.driver.getParentElement(u)}a||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}return e}trigger(t,e,i,r){if(wI(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!wI(e))return;const s=e[Yl];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){const a=this._fetchNamespace(t);a&&a.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Wl(t,IL)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Xv(t,IL))}removeNode(t,e,i,r){if(wI(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const a=this.namespacesByHostElement.get(e);a&&a.id!==t&&a.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[Yl]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return wI(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,dI,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,yL,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Np(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Yl];if(e&&e.setForRemoval){if(t[Yl]=kq,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(IL)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Wl(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Np(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function dhe(n){return new o.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new yI,r=[],s=new Map,a=[],u=new Map,f=new Map,m=new Map,v=new Set;this.disabledNodes.forEach(Zt=>{v.add(Zt);const ln=this.driver.query(Zt,".ng-animate-queued",!0);for(let mn=0;mn<ln.length;mn++)v.add(ln[mn])});const x=this.bodyNode,I=Array.from(this.statesByElement.keys()),B=Oq(I,this.collectedEnterElements),q=new Map;let ue=0;B.forEach((Zt,ln)=>{const mn=_L+ue++;q.set(ln,mn),Zt.forEach(Qn=>Wl(Qn,mn))});const ge=[],Oe=new Set,nt=new Set;for(let Zt=0;Zt<this.collectedLeaveElements.length;Zt++){const ln=this.collectedLeaveElements[Zt],mn=ln[Yl];mn&&mn.setForRemoval&&(ge.push(ln),Oe.add(ln),mn.hasAnimation?this.driver.query(ln,".ng-star-inserted",!0).forEach(Qn=>Oe.add(Qn)):nt.add(ln))}const it=new Map,pt=Oq(I,Array.from(Oe));pt.forEach((Zt,ln)=>{const mn=lI+ue++;it.set(ln,mn),Zt.forEach(Qn=>Wl(Qn,mn))}),t.push(()=>{B.forEach((Zt,ln)=>{const mn=q.get(ln);Zt.forEach(Qn=>Xv(Qn,mn))}),pt.forEach((Zt,ln)=>{const mn=it.get(ln);Zt.forEach(Qn=>Xv(Qn,mn))}),ge.forEach(Zt=>{this.processLeaveNode(Zt)})});const zt=[],jt=[];for(let Zt=this._namespaceList.length-1;Zt>=0;Zt--)this._namespaceList[Zt].drainQueuedTransitions(e).forEach(mn=>{const Qn=mn.player,so=mn.element;if(zt.push(Qn),this.collectedEnterElements.length){const bs=so[Yl];if(bs&&bs.setForMove){if(bs.previousTriggersValues&&bs.previousTriggersValues.has(mn.triggerName)){const S_=bs.previousTriggersValues.get(mn.triggerName),tc=this.statesByElement.get(mn.element);if(tc&&tc.has(mn.triggerName)){const uk=tc.get(mn.triggerName);uk.value=S_,tc.set(mn.triggerName,uk)}}return void Qn.destroy()}}const ec=!x||!this.driver.containsElement(x,so),qs=it.get(so),ou=q.get(so),Sr=this._buildInstruction(mn,i,ou,qs,ec);if(Sr.errors&&Sr.errors.length)return void jt.push(Sr);if(ec)return Qn.onStart(()=>d_(so,Sr.fromStyles)),Qn.onDestroy(()=>tu(so,Sr.toStyles)),void r.push(Qn);if(mn.isFallbackTransition)return Qn.onStart(()=>d_(so,Sr.fromStyles)),Qn.onDestroy(()=>tu(so,Sr.toStyles)),void r.push(Qn);const F$=[];Sr.timelines.forEach(bs=>{bs.stretchStartingKeyframe=!0,this.disabledNodes.has(bs.element)||F$.push(bs)}),Sr.timelines=F$,i.append(so,Sr.timelines),a.push({instruction:Sr,player:Qn,element:so}),Sr.queriedElements.forEach(bs=>hl(u,bs,[]).push(Qn)),Sr.preStyleProps.forEach((bs,S_)=>{if(bs.size){let tc=f.get(S_);tc||f.set(S_,tc=new Set),bs.forEach((uk,X3)=>tc.add(X3))}}),Sr.postStyleProps.forEach((bs,S_)=>{let tc=m.get(S_);tc||m.set(S_,tc=new Set),bs.forEach((uk,X3)=>tc.add(X3))})});if(jt.length){const Zt=[];jt.forEach(ln=>{Zt.push(function uhe(n,t){return new o.vHH(3505,!1)}())}),zt.forEach(ln=>ln.destroy()),this.reportError(Zt)}const Bn=new Map,Kn=new Map;a.forEach(Zt=>{const ln=Zt.element;i.has(ln)&&(Kn.set(ln,ln),this._beforeAnimationBuild(Zt.player.namespaceId,Zt.instruction,Bn))}),r.forEach(Zt=>{const ln=Zt.element;this._getPreviousPlayers(ln,!1,Zt.namespaceId,Zt.triggerName,null).forEach(Qn=>{hl(Bn,ln,[]).push(Qn),Qn.destroy()})});const Xr=ge.filter(Zt=>Fq(Zt,f,m)),gl=new Map;Rq(gl,this.driver,nt,m,$r).forEach(Zt=>{Fq(Zt,f,m)&&Xr.push(Zt)});const D_=new Map;B.forEach((Zt,ln)=>{Rq(D_,this.driver,new Set(Zt),f,Pu)}),Xr.forEach(Zt=>{const ln=gl.get(Zt),mn=D_.get(Zt);gl.set(Zt,new Map([...Array.from(ln?.entries()??[]),...Array.from(mn?.entries()??[])]))});const Fh=[],ck=[],dk={};a.forEach(Zt=>{const{element:ln,player:mn,instruction:Qn}=Zt;if(i.has(ln)){if(v.has(ln))return mn.onDestroy(()=>tu(ln,Qn.toStyles)),mn.disabled=!0,mn.overrideTotalTime(Qn.totalTime),void r.push(mn);let so=dk;if(Kn.size>1){let qs=ln;const ou=[];for(;qs=qs.parentNode;){const Sr=Kn.get(qs);if(Sr){so=Sr;break}ou.push(qs)}ou.forEach(Sr=>Kn.set(Sr,so))}const ec=this._buildAnimation(mn.namespaceId,Qn,Bn,s,D_,gl);if(mn.setRealPlayer(ec),so===dk)Fh.push(mn);else{const qs=this.playersByElement.get(so);qs&&qs.length&&(mn.parentPlayer=Np(qs)),r.push(mn)}}else d_(ln,Qn.fromStyles),mn.onDestroy(()=>tu(ln,Qn.toStyles)),ck.push(mn),v.has(ln)&&r.push(mn)}),ck.forEach(Zt=>{const ln=s.get(Zt.element);if(ln&&ln.length){const mn=Np(ln);Zt.setRealPlayer(mn)}}),r.forEach(Zt=>{Zt.parentPlayer?Zt.syncPlayerEvents(Zt.parentPlayer):Zt.destroy()});for(let Zt=0;Zt<ge.length;Zt++){const ln=ge[Zt],mn=ln[Yl];if(Xv(ln,lI),mn&&mn.hasAnimation)continue;let Qn=[];if(u.size){let ec=u.get(ln);ec&&ec.length&&Qn.push(...ec);let qs=this.driver.query(ln,yL,!0);for(let ou=0;ou<qs.length;ou++){let Sr=u.get(qs[ou]);Sr&&Sr.length&&Qn.push(...Sr)}}const so=Qn.filter(ec=>!ec.destroyed);so.length?pfe(this,ln,so):this.processLeaveNode(ln)}return ge.length=0,Fh.forEach(Zt=>{this.players.push(Zt),Zt.onDone(()=>{Zt.destroy();const ln=this.players.indexOf(Zt);this.players.splice(ln,1)}),Zt.play()}),Fh}elementContainsData(t,e){let i=!1;const r=e[Yl];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let a=[];if(e){const u=this.playersByQueriedElement.get(t);u&&(a=u)}else{const u=this.playersByElement.get(t);if(u){const f=!s||s==MC;u.forEach(m=>{m.queued||!f&&m.triggerName!=r||a.push(m)})}}return(i||r)&&(a=a.filter(u=>!(i&&i!=u.namespaceId||r&&r!=u.triggerName))),a}_beforeAnimationBuild(t,e,i){const s=e.element,a=e.isRemovalTransition?void 0:t,u=e.isRemovalTransition?void 0:e.triggerName;for(const f of e.timelines){const m=f.element,v=m!==s,x=hl(i,m,[]);this._getPreviousPlayers(m,v,a,u,e.toState).forEach(B=>{const q=B.getRealPlayer();q.beforeDestroy&&q.beforeDestroy(),B.destroy(),x.push(B)})}d_(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,a){const u=e.triggerName,f=e.element,m=[],v=new Set,x=new Set,I=e.timelines.map(q=>{const ue=q.element;v.add(ue);const ge=ue[Yl];if(ge&&ge.removedBeforeQueried)return new to(q.duration,q.delay);const Oe=ue!==f,nt=function mfe(n){const t=[];return Pq(n,t),t}((i.get(ue)||afe).map(Bn=>Bn.getRealPlayer())).filter(Bn=>!!Bn.element&&Bn.element===ue),it=s.get(ue),pt=a.get(ue),zt=sq(0,this._normalizer,0,q.keyframes,it,pt),jt=this._buildPlayer(q,zt,nt);if(q.subTimeline&&r&&x.add(ue),Oe){const Bn=new RL(t,u,ue);Bn.setRealPlayer(jt),m.push(Bn)}return jt});m.forEach(q=>{hl(this.playersByQueriedElement,q.element,[]).push(q),q.onDone(()=>function ufe(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,q.element,q))}),v.forEach(q=>Wl(q,mq));const B=Np(I);return B.onDestroy(()=>{v.forEach(q=>Xv(q,mq)),tu(f,e.toStyles)}),x.forEach(q=>{hl(r,q,[]).push(B)}),B}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new to(t.duration,t.delay)}}class RL{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new to,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>uL(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){hl(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function wI(n){return n&&1===n.nodeType}function Mq(n,t){const e=n.style.display;return n.style.display=t??"none",e}function Rq(n,t,e,i,r){const s=[];e.forEach(f=>s.push(Mq(f)));const a=[];i.forEach((f,m)=>{const v=new Map;f.forEach(x=>{const I=t.computeStyle(m,x,r);v.set(x,I),(!I||0==I.length)&&(m[Yl]=lfe,a.push(m))}),n.set(m,v)});let u=0;return e.forEach(f=>Mq(f,s[u++])),a}function Oq(n,t){const e=new Map;if(n.forEach(u=>e.set(u,[])),0==t.length)return e;const i=1,r=new Set(t),s=new Map;function a(u){if(!u)return i;let f=s.get(u);if(f)return f;const m=u.parentNode;return f=e.has(m)?m:r.has(m)?i:a(m),s.set(u,f),f}return t.forEach(u=>{const f=a(u);f!==i&&e.get(f).push(u)}),e}function Wl(n,t){n.classList?.add(t)}function Xv(n,t){n.classList?.remove(t)}function pfe(n,t,e){Np(e).onDone(()=>n.processLeaveNode(t))}function Pq(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof Bo?Pq(i.players,t):t.push(i)}}function Fq(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class xI{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new dfe(t,e,i),this._timelineEngine=new nfe(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const a=t+"-"+r;let u=this._triggerCache[a];if(!u){const f=[],m=[],v=xL(this._driver,s,f,m);if(f.length)throw function ehe(n,t){return new o.vHH(3404,!1)}();u=function Jhe(n,t,e){return new Xhe(n,t,e)}(r,v,this._normalizer),this._triggerCache[a]=u}this._transitionEngine.registerTrigger(e,r,u)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,a]=aq(i);this._timelineEngine.command(s,e,a,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[a,u]=aq(i);return this._timelineEngine.listen(a,e,u,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let yfe=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&tu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(tu(this._element,this._initialStyles),this._endStyles&&(tu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(d_(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(d_(this._element,this._endStyles),this._endStyles=null),tu(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function OL(n){let t=null;return n.forEach((e,i)=>{(function vfe(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class Nq{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:wq(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class bfe{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return uq(t,e)}getParentElement(t){return mL(t)}query(t,e,i){return hq(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,a=[]){const f={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(f.easing=s);const m=new Map,v=a.filter(B=>B instanceof Nq);(function Dhe(n,t){return 0===n||0===t})(i,r)&&v.forEach(B=>{B.currentSnapshot.forEach((q,ue)=>m.set(ue,q))});let x=function bhe(n){return n.length?n[0]instanceof Map?n:n.map(t=>gq(t)):[]}(e).map(B=>Lp(B));x=function She(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((s,a)=>{i.has(a)||r.push(a),i.set(a,s)}),r.length)for(let s=1;s<t.length;s++){let a=t[s];r.forEach(u=>a.set(u,wq(n,u)))}}return t}(t,x,m);const I=function _fe(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=OL(t[0]),t.length>1&&(i=OL(t[t.length-1]))):t instanceof Map&&(e=OL(t)),e||i?new yfe(n,e,i):null}(t,x);return new Nq(t,x,f,I)}}let wfe=(()=>{class n extends vd{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:o.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?bd(e):e;return Lq(this._renderer,null,i,"register",[r]),new xfe(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.FYo),o.LFG(j))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class xfe extends bf{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Cfe(this._id,t,e||{},this._renderer)}}class Cfe{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Lq(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Lq(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const Bq="@.disabled";let Dfe=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,a)=>{const u=a?.parentNode(s);u&&a.removeChild(u,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let v=this._rendererCache.get(s);return v||(v=new Vq("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,v)),v}const a=i.id,u=i.id+"-"+this._currentId;this._currentId++,this.engine.register(u,e);const f=v=>{Array.isArray(v)?v.forEach(f):this.engine.registerTrigger(a,u,e,v.name,v)};return i.data.animation.forEach(f),new Sfe(this,u,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[a,u]=s;a(u)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.FYo),o.LFG(xI),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Vq{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?s=>e.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==Bq?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Sfe extends Vq{constructor(t,e,i,r,s){super(e,i,r,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==Bq?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function Efe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),a="";return"@"!=s.charAt(0)&&([s,a]=function Tfe(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,a,u=>{this.factory.scheduleListenerCallback(u._data||-1,i,u)})}return this.delegate.listen(t,e,i)}}let Afe=(()=>{class n extends xI{constructor(e,i,r,s){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(j),o.LFG(gL),o.LFG(TL),o.LFG(o.z2F))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Uq=[{provide:vd,useClass:wfe},{provide:TL,useFactory:function Ife(){return new Yhe}},{provide:xI,useClass:Afe},{provide:o.FYo,useFactory:function kfe(n,t,e){return new Dfe(n,t,e)},deps:[jr,xI,o.R0b]}],PL=[{provide:gL,useFactory:()=>new bfe},{provide:o.QbO,useValue:"BrowserAnimations"},...Uq],Hq=[{provide:gL,useClass:fq},{provide:o.QbO,useValue:"NoopAnimations"},...Uq];let Mfe=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?Hq:PL}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:PL,imports:[Ga]}),n})(),Wq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[LN]}),n})(),Xpe=(()=>{class n{constructor(e,i){wo(i)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,i=[]){return{ngModule:n,providers:e.serverLoaded?[{provide:Uc,useValue:{...BN,...e}},{provide:VN,useValue:i,multi:!0},{provide:Yv,useValue:!0}]:[{provide:Uc,useValue:{...BN,...e}},{provide:VN,useValue:i,multi:!0}]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Yv),o.LFG(o.Lbi))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[wj,Aj,Wq,wj,Aj,Wq]}),n})(),nme=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[or,Mn]}),n})();const Kq="@firebase/database";let FL="";function Jq(n){FL=n}class ime{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,ne.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,ne.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class rme{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,ne.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Xq=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new ime(t)}}catch{}return new rme},h_=Xq("localStorage"),NL=Xq("sessionStorage"),eb=new va.Yd("@firebase/database"),eZ=function(){let n=1;return function(){return n++}}(),tZ=function(n){const t=(0,ne.dS)(n),e=new ne.gQ;e.update(t);const i=e.digest();return ne.US.encodeByteArray(i)},RC=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=RC.apply(null,i):t+="object"==typeof i?(0,ne.Wl)(i):i,t+=" "}return t};let f_=null,nZ=!0;const iZ=function(n,t){(0,ne.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(eb.logLevel=va.in.VERBOSE,f_=eb.log.bind(eb),t&&NL.set("logging_enabled",!0)):"function"==typeof n?f_=n:(f_=null,NL.remove("logging_enabled"))},Po=function(...n){if(!0===nZ&&(nZ=!1,null===f_&&!0===NL.get("logging_enabled")&&iZ(!0)),f_){const t=RC.apply(null,n);f_(t)}},OC=function(n){return function(...t){Po(n,...t)}},LL=function(...n){const t="FIREBASE INTERNAL ERROR: "+RC(...n);eb.error(t)},nu=function(...n){const t=`FIREBASE FATAL ERROR: ${RC(...n)}`;throw eb.error(t),new Error(t)},vs=function(...n){const t="FIREBASE WARNING: "+RC(...n);eb.warn(t)},DI=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Bp="[MIN_NAME]",Oh="[MAX_NAME]",p_=function(n,t){if(n===t)return 0;if(n===Bp||t===Oh)return-1;if(t===Bp||n===Oh)return 1;{const e=sZ(n),i=sZ(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},ame=function(n,t){return n===t?0:n<t?-1:1},PC=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,ne.Wl)(t))},BL=function(n){if("object"!=typeof n||null===n)return(0,ne.Wl)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,ne.Wl)(t[i]),e+=":",e+=BL(n[t[i]]);return e+="}",e},rZ=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function Fo(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const oZ=function(n){(0,ne.hu)(!DI(n),"Invalid JSON number");const i=1023;let r,s,a,u,f;0===n?(s=0,a=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(u=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=u+i,a=Math.round(n*Math.pow(2,52-u)-Math.pow(2,52))):(s=0,a=Math.round(n/Math.pow(2,-1074))));const m=[];for(f=52;f;f-=1)m.push(a%2?1:0),a=Math.floor(a/2);for(f=11;f;f-=1)m.push(s%2?1:0),s=Math.floor(s/2);m.push(r?1:0),m.reverse();const v=m.join("");let x="";for(f=0;f<64;f+=8){let I=parseInt(v.substr(f,8),2).toString(16);1===I.length&&(I="0"+I),x+=I}return x.toLowerCase()},ume=new RegExp("^-?(0*)\\d{1,10}$"),sZ=function(n){if(ume.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},tb=function(n){try{n()}catch(t){setTimeout(()=>{throw vs("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},pme=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},FC=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class mme{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){vs(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class gme{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Po("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',vs(t)}}let NC=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const uZ=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,pZ="websocket",mZ="long_polling";class UL{constructor(t,e,i,r,s=!1,a="",u=!1,f=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=u,this.isUsingEmulator=f,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=h_.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&h_.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function gZ(n,t,e){let i;if((0,ne.hu)("string"==typeof t,"typeof type must == string"),(0,ne.hu)("object"==typeof e,"typeof params must == object"),t===pZ)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==mZ)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function _me(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return Fo(e,(s,a)=>{r.push(s+"="+a)}),i+r.join("&")}class yme{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,ne.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,ne.p$)(this.counters_)}}const HL={},GL={};function zL(n){const t=n.toString();return HL[t]||(HL[t]=new yme),HL[t]}class bme{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&tb(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Vp{constructor(t,e,i,r,s,a,u){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=a,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=OC(t),this.stats_=zL(e),this.urlFn=f=>(this.appCheckToken&&(f.ac=this.appCheckToken),gZ(e,mZ,f))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new bme(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,ne.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new jL((...s)=>{const[a,u,f,m,v]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===a)this.id=u,this.password=f;else{if("close"!==a)throw new Error("Unrecognized command received: "+a);u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[a,u]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(a,u)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&uZ.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Vp.forceAllow_=!0}static forceDisallow(){Vp.forceDisallow_=!0}static isAvailable(){return!((0,ne.Yr)()||!Vp.forceAllow_&&(Vp.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,ne.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,ne.h$)(e),r=rZ(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,ne.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,ne.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class jL{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,ne.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=eZ(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=jL.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(u){Po("frame writing exception"),u.stack&&Po(u.stack),Po(u)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Po("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const a=this.pendingSegs.shift();i=i+"&seg"+r+"="+a.seg+"&ts"+r+"="+a.ts+"&d"+r+"="+a.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,ne.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Po("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let EI=null;typeof MozWebSocket<"u"?EI=MozWebSocket:typeof WebSocket<"u"&&(EI=WebSocket);let nb=(()=>{class n{constructor(e,i,r,s,a,u,f){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=OC(this.connId),this.stats_=zL(i),this.connURL=n.connectionURL_(i,u,f,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,s,a){const u={v:"5"};return!(0,ne.Yr)()&&typeof location<"u"&&location.hostname&&uZ.test(location.hostname)&&(u.r="f"),i&&(u.s=i),r&&(u.ls=r),s&&(u.ac=s),a&&(u.p=a),gZ(e,pZ,u)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,h_.set("previous_websocket_failure",!0);try{let r;if((0,ne.Yr)()){r={headers:{"User-Agent":`Firebase/5/${FL}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const a=process.env,u=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;u&&(r.proxy={origin:u})}this.mySock=new EI(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==EI&&!n.forceDisallow_}static previouslyFailed(){return h_.isInMemoryStorage||!0===h_.get("previous_websocket_failure")}markConnectionHealthy(){h_.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,ne.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,ne.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,ne.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=rZ(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),CZ=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Vp,nb]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=nb&&nb.isAvailable();let r=i&&!nb.previouslyFailed();if(e.webSocketOnly&&(i||vs("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[nb];else{const s=this.transports_=[];for(const a of n.ALL_TRANSPORTS)a&&a.isAvailable()&&s.push(a);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class kZ{constructor(t,e,i,r,s,a,u,f,m,v){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=a,this.onReady_=u,this.onDisconnect_=f,this.onKill_=m,this.lastSessionId=v,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=OC("c:"+this.id+":"),this.transportManager_=new CZ(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=FC(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=PC("t",t),i=PC("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=PC("t",t),i=PC("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=PC("t",t);if("d"in t){const i=t.d;if("h"===e){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?LL("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):LL("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&vs("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),FC(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):FC(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(h_.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class MZ{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class RZ{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,ne.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let s=0;s<r.length;s++)if(r[s].callback===e&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(t){(0,ne.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class TI extends RZ{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,ne.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new TI}getInitialEvent(t){return(0,ne.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}const OZ=32,PZ=768;class gi{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function ci(){return new gi("")}function Hn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Up(n){return n.pieces_.length-n.pieceNum_}function Pi(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new gi(n.pieces_,t)}function ZL(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function LC(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function FZ(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new gi(t,0)}function dr(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof gi)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new gi(e,0)}function Gn(n){return n.pieceNum_>=n.pieces_.length}function js(n,t){const e=Hn(n),i=Hn(t);if(null===e)return t;if(e===i)return js(Pi(n),Pi(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function Gme(n,t){const e=LC(n,0),i=LC(t,0);for(let r=0;r<e.length&&r<i.length;r++){const s=p_(e[r],i[r]);if(0!==s)return s}return e.length===i.length?0:e.length<i.length?-1:1}function $L(n,t){if(Up(n)!==Up(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function Kl(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(Up(n)>Up(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class zme{constructor(t,e){this.errorPrefix_=e,this.parts_=LC(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,ne.ug)(this.parts_[i]);NZ(this)}}function NZ(n){if(n.byteLength_>PZ)throw new Error(n.errorPrefix_+"has a key path longer than "+PZ+" bytes ("+n.byteLength_+").");if(n.parts_.length>OZ)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+OZ+") or object contains a cycle "+m_(n))}function m_(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class YL extends RZ{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new YL}getInitialEvent(t){return(0,ne.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const BC=1e3;let II,g_=(()=>{class n extends MZ{constructor(e,i,r,s,a,u,f,m){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=a,this.authTokenProvider_=u,this.appCheckTokenProvider_=f,this.authOverride_=m,this.id=n.nextPersistentConnectionId_++,this.log_=OC("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=BC,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m&&!(0,ne.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");YL.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&TI.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const s=++this.requestNumber_,a={r:s,a:e,b:i};this.log_((0,ne.Wl)(a)),(0,ne.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const i=new ne.BH,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:u=>{const f=u.d;"ok"===u.s?i.resolve(f):i.reject(f)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,s){this.initConnection_();const a=e._queryIdentifier,u=e._path.toString();this.log_("Listen called for "+u+" "+a),this.listens.has(u)||this.listens.set(u,new Map),(0,ne.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,ne.hu)(!this.listens.get(u).has(a),"listen() called twice for same path/queryId.");const f={onComplete:s,hashFn:i,query:e,tag:r};this.listens.get(u).set(a,f),this.connected_&&this.sendListen_(f)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const a={p:r};e.tag&&(a.q=i._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,f=>{const m=f.d,v=f.s;n.warnOnListenWarnings_(m,i),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",f),"ok"!==v&&this.removeListen_(r,s),e.onComplete&&e.onComplete(v,m))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,ne.r3)(e,"w")){const r=(0,ne.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',a=i._path.toString();vs(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,ne.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,ne.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const a=s.s,u=s.d||"error";this.authToken_===e&&("ok"===a?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,ne.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,i)}sendUnlisten_(e,i,r,s){this.log_("Unlisten on "+e+" for "+i);const a={p:e};s&&(a.q=r,a.t=s),this.sendRequest("n",a)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,s){const a={p:i,d:r};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,u=>{s&&setTimeout(()=>{s(u.s,u.d)},Math.floor(0))})}put(e,i,r,s){this.putInternal("p",e,i,r,s)}merge(e,i,r,s){this.putInternal("m",e,i,r,s)}putInternal(e,i,r,s,a){this.initConnection_();const u={p:i,d:r};void 0!==a&&(u.h=a),this.outstandingPuts_.push({action:e,request:u,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,a=>{this.log_(i+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(a.s,a.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,ne.Wl)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):LL("Unrecognized action received from server: "+(0,ne.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,ne.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=BC,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=BC,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=BC),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Ge.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),s=e.onRealtimeDisconnect_.bind(e),a=e.id+":"+n.nextConnectionId_++,u=e.lastSessionId;let f=!1,m=null;const v=function(){m?m.close():(f=!0,s())};e.realtime_={close:v,sendRequest:function(B){(0,ne.hu)(m,"sendRequest call when we're not connected not allowed."),m.sendRequest(B)}};const I=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[B,q]=yield Promise.all([e.authTokenProvider_.getToken(I),e.appCheckTokenProvider_.getToken(I)]);f?Po("getToken() completed but was canceled"):(Po("getToken() completed. Creating connection."),e.authToken_=B&&B.accessToken,e.appCheckToken_=q&&q.token,m=new kZ(a,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,s,ue=>{vs(ue+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},u))}catch(B){e.log_("Failed to get token: "+B),f||(e.repoInfo_.nodeAdmin&&vs(B),v())}}})()}interrupt(e){Po("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Po("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,ne.xb)(this.interruptReasons_)&&(this.reconnectDelay_=BC,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(a=>BL(a)).join("$"):"default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,i){const r=new gi(e).toString();let s;if(this.listens.has(r)){const a=this.listens.get(r);s=a.get(i),a.delete(i),0===a.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,i){Po("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Po("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,ne.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+FL.replace(/\./g,"-")]=1,(0,ne.uI)()?e["framework.cordova"]=1:(0,ne.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=TI.getInstance().currentlyOnline();return(0,ne.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class jn{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new jn(t,e)}}class AI{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new jn(Bp,t),r=new jn(Bp,e);return 0!==this.compare(i,r)}minPost(){return jn.MIN}}class VZ extends AI{static get __EMPTY_NODE(){return II}static set __EMPTY_NODE(t){II=t}compare(t,e){return p_(t.name,e.name)}isDefinedOn(t){throw(0,ne.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return jn.MIN}maxPost(){return new jn(Oh,II)}makePost(t,e){return(0,ne.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new jn(t,II)}toString(){return".key"}}const iu=new VZ;class kI{constructor(t,e,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let a=1;for(;!t.isEmpty();)if(a=e?i(t.key,e):1,r&&(a*=-1),a<0)t=this.isReverse_?t.left:t.right;else{if(0===a){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let KL,Hc=(()=>{class n{constructor(e,i,r,s,a){this.key=e,this.value=i,this.color=r??n.RED,this.left=s??Ta.EMPTY_NODE,this.right=a??Ta.EMPTY_NODE}copy(e,i,r,s,a){return new n(e??this.key,i??this.value,r??this.color,s??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,i,r),null):0===a?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(e,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ta.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,s;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return Ta.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Ta{constructor(t,e=Ta.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Ta(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Hc.BLACK,null,null))}remove(t){return new Ta(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Hc.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new kI(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new kI(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new kI(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new kI(this.root_,null,this.comparator_,!0,t)}}function Qme(n,t){return p_(n.name,t.name)}function WL(n,t){return p_(n,t)}Ta.EMPTY_NODE=new class Kme{copy(t,e,i,r,s){return this}insert(t,e,i){return new Hc(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const UZ=function(n){return"number"==typeof n?"number:"+oZ(n):"string:"+n},HZ=function(n){if(n.isLeafNode()){const t=n.val();(0,ne.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,ne.r3)(t,".sv"),"Priority must be a string or number.")}else(0,ne.hu)(n===KL||n.isEmpty(),"priority of unexpected type.");(0,ne.hu)(n===KL||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let GZ,zZ,jZ,ib=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,ne.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),HZ(this.priorityNode_)}static set __childrenNodeConstructor(e){GZ=e}static get __childrenNodeConstructor(){return GZ}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Gn(e)?this:".priority"===Hn(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=Hn(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,ne.hu)(".priority"!==r||1===Up(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Pi(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+UZ(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?oZ(this.value_):this.value_,this.lazyHash_=tZ(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,ne.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),a=n.VALUE_TYPE_ORDER.indexOf(r);return(0,ne.hu)(s>=0,"Unknown leaf type: "+i),(0,ne.hu)(a>=0,"Unknown leaf type: "+r),s===a?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-s}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Bi=new class tge extends AI{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),s=i.compareTo(r);return 0===s?p_(t.name,e.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return jn.MIN}maxPost(){return new jn(Oh,new ib("[PRIORITY-POST]",jZ))}makePost(t,e){const i=zZ(t);return new jn(e,new ib("[PRIORITY-POST]",i))}toString(){return".priority"}},nge=Math.log(2);class ige{constructor(t){this.count=parseInt(Math.log(t+1)/nge,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const MI=function(n,t,e,i){n.sort(t);const r=function(f,m){const v=m-f;let x,I;if(0===v)return null;if(1===v)return x=n[f],I=e?e(x):x,new Hc(I,x.node,Hc.BLACK,null,null);{const B=parseInt(v/2,10)+f,q=r(f,B),ue=r(B+1,m);return x=n[B],I=e?e(x):x,new Hc(I,x.node,Hc.BLACK,q,ue)}},u=function(f){let m=null,v=null,x=n.length;const I=function(q,ue){const ge=x-q,Oe=x;x-=q;const nt=r(ge+1,Oe),it=n[ge],pt=e?e(it):it;B(new Hc(pt,it.node,ue,null,nt))},B=function(q){m?(m.left=q,m=q):(v=q,m=q)};for(let q=0;q<f.count;++q){const ue=f.nextBitIsOne(),ge=Math.pow(2,f.count-(q+1));ue?I(ge,Hc.BLACK):(I(ge,Hc.BLACK),I(ge,Hc.RED))}return v}(new ige(n.length));return new Ta(i||t,u)};let QL;const rb={};class Ph{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,ne.hu)(rb&&Bi,"ChildrenNode.ts has not been loaded"),QL=QL||new Ph({".priority":rb},{".priority":Bi}),QL}get(t){const e=(0,ne.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Ta?e:null}hasIndex(t){return(0,ne.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,ne.hu)(t!==iu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=e.getIterator(jn.Wrap);let u,a=s.getNext();for(;a;)r=r||t.isDefinedOn(a.node),i.push(a),a=s.getNext();u=r?MI(i,t.getCompare()):rb;const f=t.toString(),m=Object.assign({},this.indexSet_);m[f]=t;const v=Object.assign({},this.indexes_);return v[f]=u,new Ph(v,m)}addToIndexes(t,e){const i=(0,ne.UI)(this.indexes_,(r,s)=>{const a=(0,ne.DV)(this.indexSet_,s);if((0,ne.hu)(a,"Missing index implementation for "+s),r===rb){if(a.isDefinedOn(t.node)){const u=[],f=e.getIterator(jn.Wrap);let m=f.getNext();for(;m;)m.name!==t.name&&u.push(m),m=f.getNext();return u.push(t),MI(u,a.getCompare())}return rb}{const u=e.get(t.name);let f=r;return u&&(f=f.remove(new jn(t.name,u))),f.insert(t,t.node)}});return new Ph(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,ne.UI)(this.indexes_,r=>{if(r===rb)return r;{const s=e.get(t.name);return s?r.remove(new jn(t.name,s)):r}});return new Ph(i,this.indexSet_)}}let VC,Rn=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&HZ(this.priorityNode_),this.children_.isEmpty()&&(0,ne.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return VC||(VC=new n(new Ta(WL),null,Ph.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||VC}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?VC:i}}getChild(e){const i=Hn(e);return null===i?this:this.getImmediateChild(i).getChild(Pi(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,ne.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new jn(e,i);let s,a;i.isEmpty()?(s=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,i),a=this.indexMap_.addToIndexes(r,this.children_));const u=s.isEmpty()?VC:this.priorityNode_;return new n(s,u,a)}}updateChild(e,i){const r=Hn(e);if(null===r)return i;{(0,ne.hu)(".priority"!==Hn(e)||1===Up(e),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(Pi(e),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,s=0,a=!0;if(this.forEachChild(Bi,(u,f)=>{i[u]=f.val(e),r++,a&&n.INTEGER_REGEXP_.test(u)?s=Math.max(s,Number(u)):a=!1}),!e&&a&&s<2*r){const u=[];for(const f in i)u[f]=i[f];return u}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+UZ(this.getPriority().val())+":"),this.forEachChild(Bi,(i,r)=>{const s=r.hash();""!==s&&(e+=":"+i+":"+s)}),this.lazyHash_=""===e?"":tZ(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const s=this.resolveIndex_(r);if(s){const a=s.getPredecessorKey(new jn(e,i));return a?a.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new jn(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new jn(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,jn.Wrap);let a=s.peek();for(;null!=a&&i.compare(a,e)<0;)s.getNext(),a=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,jn.Wrap);let a=s.peek();for(;null!=a&&i.compare(a,e)>0;)s.getNext(),a=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===UC?-1:0}withIndex(e){if(e===iu||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===iu||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(Bi),s=i.getIterator(Bi);let a=r.getNext(),u=s.getNext();for(;a&&u;){if(a.name!==u.name||!a.node.equals(u.node))return!1;a=r.getNext(),u=s.getNext()}return null===a&&null===u}return!1}return!1}}resolveIndex_(e){return e===iu?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const UC=new class rge extends Rn{constructor(){super(new Ta(WL),Rn.EMPTY_NODE,Ph.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Rn.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(jn,{MIN:{value:new jn(Bp,Rn.EMPTY_NODE)},MAX:{value:new jn(Oh,UC)}}),VZ.__EMPTY_NODE=Rn.EMPTY_NODE,ib.__childrenNodeConstructor=Rn,function Jme(n){KL=n}(UC),function ege(n){jZ=n}(UC);const oge=!0;function Dr(n,t=null){if(null===n)return Rn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,ne.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new ib(n,Dr(t));if(n instanceof Array||!oge){let e=Rn.EMPTY_NODE;return Fo(n,(i,r)=>{if((0,ne.r3)(n,i)&&"."!==i.substring(0,1)){const s=Dr(r);(s.isLeafNode()||!s.isEmpty())&&(e=e.updateImmediateChild(i,s))}}),e.updatePriority(Dr(t))}{const e=[];let i=!1;if(Fo(n,(a,u)=>{if("."!==a.substring(0,1)){const f=Dr(u);f.isEmpty()||(i=i||!f.getPriority().isEmpty(),e.push(new jn(a,f)))}}),0===e.length)return Rn.EMPTY_NODE;const s=MI(e,Qme,a=>a.name,WL);if(i){const a=MI(e,Bi.getCompare());return new Rn(s,Dr(t),new Ph({".priority":a},{".priority":Bi}))}return new Rn(s,Dr(t),Ph.Default)}}!function Xme(n){zZ=n}(Dr);class JL extends AI{constructor(t){super(),this.indexPath_=t,(0,ne.hu)(!Gn(t)&&".priority"!==Hn(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),s=i.compareTo(r);return 0===s?p_(t.name,e.name):s}makePost(t,e){const i=Dr(t),r=Rn.EMPTY_NODE.updateChild(this.indexPath_,i);return new jn(e,r)}maxPost(){const t=Rn.EMPTY_NODE.updateChild(this.indexPath_,UC);return new jn(Oh,t)}toString(){return LC(this.indexPath_,0).join("/")}}const XL=new class sge extends AI{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?p_(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return jn.MIN}maxPost(){return jn.MAX}makePost(t,e){const i=Dr(t);return new jn(e,i)}toString(){return".value"}};function qZ(n){return{type:"value",snapshotNode:n}}function ob(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function HC(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function GC(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class e3{constructor(t){this.index_=t}updateChild(t,e,i,r,s,a){(0,ne.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const u=t.getImmediateChild(e);return u.getChild(r).equals(i.getChild(r))&&u.isEmpty()===i.isEmpty()||(null!=a&&(i.isEmpty()?t.hasChild(e)?a.trackChildChange(HC(e,u)):(0,ne.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?a.trackChildChange(ob(e,i)):a.trackChildChange(GC(e,i,u))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(Bi,(r,s)=>{e.hasChild(r)||i.trackChildChange(HC(r,s))}),e.isLeafNode()||e.forEachChild(Bi,(r,s)=>{if(t.hasChild(r)){const a=t.getImmediateChild(r);a.equals(s)||i.trackChildChange(GC(r,s,a))}else i.trackChildChange(ob(r,s))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Rn.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class zC{constructor(t){this.indexedFilter_=new e3(t.getIndex()),this.index_=t.getIndex(),this.startPost_=zC.getStartPost_(t),this.endPost_=zC.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,r,s,a){return this.matches(new jn(e,i))||(i=Rn.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,s,a)}updateFullNode(t,e,i){e.isLeafNode()&&(e=Rn.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(Rn.EMPTY_NODE);const s=this;return e.forEachChild(Bi,(a,u)=>{s.matches(new jn(a,u))||(r=r.updateImmediateChild(a,Rn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class lge{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new zC(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,r,s,a){return this.rangedFilter_.matches(new jn(e,i))||(i=Rn.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,s,a):this.fullLimitUpdateChild_(t,e,i,s,a)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=Rn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let s;r=Rn.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;s.hasNext()&&a<this.limit_;){const u=s.getNext();if(this.withinDirectionalStart(u)){if(!this.withinDirectionalEnd(u))break;r=r.updateImmediateChild(u.name,u.node),a++}}}else{let s;r=e.withIndex(this.index_),r=r.updatePriority(Rn.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let a=0;for(;s.hasNext();){const u=s.getNext();a<this.limit_&&this.withinDirectionalStart(u)&&this.withinDirectionalEnd(u)?a++:r=r.updateImmediateChild(u.name,Rn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,s){let a;if(this.reverse_){const x=this.index_.getCompare();a=(I,B)=>x(B,I)}else a=this.index_.getCompare();const u=t;(0,ne.hu)(u.numChildren()===this.limit_,"");const f=new jn(e,i),m=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),v=this.rangedFilter_.matches(f);if(u.hasChild(e)){const x=u.getImmediateChild(e);let I=r.getChildAfterChild(this.index_,m,this.reverse_);for(;null!=I&&(I.name===e||u.hasChild(I.name));)I=r.getChildAfterChild(this.index_,I,this.reverse_);const B=null==I?1:a(I,f);if(v&&!i.isEmpty()&&B>=0)return s?.trackChildChange(GC(e,i,x)),u.updateImmediateChild(e,i);{s?.trackChildChange(HC(e,x));const ue=u.updateImmediateChild(e,Rn.EMPTY_NODE);return null!=I&&this.rangedFilter_.matches(I)?(s?.trackChildChange(ob(I.name,I.node)),ue.updateImmediateChild(I.name,I.node)):ue}}return i.isEmpty()?t:v&&a(m,f)>=0?(null!=s&&(s.trackChildChange(HC(m.name,m.node)),s.trackChildChange(ob(e,i))),u.updateImmediateChild(e,i).updateImmediateChild(m.name,Rn.EMPTY_NODE)):t}}class RI{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Bi}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,ne.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,ne.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Bp}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,ne.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,ne.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Oh}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,ne.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Bi}copy(){const t=new RI;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function t3(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function n3(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function OI(n,t){const e=n.copy();return e.index_=t,e}function ZZ(n){const t={};if(n.isDefault())return t;let e;if(n.index_===Bi?e="$priority":n.index_===XL?e="$value":n.index_===iu?e="$key":((0,ne.hu)(n.index_ instanceof JL,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,ne.Wl)(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=(0,ne.Wl)(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+(0,ne.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=(0,ne.Wl)(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+(0,ne.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function $Z(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==Bi&&(t.i=n.index_.toString()),t}class PI extends MZ{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=OC("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,ne.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const a=PI.getListenId_(t,i),u={};this.listens_[a]=u;const f=ZZ(t._queryParams);this.restRequest_(s+".json",f,(m,v)=>{let x=v;if(404===m&&(x=null,m=null),null===m&&this.onDataUpdate_(s,x,!1,i),(0,ne.DV)(this.listens_,a)===u){let I;I=m?401===m?"permission_denied":"rest_error:"+m:"ok",r(I,null)}})}unlisten(t,e){const i=PI.getListenId_(t,e);delete this.listens_[i]}get(t){const e=ZZ(t._queryParams),i=t._path.toString(),r=new ne.BH;return this.restRequest_(i+".json",e,(s,a)=>{let u=a;404===s&&(u=null,s=null),null===s?(this.onDataUpdate_(i,u,!1,null),r.resolve(u)):r.reject(new Error(u))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(e.auth=r.accessToken),s&&s.token&&(e.ac=s.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,ne.xO)(e);this.log_("Sending REST request for "+a);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(i&&4===u.readyState){this.log_("REST Response for "+a+" received. status:",u.status,"response:",u.responseText);let f=null;if(u.status>=200&&u.status<300){try{f=(0,ne.cI)(u.responseText)}catch{vs("Failed to parse JSON response for "+a+": "+u.responseText)}i(null,f)}else 401!==u.status&&404!==u.status&&vs("Got unsuccessful REST response for "+a+" Status: "+u.status),i(u.status);i=null}},u.open("GET",a,!0),u.send()})}}class pge{constructor(){this.rootNode_=Rn.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function FI(){return{value:null,children:new Map}}function sb(n,t,e){if(Gn(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=Hn(t);n.children.has(i)||n.children.set(i,FI()),sb(n.children.get(i),t=Pi(t),e)}}function r3(n,t){if(Gn(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(Bi,(i,r)=>{sb(n,new gi(i),r)}),r3(n,t)}}if(n.children.size>0){const e=Hn(t);return t=Pi(t),n.children.has(e)&&r3(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function o3(n,t,e){null!==n.value?e(t,n.value):function mge(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{o3(r,new gi(t.toString()+"/"+i),e)})}class gge{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Fo(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class vge{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new gge(t);const i=1e4+2e4*Math.random();FC(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;Fo(t,(r,s)=>{s>0&&(0,ne.r3)(this.statsToReport_,r)&&(e[r]=s,i=!0)}),i&&this.server_.reportStats(e),FC(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ql=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Ql||(Ql={})),Ql))();function l3(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class NI{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=Ql.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Gn(this.path)){if(null!=this.affectedTree.value)return(0,ne.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new gi(t));return new NI(ci(),e,this.revert)}}return(0,ne.hu)(Hn(this.path)===t,"operationForChild called for unrelated child."),new NI(Pi(this.path),this.affectedTree,this.revert)}}class jC{constructor(t,e){this.source=t,this.path=e,this.type=Ql.LISTEN_COMPLETE}operationForChild(t){return Gn(this.path)?new jC(this.source,ci()):new jC(this.source,Pi(this.path))}}class __{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=Ql.OVERWRITE}operationForChild(t){return Gn(this.path)?new __(this.source,ci(),this.snap.getImmediateChild(t)):new __(this.source,Pi(this.path),this.snap)}}class ab{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=Ql.MERGE}operationForChild(t){if(Gn(this.path)){const e=this.children.subtree(new gi(t));return e.isEmpty()?null:e.value?new __(this.source,ci(),e.value):new ab(this.source,ci(),e)}return(0,ne.hu)(Hn(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new ab(this.source,Pi(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Hp{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Gn(t))return this.isFullyInitialized()&&!this.filtered_;const e=Hn(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class bge{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function qC(n,t,e,i,r,s){const a=i.filter(u=>u.type===e);a.sort((u,f)=>function Cge(n,t,e){if(null==t.childName||null==e.childName)throw(0,ne.g5)("Should only compare child_ events.");const i=new jn(t.childName,t.snapshotNode),r=new jn(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,u,f)),a.forEach(u=>{const f=function xge(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,u,s);r.forEach(m=>{m.respondsTo(u.type)&&t.push(m.createEvent(f,n.query_))})})}function LI(n,t){return{eventCache:n,serverCache:t}}function ZC(n,t,e,i){return LI(new Hp(t,e,i),n.serverCache)}function WZ(n,t,e,i){return LI(n.eventCache,new Hp(t,e,i))}function BI(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function y_(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let c3;class Vi{constructor(t,e=(()=>(c3||(c3=new Ta(ame)),c3))()){this.value=t,this.children=e}static fromObject(t){let e=new Vi(null);return Fo(t,(i,r)=>{e=e.set(new gi(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:ci(),value:this.value};if(Gn(t))return null;{const i=Hn(t),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(Pi(t),e);return null!=s?{path:dr(new gi(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Gn(t))return this;{const e=Hn(t),i=this.children.get(e);return null!==i?i.subtree(Pi(t)):new Vi(null)}}set(t,e){if(Gn(t))return new Vi(e,this.children);{const i=Hn(t),s=(this.children.get(i)||new Vi(null)).set(Pi(t),e),a=this.children.insert(i,s);return new Vi(this.value,a)}}remove(t){if(Gn(t))return this.children.isEmpty()?new Vi(null):new Vi(null,this.children);{const e=Hn(t),i=this.children.get(e);if(i){const r=i.remove(Pi(t));let s;return s=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&s.isEmpty()?new Vi(null):new Vi(this.value,s)}return this}}get(t){if(Gn(t))return this.value;{const e=Hn(t),i=this.children.get(e);return i?i.get(Pi(t)):null}}setTree(t,e){if(Gn(t))return e;{const i=Hn(t),s=(this.children.get(i)||new Vi(null)).setTree(Pi(t),e);let a;return a=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new Vi(this.value,a)}}fold(t){return this.fold_(ci(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(dr(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,ci(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(Gn(t))return null;{const s=Hn(t),a=this.children.get(s);return a?a.findOnPath_(Pi(t),dr(e,s),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,ci(),e)}foreachOnPath_(t,e,i){if(Gn(t))return this;{this.value&&i(e,this.value);const r=Hn(t),s=this.children.get(r);return s?s.foreachOnPath_(Pi(t),dr(e,r),i):new Vi(null)}}foreach(t){this.foreach_(ci(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(dr(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class Gc{constructor(t){this.writeTree_=t}static empty(){return new Gc(new Vi(null))}}function $C(n,t,e){if(Gn(t))return new Gc(new Vi(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let s=i.value;const a=js(r,t);return s=s.updateChild(a,e),new Gc(n.writeTree_.set(r,s))}{const r=new Vi(e),s=n.writeTree_.setTree(t,r);return new Gc(s)}}}function d3(n,t,e){let i=n;return Fo(e,(r,s)=>{i=$C(i,dr(t,r),s)}),i}function KZ(n,t){if(Gn(t))return Gc.empty();{const e=n.writeTree_.setTree(t,new Vi(null));return new Gc(e)}}function u3(n,t){return null!=v_(n,t)}function v_(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(js(e.path,t)):null}function QZ(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Bi,(i,r)=>{t.push(new jn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new jn(i,r.value))}),t}function Gp(n,t){if(Gn(t))return n;{const e=v_(n,t);return new Gc(null!=e?new Vi(e):n.writeTree_.subtree(t))}}function h3(n){return n.writeTree_.isEmpty()}function lb(n,t){return JZ(ci(),n.writeTree_,t)}function JZ(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,s)=>{".priority"===r?((0,ne.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):e=JZ(dr(n,r),s,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(dr(n,".priority"),i)),e}}function VI(n,t){return i8(t,n)}function Ige(n,t){if(n.snap)return Kl(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Kl(dr(n.path,e),t))return!0;return!1}function Mge(n){return n.visible}function XZ(n,t,e){let i=Gc.empty();for(let r=0;r<n.length;++r){const s=n[r];if(t(s)){const a=s.path;let u;if(s.snap)Kl(e,a)?(u=js(e,a),i=$C(i,u,s.snap)):Kl(a,e)&&(u=js(a,e),i=$C(i,ci(),s.snap.getChild(u)));else{if(!s.children)throw(0,ne.g5)("WriteRecord should have .snap or .children");if(Kl(e,a))u=js(e,a),i=d3(i,u,s.children);else if(Kl(a,e))if(u=js(a,e),Gn(u))i=d3(i,ci(),s.children);else{const f=(0,ne.DV)(s.children,Hn(u));if(f){const m=f.getChild(Pi(u));i=$C(i,ci(),m)}}}}}return i}function e8(n,t,e,i,r){if(i||r){const s=Gp(n.visibleWrites,t);return!r&&h3(s)?e:r||null!=e||u3(s,ci())?lb(XZ(n.allWrites,function(m){return(m.visible||r)&&(!i||!~i.indexOf(m.writeId))&&(Kl(m.path,t)||Kl(t,m.path))},t),e||Rn.EMPTY_NODE):null}{const s=v_(n.visibleWrites,t);if(null!=s)return s;{const a=Gp(n.visibleWrites,t);return h3(a)?e:null!=e||u3(a,ci())?lb(a,e||Rn.EMPTY_NODE):null}}}function UI(n,t,e,i){return e8(n.writeTree,n.treePath,t,e,i)}function f3(n,t){return function Rge(n,t,e){let i=Rn.EMPTY_NODE;const r=v_(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(Bi,(s,a)=>{i=i.updateImmediateChild(s,a)}),i;if(e){const s=Gp(n.visibleWrites,t);return e.forEachChild(Bi,(a,u)=>{const f=lb(Gp(s,new gi(a)),u);i=i.updateImmediateChild(a,f)}),QZ(s).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}return QZ(Gp(n.visibleWrites,t)).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}(n.writeTree,n.treePath,t)}function t8(n,t,e,i){return function Oge(n,t,e,i,r){(0,ne.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=dr(t,e);if(u3(n.visibleWrites,s))return null;{const a=Gp(n.visibleWrites,s);return h3(a)?r.getChild(e):lb(a,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function HI(n,t){return function Fge(n,t){return v_(n.visibleWrites,t)}(n.writeTree,dr(n.treePath,t))}function p3(n,t,e){return function Pge(n,t,e,i){const r=dr(t,e),s=v_(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(e)?lb(Gp(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function n8(n,t){return i8(dr(n.treePath,t),n.writeTree)}function i8(n,t){return{treePath:n,writeTree:t}}class Vge{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,ne.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,ne.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===e&&"child_removed"===s)this.changeMap.set(i,GC(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===s)this.changeMap.set(i,HC(i,r.oldSnap));else if("child_changed"===e&&"child_added"===s)this.changeMap.set(i,ob(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==s)throw(0,ne.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,GC(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const r8=new class Uge{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class m3{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new Hp(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return p3(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:y_(this.viewCache_),s=function Bge(n,t,e,i,r,s){return function Nge(n,t,e,i,r,s,a){let u;const f=Gp(n.visibleWrites,t),m=v_(f,ci());if(null!=m)u=m;else{if(null==e)return[];u=lb(f,e)}if(u=u.withIndex(a),u.isEmpty()||u.isLeafNode())return[];{const v=[],x=a.getCompare(),I=s?u.getReverseIteratorFrom(i,a):u.getIteratorFrom(i,a);let B=I.getNext();for(;B&&v.length<r;)0!==x(B,i)&&v.push(B),B=I.getNext();return v}}(n.writeTree,n.treePath,t,e,i,r,s)}(this.writes_,r,e,1,i,t);return 0===s.length?null:s[0]}}function o8(n,t,e,i,r,s){const a=t.eventCache;if(null!=HI(i,e))return t;{let u,f;if(Gn(e))if((0,ne.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const m=y_(t),x=f3(i,m instanceof Rn?m:Rn.EMPTY_NODE);u=n.filter.updateFullNode(t.eventCache.getNode(),x,s)}else{const m=UI(i,y_(t));u=n.filter.updateFullNode(t.eventCache.getNode(),m,s)}else{const m=Hn(e);if(".priority"===m){(0,ne.hu)(1===Up(e),"Can't have a priority with additional path components");const v=a.getNode();f=t.serverCache.getNode();const x=t8(i,e,v,f);u=null!=x?n.filter.updatePriority(v,x):a.getNode()}else{const v=Pi(e);let x;if(a.isCompleteForChild(m)){f=t.serverCache.getNode();const I=t8(i,e,a.getNode(),f);x=null!=I?a.getNode().getImmediateChild(m).updateChild(v,I):a.getNode().getImmediateChild(m)}else x=p3(i,m,t.serverCache);u=null!=x?n.filter.updateChild(a.getNode(),m,x,v,r,s):a.getNode()}}return ZC(t,u,a.isFullyInitialized()||Gn(e),n.filter.filtersNodes())}}function GI(n,t,e,i,r,s,a,u){const f=t.serverCache;let m;const v=a?n.filter:n.filter.getIndexedFilter();if(Gn(e))m=v.updateFullNode(f.getNode(),i,null);else if(v.filtersNodes()&&!f.isFiltered()){const B=f.getNode().updateChild(e,i);m=v.updateFullNode(f.getNode(),B,null)}else{const B=Hn(e);if(!f.isCompleteForPath(e)&&Up(e)>1)return t;const q=Pi(e),ge=f.getNode().getImmediateChild(B).updateChild(q,i);m=".priority"===B?v.updatePriority(f.getNode(),ge):v.updateChild(f.getNode(),B,ge,q,r8,null)}const x=WZ(t,m,f.isFullyInitialized()||Gn(e),v.filtersNodes());return o8(n,x,e,r,new m3(r,x,s),u)}function g3(n,t,e,i,r,s,a){const u=t.eventCache;let f,m;const v=new m3(r,t,s);if(Gn(e))m=n.filter.updateFullNode(t.eventCache.getNode(),i,a),f=ZC(t,m,!0,n.filter.filtersNodes());else{const x=Hn(e);if(".priority"===x)m=n.filter.updatePriority(t.eventCache.getNode(),i),f=ZC(t,m,u.isFullyInitialized(),u.isFiltered());else{const I=Pi(e),B=u.getNode().getImmediateChild(x);let q;if(Gn(I))q=i;else{const ue=v.getCompleteChild(x);q=null!=ue?".priority"===ZL(I)&&ue.getChild(FZ(I)).isEmpty()?ue:ue.updateChild(I,i):Rn.EMPTY_NODE}f=B.equals(q)?t:ZC(t,n.filter.updateChild(u.getNode(),x,q,I,v,a),u.isFullyInitialized(),n.filter.filtersNodes())}}return f}function s8(n,t){return n.eventCache.isCompleteForChild(t)}function a8(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function _3(n,t,e,i,r,s,a,u){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let m,f=t;m=Gn(e)?i:new Vi(null).setTree(e,i);const v=t.serverCache.getNode();return m.children.inorderTraversal((x,I)=>{if(v.hasChild(x)){const q=a8(0,t.serverCache.getNode().getImmediateChild(x),I);f=GI(n,f,new gi(x),q,r,s,a,u)}}),m.children.inorderTraversal((x,I)=>{const B=!t.serverCache.isCompleteForChild(x)&&null===I.value;if(!v.hasChild(x)&&!B){const ue=a8(0,t.serverCache.getNode().getImmediateChild(x),I);f=GI(n,f,new gi(x),ue,r,s,a,u)}}),f}class Wge{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new e3(i.getIndex()),s=function cge(n){return n.loadsAllData()?new e3(n.getIndex()):n.hasLimit()?new lge(n):new zC(n)}(i);this.processor_=function Hge(n){return{filter:n}}(s);const a=e.serverCache,u=e.eventCache,f=r.updateFullNode(Rn.EMPTY_NODE,a.getNode(),null),m=s.updateFullNode(Rn.EMPTY_NODE,u.getNode(),null),v=new Hp(f,a.isFullyInitialized(),r.filtersNodes()),x=new Hp(m,u.isFullyInitialized(),s.filtersNodes());this.viewCache_=LI(x,v),this.eventGenerator_=new bge(this.query_)}get query(){return this.query_}}function Jge(n,t){const e=y_(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Gn(t)&&!e.getImmediateChild(Hn(t)).isEmpty())?e.getChild(t):null}function l8(n){return 0===n.eventRegistrations_.length}function c8(n,t,e){const i=[];if(e){(0,ne.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const a=s.createCancelEvent(e,r);a&&i.push(a)})}if(t){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const a=n.eventRegistrations_[s];if(a.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(a)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function d8(n,t,e,i){t.type===Ql.MERGE&&null!==t.source.queryId&&((0,ne.hu)(y_(n.viewCache_),"We should always have a full cache before handling merges"),(0,ne.hu)(BI(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function zge(n,t,e,i,r){const s=new Vge;let a,u;if(e.type===Ql.OVERWRITE){const m=e;m.source.fromUser?a=g3(n,t,m.path,m.snap,i,r,s):((0,ne.hu)(m.source.fromServer,"Unknown source."),u=m.source.tagged||t.serverCache.isFiltered()&&!Gn(m.path),a=GI(n,t,m.path,m.snap,i,r,u,s))}else if(e.type===Ql.MERGE){const m=e;m.source.fromUser?a=function qge(n,t,e,i,r,s,a){let u=t;return i.foreach((f,m)=>{const v=dr(e,f);s8(t,Hn(v))&&(u=g3(n,u,v,m,r,s,a))}),i.foreach((f,m)=>{const v=dr(e,f);s8(t,Hn(v))||(u=g3(n,u,v,m,r,s,a))}),u}(n,t,m.path,m.children,i,r,s):((0,ne.hu)(m.source.fromServer,"Unknown source."),u=m.source.tagged||t.serverCache.isFiltered(),a=_3(n,t,m.path,m.children,i,r,u,s))}else if(e.type===Ql.ACK_USER_WRITE){const m=e;a=m.revert?function Yge(n,t,e,i,r,s){let a;if(null!=HI(i,e))return t;{const u=new m3(i,t,r),f=t.eventCache.getNode();let m;if(Gn(e)||".priority"===Hn(e)){let v;if(t.serverCache.isFullyInitialized())v=UI(i,y_(t));else{const x=t.serverCache.getNode();(0,ne.hu)(x instanceof Rn,"serverChildren would be complete if leaf node"),v=f3(i,x)}m=n.filter.updateFullNode(f,v,s)}else{const v=Hn(e);let x=p3(i,v,t.serverCache);null==x&&t.serverCache.isCompleteForChild(v)&&(x=f.getImmediateChild(v)),m=null!=x?n.filter.updateChild(f,v,x,Pi(e),u,s):t.eventCache.getNode().hasChild(v)?n.filter.updateChild(f,v,Rn.EMPTY_NODE,Pi(e),u,s):f,m.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=UI(i,y_(t)),a.isLeafNode()&&(m=n.filter.updateFullNode(m,a,s)))}return a=t.serverCache.isFullyInitialized()||null!=HI(i,ci()),ZC(t,m,a,n.filter.filtersNodes())}}(n,t,m.path,i,r,s):function Zge(n,t,e,i,r,s,a){if(null!=HI(r,e))return t;const u=t.serverCache.isFiltered(),f=t.serverCache;if(null!=i.value){if(Gn(e)&&f.isFullyInitialized()||f.isCompleteForPath(e))return GI(n,t,e,f.getNode().getChild(e),r,s,u,a);if(Gn(e)){let m=new Vi(null);return f.getNode().forEachChild(iu,(v,x)=>{m=m.set(new gi(v),x)}),_3(n,t,e,m,r,s,u,a)}return t}{let m=new Vi(null);return i.foreach((v,x)=>{const I=dr(e,v);f.isCompleteForPath(I)&&(m=m.set(v,f.getNode().getChild(I)))}),_3(n,t,e,m,r,s,u,a)}}(n,t,m.path,m.affectedTree,i,r,s)}else{if(e.type!==Ql.LISTEN_COMPLETE)throw(0,ne.g5)("Unknown operation type: "+e.type);a=function $ge(n,t,e,i,r){const s=t.serverCache;return o8(n,WZ(t,s.getNode(),s.isFullyInitialized()||Gn(e),s.isFiltered()),e,i,r8,r)}(n,t,e.path,i,s)}const f=s.getChanges();return function jge(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=BI(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&e.push(qZ(BI(t)))}}(t,a,f),{viewCache:a,changes:f}}(n.processor_,r,t,e,i);return function Gge(n,t){(0,ne.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,ne.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,ne.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,u8(n,s.changes,s.viewCache.eventCache.getNode(),null)}function u8(n,t,e,i){return function wge(n,t,e,i){const r=[],s=[];return t.forEach(a=>{"child_changed"===a.type&&n.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(function age(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(a.childName,a.snapshotNode))}),qC(n,r,"child_removed",t,i,e),qC(n,r,"child_added",t,i,e),qC(n,r,"child_moved",s,i,e),qC(n,r,"child_changed",t,i,e),qC(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let zI,qI;class h8{constructor(){this.views=new Map}}function y3(n,t,e,i){const r=t.source.queryId;if(null!==r){const s=n.views.get(r);return(0,ne.hu)(null!=s,"SyncTree gave us an op for an invalid query."),d8(s,t,e,i)}{let s=[];for(const a of n.views.values())s=s.concat(d8(a,t,e,i));return s}}function f8(n,t,e,i,r){const a=n.views.get(t._queryIdentifier);if(!a){let u=UI(e,r?i:null),f=!1;u?f=!0:i instanceof Rn?(u=f3(e,i),f=!1):(u=Rn.EMPTY_NODE,f=!1);const m=LI(new Hp(u,f,!1),new Hp(i,r,!1));return new Wge(t,m)}return a}function p8(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function zp(n,t){let e=null;for(const i of n.views.values())e=e||Jge(i,t);return e}function m8(n,t){return t._queryParams.loadsAllData()?jI(n):n.views.get(t._queryIdentifier)}function g8(n,t){return null!=m8(n,t)}function jp(n){return null!=jI(n)}function jI(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let l_e=1;class _8{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Vi(null),this.pendingWriteTree_=function Lge(){return{visibleWrites:Gc.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function v3(n,t,e,i,r){return function Sge(n,t,e,i,r){(0,ne.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=$C(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?cb(n,new __({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function qp(n,t,e=!1){const i=function Tge(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function Age(n,t){const e=n.allWrites.findIndex(u=>u.writeId===t);(0,ne.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,s=!1,a=n.allWrites.length-1;for(;r&&a>=0;){const u=n.allWrites[a];u.visible&&(a>=e&&Ige(u,i.path)?r=!1:Kl(i.path,u.path)&&(s=!0)),a--}return!!r&&(s?(function kge(n){n.visibleWrites=XZ(n.allWrites,Mge,ci()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=KZ(n.visibleWrites,i.path):Fo(i.children,f=>{n.visibleWrites=KZ(n.visibleWrites,dr(i.path,f))}),!0))}(n.pendingWriteTree_,t)){let s=new Vi(null);return null!=i.snap?s=s.set(ci(),!0):Fo(i.children,a=>{s=s.set(new gi(a),!0)}),cb(n,new NI(i.path,s,e))}return[]}function YC(n,t,e){return cb(n,new __({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function ZI(n,t,e,i,r=!1){const s=t._path,a=n.syncPointTree_.get(s);let u=[];if(a&&("default"===t._queryIdentifier||g8(a,t))){const f=function o_e(n,t,e,i){const r=t._queryIdentifier,s=[];let a=[];const u=jp(n);if("default"===r)for(const[f,m]of n.views.entries())a=a.concat(c8(m,e,i)),l8(m)&&(n.views.delete(f),m.query._queryParams.loadsAllData()||s.push(m.query));else{const f=n.views.get(r);f&&(a=a.concat(c8(f,e,i)),l8(f)&&(n.views.delete(r),f.query._queryParams.loadsAllData()||s.push(f.query)))}return u&&!jp(n)&&s.push(new(function n_e(){return(0,ne.hu)(zI,"Reference.ts has not been loaded"),zI}())(t._repo,t._path)),{removed:s,events:a}}(a,t,e,i);(function i_e(n){return 0===n.views.size})(a)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const m=f.removed;if(u=f.events,!r){const v=-1!==m.findIndex(I=>I._queryParams.loadsAllData()),x=n.syncPointTree_.findOnPath(s,(I,B)=>jp(B));if(v&&!x){const I=n.syncPointTree_.subtree(s);if(!I.isEmpty()){const B=function m_e(n){return n.fold((t,e,i)=>{if(e&&jp(e))return[jI(e)];{let r=[];return e&&(r=p8(e)),Fo(i,(s,a)=>{r=r.concat(a)}),r}})}(I);for(let q=0;q<B.length;++q){const ue=B[q],ge=ue.query,Oe=w8(n,ue);n.listenProvider_.startListening(KC(ge),WC(n,ge),Oe.hashFn,Oe.onComplete)}}}!x&&m.length>0&&!i&&(v?n.listenProvider_.stopListening(KC(t),null):m.forEach(I=>{const B=n.queryToTagMap.get(YI(I));n.listenProvider_.stopListening(KC(I),B)}))}!function g_e(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=YI(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,m)}return u}function y8(n,t,e,i){const r=w3(n,i);if(null!=r){const s=x3(r),a=s.path,u=s.queryId,f=js(a,t);return C3(n,a,new __(l3(u),f,e))}return[]}function b3(n,t,e,i=!1){const r=t._path;let s=null,a=!1;n.syncPointTree_.foreachOnPath(r,(I,B)=>{const q=js(I,r);s=s||zp(B,q),a=a||jp(B)});let f,u=n.syncPointTree_.get(r);u?(a=a||jp(u),s=s||zp(u,ci())):(u=new h8,n.syncPointTree_=n.syncPointTree_.set(r,u)),null!=s?f=!0:(f=!1,s=Rn.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((B,q)=>{const ue=zp(q,ci());ue&&(s=s.updateImmediateChild(B,ue))}));const m=g8(u,t);if(!m&&!t._queryParams.loadsAllData()){const I=YI(t);(0,ne.hu)(!n.queryToTagMap.has(I),"View does not exist, but we have a tag");const B=function __e(){return l_e++}();n.queryToTagMap.set(I,B),n.tagToQueryMap.set(B,I)}let x=function r_e(n,t,e,i,r,s){const a=f8(n,t,i,r,s);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,a),function Xge(n,t){n.eventRegistrations_.push(t)}(a,e),function e_e(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Bi,(s,a)=>{i.push(ob(s,a))}),e.isFullyInitialized()&&i.push(qZ(e.getNode())),u8(n,i,e.getNode(),t)}(a,e)}(u,t,e,VI(n.pendingWriteTree_,r),s,f);if(!m&&!a&&!i){const I=m8(u,t);x=x.concat(function y_e(n,t,e){const i=t._path,r=WC(n,t),s=w8(n,e),a=n.listenProvider_.startListening(KC(t),r,s.hashFn,s.onComplete),u=n.syncPointTree_.subtree(i);if(r)(0,ne.hu)(!jp(u.value),"If we're adding a query, it shouldn't be shadowed");else{const f=u.fold((m,v,x)=>{if(!Gn(m)&&v&&jp(v))return[jI(v).query];{let I=[];return v&&(I=I.concat(p8(v).map(B=>B.query))),Fo(x,(B,q)=>{I=I.concat(q)}),I}});for(let m=0;m<f.length;++m){const v=f[m];n.listenProvider_.stopListening(KC(v),WC(n,v))}}return a}(n,t,I))}return x}function $I(n,t,e){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(t,(a,u)=>{const m=zp(u,js(a,t));if(m)return m});return e8(r,t,s,e,!0)}function cb(n,t){return v8(t,n.syncPointTree_,null,VI(n.pendingWriteTree_,ci()))}function v8(n,t,e,i){if(Gn(n.path))return b8(n,t,e,i);{const r=t.get(ci());null==e&&null!=r&&(e=zp(r,ci()));let s=[];const a=Hn(n.path),u=n.operationForChild(a),f=t.children.get(a);if(f&&u){const m=e?e.getImmediateChild(a):null,v=n8(i,a);s=s.concat(v8(u,f,m,v))}return r&&(s=s.concat(y3(r,n,i,e))),s}}function b8(n,t,e,i){const r=t.get(ci());null==e&&null!=r&&(e=zp(r,ci()));let s=[];return t.children.inorderTraversal((a,u)=>{const f=e?e.getImmediateChild(a):null,m=n8(i,a),v=n.operationForChild(a);v&&(s=s.concat(b8(v,u,f,m)))}),r&&(s=s.concat(y3(r,n,i,e))),s}function w8(n,t){const e=t.query,i=WC(n,e);return{hashFn:()=>(function Kge(n){return n.viewCache_.serverCache.getNode()}(t)||Rn.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function h_e(n,t,e){const i=w3(n,e);if(i){const r=x3(i),s=r.path,a=r.queryId,u=js(s,t);return C3(n,s,new jC(l3(a),u))}return[]}(n,e._path,i):function u_e(n,t){return cb(n,new jC({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const s=function dme(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return ZI(n,e,null,s)}}}}function WC(n,t){const e=YI(t);return n.queryToTagMap.get(e)}function YI(n){return n._path.toString()+"$"+n._queryIdentifier}function w3(n,t){return n.tagToQueryMap.get(t)}function x3(n){const t=n.indexOf("$");return(0,ne.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new gi(n.substr(0,t))}}function C3(n,t,e){const i=n.syncPointTree_.get(t);return(0,ne.hu)(i,"Missing sync point for query tag that we're tracking"),y3(i,e,VI(n.pendingWriteTree_,t),null)}function KC(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function a_e(){return(0,ne.hu)(qI,"Reference.ts has not been loaded"),qI}())(n._repo,n._path):n}class D3{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new D3(e)}node(){return this.node_}}class S3{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=dr(this.path_,t);return new S3(this.syncTree_,e)}node(){return $I(this.syncTree_,this.path_)}}const v_e=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},x8=function(n,t,e){return n&&"object"==typeof n?((0,ne.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?b_e(n[".sv"],t,e):"object"==typeof n[".sv"]?w_e(n[".sv"],t):void(0,ne.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},b_e=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,ne.hu)(!1,"Unexpected server value: "+n)},w_e=function(n,t,e){n.hasOwnProperty("increment")||(0,ne.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,ne.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,ne.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const a=r.getValue();return"number"!=typeof a?i:a+i},C8=function(n,t,e,i){return T3(t,new S3(e,n),i)},E3=function(n,t,e){return T3(n,new D3(t),e)};function T3(n,t,e){const i=n.getPriority().val(),r=x8(i,t.getImmediateChild(".priority"),e);let s;if(n.isLeafNode()){const a=n,u=x8(a.getValue(),t,e);return u!==a.getValue()||r!==a.getPriority().val()?new ib(u,Dr(r)):n}{const a=n;return s=a,r!==a.getPriority().val()&&(s=s.updatePriority(new ib(r))),a.forEachChild(Bi,(u,f)=>{const m=T3(f,t.getImmediateChild(u),e);m!==f&&(s=s.updateImmediateChild(u,m))}),s}}class A3{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function WI(n,t){let e=t instanceof gi?t:new gi(t),i=n,r=Hn(e);for(;null!==r;){const s=(0,ne.DV)(i.node.children,r)||{children:{},childCount:0};i=new A3(r,i,s),e=Pi(e),r=Hn(e)}return i}function b_(n){return n.node.value}function I3(n,t){n.node.value=t,k3(n)}function D8(n){return n.node.childCount>0}function KI(n,t){Fo(n.node.children,(e,i)=>{t(new A3(e,n,i))})}function S8(n,t,e,i){e&&!i&&t(n),KI(n,r=>{S8(r,t,!0,i)}),e&&i&&t(n)}function QC(n){return new gi(null===n.parent?n.name:QC(n.parent)+"/"+n.name)}function k3(n){null!==n.parent&&function D_e(n,t,e){const i=function x_e(n){return void 0===b_(n)&&!D8(n)}(e),r=(0,ne.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,k3(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,k3(n))}(n.parent,n.name,n)}const S_e=/[\[\].#$\/\u0000-\u001F\u007F]/,E_e=/[\[\].#$\u0000-\u001F\u007F]/,M3=10485760,QI=function(n){return"string"==typeof n&&0!==n.length&&!S_e.test(n)},E8=function(n){return"string"==typeof n&&0!==n.length&&!E_e.test(n)},JC=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!DI(n)||n&&"object"==typeof n&&(0,ne.r3)(n,".sv")},ru=function(n,t,e,i){i&&void 0===t||XC((0,ne.gK)(n,"value"),t,e)},XC=function(n,t,e){const i=e instanceof gi?new zme(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+m_(i));if("function"==typeof t)throw new Error(n+"contains a function "+m_(i)+" with contents = "+t.toString());if(DI(t))throw new Error(n+"contains "+t.toString()+" "+m_(i));if("string"==typeof t&&t.length>M3/3&&(0,ne.ug)(t)>M3)throw new Error(n+"contains a string greater than "+M3+" utf8 bytes "+m_(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,s=!1;if(Fo(t,(a,u)=>{if(".value"===a)r=!0;else if(".priority"!==a&&".sv"!==a&&(s=!0,!QI(a)))throw new Error(n+" contains an invalid key ("+a+") "+m_(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function jme(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,ne.ug)(t),NZ(n)})(i,a),XC(n,u,i),function qme(n){const t=n.parts_.pop();n.byteLength_-=(0,ne.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+m_(i)+" in addition to actual children.")}},T8=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,ne.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const s=[];Fo(t,(a,u)=>{const f=new gi(a);if(XC(r,u,dr(e,f)),".priority"===ZL(f)&&!JC(u))throw new Error(r+"contains an invalid value for '"+f.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(f)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const s=LC(i);for(let a=0;a<s.length;a++)if((".priority"!==s[a]||a!==s.length-1)&&!QI(s[a]))throw new Error(n+"contains an invalid key ("+s[a]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Gme);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&Kl(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},R3=function(n,t,e){if(!e||void 0!==t){if(DI(t))throw new Error((0,ne.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!JC(t))throw new Error((0,ne.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},eD=function(n,t,e,i){if(!(i&&void 0===e||QI(e)))throw new Error((0,ne.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},tD=function(n,t,e,i){if(!(i&&void 0===e||E8(e)))throw new Error((0,ne.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},I_e=function(n,t,e,i){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),tD(n,t,e,i)},Jl=function(n,t){if(".info"===Hn(t))throw new Error(n+" failed = Can't modify data under /.info/")},A8=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!QI(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),E8(n)}(e))throw new Error((0,ne.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class k_e{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function JI(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],s=r.getPath();null!==e&&!$L(s,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:s}),e.events.push(r)}e&&n.eventLists_.push(e)}function I8(n,t,e){JI(n,e),k8(n,i=>$L(i,t))}function pl(n,t,e){JI(n,e),k8(n,i=>Kl(i,t)||Kl(t,i))}function k8(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(M_e(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function M_e(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();f_&&Po("event: "+e.toString()),tb(i)}}}const M8="repo_interrupt",R_e=25;class O_e{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new k_e,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=FI(),this.transactionQueueTree_=new A3,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function R8(n){const e=n.infoData_.getNode(new gi(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function nD(n){return v_e({timestamp:R8(n)})}function O8(n,t,e,i,r){n.dataUpdateCount++;const s=new gi(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let a=[];if(r)if(i){const f=(0,ne.UI)(e,m=>Dr(m));a=function f_e(n,t,e,i){const r=w3(n,i);if(r){const s=x3(r),a=s.path,u=s.queryId,f=js(a,t),m=Vi.fromObject(e);return C3(n,a,new ab(l3(u),f,m))}return[]}(n.serverSyncTree_,s,f,r)}else{const f=Dr(e);a=y8(n.serverSyncTree_,s,f,r)}else if(i){const f=(0,ne.UI)(e,m=>Dr(m));a=function d_e(n,t,e){const i=Vi.fromObject(e);return cb(n,new ab({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,s,f)}else{const f=Dr(e);a=YC(n.serverSyncTree_,s,f)}let u=s;a.length>0&&(u=ub(n,s)),pl(n.eventQueue_,u,a)}function P8(n,t){O3(n,"connected",t),!1===t&&function B_e(n){db(n,"onDisconnectEvents");const t=nD(n),e=FI();o3(n.onDisconnect_,ci(),(r,s)=>{const a=C8(r,s,n.serverSyncTree_,t);sb(e,r,a)});let i=[];o3(e,ci(),(r,s)=>{i=i.concat(YC(n.serverSyncTree_,r,s));const a=L3(n,r);ub(n,a)}),n.onDisconnect_=FI(),pl(n.eventQueue_,ci(),i)}(n)}function O3(n,t,e){const i=new gi("/.info/"+t),r=Dr(e);n.infoData_.updateSnapshot(i,r);const s=YC(n.infoSyncTree_,i,r);pl(n.eventQueue_,i,s)}function XI(n){return n.nextWriteId_++}function P3(n,t,e,i,r){db(n,"set",{path:t.toString(),value:e,priority:i});const s=nD(n),a=Dr(e,i),u=$I(n.serverSyncTree_,t),f=E3(a,u,s),m=XI(n),v=v3(n.serverSyncTree_,t,f,m,!0);JI(n.eventQueue_,v),n.server_.put(t.toString(),a.val(!0),(I,B)=>{const q="ok"===I;q||vs("set at "+t+" failed: "+I);const ue=qp(n.serverSyncTree_,m,!q);pl(n.eventQueue_,t,ue),Zp(0,r,I,B)});const x=L3(n,t);ub(n,x),pl(n.eventQueue_,x,[])}function V_e(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&r3(n.onDisconnect_,t),Zp(0,e,i,r)})}function F8(n,t,e,i){const r=Dr(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(s,a)=>{"ok"===s&&sb(n.onDisconnect_,t,r),Zp(0,i,s,a)})}function F3(n,t,e){let i;i=".info"===Hn(t._path)?ZI(n.infoSyncTree_,t,e):ZI(n.serverSyncTree_,t,e),I8(n.eventQueue_,t._path,i)}function N8(n){n.persistentConnection_&&n.persistentConnection_.interrupt(M8)}function db(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Po(e,...t)}function Zp(n,t,e,i){t&&tb(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let s=r;i&&(s+=": "+i);const a=new Error(s);a.code=r,t(a)}})}function N3(n,t,e){return $I(n.serverSyncTree_,t,e)||Rn.EMPTY_NODE}function ek(n,t=n.transactionQueueTree_){if(t||tk(n,t),b_(t)){const e=B8(n,t);(0,ne.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function q_e(n,t,e){const i=e.map(m=>m.currentWriteId),r=N3(n,t,i);let s=r;const a=r.hash();for(let m=0;m<e.length;m++){const v=e[m];(0,ne.hu)(0===v.status,"tryToSendTransactionQueue_: items in queue should all be run."),v.status=1,v.retryCount++;const x=js(t,v.path);s=s.updateChild(x,v.currentOutputSnapshotRaw)}const u=s.val(!0),f=t;n.server_.put(f.toString(),u,m=>{db(n,"transaction put response",{path:f.toString(),status:m});let v=[];if("ok"===m){const x=[];for(let I=0;I<e.length;I++)e[I].status=2,v=v.concat(qp(n.serverSyncTree_,e[I].currentWriteId)),e[I].onComplete&&x.push(()=>e[I].onComplete(null,!0,e[I].currentOutputSnapshotResolved)),e[I].unwatcher();tk(n,WI(n.transactionQueueTree_,t)),ek(n,n.transactionQueueTree_),pl(n.eventQueue_,t,v);for(let I=0;I<x.length;I++)tb(x[I])}else{if("datastale"===m)for(let x=0;x<e.length;x++)e[x].status=3===e[x].status?4:0;else{vs("transaction at "+f.toString()+" failed: "+m);for(let x=0;x<e.length;x++)e[x].status=4,e[x].abortReason=m}ub(n,t)}},a)}(n,QC(t),e)}else D8(t)&&KI(t,e=>{ek(n,e)})}function ub(n,t){const e=L8(n,t),i=QC(e);return function Z_e(n,t,e){if(0===t.length)return;const i=[];let r=[];const a=t.filter(u=>0===u.status).map(u=>u.currentWriteId);for(let u=0;u<t.length;u++){const f=t[u],m=js(e,f.path);let x,v=!1;if((0,ne.hu)(null!==m,"rerunTransactionsUnderNode_: relativePath should not be null."),4===f.status)v=!0,x=f.abortReason,r=r.concat(qp(n.serverSyncTree_,f.currentWriteId,!0));else if(0===f.status)if(f.retryCount>=R_e)v=!0,x="maxretry",r=r.concat(qp(n.serverSyncTree_,f.currentWriteId,!0));else{const I=N3(n,f.path,a);f.currentInputSnapshot=I;const B=t[u].update(I.val());if(void 0!==B){XC("transaction failed: Data returned ",B,f.path);let q=Dr(B);"object"==typeof B&&null!=B&&(0,ne.r3)(B,".priority")||(q=q.updatePriority(I.getPriority()));const ge=f.currentWriteId,Oe=nD(n),nt=E3(q,I,Oe);f.currentOutputSnapshotRaw=q,f.currentOutputSnapshotResolved=nt,f.currentWriteId=XI(n),a.splice(a.indexOf(ge),1),r=r.concat(v3(n.serverSyncTree_,f.path,nt,f.currentWriteId,f.applyLocally)),r=r.concat(qp(n.serverSyncTree_,ge,!0))}else v=!0,x="nodata",r=r.concat(qp(n.serverSyncTree_,f.currentWriteId,!0))}pl(n.eventQueue_,e,r),r=[],v&&(t[u].status=2,setTimeout(t[u].unwatcher,Math.floor(0)),t[u].onComplete&&i.push("nodata"===x?()=>t[u].onComplete(null,!1,t[u].currentInputSnapshot):()=>t[u].onComplete(new Error(x),!1,null)))}tk(n,n.transactionQueueTree_);for(let u=0;u<i.length;u++)tb(i[u]);ek(n,n.transactionQueueTree_)}(n,B8(n,e),i),i}function L8(n,t){let e,i=n.transactionQueueTree_;for(e=Hn(t);null!==e&&void 0===b_(i);)i=WI(i,e),e=Hn(t=Pi(t));return i}function B8(n,t){const e=[];return V8(n,t,e),e.sort((i,r)=>i.order-r.order),e}function V8(n,t,e){const i=b_(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);KI(t,r=>{V8(n,r,e)})}function tk(n,t){const e=b_(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,I3(t,e.length>0?e:void 0)}KI(t,i=>{tk(n,i)})}function L3(n,t){const e=QC(L8(n,t)),i=WI(n.transactionQueueTree_,t);return function C_e(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{B3(n,r)}),B3(n,i),S8(i,r=>{B3(n,r)}),e}function B3(n,t){const e=b_(t);if(e){const i=[];let r=[],s=-1;for(let a=0;a<e.length;a++)3===e[a].status||(1===e[a].status?((0,ne.hu)(s===a-1,"All SENT items should be at beginning of queue."),s=a,e[a].status=3,e[a].abortReason="set"):((0,ne.hu)(0===e[a].status,"Unexpected transaction status in abort"),e[a].unwatcher(),r=r.concat(qp(n.serverSyncTree_,e[a].currentWriteId,!0)),e[a].onComplete&&i.push(e[a].onComplete.bind(null,new Error("set"),!1,null))));-1===s?I3(t,void 0):e.length=s+1,pl(n.eventQueue_,QC(t),r);for(let a=0;a<i.length;a++)tb(i[a])}}const V3=function(n,t){const e=W_e(n),i=e.namespace;return"firebase.com"===e.domain&&nu(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&nu("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&vs("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new UL(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new gi(e.pathString)}},W_e=function(n){let t="",e="",i="",r="",s="",a=!0,u="https",f=443;if("string"==typeof n){let m=n.indexOf("//");m>=0&&(u=n.substring(0,m-1),n=n.substring(m+2));let v=n.indexOf("/");-1===v&&(v=n.length);let x=n.indexOf("?");-1===x&&(x=n.length),t=n.substring(0,Math.min(v,x)),v<x&&(r=function $_e(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(v,x)));const I=function Y_e(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):vs(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,x)));m=t.indexOf(":"),m>=0?(a="https"===u||"wss"===u,f=parseInt(t.substring(m+1),10)):m=t.length;const B=t.slice(0,m);if("localhost"===B.toLowerCase())e="localhost";else if(B.split(".").length<=2)e=B;else{const q=t.indexOf(".");i=t.substring(0,q).toLowerCase(),e=t.substring(q+1),s=i}"ns"in I&&(s=I.ns)}return{host:t,port:f,domain:e,subdomain:i,secure:a,scheme:u,pathString:r,namespace:s}},U8="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",K_e=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const s=new Array(8);for(r=7;r>=0;r--)s[r]=U8.charAt(e%64),e=Math.floor(e/64);(0,ne.hu)(0===e,"Cannot push at time == 0");let a=s.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)a+=U8.charAt(t[r]);return(0,ne.hu)(20===a.length,"nextPushId: Length should be 20."),a}}();class H8{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,ne.Wl)(this.snapshot.exportVal())}}class G8{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class U3{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,ne.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class z8{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new ne.BH;return V_e(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Jl("OnDisconnect.remove",this._path);const t=new ne.BH;return F8(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Jl("OnDisconnect.set",this._path),ru("OnDisconnect.set",t,this._path,!1);const e=new ne.BH;return F8(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Jl("OnDisconnect.setWithPriority",this._path),ru("OnDisconnect.setWithPriority",t,this._path,!1),R3("OnDisconnect.setWithPriority",e,!1);const i=new ne.BH;return function U_e(n,t,e,i,r){const s=Dr(e,i);n.server_.onDisconnectPut(t.toString(),s.val(!0),(a,u)=>{"ok"===a&&sb(n.onDisconnect_,t,s),Zp(0,r,a,u)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){Jl("OnDisconnect.update",this._path),T8("OnDisconnect.update",t,this._path,!1);const e=new ne.BH;return function H_e(n,t,e,i){if((0,ne.xb)(e))return Po("onDisconnect().update() called with empty data.  Don't do anything."),void Zp(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,s)=>{"ok"===r&&Fo(e,(a,u)=>{const f=Dr(u);sb(n.onDisconnect_,dr(t,a),f)}),Zp(0,i,r,s)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Aa{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return Gn(this._path)?null:ZL(this._path)}get ref(){return new Xl(this._repo,this._path)}get _queryIdentifier(){const t=$Z(this._queryParams),e=BL(t);return"{}"===e?"default":e}get _queryObject(){return $Z(this._queryParams)}isEqual(t){if(!((t=(0,ne.m9)(t))instanceof Aa))return!1;const e=this._repo===t._repo,i=$L(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Hme(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function nk(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function $p(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===iu){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Bp)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==Oh)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===Bi){if(null!=t&&!JC(t)||null!=e&&!JC(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,ne.hu)(n.getIndex()instanceof JL||n.getIndex()===XL,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function ik(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Xl extends Aa{constructor(t,e){super(t,e,new RI,!1)}get parent(){const t=FZ(this._path);return null===t?null:new Xl(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class w_{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new gi(t),i=x_(this.ref,t);return new w_(this._node.getChild(e),i,Bi)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new w_(r,x_(this.ref,i),Bi)))}hasChild(t){const e=new gi(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function j8(n,t){return(n=(0,ne.m9)(n))._checkNotDeleted("ref"),void 0!==t?x_(n._root,t):n._root}function q8(n,t){(n=(0,ne.m9)(n))._checkNotDeleted("refFromURL");const e=V3(t,n._repo.repoInfo_.nodeAdmin);A8("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&nu("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),j8(n,e.path.toString())}function x_(n,t){return null===Hn((n=(0,ne.m9)(n))._path)?I_e("child","path",t,!1):tD("child","path",t,!1),new Xl(n._repo,dr(n._path,t))}function H3(n,t){n=(0,ne.m9)(n),Jl("set",n._path),ru("set",t,n._path,!1);const e=new ne.BH;return P3(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function tye(n,t){T8("update",t,n._path,!1);const e=new ne.BH;return function L_e(n,t,e,i){db(n,"update",{path:t.toString(),value:e});let r=!0;const s=nD(n),a={};if(Fo(e,(u,f)=>{r=!1,a[u]=C8(dr(t,u),Dr(f),n.serverSyncTree_,s)}),r)Po("update() called with empty data.  Don't do anything."),Zp(0,i,"ok",void 0);else{const u=XI(n),f=function c_e(n,t,e,i){!function Ege(n,t,e,i){(0,ne.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=d3(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=Vi.fromObject(e);return cb(n,new ab({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,a,u);JI(n.eventQueue_,f),n.server_.merge(t.toString(),e,(m,v)=>{const x="ok"===m;x||vs("update at "+t+" failed: "+m);const I=qp(n.serverSyncTree_,u,!x),B=I.length>0?ub(n,t):t;pl(n.eventQueue_,B,I),Zp(0,i,m,v)}),Fo(e,m=>{const v=L3(n,dr(t,m));ub(n,v)}),pl(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function nye(n){n=(0,ne.m9)(n);const t=new U3(()=>{}),e=new iD(t);return function N_e(n,t,e){const i=function p_e(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(m,v)=>{const x=js(m,e);i=i||zp(v,x)});let r=n.syncPointTree_.get(e);r?i=i||zp(r,ci()):(r=new h8,n.syncPointTree_=n.syncPointTree_.set(e,r));const s=null!=i,a=s?new Hp(i,!0,!1):null;return function Qge(n){return BI(n.viewCache_)}(f8(r,t,VI(n.pendingWriteTree_,t._path),s?a.getNode():Rn.EMPTY_NODE,s))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(r=>{const s=Dr(r).withIndex(t._queryParams.getIndex());let a;if(b3(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())a=YC(n.serverSyncTree_,t._path,s);else{const u=WC(n.serverSyncTree_,t);a=y8(n.serverSyncTree_,t._path,s,u)}return pl(n.eventQueue_,t._path,a),ZI(n.serverSyncTree_,t,e,null,!0),s},r=>(db(n,"get for query "+(0,ne.Wl)(t)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,e).then(i=>new w_(i,new Xl(n._repo,n._path),n._queryParams.getIndex()))}class iD{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new H8("value",this,new w_(t.snapshotNode,new Xl(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new G8(this,t,e):null}matches(t){return t instanceof iD&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class rk{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new G8(this,t,e):null}createEvent(t,e){(0,ne.hu)(null!=t.childName,"Child events should have a childName.");const i=x_(new Xl(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new H8(t.type,this,new w_(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof rk&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function rD(n,t,e,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const f=e,m=(v,x)=>{F3(n._repo,n,u),f(v,x)};m.userCallback=e.userCallback,m.context=e.context,e=m}const a=new U3(e,s||void 0),u="value"===t?new iD(a):new rk(t,a);return function G_e(n,t,e){let i;i=".info"===Hn(t._path)?b3(n.infoSyncTree_,t,e):b3(n.serverSyncTree_,t,e),I8(n.eventQueue_,t._path,i)}(n._repo,n,u),()=>F3(n._repo,n,u)}function G3(n,t,e,i){return rD(n,"value",t,e,i)}function Z8(n,t,e,i){return rD(n,"child_added",t,e,i)}function $8(n,t,e,i){return rD(n,"child_changed",t,e,i)}function Y8(n,t,e,i){return rD(n,"child_moved",t,e,i)}function W8(n,t,e,i){return rD(n,"child_removed",t,e,i)}function K8(n,t,e){let i=null;const r=e?new U3(e):null;"value"===t?i=new iD(r):t&&(i=new rk(t,r)),F3(n._repo,n,i)}class zc{}class Q8 extends zc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ru("endAt",this._value,t._path,!0);const e=n3(t._queryParams,this._value,this._key);if(ik(e),$p(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Aa(t._repo,t._path,e,t._orderByCalled)}}class rye extends zc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ru("endBefore",this._value,t._path,!1);const e=function fge(n,t,e){let i;return i=n3(n,t,n.index_===iu||e?e:Bp),i.endBeforeSet_=!0,i}(t._queryParams,this._value,this._key);if(ik(e),$p(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Aa(t._repo,t._path,e,t._orderByCalled)}}class J8 extends zc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ru("startAt",this._value,t._path,!0);const e=t3(t._queryParams,this._value,this._key);if(ik(e),$p(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Aa(t._repo,t._path,e,t._orderByCalled)}}class aye extends zc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ru("startAfter",this._value,t._path,!1);const e=function hge(n,t,e){let i;return i=t3(n,t,n.index_===iu||e?e:Oh),i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(ik(e),$p(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Aa(t._repo,t._path,e,t._orderByCalled)}}class cye extends zc{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Aa(t._repo,t._path,function dge(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class uye extends zc{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Aa(t._repo,t._path,function uge(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class fye extends zc{constructor(t){super(),this._path=t}_apply(t){nk(t,"orderByChild");const e=new gi(this._path);if(Gn(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new JL(e),r=OI(t._queryParams,i);return $p(r),new Aa(t._repo,t._path,r,!0)}}class mye extends zc{_apply(t){nk(t,"orderByKey");const e=OI(t._queryParams,iu);return $p(e),new Aa(t._repo,t._path,e,!0)}}class _ye extends zc{_apply(t){nk(t,"orderByPriority");const e=OI(t._queryParams,Bi);return $p(e),new Aa(t._repo,t._path,e,!0)}}class vye extends zc{_apply(t){nk(t,"orderByValue");const e=OI(t._queryParams,XL);return $p(e),new Aa(t._repo,t._path,e,!0)}}class wye extends zc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(ru("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Q8(this._value,this._key)._apply(new J8(this._value,this._key)._apply(t))}}function jc(n,...t){let e=(0,ne.m9)(n);for(const i of t)e=i._apply(e);return e}(function t_e(n){(0,ne.hu)(!zI,"__referenceConstructor has already been defined"),zI=n})(Xl),function s_e(n){(0,ne.hu)(!qI,"__referenceConstructor has already been defined"),qI=n}(Xl);const Cye="FIREBASE_DATABASE_EMULATOR_HOST",z3={};let X8=!1;function e$(n,t,e,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||nu("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Po("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let f,m,a=V3(s,r),u=a.repoInfo;typeof process<"u"&&process.env&&(m=process.env[Cye]),m?(f=!0,s=`http://${m}?ns=${u.namespace}`,a=V3(s,r),u=a.repoInfo):f=!a.repoInfo.secure;const v=r&&f?new NC(NC.OWNER):new gme(n.name,n.options,t);A8("Invalid Firebase Database URL",a),Gn(a.path)||nu("Database URL must point to the root of a Firebase Database (not including a child path).");const x=function Eye(n,t,e,i){let r=z3[t.name];r||(r={},z3[t.name]=r);let s=r[n.toURLString()];return s&&nu("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new O_e(n,X8,e,i),r[n.toURLString()]=s,s}(u,n,v,new mme(n.name,e));return new Aye(x,n)}class Aye{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function P_e(n,t,e){if(n.stats_=zL(n.repoInfo_),n.forceRestClient_||pme())n.server_=new PI(n.repoInfo_,(i,r,s,a)=>{O8(n,i,r,s,a)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>P8(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,ne.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new g_(n.repoInfo_,t,(i,r,s,a)=>{O8(n,i,r,s,a)},i=>{P8(n,i)},i=>{!function F_e(n,t){Fo(t,(e,i)=>{O3(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function vme(n,t){const e=n.toString();return GL[e]||(GL[e]=t()),GL[e]}(n.repoInfo_,()=>new vge(n.stats_,n.server_)),n.infoData_=new pge,n.infoSyncTree_=new _8({startListening:(i,r,s,a)=>{let u=[];const f=n.infoData_.getNode(i._path);return f.isEmpty()||(u=YC(n.infoSyncTree_,i._path,f),setTimeout(()=>{a("ok")},0)),u},stopListening:()=>{}}),O3(n,"connected",!1),n.serverSyncTree_=new _8({startListening:(i,r,s,a)=>(n.server_.listen(i,s,r,(u,f)=>{const m=a(u,f);pl(n.eventQueue_,i._path,m)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Xl(this._repo,ci())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Sye(n,t){const e=z3[t];(!e||e[n.key]!==n)&&nu(`Database ${t}(${n.repoInfo_}) has already been deleted.`),N8(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&nu("Cannot call "+t+" on a deleted database.")}}function t$(){CZ.IS_TRANSPORT_INITIALIZED&&vs("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Iye(){t$(),Vp.forceDisallow()}function kye(){t$(),nb.forceDisallow(),Vp.forceAllow()}function Oye(n,t){iZ(n,t)}const Fye={".sv":"timestamp"};class Bye{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}g_.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},g_.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function Pye(n){Jq(ko.SDK_VERSION),(0,ko._registerComponent)(new ya.wA("database",(t,{instanceIdentifier:e})=>e$(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,ko.registerVersion)(Kq,"0.14.4",n),(0,ko.registerVersion)(Kq,"0.14.4","esm2017")}();const Gye=new va.Yd("@firebase/database-compat"),i$=function(n){Gye.warn("FIREBASE WARNING: "+n)};class qye{constructor(t){this._delegate=t}cancel(t){(0,ne.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,ne.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,ne.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,ne.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,ne.Dv)("OnDisconnect.set",1,2,arguments.length),(0,ne.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,ne.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,ne.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),s=>i(s)),r}update(t,e){if((0,ne.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,i$("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,ne.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class Zye{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,ne.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Yp{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,ne.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,ne.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,ne.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,ne.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,ne.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),tD("DataSnapshot.child","path",t,!1),new Yp(this._database,this._delegate.child(t))}hasChild(t){return(0,ne.Dv)("DataSnapshot.hasChild",1,1,arguments.length),tD("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,ne.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,ne.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,ne.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Yp(this._database,e)))}hasChildren(){return(0,ne.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,ne.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,ne.Dv)("DataSnapshot.ref",0,0,arguments.length),new ml(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Xo{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var s;(0,ne.Dv)("Query.on",2,4,arguments.length),(0,ne.Wj)("Query.on","callback",e,!1);const a=Xo.getCancelAndContextArgs_("Query.on",i,r),u=(m,v)=>{e.call(a.context,new Yp(this.database,m),v)};u.userCallback=e,u.context=a.context;const f=null===(s=a.cancel)||void 0===s?void 0:s.bind(a.context);switch(t){case"value":return G3(this._delegate,u,f),e;case"child_added":return Z8(this._delegate,u,f),e;case"child_removed":return W8(this._delegate,u,f),e;case"child_changed":return $8(this._delegate,u,f),e;case"child_moved":return Y8(this._delegate,u,f),e;default:throw new Error((0,ne.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,ne.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,ne.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,ne.Wj)("Query.off","callback",e,!0),(0,ne.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,K8(this._delegate,t,r)}else K8(this._delegate,t)}get(){return nye(this._delegate).then(t=>new Yp(this.database,t))}once(t,e,i,r){(0,ne.Dv)("Query.once",1,4,arguments.length),(0,ne.Wj)("Query.once","callback",e,!0);const s=Xo.getCancelAndContextArgs_("Query.once",i,r),a=new ne.BH,u=(m,v)=>{const x=new Yp(this.database,m);e&&e.call(s.context,x,v),a.resolve(x)};u.userCallback=e,u.context=s.context;const f=m=>{s.cancel&&s.cancel.call(s.context,m),a.reject(m)};switch(t){case"value":G3(this._delegate,u,f,{onlyOnce:!0});break;case"child_added":Z8(this._delegate,u,f,{onlyOnce:!0});break;case"child_removed":W8(this._delegate,u,f,{onlyOnce:!0});break;case"child_changed":$8(this._delegate,u,f,{onlyOnce:!0});break;case"child_moved":Y8(this._delegate,u,f,{onlyOnce:!0});break;default:throw new Error((0,ne.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return a.promise}limitToFirst(t){return(0,ne.Dv)("Query.limitToFirst",1,1,arguments.length),new Xo(this.database,jc(this._delegate,function dye(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new cye(n)}(t)))}limitToLast(t){return(0,ne.Dv)("Query.limitToLast",1,1,arguments.length),new Xo(this.database,jc(this._delegate,function hye(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new uye(n)}(t)))}orderByChild(t){return(0,ne.Dv)("Query.orderByChild",1,1,arguments.length),new Xo(this.database,jc(this._delegate,function pye(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return tD("orderByChild","path",n,!1),new fye(n)}(t)))}orderByKey(){return(0,ne.Dv)("Query.orderByKey",0,0,arguments.length),new Xo(this.database,jc(this._delegate,function gye(){return new mye}()))}orderByPriority(){return(0,ne.Dv)("Query.orderByPriority",0,0,arguments.length),new Xo(this.database,jc(this._delegate,function yye(){return new _ye}()))}orderByValue(){return(0,ne.Dv)("Query.orderByValue",0,0,arguments.length),new Xo(this.database,jc(this._delegate,function bye(){return new vye}()))}startAt(t=null,e){return(0,ne.Dv)("Query.startAt",0,2,arguments.length),new Xo(this.database,jc(this._delegate,function sye(n=null,t){return eD("startAt","key",t,!0),new J8(n,t)}(t,e)))}startAfter(t=null,e){return(0,ne.Dv)("Query.startAfter",0,2,arguments.length),new Xo(this.database,jc(this._delegate,function lye(n,t){return eD("startAfter","key",t,!0),new aye(n,t)}(t,e)))}endAt(t=null,e){return(0,ne.Dv)("Query.endAt",0,2,arguments.length),new Xo(this.database,jc(this._delegate,function iye(n,t){return eD("endAt","key",t,!0),new Q8(n,t)}(t,e)))}endBefore(t=null,e){return(0,ne.Dv)("Query.endBefore",0,2,arguments.length),new Xo(this.database,jc(this._delegate,function oye(n,t){return eD("endBefore","key",t,!0),new rye(n,t)}(t,e)))}equalTo(t,e){return(0,ne.Dv)("Query.equalTo",1,2,arguments.length),new Xo(this.database,jc(this._delegate,function xye(n,t){return eD("equalTo","key",t,!0),new wye(n,t)}(t,e)))}toString(){return(0,ne.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,ne.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,ne.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Xo))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,ne.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,ne.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,ne.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new ml(this.database,new Xl(this._delegate._repo,this._delegate._path))}}class ml extends Xo{constructor(t,e){super(t,new Aa(e._repo,e._path,new RI,!1)),this.database=t,this._delegate=e}getKey(){return(0,ne.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,ne.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new ml(this.database,x_(this._delegate,t))}getParent(){(0,ne.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new ml(this.database,t):null}getRoot(){return(0,ne.Dv)("Reference.root",0,0,arguments.length),new ml(this.database,this._delegate.root)}set(t,e){(0,ne.Dv)("Reference.set",1,2,arguments.length),(0,ne.Wj)("Reference.set","onComplete",e,!0);const i=H3(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,ne.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,i$("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Jl("Reference.update",this._delegate._path),(0,ne.Wj)("Reference.update","onComplete",e,!0);const i=tye(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,ne.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,ne.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function eye(n,t,e){if(Jl("setWithPriority",n._path),ru("setWithPriority",t,n._path,!1),R3("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new ne.BH;return P3(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),s=>i(s)),r}remove(t){(0,ne.Dv)("Reference.remove",0,1,arguments.length),(0,ne.Wj)("Reference.remove","onComplete",t,!0);const e=function J_e(n){return Jl("remove",n._path),H3(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,ne.Dv)("Reference.transaction",1,3,arguments.length),(0,ne.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,ne.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,ne.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function Vye(n,t,e){var i;if(n=(0,ne.m9)(n),Jl("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=e?.applyLocally)||void 0===i||i,s=new ne.BH,u=G3(n,()=>{});return function j_e(n,t,e,i,r,s){db(n,"transaction on "+t);const a={path:t,update:e,onComplete:i,status:null,order:eZ(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=N3(n,t,void 0);a.currentInputSnapshot=u;const f=a.update(u.val());if(void 0===f)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{XC("transaction failed: Data returned ",f,a.path),a.status=0;const m=WI(n.transactionQueueTree_,t),v=b_(m)||[];let x;v.push(a),I3(m,v),"object"==typeof f&&null!==f&&(0,ne.r3)(f,".priority")?(x=(0,ne.DV)(f,".priority"),(0,ne.hu)(JC(x),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):x=($I(n.serverSyncTree_,t)||Rn.EMPTY_NODE).getPriority().val();const I=nD(n),B=Dr(f,x),q=E3(B,u,I);a.currentOutputSnapshotRaw=B,a.currentOutputSnapshotResolved=q,a.currentWriteId=XI(n);const ue=v3(n.serverSyncTree_,t,q,a.currentWriteId,a.applyLocally);pl(n.eventQueue_,t,ue),ek(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(f,m,v)=>{let x=null;f?s.reject(f):(x=new w_(v,new Xl(n._repo,n._path),Bi),s.resolve(new Bye(m,x)))},u,r),s.promise}(this._delegate,t,{applyLocally:i}).then(s=>new Zye(s.committed,new Yp(this.database,s.snapshot)));return e&&r.then(s=>e(null,s.committed,s.snapshot),s=>e(s,!1,null)),r}setPriority(t,e){(0,ne.Dv)("Reference.setPriority",1,2,arguments.length),(0,ne.Wj)("Reference.setPriority","onComplete",e,!0);const i=function X_e(n,t){n=(0,ne.m9)(n),Jl("setPriority",n._path),R3("setPriority",t,!1);const e=new ne.BH;return P3(n._repo,dr(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,ne.Dv)("Reference.push",0,2,arguments.length),(0,ne.Wj)("Reference.push","onComplete",e,!0);const i=function Q_e(n,t){n=(0,ne.m9)(n),Jl("push",n._path),ru("push",t,n._path,!0);const e=R8(n._repo),i=K_e(e),r=x_(n,i),s=x_(n,i);let a;return a=null!=t?H3(s,t).then(()=>s):Promise.resolve(s),r.then=a.then.bind(a),r.catch=a.then.bind(a,void 0),r}(this._delegate,t),r=i.then(a=>new ml(this.database,a));e&&r.then(()=>e(null),a=>e(a));const s=new ml(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return Jl("Reference.onDisconnect",this._delegate._path),new qye(new z8(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class oD{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Iye,forceLongPolling:kye}}useEmulator(t,e,i={}){!function n$(n,t,e,i={}){(n=(0,ne.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&nu("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&nu('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new NC(NC.OWNER);else if(i.mockUserToken){const a="string"==typeof i.mockUserToken?i.mockUserToken:(0,ne.Sg)(i.mockUserToken,n.app.options.projectId);s=new NC(a)}!function Dye(n,t,e,i){n.repoInfo_=new UL(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,t,e,s)}(this._delegate,t,e,i)}ref(t){if((0,ne.Dv)("database.ref",0,1,arguments.length),t instanceof ml){const e=q8(this._delegate,t.toString());return new ml(this,e)}{const e=j8(this._delegate,t);return new ml(this,e)}}refFromURL(t){(0,ne.Dv)("database.refFromURL",1,1,arguments.length);const i=q8(this._delegate,t);return new ml(this,i)}goOffline(){return(0,ne.Dv)("database.goOffline",0,0,arguments.length),function Mye(n){(n=(0,ne.m9)(n))._checkNotDeleted("goOffline"),N8(n._repo)}(this._delegate)}goOnline(){return(0,ne.Dv)("database.goOnline",0,0,arguments.length),function Rye(n){(n=(0,ne.m9)(n))._checkNotDeleted("goOnline"),function z_e(n){n.persistentConnection_&&n.persistentConnection_.resume(M8)}(n._repo)}(this._delegate)}}oD.ServerValue={TIMESTAMP:function Nye(){return Fye}(),increment:n=>function Lye(n){return{".sv":{increment:n}}}(n)};var Yye=Object.freeze({__proto__:null,initStandalone:function $ye({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){Jq(e);const a=new ya.zt("auth-internal",new ya.H0("database-standalone"));return a.setComponent(new ya.wA("auth-internal",()=>i,"PRIVATE")),{instance:new oD(e$(n,a,void 0,t,s),n),namespace:r}}});const Wye=oD.ServerValue;function r$(n){return null==n}function o$(n){return"function"==typeof n.set}function s$(n,t){return o$(t)?t:n.ref(t)}function a$(n,t){if(function Qye(n){return"string"==typeof n}(n))return t.stringCase();if(o$(n))return t.firebaseCase();if(function Jye(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function sD(n,t,e="on",i=ua.z){return new kn.y(r=>{let s=null;return s=n[e](t,(a,u)=>{i.schedule(()=>{r.next({snapshot:a,prevKey:u})}),"once"===e&&i.schedule(()=>r.complete())},a=>{i.schedule(()=>r.error(a))}),"on"===e?{unsubscribe(){null!=s&&n.off(t,s)}}:{unsubscribe(){}}}).pipe((0,dt.U)(r=>{const{snapshot:s,prevKey:a}=r;let u=null;return s.exists()&&(u=s.key),{type:t,payload:s,prevKey:a,key:u}}),(0,_2.B)())}function l$(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function tve(n,t){const{payload:e,prevKey:i,key:r}=t,s=l$(n,r),a=function eve(n,t){if(r$(t))return 0;{const e=l$(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let u=null;t.payload.forEach(f=>{const m={payload:f,type:"value",prevKey:u,key:f.key};return u=f.key,n=[...n,m],!1})}return n;case"child_added":if(s>-1){const u=n[s-1];(u&&u.key||null)!==i&&(n=n.filter(f=>f.payload.key!==e.key)).splice(a,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(a,0,t)}return n;case"child_removed":return n.filter(u=>u.payload.key!==e.key);case"child_changed":return n.map(u=>u.payload.key===r?t:u);case"child_moved":if(s>-1){const u=n.splice(s,1)[0];return(n=n.slice()).splice(a,0,u),n}return n;default:return n}}function c$(n){return(r$(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function d$(n,t,e){return function Xye(n,t,e){return sD(n,"value","once",e).pipe(Pn(i=>{const r=[se(i)];return t.forEach(s=>r.push(sD(n,s,"on",e))),(0,Mi.T)(...r).pipe(Ic(tve,[]))}),Nl())}(n,t=c$(t),e)}function u$(n,t,e){const i=(t=c$(t)).map(r=>sD(n,r,"on",e));return(0,Mi.T)(...i)}function h$(n,t){return function(i,r){return a$(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function ove(n){return function(e){return e?a$(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function f$(n,t){return function(){return sD(n,"value","on",t)}}!function Kye(n){n.INTERNAL.registerComponent(new ya.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new oD(r,i)},"PUBLIC").setServiceProps({Reference:ml,Query:Xo,Database:oD,DataSnapshot:Yp,enableLogging:Oye,INTERNAL:Yye,ServerValue:Wye}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(zy.Z);const lve=new o.OlP("angularfire2.realtimeDatabaseURL"),cve=new o.OlP("angularfire2.database.use-emulator");let dve=(()=>{class n{constructor(e,i,r,s,a,u,f,m,v,x,I,B,q,ue,ge){this.schedulers=u;const Oe=f,nt=(0,io.on)(e,a,i);m&&$2(nt,a,v,I,B,q,x,ue),this.database=(0,io.cc)(`${nt.name}.database.${r}`,"AngularFireDatabase",nt.name,()=>{const it=a.runOutsideAngular(()=>nt.database(r||void 0));return Oe&&it.useEmulator(...Oe),it},[Oe])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>s$(this.database,e));let s=r;return i&&(s=i(r)),function sve(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:h$(i,"update"),set:h$(i,"set"),push:r=>i.push(r),remove:ove(i),snapshotChanges:r=>d$(n,r,e).pipe(Xn.iC),stateChanges:r=>u$(n,r,e).pipe(Xn.iC),auditTrail:r=>function nve(n,t,e){return function rve(n,t,e){return function ive(n,t){return sD(n,"value","on",t).pipe((0,dt.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(RA(t),(0,dt.U)(([r,s])=>{const a=r.lastKeyToLoad,u=s.map(f=>f.key);return{actions:s,lastKeyToLoad:a,loadedKeys:u}}),PG(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,dt.U)(r=>r.actions))}(n,u$(n,t).pipe(Ic((r,s)=>[...r,s],[])),e)}(n,r,e).pipe(Xn.iC),valueChanges:(r,s)=>d$(n,r,e).pipe((0,dt.U)(u=>u.map(f=>s&&s.idField?Object.assign(Object.assign({},f.payload.val()),{[s.idField]:f.key}):f.payload.val())),Xn.iC)}}(s,this)}object(e){return function ave(n,t){return{query:n,snapshotChanges:()=>f$(n,t.schedulers.outsideAngular)().pipe(Xn.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>f$(n,t.schedulers.outsideAngular)().pipe(Xn.iC,(0,dt.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>s$(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(io.Dh),o.LFG(io.xv,8),o.LFG(lve,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Xn.HU),o.LFG(cve,8),o.LFG(Mv,8),o.LFG(H2,8),o.LFG(G2,8),o.LFG(z2,8),o.LFG(j2,8),o.LFG(q2,8),o.LFG(Z2,8),o.LFG(eC,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),uve=(()=>{class n{constructor(){pA.Z.registerVersion("angularfire",Xn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[dve]}),n})();function j3(n,t,e){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];r?n.setProperty(i,r,e?.has(i)?"important":""):n.removeProperty(i)}return n}function hb(n,t){const e=t?"":"none";j3(n.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function p$(n,t,e){j3(n.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function ok(n,t){return t&&"none"!=t?n+" "+t:n}function m$(n){const t=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*t}function q3(n,t){return n.getPropertyValue(t).split(",").map(i=>i.trim())}function Z3(n){const t=n.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function $3(n,t,e){const{top:i,bottom:r,left:s,right:a}=n;return e>=i&&e<=r&&t>=s&&t<=a}function aD(n,t,e){n.top+=t,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function g$(n,t,e,i){const{top:r,right:s,bottom:a,left:u,width:f,height:m}=n,v=f*t,x=m*t;return i>r-x&&i<a+x&&e>u-v&&e<s+v}class _${constructor(t){this._document=t,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:Z3(e)})})}handleScroll(t){const e=Zr(t),i=this.positions.get(e);if(!i)return null;const r=i.scrollPosition;let s,a;if(e===this._document){const m=this.getViewportScrollPosition();s=m.top,a=m.left}else s=e.scrollTop,a=e.scrollLeft;const u=r.top-s,f=r.left-a;return this.positions.forEach((m,v)=>{m.clientRect&&e!==v&&e.contains(v)&&aD(m.clientRect,u,f)}),r.top=s,r.left=a,{top:u,left:f}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function y$(n){const t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();t.removeAttribute("id");for(let r=0;r<e.length;r++)e[r].removeAttribute("id");return"canvas"===i?w$(n,t):("input"===i||"select"===i||"textarea"===i)&&b$(n,t),v$("canvas",n,t,w$),v$("input, textarea, select",n,t,b$),t}function v$(n,t,e,i){const r=t.querySelectorAll(n);if(r.length){const s=e.querySelectorAll(n);for(let a=0;a<r.length;a++)i(r[a],s[a])}}let pve=0;function b$(n,t){"file"!==t.type&&(t.value=n.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${pve++}`)}function w$(n,t){const e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch{}}const x$=qr({passive:!0}),sk=qr({passive:!1}),Y3=new Set(["position"]);class gve{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=Nt(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(i=>hb(i,e)))}constructor(t,e,i,r,s,a){this._config=e,this._document=i,this._ngZone=r,this._viewportRuler=s,this._dragDropRegistry=a,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new gt.x,this._pointerMoveSubscription=C.w0.EMPTY,this._pointerUpSubscription=C.w0.EMPTY,this._scrollSubscription=C.w0.EMPTY,this._resizeSubscription=C.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new gt.x,this.started=new gt.x,this.released=new gt.x,this.ended=new gt.x,this.entered=new gt.x,this.exited=new gt.x,this.dropped=new gt.x,this.moved=this._moveEvents,this._pointerDown=u=>{if(this.beforeStarted.next(),this._handles.length){const f=this._getTargetHandle(u);f&&!this._disabledHandles.has(f)&&!this.disabled&&this._initializeDragSequence(f,u)}else this.disabled||this._initializeDragSequence(this._rootElement,u)},this._pointerMove=u=>{const f=this._getPointerPositionOnPage(u);if(!this._hasStartedDragging){if(Math.abs(f.x-this._pickupPositionOnPage.x)+Math.abs(f.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const B=Date.now()>=this._dragStartTime+this._getDragStartDelay(u),q=this._dropContainer;if(!B)return void this._endDragSequence(u);(!q||!q.isDragging()&&!q.isReceiving())&&(u.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(u)))}return}u.preventDefault();const m=this._getConstrainedPointerPosition(f);if(this._hasMoved=!0,this._lastKnownPointerPosition=f,this._updatePointerDirectionDelta(m),this._dropContainer)this._updateActiveDropContainer(m,f);else{const v=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,x=this._activeTransform;x.x=m.x-v.x+this._passiveTransform.x,x.y=m.y-v.y+this._passiveTransform.y,this._applyRootElementTransform(x.x,x.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:m,event:u,distance:this._getDragDistance(m),delta:this._pointerDirectionDelta})})},this._pointerUp=u=>{this._endDragSequence(u)},this._nativeDragStart=u=>{if(this._handles.length){const f=this._getTargetHandle(u);f&&!this._disabledHandles.has(f)&&!this.disabled&&u.preventDefault()}else this.disabled||u.preventDefault()},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new _$(i),a.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(i=>di(i)),this._handles.forEach(i=>hb(i,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=di(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,sk),e.addEventListener("touchstart",this._pointerDown,x$),e.addEventListener("dragstart",this._nativeDragStart,sk)}),this._initialTransform=void 0,this._rootElement=e),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?di(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),hb(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),hb(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:t}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){lD(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const i=this._rootElement,r=i.parentNode,s=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment(""),u=this._getShadowRoot();r.insertBefore(a,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),p$(i,!1,Y3),this._document.body.appendChild(r.replaceChild(s,i)),this._getPreviewInsertionPoint(r,u).appendChild(this._preview),this.started.next({source:this,event:t}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this,event:t}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const i=this.isDragging(),r=lD(e),s=!r&&0!==e.button,a=this._rootElement,u=Zr(e),f=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),m=r?J_(e):Q_(e);if(u&&u.draggable&&"mousedown"===e.type&&e.preventDefault(),i||s||f||m)return;if(this._handles.length){const I=a.style;this._rootElementTapHighlight=I.webkitTapHighlightColor||"",I.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(I=>this._updateOnScroll(I)),this._boundaryElement&&(this._boundaryRect=Z3(this._boundaryElement));const v=this._previewTemplate;this._pickupPositionInElement=v&&v.template&&!v.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,t,e);const x=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:x.x,y:x.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){p$(this._rootElement,!0,Y3),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,i=e.getItemIndex(this),r=this._getPointerPositionOnPage(t),s=this._getDragDistance(r),a=e._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:s,dropPoint:r,event:t}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:a,distance:s,dropPoint:r,event:t}),e.drop(this,i,this._initialIndex,this._initialContainer,a,s,r,t),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:i,y:r}){let s=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=s,this._dropContainer.enter(this,t,e,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,r),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(t,e):this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,i=t?t.template:null;let r;if(i&&t){const s=t.matchSize?this._initialClientRect:null,a=t.viewContainer.createEmbeddedView(i,t.context);a.detectChanges(),r=D$(a,this._document),this._previewRef=a,t.matchSize?S$(r,s):r.style.transform=ak(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=y$(this._rootElement),S$(r,this._initialClientRect),this._initialTransform&&(r.style.transform=this._initialTransform);return j3(r.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},Y3),hb(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(s=>r.classList.add(s)):r.classList.add(e)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const e=function fve(n){const t=getComputedStyle(n),e=q3(t,"transition-property"),i=e.find(u=>"transform"===u||"all"===u);if(!i)return 0;const r=e.indexOf(i),s=q3(t,"transition-duration"),a=q3(t,"transition-delay");return m$(s[r])+m$(a[r])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const r=a=>{(!a||Zr(a)===this._preview&&"transform"===a.propertyName)&&(this._preview?.removeEventListener("transitionend",r),i(),clearTimeout(s))},s=setTimeout(r,1.5*e);this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let i;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),i=D$(this._placeholderRef,this._document)):i=y$(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(t,e,i){const r=e===this._rootElement?null:e,s=r?r.getBoundingClientRect():t,a=lD(i)?i.targetTouches[0]:i,u=this._getViewportScrollPosition();return{x:s.left-t.left+(a.pageX-s.left-u.left),y:s.top-t.top+(a.pageY-s.top-u.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),i=lD(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,r=i.pageX-e.left,s=i.pageY-e.top;if(this._ownerSVGElement){const a=this._ownerSVGElement.getScreenCTM();if(a){const u=this._ownerSVGElement.createSVGPoint();return u.x=r,u.y=s,u.matrixTransform(a.inverse())}}return{x:r,y:s}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:r}=this.constrainPosition?this.constrainPosition(t,this,this._initialClientRect,this._pickupPositionInElement):t;if("x"===this.lockAxis||"x"===e?r=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:s,y:a}=this._pickupPositionInElement,u=this._boundaryRect,{width:f,height:m}=this._getPreviewRect(),v=u.top+a,x=u.bottom-(m-a);i=C$(i,u.left+s,u.right-(f-s)),r=C$(r,v,x)}return{x:i,y:r}}_updatePointerDirectionDelta(t){const{x:e,y:i}=t,r=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,a=Math.abs(e-s.x),u=Math.abs(i-s.y);return a>this._config.pointerDirectionChangeThreshold&&(r.x=e>s.x?1:-1,s.x=e),u>this._config.pointerDirectionChangeThreshold&&(r.y=i>s.y?1:-1,s.y=i),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,hb(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,sk),t.removeEventListener("touchstart",this._pointerDown,x$),t.removeEventListener("dragstart",this._nativeDragStart,sk)}_applyRootElementTransform(t,e){const i=ak(t,e),r=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=r.transform&&"none"!=r.transform?r.transform:""),r.transform=ok(i,this._initialTransform)}_applyPreviewTransform(t,e){const i=this._previewTemplate?.template?void 0:this._initialTransform,r=ak(t,e);this._preview.style.transform=ok(r,i)}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const i=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===i.width&&0===i.height)return;const s=r.left-i.left,a=i.right-r.right,u=r.top-i.top,f=i.bottom-r.bottom;r.width>i.width?(s>0&&(t+=s),a>0&&(t-=a)):t=0,r.height>i.height?(u>0&&(e+=u),f>0&&(e-=f)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:lD(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const i=Zr(t);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&aD(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=yd(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){const i=this._previewContainer||"global";if("parent"===i)return t;if("global"===i){const r=this._document;return e||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return di(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(t){return this._handles.find(e=>t.target&&(t.target===e||e.contains(t.target)))}}function ak(n,t){return`translate3d(${Math.round(n)}px, ${Math.round(t)}px, 0)`}function C$(n,t,e){return Math.max(t,Math.min(e,n))}function lD(n){return"t"===n.type[0]}function D$(n,t){const e=n.rootNodes;if(1===e.length&&e[0].nodeType===t.ELEMENT_NODE)return e[0];const i=t.createElement("div");return e.forEach(r=>i.appendChild(r)),i}function S$(n,t){n.style.width=`${t.width}px`,n.style.height=`${t.height}px`,n.style.transform=ak(t.left,t.top)}function cD(n,t){return Math.max(0,Math.min(t,n))}class yve{constructor(t,e){this._element=t,this._dragDropRegistry=e,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(t){this.withItems(t)}sort(t,e,i,r){const s=this._itemPositions,a=this._getItemIndexFromPointerPosition(t,e,i,r);if(-1===a&&s.length>0)return null;const u="horizontal"===this.orientation,f=s.findIndex(ge=>ge.drag===t),m=s[a],x=m.clientRect,I=f>a?1:-1,B=this._getItemOffsetPx(s[f].clientRect,x,I),q=this._getSiblingOffsetPx(f,s,I),ue=s.slice();return function _ve(n,t,e){const i=cD(t,n.length-1),r=cD(e,n.length-1);if(i===r)return;const s=n[i],a=r<i?-1:1;for(let u=i;u!==r;u+=a)n[u]=n[u+a];n[r]=s}(s,f,a),s.forEach((ge,Oe)=>{if(ue[Oe]===ge)return;const nt=ge.drag===t,it=nt?B:q,pt=nt?t.getPlaceholderElement():ge.drag.getRootElement();ge.offset+=it,u?(pt.style.transform=ok(`translate3d(${Math.round(ge.offset)}px, 0, 0)`,ge.initialTransform),aD(ge.clientRect,0,it)):(pt.style.transform=ok(`translate3d(0, ${Math.round(ge.offset)}px, 0)`,ge.initialTransform),aD(ge.clientRect,it,0))}),this._previousSwap.overlaps=$3(x,e,i),this._previousSwap.drag=m.drag,this._previousSwap.delta=u?r.x:r.y,{previousIndex:f,currentIndex:a}}enter(t,e,i,r){const s=null==r||r<0?this._getItemIndexFromPointerPosition(t,e,i):r,a=this._activeDraggables,u=a.indexOf(t),f=t.getPlaceholderElement();let m=a[s];if(m===t&&(m=a[s+1]),!m&&(null==s||-1===s||s<a.length-1)&&this._shouldEnterAsFirstChild(e,i)&&(m=a[0]),u>-1&&a.splice(u,1),m&&!this._dragDropRegistry.isDragging(m)){const v=m.getRootElement();v.parentElement.insertBefore(f,v),a.splice(s,0,t)}else di(this._element).appendChild(f),a.push(t);f.style.transform="",this._cacheItemPositions()}withItems(t){this._activeDraggables=t.slice(),this._cacheItemPositions()}withSortPredicate(t){this._sortPredicate=t}reset(){this._activeDraggables.forEach(t=>{const e=t.getRootElement();if(e){const i=this._itemPositions.find(r=>r.drag===t)?.initialTransform;e.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(t){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===t)}updateOnScroll(t,e){this._itemPositions.forEach(({clientRect:i})=>{aD(i,t,e)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}_cacheItemPositions(){const t="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(e=>{const i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:Z3(i)}}).sort((e,i)=>t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_getItemOffsetPx(t,e,i){const r="horizontal"===this.orientation;let s=r?e.left-t.left:e.top-t.top;return-1===i&&(s+=r?e.width-t.width:e.height-t.height),s}_getSiblingOffsetPx(t,e,i){const r="horizontal"===this.orientation,s=e[t].clientRect,a=e[t+-1*i];let u=s[r?"width":"height"]*i;if(a){const f=r?"left":"top",m=r?"right":"bottom";-1===i?u-=a.clientRect[f]-s[m]:u+=s[f]-a.clientRect[m]}return u}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,r="horizontal"===this.orientation;if(i[0].drag!==this._activeDraggables[0]){const a=i[i.length-1].clientRect;return r?t>=a.right:e>=a.bottom}{const a=i[0].clientRect;return r?t<=a.left:e<=a.top}}_getItemIndexFromPointerPosition(t,e,i,r){const s="horizontal"===this.orientation,a=this._itemPositions.findIndex(({drag:u,clientRect:f})=>u!==t&&((!r||u!==this._previousSwap.drag||!this._previousSwap.overlaps||(s?r.x:r.y)!==this._previousSwap.delta)&&(s?e>=Math.floor(f.left)&&e<Math.floor(f.right):i>=Math.floor(f.top)&&i<Math.floor(f.bottom))));return-1!==a&&this._sortPredicate(a,t)?a:-1}}const T$=.05;class vve{constructor(t,e,i,r,s){this._dragDropRegistry=e,this._ngZone=r,this._viewportRuler=s,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new gt.x,this.entered=new gt.x,this.exited=new gt.x,this.dropped=new gt.x,this.sorted=new gt.x,this.receivingStarted=new gt.x,this.receivingStopped=new gt.x,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=C.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new gt.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function hve(n=0,t=ua.z){return n<0&&(n=0),tN(n,n,t)}(0,PH).pipe(an(this._stopScrollTimers)).subscribe(()=>{const a=this._scrollNode,u=this.autoScrollStep;1===this._verticalScrollDirection?a.scrollBy(0,-u):2===this._verticalScrollDirection&&a.scrollBy(0,u),1===this._horizontalScrollDirection?a.scrollBy(-u,0):2===this._horizontalScrollDirection&&a.scrollBy(u,0)})},this.element=di(t),this._document=i,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new _$(i),this._sortStrategy=new yve(this.element,e),this._sortStrategy.withSortPredicate((a,u)=>this.sortPredicate(a,u,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,i,r){this._draggingStarted(),null==r&&this.sortingDisabled&&(r=this._draggables.indexOf(t)),this._sortStrategy.enter(t,e,i,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,i,r,s,a,u,f={}){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i,container:this,previousContainer:r,isPointerOverContainer:s,distance:a,dropPoint:u,event:f})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(r=>r.isDragging()).every(r=>-1===t.indexOf(r))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(t){return this._sortStrategy.direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._sortStrategy.orientation=t,this}withScrollableParents(t){const e=di(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?this._sortStrategy.getItemIndex(t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,i,r){if(this.sortingDisabled||!this._clientRect||!g$(this._clientRect,.05,e,i))return;const s=this._sortStrategy.sort(t,e,i,r);s&&this.sorted.next({previousIndex:s.previousIndex,currentIndex:s.currentIndex,container:this,item:t})}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let i,r=0,s=0;if(this._parentPositions.positions.forEach((a,u)=>{u===this._document||!a.clientRect||i||g$(a.clientRect,.05,t,e)&&([r,s]=function bve(n,t,e,i){const r=A$(t,i),s=I$(t,e);let a=0,u=0;if(r){const f=n.scrollTop;1===r?f>0&&(a=1):n.scrollHeight-f>n.clientHeight&&(a=2)}if(s){const f=n.scrollLeft;1===s?f>0&&(u=1):n.scrollWidth-f>n.clientWidth&&(u=2)}return[a,u]}(u,a.clientRect,t,e),(r||s)&&(i=u))}),!r&&!s){const{width:a,height:u}=this._viewportRuler.getViewportSize(),f={width:a,height:u,top:0,right:a,bottom:u,left:0};r=A$(f,e),s=I$(f,t),i=window}i&&(r!==this._verticalScrollDirection||s!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=s,this._scrollNode=i,(r||s)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=di(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=di(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_reset(){this._isDragging=!1;const t=di(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(t,e){return null!=this._clientRect&&$3(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,i){return this._siblings.find(r=>r._canReceive(t,e,i))}_canReceive(t,e,i){if(!this._clientRect||!$3(this._clientRect,e,i)||!this.enterPredicate(t,this))return!1;const r=this._getShadowRoot().elementFromPoint(e,i);if(!r)return!1;const s=di(this.element);return r===s||s.contains(r)}_startReceiving(t,e){const i=this._activeSiblings;!i.has(t)&&e.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(i.add(t),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:t,receiver:this,items:e}))}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:t,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=yd(di(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function A$(n,t){const{top:e,bottom:i,height:r}=n,s=r*T$;return t>=e-s&&t<=e+s?1:t>=i-s&&t<=i+s?2:0}function I$(n,t){const{left:e,right:i,width:r}=n,s=r*T$;return t>=e-s&&t<=e+s?1:t>=i-s&&t<=i+s?2:0}const lk=qr({passive:!1,capture:!0});let wve=(()=>{class n{constructor(e,i){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=r=>r.isDragging(),this.pointerMove=new gt.x,this.pointerUp=new gt.x,this.scroll=new gt.x,this._preventDefaultWhileDragging=r=>{this._activeDragInstances.length>0&&r.preventDefault()},this._persistentTouchmoveListener=r=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&r.preventDefault(),this.pointerMove.next(r))},this._document=i}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,lk)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,lk)}startDragging(e,i){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const r=i.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:s=>this.pointerUp.next(s),options:!0}).set("scroll",{handler:s=>this.scroll.next(s),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:lk}),r||this._globalListeners.set("mousemove",{handler:s=>this.pointerMove.next(s),options:lk}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((s,a)=>{this._document.addEventListener(a,s.handler,s.options)})})}}stopDragging(e){const i=this._activeDragInstances.indexOf(e);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const i=[this.scroll];return e&&e!==this._document&&i.push(new kn.y(r=>this._ngZone.runOutsideAngular(()=>{const a=u=>{this._activeDragInstances.length&&r.next(u)};return e.addEventListener("scroll",a,!0),()=>{e.removeEventListener("scroll",a,!0)}}))),(0,Mi.T)(...i)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,i)=>{this._document.removeEventListener(i,e.handler,e.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b),o.LFG(j))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xve={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let W3=(()=>{class n{constructor(e,i,r,s){this._document=e,this._ngZone=i,this._viewportRuler=r,this._dragDropRegistry=s}createDrag(e,i=xve){return new gve(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new vve(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(j),o.LFG(o.R0b),o.LFG(Lv),o.LFG(wve))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Mve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[W3],imports:[Bv]}),n})(),Pve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Im,Mn,Im,Mn]}),n})(),Fve=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n,bootstrap:[Rue]});static#n=this.\u0275inj=o.cJS({providers:[$l,Op,WX(KX())],imports:[Ga,pue,Mfe,Ff,tE,Qu,kH,Hee,TG,F0,nte,Xpe,Cee,Aae,nme,io.hO.initializeApp(Dee),UQ,YQ,Kne,uve,bue,rte,aG,YH,oce,Mve,aG,bre,ade,coe,Pve,yde,Hre,voe]})}return n})();om().bootstrapModule(Fve).catch(n=>console.error(n))},4327:function(Bt,re){var H,R;void 0!==(R="function"==typeof(H=function(){"use strict";function N(k,O,M){var Z=new XMLHttpRequest;Z.open("GET",k),Z.responseType="blob",Z.onload=function(){J(Z.response,O,M)},Z.onerror=function(){console.error("could not download file")},Z.send()}function G(k){var O=new XMLHttpRequest;O.open("HEAD",k,!1);try{O.send()}catch{}return 200<=O.status&&299>=O.status}function j(k){try{k.dispatchEvent(new MouseEvent("click"))}catch{var O=document.createEvent("MouseEvents");O.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),k.dispatchEvent(O)}}var te="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,Q=te.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),J=te.saveAs||("object"!=typeof window||window!==te?function(){}:"download"in HTMLAnchorElement.prototype&&!Q?function(k,O,M){var Z=te.URL||te.webkitURL,z=document.createElement("a");z.download=O=O||k.name||"download",z.rel="noopener","string"==typeof k?(z.href=k,z.origin===location.origin?j(z):G(z.href)?N(k,O,M):j(z,z.target="_blank")):(z.href=Z.createObjectURL(k),setTimeout(function(){Z.revokeObjectURL(z.href)},4e4),setTimeout(function(){j(z)},0))}:"msSaveOrOpenBlob"in navigator?function(k,O,M){if(O=O||k.name||"download","string"!=typeof k)navigator.msSaveOrOpenBlob(function A(k,O){return typeof O>"u"?O={autoBom:!1}:"object"!=typeof O&&(console.warn("Deprecated: Expected third argument to be a object"),O={autoBom:!O}),O.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(k.type)?new Blob(["\ufeff",k],{type:k.type}):k}(k,M),O);else if(G(k))N(k,O,M);else{var Z=document.createElement("a");Z.href=k,Z.target="_blank",setTimeout(function(){j(Z)})}}:function(k,O,M,Z){if((Z=Z||open("","_blank"))&&(Z.document.title=Z.document.body.innerText="downloading..."),"string"==typeof k)return N(k,O,M);var z="application/octet-stream"===k.type,ie=/constructor/i.test(te.HTMLElement)||te.safari,pe=/CriOS\/[\d]+/.test(navigator.userAgent);if((pe||z&&ie||Q)&&typeof FileReader<"u"){var le=new FileReader;le.onloadend=function(){var ve=le.result;ve=pe?ve:ve.replace(/^data:[^;]*;/,"data:attachment/file;"),Z?Z.location.href=ve:location=ve,Z=null},le.readAsDataURL(k)}else{var fe=te.URL||te.webkitURL,we=fe.createObjectURL(k);Z?Z.location=we:location.href=we,Z=null,setTimeout(function(){fe.revokeObjectURL(we)},4e4)}});te.saveAs=J.saveAs=J,Bt.exports=J})?H.apply(re,[]):H)&&(Bt.exports=R)},5650:Bt=>{Bt.exports=function re(H,o,R){function A(j,te){if(!o[j]){if(!H[j]){if(N)return N(j,!0);var J=new Error("Cannot find module '"+j+"'");throw J.code="MODULE_NOT_FOUND",J}var k=o[j]={exports:{}};H[j][0].call(k.exports,function(O){return A(H[j][1][O]||O)},k,k.exports,re,H,o,R)}return o[j].exports}for(var N=void 0,G=0;G<R.length;G++)A(R[G]);return A}({1:[function(re,H,o){"use strict";var R=re("./utils"),A=re("./support"),N="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.encode=function(G){for(var j,te,Q,k,O,M,Z=[],z=0,ie=G.length,pe=ie,le="string"!==R.getTypeOf(G);z<G.length;)pe=ie-z,Q=le?(j=G[z++],te=z<ie?G[z++]:0,z<ie?G[z++]:0):(j=G.charCodeAt(z++),te=z<ie?G.charCodeAt(z++):0,z<ie?G.charCodeAt(z++):0),k=(3&j)<<4|te>>4,O=1<pe?(15&te)<<2|Q>>6:64,M=2<pe?63&Q:64,Z.push(N.charAt(j>>2)+N.charAt(k)+N.charAt(O)+N.charAt(M));return Z.join("")},o.decode=function(G){var j,te,Q,J,k,O,M=0,Z=0,z="data:";if(G.substr(0,z.length)===z)throw new Error("Invalid base64 input, it looks like a data url.");var ie,pe=3*(G=G.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(G.charAt(G.length-1)===N.charAt(64)&&pe--,G.charAt(G.length-2)===N.charAt(64)&&pe--,pe%1!=0)throw new Error("Invalid base64 input, bad content length.");for(ie=A.uint8array?new Uint8Array(0|pe):new Array(0|pe);M<G.length;)j=N.indexOf(G.charAt(M++))<<2|(J=N.indexOf(G.charAt(M++)))>>4,te=(15&J)<<4|(k=N.indexOf(G.charAt(M++)))>>2,Q=(3&k)<<6|(O=N.indexOf(G.charAt(M++))),ie[Z++]=j,64!==k&&(ie[Z++]=te),64!==O&&(ie[Z++]=Q);return ie}},{"./support":30,"./utils":32}],2:[function(re,H,o){"use strict";var R=re("./external"),A=re("./stream/DataWorker"),N=re("./stream/Crc32Probe"),G=re("./stream/DataLengthProbe");function j(te,Q,J,k,O){this.compressedSize=te,this.uncompressedSize=Q,this.crc32=J,this.compression=k,this.compressedContent=O}j.prototype={getContentWorker:function(){var te=new A(R.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new G("data_length")),Q=this;return te.on("end",function(){if(this.streamInfo.data_length!==Q.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),te},getCompressedWorker:function(){return new A(R.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},j.createWorkerFrom=function(te,Q,J){return te.pipe(new N).pipe(new G("uncompressedSize")).pipe(Q.compressWorker(J)).pipe(new G("compressedSize")).withStreamInfo("compression",Q)},H.exports=j},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(re,H,o){"use strict";var R=re("./stream/GenericWorker");o.STORE={magic:"\0\0",compressWorker:function(){return new R("STORE compression")},uncompressWorker:function(){return new R("STORE decompression")}},o.DEFLATE=re("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(re,H,o){"use strict";var R=re("./utils"),A=function(){for(var N,G=[],j=0;j<256;j++){N=j;for(var te=0;te<8;te++)N=1&N?3988292384^N>>>1:N>>>1;G[j]=N}return G}();H.exports=function(N,G){return void 0!==N&&N.length?"string"!==R.getTypeOf(N)?function(j,te,Q,J){var k=A,O=0+Q;j^=-1;for(var M=0;M<O;M++)j=j>>>8^k[255&(j^te[M])];return-1^j}(0|G,N,N.length):function(j,te,Q,J){var k=A,O=0+Q;j^=-1;for(var M=0;M<O;M++)j=j>>>8^k[255&(j^te.charCodeAt(M))];return-1^j}(0|G,N,N.length):0}},{"./utils":32}],5:[function(re,H,o){"use strict";o.base64=!1,o.binary=!1,o.dir=!1,o.createFolders=!0,o.date=null,o.compression=null,o.compressionOptions=null,o.comment=null,o.unixPermissions=null,o.dosPermissions=null},{}],6:[function(re,H,o){"use strict";var R;R=typeof Promise<"u"?Promise:re("lie"),H.exports={Promise:R}},{lie:37}],7:[function(re,H,o){"use strict";var R=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",A=re("pako"),N=re("./utils"),G=re("./stream/GenericWorker"),j=R?"uint8array":"array";function te(Q,J){G.call(this,"FlateWorker/"+Q),this._pako=null,this._pakoAction=Q,this._pakoOptions=J,this.meta={}}o.magic="\b\0",N.inherits(te,G),te.prototype.processChunk=function(Q){this.meta=Q.meta,null===this._pako&&this._createPako(),this._pako.push(N.transformTo(j,Q.data),!1)},te.prototype.flush=function(){G.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},te.prototype.cleanUp=function(){G.prototype.cleanUp.call(this),this._pako=null},te.prototype._createPako=function(){this._pako=new A[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var Q=this;this._pako.onData=function(J){Q.push({data:J,meta:Q.meta})}},o.compressWorker=function(Q){return new te("Deflate",Q)},o.uncompressWorker=function(){return new te("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(re,H,o){"use strict";function R(k,O){var M,Z="";for(M=0;M<O;M++)Z+=String.fromCharCode(255&k),k>>>=8;return Z}function A(k,O,M,Z,z,ie){var pe,le,fe=k.file,we=k.compression,ve=ie!==j.utf8encode,Se=N.transformTo("string",ie(fe.name)),_e=N.transformTo("string",j.utf8encode(fe.name)),Me=fe.comment,qe=N.transformTo("string",ie(Me)),oe=N.transformTo("string",j.utf8encode(Me)),he=_e.length!==fe.name.length,U=oe.length!==Me.length,Ne="",rt="",Ze="",lt=fe.dir,ut=fe.date,Lt={crc32:0,compressedSize:0,uncompressedSize:0};O&&!M||(Lt.crc32=k.crc32,Lt.compressedSize=k.compressedSize,Lt.uncompressedSize=k.uncompressedSize);var He=0;O&&(He|=8),ve||!he&&!U||(He|=2048);var xe,We,Be=0,Ae=0;lt&&(Be|=16),"UNIX"===z?(Ae=798,Be|=(We=xe=fe.unixPermissions,xe||(We=lt?16893:33204),(65535&We)<<16)):(Ae=20,Be|=function(xe){return 63&(xe||0)}(fe.dosPermissions)),pe=ut.getUTCHours(),pe<<=6,pe|=ut.getUTCMinutes(),pe<<=5,pe|=ut.getUTCSeconds()/2,le=ut.getUTCFullYear()-1980,le<<=4,le|=ut.getUTCMonth()+1,le<<=5,le|=ut.getUTCDate(),he&&(rt=R(1,1)+R(te(Se),4)+_e,Ne+="up"+R(rt.length,2)+rt),U&&(Ze=R(1,1)+R(te(qe),4)+oe,Ne+="uc"+R(Ze.length,2)+Ze);var De="";return De+="\n\0",De+=R(He,2),De+=we.magic,De+=R(pe,2),De+=R(le,2),De+=R(Lt.crc32,4),De+=R(Lt.compressedSize,4),De+=R(Lt.uncompressedSize,4),De+=R(Se.length,2),De+=R(Ne.length,2),{fileRecord:Q.LOCAL_FILE_HEADER+De+Se+Ne,dirRecord:Q.CENTRAL_FILE_HEADER+R(Ae,2)+De+R(qe.length,2)+"\0\0\0\0"+R(Be,4)+R(Z,4)+Se+Ne+qe}}var N=re("../utils"),G=re("../stream/GenericWorker"),j=re("../utf8"),te=re("../crc32"),Q=re("../signature");function J(k,O,M,Z){G.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=O,this.zipPlatform=M,this.encodeFileName=Z,this.streamFiles=k,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}N.inherits(J,G),J.prototype.push=function(k){var O=k.meta.percent||0,M=this.entriesCount,Z=this._sources.length;this.accumulate?this.contentBuffer.push(k):(this.bytesWritten+=k.data.length,G.prototype.push.call(this,{data:k.data,meta:{currentFile:this.currentFile,percent:M?(O+100*(M-Z-1))/M:100}}))},J.prototype.openedSource=function(k){this.currentSourceOffset=this.bytesWritten,this.currentFile=k.file.name;var O=this.streamFiles&&!k.file.dir;if(O){var M=A(k,O,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:M.fileRecord,meta:{percent:0}})}else this.accumulate=!0},J.prototype.closedSource=function(k){this.accumulate=!1;var Z,O=this.streamFiles&&!k.file.dir,M=A(k,O,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(M.dirRecord),O)this.push({data:(Z=k,Q.DATA_DESCRIPTOR+R(Z.crc32,4)+R(Z.compressedSize,4)+R(Z.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:M.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},J.prototype.flush=function(){for(var k=this.bytesWritten,O=0;O<this.dirRecords.length;O++)this.push({data:this.dirRecords[O],meta:{percent:100}});var z,ie,pe,we,Z=(z=this.dirRecords.length,ie=this.bytesWritten-k,pe=k,we=N.transformTo("string",(0,this.encodeFileName)(this.zipComment)),Q.CENTRAL_DIRECTORY_END+"\0\0\0\0"+R(z,2)+R(z,2)+R(ie,4)+R(pe,4)+R(we.length,2)+we);this.push({data:Z,meta:{percent:100}})},J.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},J.prototype.registerPrevious=function(k){this._sources.push(k);var O=this;return k.on("data",function(M){O.processChunk(M)}),k.on("end",function(){O.closedSource(O.previous.streamInfo),O._sources.length?O.prepareNextSource():O.end()}),k.on("error",function(M){O.error(M)}),this},J.prototype.resume=function(){return!!G.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},J.prototype.error=function(k){var O=this._sources;if(!G.prototype.error.call(this,k))return!1;for(var M=0;M<O.length;M++)try{O[M].error(k)}catch{}return!0},J.prototype.lock=function(){G.prototype.lock.call(this);for(var k=this._sources,O=0;O<k.length;O++)k[O].lock()},H.exports=J},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(re,H,o){"use strict";var R=re("../compressions"),A=re("./ZipFileWorker");o.generateWorker=function(N,G,j){var te=new A(G.streamFiles,j,G.platform,G.encodeFileName),Q=0;try{N.forEach(function(J,k){Q++;var O=function(ie,pe){var le=ie||pe,fe=R[le];if(!fe)throw new Error(le+" is not a valid compression method !");return fe}(k.options.compression,G.compression),Z=k.dir,z=k.date;k._compressWorker(O,k.options.compressionOptions||G.compressionOptions||{}).withStreamInfo("file",{name:J,dir:Z,date:z,comment:k.comment||"",unixPermissions:k.unixPermissions,dosPermissions:k.dosPermissions}).pipe(te)}),te.entriesCount=Q}catch(J){te.error(J)}return te}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(re,H,o){"use strict";function R(){if(!(this instanceof R))return new R;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var A=new R;for(var N in this)"function"!=typeof this[N]&&(A[N]=this[N]);return A}}(R.prototype=re("./object")).loadAsync=re("./load"),R.support=re("./support"),R.defaults=re("./defaults"),R.version="3.10.1",R.loadAsync=function(A,N){return(new R).loadAsync(A,N)},R.external=re("./external"),H.exports=R},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(re,H,o){"use strict";var R=re("./utils"),A=re("./external"),N=re("./utf8"),G=re("./zipEntries"),j=re("./stream/Crc32Probe"),te=re("./nodejsUtils");function Q(J){return new A.Promise(function(k,O){var M=J.decompressed.getContentWorker().pipe(new j);M.on("error",function(Z){O(Z)}).on("end",function(){M.streamInfo.crc32!==J.decompressed.crc32?O(new Error("Corrupted zip : CRC32 mismatch")):k()}).resume()})}H.exports=function(J,k){var O=this;return k=R.extend(k||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:N.utf8decode}),te.isNode&&te.isStream(J)?A.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):R.prepareContent("the loaded zip file",J,!0,k.optimizedBinaryString,k.base64).then(function(M){var Z=new G(k);return Z.load(M),Z}).then(function(M){var Z=[A.Promise.resolve(M)],z=M.files;if(k.checkCRC32)for(var ie=0;ie<z.length;ie++)Z.push(Q(z[ie]));return A.Promise.all(Z)}).then(function(M){for(var Z=M.shift(),z=Z.files,ie=0;ie<z.length;ie++){var pe=z[ie],le=pe.fileNameStr,fe=R.resolve(pe.fileNameStr);O.file(fe,pe.decompressed,{binary:!0,optimizedBinaryString:!0,date:pe.date,dir:pe.dir,comment:pe.fileCommentStr.length?pe.fileCommentStr:null,unixPermissions:pe.unixPermissions,dosPermissions:pe.dosPermissions,createFolders:k.createFolders}),pe.dir||(O.file(fe).unsafeOriginalName=le)}return Z.zipComment.length&&(O.comment=Z.zipComment),O})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(re,H,o){"use strict";var R=re("../utils"),A=re("../stream/GenericWorker");function N(G,j){A.call(this,"Nodejs stream input adapter for "+G),this._upstreamEnded=!1,this._bindStream(j)}R.inherits(N,A),N.prototype._bindStream=function(G){var j=this;(this._stream=G).pause(),G.on("data",function(te){j.push({data:te,meta:{percent:0}})}).on("error",function(te){j.isPaused?this.generatedError=te:j.error(te)}).on("end",function(){j.isPaused?j._upstreamEnded=!0:j.end()})},N.prototype.pause=function(){return!!A.prototype.pause.call(this)&&(this._stream.pause(),!0)},N.prototype.resume=function(){return!!A.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},H.exports=N},{"../stream/GenericWorker":28,"../utils":32}],13:[function(re,H,o){"use strict";var R=re("readable-stream").Readable;function A(N,G,j){R.call(this,G),this._helper=N;var te=this;N.on("data",function(Q,J){te.push(Q)||te._helper.pause(),j&&j(J)}).on("error",function(Q){te.emit("error",Q)}).on("end",function(){te.push(null)})}re("../utils").inherits(A,R),A.prototype._read=function(){this._helper.resume()},H.exports=A},{"../utils":32,"readable-stream":16}],14:[function(re,H,o){"use strict";H.exports={isNode:typeof Buffer<"u",newBufferFrom:function(R,A){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(R,A);if("number"==typeof R)throw new Error('The "data" argument must not be a number');return new Buffer(R,A)},allocBuffer:function(R){if(Buffer.alloc)return Buffer.alloc(R);var A=new Buffer(R);return A.fill(0),A},isBuffer:function(R){return Buffer.isBuffer(R)},isStream:function(R){return R&&"function"==typeof R.on&&"function"==typeof R.pause&&"function"==typeof R.resume}}},{}],15:[function(re,H,o){"use strict";function R(fe,we,ve){var Se,_e=N.getTypeOf(we),Me=N.extend(ve||{},te);Me.date=Me.date||new Date,null!==Me.compression&&(Me.compression=Me.compression.toUpperCase()),"string"==typeof Me.unixPermissions&&(Me.unixPermissions=parseInt(Me.unixPermissions,8)),Me.unixPermissions&&16384&Me.unixPermissions&&(Me.dir=!0),Me.dosPermissions&&16&Me.dosPermissions&&(Me.dir=!0),Me.dir&&(fe=z(fe)),Me.createFolders&&(Se=Z(fe))&&ie.call(this,Se,!0),ve&&void 0!==ve.binary||(Me.binary=!("string"===_e&&!1===Me.binary&&!1===Me.base64)),(we instanceof Q&&0===we.uncompressedSize||Me.dir||!we||0===we.length)&&(Me.base64=!1,Me.binary=!0,we="",Me.compression="STORE",_e="string");var oe;oe=we instanceof Q||we instanceof G?we:O.isNode&&O.isStream(we)?new M(fe,we):N.prepareContent(fe,we,Me.binary,Me.optimizedBinaryString,Me.base64);var he=new J(fe,oe,Me);this.files[fe]=he}var A=re("./utf8"),N=re("./utils"),G=re("./stream/GenericWorker"),j=re("./stream/StreamHelper"),te=re("./defaults"),Q=re("./compressedObject"),J=re("./zipObject"),k=re("./generate"),O=re("./nodejsUtils"),M=re("./nodejs/NodejsStreamInputAdapter"),Z=function(fe){"/"===fe.slice(-1)&&(fe=fe.substring(0,fe.length-1));var we=fe.lastIndexOf("/");return 0<we?fe.substring(0,we):""},z=function(fe){return"/"!==fe.slice(-1)&&(fe+="/"),fe},ie=function(fe,we){return we=void 0!==we?we:te.createFolders,fe=z(fe),this.files[fe]||R.call(this,fe,null,{dir:!0,createFolders:we}),this.files[fe]};function pe(fe){return"[object RegExp]"===Object.prototype.toString.call(fe)}var le={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(fe){var we,ve,Se;for(we in this.files)Se=this.files[we],(ve=we.slice(this.root.length,we.length))&&we.slice(0,this.root.length)===this.root&&fe(ve,Se)},filter:function(fe){var we=[];return this.forEach(function(ve,Se){fe(ve,Se)&&we.push(Se)}),we},file:function(fe,we,ve){if(1!==arguments.length)return R.call(this,fe=this.root+fe,we,ve),this;if(pe(fe)){var Se=fe;return this.filter(function(Me,qe){return!qe.dir&&Se.test(Me)})}var _e=this.files[this.root+fe];return _e&&!_e.dir?_e:null},folder:function(fe){if(!fe)return this;if(pe(fe))return this.filter(function(_e,Me){return Me.dir&&fe.test(_e)});var ve=ie.call(this,this.root+fe),Se=this.clone();return Se.root=ve.name,Se},remove:function(fe){var we=this.files[fe=this.root+fe];if(we||("/"!==fe.slice(-1)&&(fe+="/"),we=this.files[fe]),we&&!we.dir)delete this.files[fe];else for(var ve=this.filter(function(_e,Me){return Me.name.slice(0,fe.length)===fe}),Se=0;Se<ve.length;Se++)delete this.files[ve[Se].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(fe){var we,ve={};try{if((ve=N.extend(fe||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:A.utf8encode})).type=ve.type.toLowerCase(),ve.compression=ve.compression.toUpperCase(),"binarystring"===ve.type&&(ve.type="string"),!ve.type)throw new Error("No output type specified.");N.checkSupport(ve.type),"darwin"!==ve.platform&&"freebsd"!==ve.platform&&"linux"!==ve.platform&&"sunos"!==ve.platform||(ve.platform="UNIX"),"win32"===ve.platform&&(ve.platform="DOS"),we=k.generateWorker(this,ve,ve.comment||this.comment||"")}catch(_e){(we=new G("error")).error(_e)}return new j(we,ve.type||"string",ve.mimeType)},generateAsync:function(fe,we){return this.generateInternalStream(fe).accumulate(we)},generateNodeStream:function(fe,we){return(fe=fe||{}).type||(fe.type="nodebuffer"),this.generateInternalStream(fe).toNodejsStream(we)}};H.exports=le},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(re,H,o){"use strict";H.exports=re("stream")},{stream:void 0}],17:[function(re,H,o){"use strict";var R=re("./DataReader");function A(N){R.call(this,N);for(var G=0;G<this.data.length;G++)N[G]=255&N[G]}re("../utils").inherits(A,R),A.prototype.byteAt=function(N){return this.data[this.zero+N]},A.prototype.lastIndexOfSignature=function(N){for(var G=N.charCodeAt(0),j=N.charCodeAt(1),te=N.charCodeAt(2),Q=N.charCodeAt(3),J=this.length-4;0<=J;--J)if(this.data[J]===G&&this.data[J+1]===j&&this.data[J+2]===te&&this.data[J+3]===Q)return J-this.zero;return-1},A.prototype.readAndCheckSignature=function(N){var G=N.charCodeAt(0),j=N.charCodeAt(1),te=N.charCodeAt(2),Q=N.charCodeAt(3),J=this.readData(4);return G===J[0]&&j===J[1]&&te===J[2]&&Q===J[3]},A.prototype.readData=function(N){if(this.checkOffset(N),0===N)return[];var G=this.data.slice(this.zero+this.index,this.zero+this.index+N);return this.index+=N,G},H.exports=A},{"../utils":32,"./DataReader":18}],18:[function(re,H,o){"use strict";var R=re("../utils");function A(N){this.data=N,this.length=N.length,this.index=0,this.zero=0}A.prototype={checkOffset:function(N){this.checkIndex(this.index+N)},checkIndex:function(N){if(this.length<this.zero+N||N<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+N+"). Corrupted zip ?")},setIndex:function(N){this.checkIndex(N),this.index=N},skip:function(N){this.setIndex(this.index+N)},byteAt:function(){},readInt:function(N){var G,j=0;for(this.checkOffset(N),G=this.index+N-1;G>=this.index;G--)j=(j<<8)+this.byteAt(G);return this.index+=N,j},readString:function(N){return R.transformTo("string",this.readData(N))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var N=this.readInt(4);return new Date(Date.UTC(1980+(N>>25&127),(N>>21&15)-1,N>>16&31,N>>11&31,N>>5&63,(31&N)<<1))}},H.exports=A},{"../utils":32}],19:[function(re,H,o){"use strict";var R=re("./Uint8ArrayReader");function A(N){R.call(this,N)}re("../utils").inherits(A,R),A.prototype.readData=function(N){this.checkOffset(N);var G=this.data.slice(this.zero+this.index,this.zero+this.index+N);return this.index+=N,G},H.exports=A},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(re,H,o){"use strict";var R=re("./DataReader");function A(N){R.call(this,N)}re("../utils").inherits(A,R),A.prototype.byteAt=function(N){return this.data.charCodeAt(this.zero+N)},A.prototype.lastIndexOfSignature=function(N){return this.data.lastIndexOf(N)-this.zero},A.prototype.readAndCheckSignature=function(N){return N===this.readData(4)},A.prototype.readData=function(N){this.checkOffset(N);var G=this.data.slice(this.zero+this.index,this.zero+this.index+N);return this.index+=N,G},H.exports=A},{"../utils":32,"./DataReader":18}],21:[function(re,H,o){"use strict";var R=re("./ArrayReader");function A(N){R.call(this,N)}re("../utils").inherits(A,R),A.prototype.readData=function(N){if(this.checkOffset(N),0===N)return new Uint8Array(0);var G=this.data.subarray(this.zero+this.index,this.zero+this.index+N);return this.index+=N,G},H.exports=A},{"../utils":32,"./ArrayReader":17}],22:[function(re,H,o){"use strict";var R=re("../utils"),A=re("../support"),N=re("./ArrayReader"),G=re("./StringReader"),j=re("./NodeBufferReader"),te=re("./Uint8ArrayReader");H.exports=function(Q){var J=R.getTypeOf(Q);return R.checkSupport(J),"string"!==J||A.uint8array?"nodebuffer"===J?new j(Q):A.uint8array?new te(R.transformTo("uint8array",Q)):new N(R.transformTo("array",Q)):new G(Q)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(re,H,o){"use strict";o.LOCAL_FILE_HEADER="PK\x03\x04",o.CENTRAL_FILE_HEADER="PK\x01\x02",o.CENTRAL_DIRECTORY_END="PK\x05\x06",o.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",o.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",o.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(re,H,o){"use strict";var R=re("./GenericWorker"),A=re("../utils");function N(G){R.call(this,"ConvertWorker to "+G),this.destType=G}A.inherits(N,R),N.prototype.processChunk=function(G){this.push({data:A.transformTo(this.destType,G.data),meta:G.meta})},H.exports=N},{"../utils":32,"./GenericWorker":28}],25:[function(re,H,o){"use strict";var R=re("./GenericWorker"),A=re("../crc32");function N(){R.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}re("../utils").inherits(N,R),N.prototype.processChunk=function(G){this.streamInfo.crc32=A(G.data,this.streamInfo.crc32||0),this.push(G)},H.exports=N},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(re,H,o){"use strict";var R=re("../utils"),A=re("./GenericWorker");function N(G){A.call(this,"DataLengthProbe for "+G),this.propName=G,this.withStreamInfo(G,0)}R.inherits(N,A),N.prototype.processChunk=function(G){G&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+G.data.length),A.prototype.processChunk.call(this,G)},H.exports=N},{"../utils":32,"./GenericWorker":28}],27:[function(re,H,o){"use strict";var R=re("../utils"),A=re("./GenericWorker");function N(G){A.call(this,"DataWorker");var j=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,G.then(function(te){j.dataIsReady=!0,j.data=te,j.max=te&&te.length||0,j.type=R.getTypeOf(te),j.isPaused||j._tickAndRepeat()},function(te){j.error(te)})}R.inherits(N,A),N.prototype.cleanUp=function(){A.prototype.cleanUp.call(this),this.data=null},N.prototype.resume=function(){return!!A.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,R.delay(this._tickAndRepeat,[],this)),!0)},N.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(R.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},N.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var G=null,j=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":G=this.data.substring(this.index,j);break;case"uint8array":G=this.data.subarray(this.index,j);break;case"array":case"nodebuffer":G=this.data.slice(this.index,j)}return this.index=j,this.push({data:G,meta:{percent:this.max?this.index/this.max*100:0}})},H.exports=N},{"../utils":32,"./GenericWorker":28}],28:[function(re,H,o){"use strict";function R(A){this.name=A||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}R.prototype={push:function(A){this.emit("data",A)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(A){this.emit("error",A)}return!0},error:function(A){return!this.isFinished&&(this.isPaused?this.generatedError=A:(this.isFinished=!0,this.emit("error",A),this.previous&&this.previous.error(A),this.cleanUp()),!0)},on:function(A,N){return this._listeners[A].push(N),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(A,N){if(this._listeners[A])for(var G=0;G<this._listeners[A].length;G++)this._listeners[A][G].call(this,N)},pipe:function(A){return A.registerPrevious(this)},registerPrevious:function(A){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=A.streamInfo,this.mergeStreamInfo(),this.previous=A;var N=this;return A.on("data",function(G){N.processChunk(G)}),A.on("end",function(){N.end()}),A.on("error",function(G){N.error(G)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var A=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),A=!0),this.previous&&this.previous.resume(),!A},flush:function(){},processChunk:function(A){this.push(A)},withStreamInfo:function(A,N){return this.extraStreamInfo[A]=N,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var A in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,A)&&(this.streamInfo[A]=this.extraStreamInfo[A])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var A="Worker "+this.name;return this.previous?this.previous+" -> "+A:A}},H.exports=R},{}],29:[function(re,H,o){"use strict";var R=re("../utils"),A=re("./ConvertWorker"),N=re("./GenericWorker"),G=re("../base64"),j=re("../support"),te=re("../external"),Q=null;if(j.nodestream)try{Q=re("../nodejs/NodejsStreamOutputAdapter")}catch{}function k(O,M,Z){var z=M;switch(M){case"blob":case"arraybuffer":z="uint8array";break;case"base64":z="string"}try{this._internalType=z,this._outputType=M,this._mimeType=Z,R.checkSupport(z),this._worker=O.pipe(new A(z)),O.lock()}catch(ie){this._worker=new N("error"),this._worker.error(ie)}}k.prototype={accumulate:function(O){return function J(O,M){return new te.Promise(function(Z,z){var ie=[],pe=O._internalType,le=O._outputType,fe=O._mimeType;O.on("data",function(we,ve){ie.push(we),M&&M(ve)}).on("error",function(we){ie=[],z(we)}).on("end",function(){try{var we=function(ve,Se,_e){switch(ve){case"blob":return R.newBlob(R.transformTo("arraybuffer",Se),_e);case"base64":return G.encode(Se);default:return R.transformTo(ve,Se)}}(le,function(ve,Se){var _e,Me=0,qe=null,oe=0;for(_e=0;_e<Se.length;_e++)oe+=Se[_e].length;switch(ve){case"string":return Se.join("");case"array":return Array.prototype.concat.apply([],Se);case"uint8array":for(qe=new Uint8Array(oe),_e=0;_e<Se.length;_e++)qe.set(Se[_e],Me),Me+=Se[_e].length;return qe;case"nodebuffer":return Buffer.concat(Se);default:throw new Error("concat : unsupported type '"+ve+"'")}}(pe,ie),fe);Z(we)}catch(ve){z(ve)}ie=[]}).resume()})}(this,O)},on:function(O,M){var Z=this;return this._worker.on(O,"data"===O?function(z){M.call(Z,z.data,z.meta)}:function(){R.delay(M,arguments,Z)}),this},resume:function(){return R.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(O){if(R.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new Q(this,{objectMode:"nodebuffer"!==this._outputType},O)}},H.exports=k},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(re,H,o){"use strict";if(o.base64=!0,o.array=!0,o.string=!0,o.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",o.nodebuffer=typeof Buffer<"u",o.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")o.blob=!1;else{var R=new ArrayBuffer(0);try{o.blob=0===new Blob([R],{type:"application/zip"}).size}catch{try{var A=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);A.append(R),o.blob=0===A.getBlob("application/zip").size}catch{o.blob=!1}}}try{o.nodestream=!!re("readable-stream").Readable}catch{o.nodestream=!1}},{"readable-stream":16}],31:[function(re,H,o){"use strict";for(var R=re("./utils"),A=re("./support"),N=re("./nodejsUtils"),G=re("./stream/GenericWorker"),j=new Array(256),te=0;te<256;te++)j[te]=252<=te?6:248<=te?5:240<=te?4:224<=te?3:192<=te?2:1;function Q(){G.call(this,"utf-8 decode"),this.leftOver=null}function J(){G.call(this,"utf-8 encode")}j[254]=j[254]=1,o.utf8encode=function(k){return A.nodebuffer?N.newBufferFrom(k,"utf-8"):function(O){var M,Z,z,ie,pe,le=O.length,fe=0;for(ie=0;ie<le;ie++)55296==(64512&(Z=O.charCodeAt(ie)))&&ie+1<le&&56320==(64512&(z=O.charCodeAt(ie+1)))&&(Z=65536+(Z-55296<<10)+(z-56320),ie++),fe+=Z<128?1:Z<2048?2:Z<65536?3:4;for(M=A.uint8array?new Uint8Array(fe):new Array(fe),ie=pe=0;pe<fe;ie++)55296==(64512&(Z=O.charCodeAt(ie)))&&ie+1<le&&56320==(64512&(z=O.charCodeAt(ie+1)))&&(Z=65536+(Z-55296<<10)+(z-56320),ie++),Z<128?M[pe++]=Z:(Z<2048?M[pe++]=192|Z>>>6:(Z<65536?M[pe++]=224|Z>>>12:(M[pe++]=240|Z>>>18,M[pe++]=128|Z>>>12&63),M[pe++]=128|Z>>>6&63),M[pe++]=128|63&Z);return M}(k)},o.utf8decode=function(k){return A.nodebuffer?R.transformTo("nodebuffer",k).toString("utf-8"):function(O){var M,Z,z,ie,pe=O.length,le=new Array(2*pe);for(M=Z=0;M<pe;)if((z=O[M++])<128)le[Z++]=z;else if(4<(ie=j[z]))le[Z++]=65533,M+=ie-1;else{for(z&=2===ie?31:3===ie?15:7;1<ie&&M<pe;)z=z<<6|63&O[M++],ie--;1<ie?le[Z++]=65533:z<65536?le[Z++]=z:(le[Z++]=55296|(z-=65536)>>10&1023,le[Z++]=56320|1023&z)}return le.length!==Z&&(le.subarray?le=le.subarray(0,Z):le.length=Z),R.applyFromCharCode(le)}(k=R.transformTo(A.uint8array?"uint8array":"array",k))},R.inherits(Q,G),Q.prototype.processChunk=function(k){var O=R.transformTo(A.uint8array?"uint8array":"array",k.data);if(this.leftOver&&this.leftOver.length){if(A.uint8array){var M=O;(O=new Uint8Array(M.length+this.leftOver.length)).set(this.leftOver,0),O.set(M,this.leftOver.length)}else O=this.leftOver.concat(O);this.leftOver=null}var Z=function(ie,pe){var le;for((pe=pe||ie.length)>ie.length&&(pe=ie.length),le=pe-1;0<=le&&128==(192&ie[le]);)le--;return le<0||0===le?pe:le+j[ie[le]]>pe?le:pe}(O),z=O;Z!==O.length&&(A.uint8array?(z=O.subarray(0,Z),this.leftOver=O.subarray(Z,O.length)):(z=O.slice(0,Z),this.leftOver=O.slice(Z,O.length))),this.push({data:o.utf8decode(z),meta:k.meta})},Q.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:o.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},o.Utf8DecodeWorker=Q,R.inherits(J,G),J.prototype.processChunk=function(k){this.push({data:o.utf8encode(k.data),meta:k.meta})},o.Utf8EncodeWorker=J},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(re,H,o){"use strict";var R=re("./support"),A=re("./base64"),N=re("./nodejsUtils"),G=re("./external");function j(M){return M}function te(M,Z){for(var z=0;z<M.length;++z)Z[z]=255&M.charCodeAt(z);return Z}re("setimmediate"),o.newBlob=function(M,Z){o.checkSupport("blob");try{return new Blob([M],{type:Z})}catch{try{var z=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return z.append(M),z.getBlob(Z)}catch{throw new Error("Bug : can't construct the Blob.")}}};var Q={stringifyByChunk:function(M,Z,z){var ie=[],pe=0,le=M.length;if(le<=z)return String.fromCharCode.apply(null,M);for(;pe<le;)ie.push(String.fromCharCode.apply(null,"array"===Z||"nodebuffer"===Z?M.slice(pe,Math.min(pe+z,le)):M.subarray(pe,Math.min(pe+z,le)))),pe+=z;return ie.join("")},stringifyByChar:function(M){for(var Z="",z=0;z<M.length;z++)Z+=String.fromCharCode(M[z]);return Z},applyCanBeUsed:{uint8array:function(){try{return R.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch{return!1}}(),nodebuffer:function(){try{return R.nodebuffer&&1===String.fromCharCode.apply(null,N.allocBuffer(1)).length}catch{return!1}}()}};function J(M){var Z=65536,z=o.getTypeOf(M),ie=!0;if("uint8array"===z?ie=Q.applyCanBeUsed.uint8array:"nodebuffer"===z&&(ie=Q.applyCanBeUsed.nodebuffer),ie)for(;1<Z;)try{return Q.stringifyByChunk(M,z,Z)}catch{Z=Math.floor(Z/2)}return Q.stringifyByChar(M)}function k(M,Z){for(var z=0;z<M.length;z++)Z[z]=M[z];return Z}o.applyFromCharCode=J;var O={};O.string={string:j,array:function(M){return te(M,new Array(M.length))},arraybuffer:function(M){return O.string.uint8array(M).buffer},uint8array:function(M){return te(M,new Uint8Array(M.length))},nodebuffer:function(M){return te(M,N.allocBuffer(M.length))}},O.array={string:J,array:j,arraybuffer:function(M){return new Uint8Array(M).buffer},uint8array:function(M){return new Uint8Array(M)},nodebuffer:function(M){return N.newBufferFrom(M)}},O.arraybuffer={string:function(M){return J(new Uint8Array(M))},array:function(M){return k(new Uint8Array(M),new Array(M.byteLength))},arraybuffer:j,uint8array:function(M){return new Uint8Array(M)},nodebuffer:function(M){return N.newBufferFrom(new Uint8Array(M))}},O.uint8array={string:J,array:function(M){return k(M,new Array(M.length))},arraybuffer:function(M){return M.buffer},uint8array:j,nodebuffer:function(M){return N.newBufferFrom(M)}},O.nodebuffer={string:J,array:function(M){return k(M,new Array(M.length))},arraybuffer:function(M){return O.nodebuffer.uint8array(M).buffer},uint8array:function(M){return k(M,new Uint8Array(M.length))},nodebuffer:j},o.transformTo=function(M,Z){if(Z=Z||"",!M)return Z;o.checkSupport(M);var z=o.getTypeOf(Z);return O[z][M](Z)},o.resolve=function(M){for(var Z=M.split("/"),z=[],ie=0;ie<Z.length;ie++){var pe=Z[ie];"."===pe||""===pe&&0!==ie&&ie!==Z.length-1||(".."===pe?z.pop():z.push(pe))}return z.join("/")},o.getTypeOf=function(M){return"string"==typeof M?"string":"[object Array]"===Object.prototype.toString.call(M)?"array":R.nodebuffer&&N.isBuffer(M)?"nodebuffer":R.uint8array&&M instanceof Uint8Array?"uint8array":R.arraybuffer&&M instanceof ArrayBuffer?"arraybuffer":void 0},o.checkSupport=function(M){if(!R[M.toLowerCase()])throw new Error(M+" is not supported by this platform")},o.MAX_VALUE_16BITS=65535,o.MAX_VALUE_32BITS=-1,o.pretty=function(M){var Z,z,ie="";for(z=0;z<(M||"").length;z++)ie+="\\x"+((Z=M.charCodeAt(z))<16?"0":"")+Z.toString(16).toUpperCase();return ie},o.delay=function(M,Z,z){setImmediate(function(){M.apply(z||null,Z||[])})},o.inherits=function(M,Z){function z(){}z.prototype=Z.prototype,M.prototype=new z},o.extend=function(){var M,Z,z={};for(M=0;M<arguments.length;M++)for(Z in arguments[M])Object.prototype.hasOwnProperty.call(arguments[M],Z)&&void 0===z[Z]&&(z[Z]=arguments[M][Z]);return z},o.prepareContent=function(M,Z,z,ie,pe){return G.Promise.resolve(Z).then(function(le){return R.blob&&(le instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(le)))&&typeof FileReader<"u"?new G.Promise(function(fe,we){var ve=new FileReader;ve.onload=function(Se){fe(Se.target.result)},ve.onerror=function(Se){we(Se.target.error)},ve.readAsArrayBuffer(le)}):le}).then(function(le){var we,fe=o.getTypeOf(le);return fe?("arraybuffer"===fe?le=o.transformTo("uint8array",le):"string"===fe&&(pe?le=A.decode(le):z&&!0!==ie&&(le=te(we=le,R.uint8array?new Uint8Array(we.length):new Array(we.length)))),le):G.Promise.reject(new Error("Can't read the data of '"+M+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(re,H,o){"use strict";var R=re("./reader/readerFor"),A=re("./utils"),N=re("./signature"),G=re("./zipEntry"),j=re("./support");function te(Q){this.files=[],this.loadOptions=Q}te.prototype={checkSignature:function(Q){if(!this.reader.readAndCheckSignature(Q)){this.reader.index-=4;var J=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+A.pretty(J)+", expected "+A.pretty(Q)+")")}},isSignature:function(Q,J){var k=this.reader.index;this.reader.setIndex(Q);var O=this.reader.readString(4)===J;return this.reader.setIndex(k),O},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var Q=this.reader.readData(this.zipCommentLength),k=A.transformTo(j.uint8array?"uint8array":"array",Q);this.zipComment=this.loadOptions.decodeFileName(k)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var Q,J,k,O=this.zip64EndOfCentralSize-44;0<O;)Q=this.reader.readInt(2),J=this.reader.readInt(4),k=this.reader.readData(J),this.zip64ExtensibleData[Q]={id:Q,length:J,value:k}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var Q,J;for(Q=0;Q<this.files.length;Q++)this.reader.setIndex((J=this.files[Q]).localHeaderOffset),this.checkSignature(N.LOCAL_FILE_HEADER),J.readLocalPart(this.reader),J.handleUTF8(),J.processAttributes()},readCentralDir:function(){var Q;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(N.CENTRAL_FILE_HEADER);)(Q=new G({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(Q);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var Q=this.reader.lastIndexOfSignature(N.CENTRAL_DIRECTORY_END);if(Q<0)throw this.isSignature(0,N.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(Q);var J=Q;if(this.checkSignature(N.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===A.MAX_VALUE_16BITS||this.diskWithCentralDirStart===A.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===A.MAX_VALUE_16BITS||this.centralDirRecords===A.MAX_VALUE_16BITS||this.centralDirSize===A.MAX_VALUE_32BITS||this.centralDirOffset===A.MAX_VALUE_32BITS){if(this.zip64=!0,(Q=this.reader.lastIndexOfSignature(N.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(Q),this.checkSignature(N.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,N.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(N.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(N.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var k=this.centralDirOffset+this.centralDirSize;this.zip64&&(k+=20,k+=12+this.zip64EndOfCentralSize);var O=J-k;if(0<O)this.isSignature(J,N.CENTRAL_FILE_HEADER)||(this.reader.zero=O);else if(O<0)throw new Error("Corrupted zip: missing "+Math.abs(O)+" bytes.")},prepareReader:function(Q){this.reader=R(Q)},load:function(Q){this.prepareReader(Q),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},H.exports=te},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(re,H,o){"use strict";var R=re("./reader/readerFor"),A=re("./utils"),N=re("./compressedObject"),G=re("./crc32"),j=re("./utf8"),te=re("./compressions"),Q=re("./support");function J(k,O){this.options=k,this.loadOptions=O}J.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(k){var O,M;if(k.skip(22),this.fileNameLength=k.readInt(2),M=k.readInt(2),this.fileName=k.readData(this.fileNameLength),k.skip(M),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(O=function(Z){for(var z in te)if(Object.prototype.hasOwnProperty.call(te,z)&&te[z].magic===Z)return te[z];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+A.pretty(this.compressionMethod)+" unknown (inner file : "+A.transformTo("string",this.fileName)+")");this.decompressed=new N(this.compressedSize,this.uncompressedSize,this.crc32,O,k.readData(this.compressedSize))},readCentralPart:function(k){this.versionMadeBy=k.readInt(2),k.skip(2),this.bitFlag=k.readInt(2),this.compressionMethod=k.readString(2),this.date=k.readDate(),this.crc32=k.readInt(4),this.compressedSize=k.readInt(4),this.uncompressedSize=k.readInt(4);var O=k.readInt(2);if(this.extraFieldsLength=k.readInt(2),this.fileCommentLength=k.readInt(2),this.diskNumberStart=k.readInt(2),this.internalFileAttributes=k.readInt(2),this.externalFileAttributes=k.readInt(4),this.localHeaderOffset=k.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");k.skip(O),this.readExtraFields(k),this.parseZIP64ExtraField(k),this.fileComment=k.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var k=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==k&&(this.dosPermissions=63&this.externalFileAttributes),3==k&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var k=R(this.extraFields[1].value);this.uncompressedSize===A.MAX_VALUE_32BITS&&(this.uncompressedSize=k.readInt(8)),this.compressedSize===A.MAX_VALUE_32BITS&&(this.compressedSize=k.readInt(8)),this.localHeaderOffset===A.MAX_VALUE_32BITS&&(this.localHeaderOffset=k.readInt(8)),this.diskNumberStart===A.MAX_VALUE_32BITS&&(this.diskNumberStart=k.readInt(4))}},readExtraFields:function(k){var O,M,Z,z=k.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});k.index+4<z;)O=k.readInt(2),M=k.readInt(2),Z=k.readData(M),this.extraFields[O]={id:O,length:M,value:Z};k.setIndex(z)},handleUTF8:function(){var k=Q.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=j.utf8decode(this.fileName),this.fileCommentStr=j.utf8decode(this.fileComment);else{var O=this.findExtraFieldUnicodePath();if(null!==O)this.fileNameStr=O;else{var M=A.transformTo(k,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(M)}var Z=this.findExtraFieldUnicodeComment();if(null!==Z)this.fileCommentStr=Z;else{var z=A.transformTo(k,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(z)}}},findExtraFieldUnicodePath:function(){var k=this.extraFields[28789];if(k){var O=R(k.value);return 1!==O.readInt(1)||G(this.fileName)!==O.readInt(4)?null:j.utf8decode(O.readData(k.length-5))}return null},findExtraFieldUnicodeComment:function(){var k=this.extraFields[25461];if(k){var O=R(k.value);return 1!==O.readInt(1)||G(this.fileComment)!==O.readInt(4)?null:j.utf8decode(O.readData(k.length-5))}return null}},H.exports=J},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(re,H,o){"use strict";function R(O,M,Z){this.name=O,this.dir=Z.dir,this.date=Z.date,this.comment=Z.comment,this.unixPermissions=Z.unixPermissions,this.dosPermissions=Z.dosPermissions,this._data=M,this._dataBinary=Z.binary,this.options={compression:Z.compression,compressionOptions:Z.compressionOptions}}var A=re("./stream/StreamHelper"),N=re("./stream/DataWorker"),G=re("./utf8"),j=re("./compressedObject"),te=re("./stream/GenericWorker");R.prototype={internalStream:function(O){var M=null,Z="string";try{if(!O)throw new Error("No output type specified.");var z="string"===(Z=O.toLowerCase())||"text"===Z;"binarystring"!==Z&&"text"!==Z||(Z="string"),M=this._decompressWorker();var ie=!this._dataBinary;ie&&!z&&(M=M.pipe(new G.Utf8EncodeWorker)),!ie&&z&&(M=M.pipe(new G.Utf8DecodeWorker))}catch(pe){(M=new te("error")).error(pe)}return new A(M,Z,"")},async:function(O,M){return this.internalStream(O).accumulate(M)},nodeStream:function(O,M){return this.internalStream(O||"nodebuffer").toNodejsStream(M)},_compressWorker:function(O,M){if(this._data instanceof j&&this._data.compression.magic===O.magic)return this._data.getCompressedWorker();var Z=this._decompressWorker();return this._dataBinary||(Z=Z.pipe(new G.Utf8EncodeWorker)),j.createWorkerFrom(Z,O,M)},_decompressWorker:function(){return this._data instanceof j?this._data.getContentWorker():this._data instanceof te?this._data:new N(this._data)}};for(var Q=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],J=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},k=0;k<Q.length;k++)R.prototype[Q[k]]=J;H.exports=R},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(re,H,o){(function(R){"use strict";var A,N,G=R.MutationObserver||R.WebKitMutationObserver;if(G){var j=0,te=new G(O),Q=R.document.createTextNode("");te.observe(Q,{characterData:!0}),A=function(){Q.data=j=++j%2}}else if(R.setImmediate||void 0===R.MessageChannel)A="document"in R&&"onreadystatechange"in R.document.createElement("script")?function(){var M=R.document.createElement("script");M.onreadystatechange=function(){O(),M.onreadystatechange=null,M.parentNode.removeChild(M),M=null},R.document.documentElement.appendChild(M)}:function(){setTimeout(O,0)};else{var J=new R.MessageChannel;J.port1.onmessage=O,A=function(){J.port2.postMessage(0)}}var k=[];function O(){var M,Z;N=!0;for(var z=k.length;z;){for(Z=k,k=[],M=-1;++M<z;)Z[M]();z=k.length}N=!1}H.exports=function(M){1!==k.push(M)||N||A()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(re,H,o){"use strict";var R=re("immediate");function A(){}var N={},G=["REJECTED"],j=["FULFILLED"],te=["PENDING"];function Q(z){if("function"!=typeof z)throw new TypeError("resolver must be a function");this.state=te,this.queue=[],this.outcome=void 0,z!==A&&M(this,z)}function J(z,ie,pe){this.promise=z,"function"==typeof ie&&(this.onFulfilled=ie,this.callFulfilled=this.otherCallFulfilled),"function"==typeof pe&&(this.onRejected=pe,this.callRejected=this.otherCallRejected)}function k(z,ie,pe){R(function(){var le;try{le=ie(pe)}catch(fe){return N.reject(z,fe)}le===z?N.reject(z,new TypeError("Cannot resolve promise with itself")):N.resolve(z,le)})}function O(z){var ie=z&&z.then;if(z&&("object"==typeof z||"function"==typeof z)&&"function"==typeof ie)return function(){ie.apply(z,arguments)}}function M(z,ie){var pe=!1;function le(ve){pe||(pe=!0,N.reject(z,ve))}function fe(ve){pe||(pe=!0,N.resolve(z,ve))}var we=Z(function(){ie(fe,le)});"error"===we.status&&le(we.value)}function Z(z,ie){var pe={};try{pe.value=z(ie),pe.status="success"}catch(le){pe.status="error",pe.value=le}return pe}(H.exports=Q).prototype.finally=function(z){if("function"!=typeof z)return this;var ie=this.constructor;return this.then(function(pe){return ie.resolve(z()).then(function(){return pe})},function(pe){return ie.resolve(z()).then(function(){throw pe})})},Q.prototype.catch=function(z){return this.then(null,z)},Q.prototype.then=function(z,ie){if("function"!=typeof z&&this.state===j||"function"!=typeof ie&&this.state===G)return this;var pe=new this.constructor(A);return this.state!==te?k(pe,this.state===j?z:ie,this.outcome):this.queue.push(new J(pe,z,ie)),pe},J.prototype.callFulfilled=function(z){N.resolve(this.promise,z)},J.prototype.otherCallFulfilled=function(z){k(this.promise,this.onFulfilled,z)},J.prototype.callRejected=function(z){N.reject(this.promise,z)},J.prototype.otherCallRejected=function(z){k(this.promise,this.onRejected,z)},N.resolve=function(z,ie){var pe=Z(O,ie);if("error"===pe.status)return N.reject(z,pe.value);var le=pe.value;if(le)M(z,le);else{z.state=j,z.outcome=ie;for(var fe=-1,we=z.queue.length;++fe<we;)z.queue[fe].callFulfilled(ie)}return z},N.reject=function(z,ie){z.state=G,z.outcome=ie;for(var pe=-1,le=z.queue.length;++pe<le;)z.queue[pe].callRejected(ie);return z},Q.resolve=function(z){return z instanceof this?z:N.resolve(new this(A),z)},Q.reject=function(z){var ie=new this(A);return N.reject(ie,z)},Q.all=function(z){var ie=this;if("[object Array]"!==Object.prototype.toString.call(z))return this.reject(new TypeError("must be an array"));var pe=z.length,le=!1;if(!pe)return this.resolve([]);for(var fe=new Array(pe),we=0,ve=-1,Se=new this(A);++ve<pe;)_e(z[ve],ve);return Se;function _e(Me,qe){ie.resolve(Me).then(function(oe){fe[qe]=oe,++we!==pe||le||(le=!0,N.resolve(Se,fe))},function(oe){le||(le=!0,N.reject(Se,oe))})}},Q.race=function(z){if("[object Array]"!==Object.prototype.toString.call(z))return this.reject(new TypeError("must be an array"));var pe=z.length,le=!1;if(!pe)return this.resolve([]);for(var fe=-1,we=new this(A);++fe<pe;)this.resolve(z[fe]).then(function(Se){le||(le=!0,N.resolve(we,Se))},function(Se){le||(le=!0,N.reject(we,Se))});return we}},{immediate:36}],38:[function(re,H,o){"use strict";var R={};(0,re("./lib/utils/common").assign)(R,re("./lib/deflate"),re("./lib/inflate"),re("./lib/zlib/constants")),H.exports=R},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(re,H,o){"use strict";var R=re("./zlib/deflate"),A=re("./utils/common"),N=re("./utils/strings"),G=re("./zlib/messages"),j=re("./zlib/zstream"),te=Object.prototype.toString,Q=0,J=-1,k=0,O=8;function M(z){if(!(this instanceof M))return new M(z);this.options=A.assign({level:J,method:O,chunkSize:16384,windowBits:15,memLevel:8,strategy:k,to:""},z||{});var ie=this.options;ie.raw&&0<ie.windowBits?ie.windowBits=-ie.windowBits:ie.gzip&&0<ie.windowBits&&ie.windowBits<16&&(ie.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new j,this.strm.avail_out=0;var pe=R.deflateInit2(this.strm,ie.level,ie.method,ie.windowBits,ie.memLevel,ie.strategy);if(pe!==Q)throw new Error(G[pe]);if(ie.header&&R.deflateSetHeader(this.strm,ie.header),ie.dictionary){var le;if(le="string"==typeof ie.dictionary?N.string2buf(ie.dictionary):"[object ArrayBuffer]"===te.call(ie.dictionary)?new Uint8Array(ie.dictionary):ie.dictionary,(pe=R.deflateSetDictionary(this.strm,le))!==Q)throw new Error(G[pe]);this._dict_set=!0}}function Z(z,ie){var pe=new M(ie);if(pe.push(z,!0),pe.err)throw pe.msg||G[pe.err];return pe.result}M.prototype.push=function(z,ie){var pe,le,fe=this.strm,we=this.options.chunkSize;if(this.ended)return!1;le=ie===~~ie?ie:!0===ie?4:0,fe.input="string"==typeof z?N.string2buf(z):"[object ArrayBuffer]"===te.call(z)?new Uint8Array(z):z,fe.next_in=0,fe.avail_in=fe.input.length;do{if(0===fe.avail_out&&(fe.output=new A.Buf8(we),fe.next_out=0,fe.avail_out=we),1!==(pe=R.deflate(fe,le))&&pe!==Q)return this.onEnd(pe),!(this.ended=!0);0!==fe.avail_out&&(0!==fe.avail_in||4!==le&&2!==le)||this.onData("string"===this.options.to?N.buf2binstring(A.shrinkBuf(fe.output,fe.next_out)):A.shrinkBuf(fe.output,fe.next_out))}while((0<fe.avail_in||0===fe.avail_out)&&1!==pe);return 4===le?(pe=R.deflateEnd(this.strm),this.onEnd(pe),this.ended=!0,pe===Q):2!==le||(this.onEnd(Q),!(fe.avail_out=0))},M.prototype.onData=function(z){this.chunks.push(z)},M.prototype.onEnd=function(z){z===Q&&(this.result="string"===this.options.to?this.chunks.join(""):A.flattenChunks(this.chunks)),this.chunks=[],this.err=z,this.msg=this.strm.msg},o.Deflate=M,o.deflate=Z,o.deflateRaw=function(z,ie){return(ie=ie||{}).raw=!0,Z(z,ie)},o.gzip=function(z,ie){return(ie=ie||{}).gzip=!0,Z(z,ie)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(re,H,o){"use strict";var R=re("./zlib/inflate"),A=re("./utils/common"),N=re("./utils/strings"),G=re("./zlib/constants"),j=re("./zlib/messages"),te=re("./zlib/zstream"),Q=re("./zlib/gzheader"),J=Object.prototype.toString;function k(M){if(!(this instanceof k))return new k(M);this.options=A.assign({chunkSize:16384,windowBits:0,to:""},M||{});var Z=this.options;Z.raw&&0<=Z.windowBits&&Z.windowBits<16&&(Z.windowBits=-Z.windowBits,0===Z.windowBits&&(Z.windowBits=-15)),!(0<=Z.windowBits&&Z.windowBits<16)||M&&M.windowBits||(Z.windowBits+=32),15<Z.windowBits&&Z.windowBits<48&&!(15&Z.windowBits)&&(Z.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new te,this.strm.avail_out=0;var z=R.inflateInit2(this.strm,Z.windowBits);if(z!==G.Z_OK)throw new Error(j[z]);this.header=new Q,R.inflateGetHeader(this.strm,this.header)}function O(M,Z){var z=new k(Z);if(z.push(M,!0),z.err)throw z.msg||j[z.err];return z.result}k.prototype.push=function(M,Z){var z,ie,pe,le,fe,we,ve=this.strm,Se=this.options.chunkSize,_e=this.options.dictionary,Me=!1;if(this.ended)return!1;ie=Z===~~Z?Z:!0===Z?G.Z_FINISH:G.Z_NO_FLUSH,ve.input="string"==typeof M?N.binstring2buf(M):"[object ArrayBuffer]"===J.call(M)?new Uint8Array(M):M,ve.next_in=0,ve.avail_in=ve.input.length;do{if(0===ve.avail_out&&(ve.output=new A.Buf8(Se),ve.next_out=0,ve.avail_out=Se),(z=R.inflate(ve,G.Z_NO_FLUSH))===G.Z_NEED_DICT&&_e&&(we="string"==typeof _e?N.string2buf(_e):"[object ArrayBuffer]"===J.call(_e)?new Uint8Array(_e):_e,z=R.inflateSetDictionary(this.strm,we)),z===G.Z_BUF_ERROR&&!0===Me&&(z=G.Z_OK,Me=!1),z!==G.Z_STREAM_END&&z!==G.Z_OK)return this.onEnd(z),!(this.ended=!0);ve.next_out&&(0!==ve.avail_out&&z!==G.Z_STREAM_END&&(0!==ve.avail_in||ie!==G.Z_FINISH&&ie!==G.Z_SYNC_FLUSH)||("string"===this.options.to?(pe=N.utf8border(ve.output,ve.next_out),le=ve.next_out-pe,fe=N.buf2string(ve.output,pe),ve.next_out=le,ve.avail_out=Se-le,le&&A.arraySet(ve.output,ve.output,pe,le,0),this.onData(fe)):this.onData(A.shrinkBuf(ve.output,ve.next_out)))),0===ve.avail_in&&0===ve.avail_out&&(Me=!0)}while((0<ve.avail_in||0===ve.avail_out)&&z!==G.Z_STREAM_END);return z===G.Z_STREAM_END&&(ie=G.Z_FINISH),ie===G.Z_FINISH?(z=R.inflateEnd(this.strm),this.onEnd(z),this.ended=!0,z===G.Z_OK):ie!==G.Z_SYNC_FLUSH||(this.onEnd(G.Z_OK),!(ve.avail_out=0))},k.prototype.onData=function(M){this.chunks.push(M)},k.prototype.onEnd=function(M){M===G.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):A.flattenChunks(this.chunks)),this.chunks=[],this.err=M,this.msg=this.strm.msg},o.Inflate=k,o.inflate=O,o.inflateRaw=function(M,Z){return(Z=Z||{}).raw=!0,O(M,Z)},o.ungzip=O},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(re,H,o){"use strict";var R=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";o.assign=function(G){for(var j=Array.prototype.slice.call(arguments,1);j.length;){var te=j.shift();if(te){if("object"!=typeof te)throw new TypeError(te+"must be non-object");for(var Q in te)te.hasOwnProperty(Q)&&(G[Q]=te[Q])}}return G},o.shrinkBuf=function(G,j){return G.length===j?G:G.subarray?G.subarray(0,j):(G.length=j,G)};var A={arraySet:function(G,j,te,Q,J){if(j.subarray&&G.subarray)G.set(j.subarray(te,te+Q),J);else for(var k=0;k<Q;k++)G[J+k]=j[te+k]},flattenChunks:function(G){var j,te,Q,J,k,O;for(j=Q=0,te=G.length;j<te;j++)Q+=G[j].length;for(O=new Uint8Array(Q),j=J=0,te=G.length;j<te;j++)O.set(k=G[j],J),J+=k.length;return O}},N={arraySet:function(G,j,te,Q,J){for(var k=0;k<Q;k++)G[J+k]=j[te+k]},flattenChunks:function(G){return[].concat.apply([],G)}};o.setTyped=function(G){G?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,A)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,N))},o.setTyped(R)},{}],42:[function(re,H,o){"use strict";var R=re("./common"),A=!0,N=!0;try{String.fromCharCode.apply(null,[0])}catch{A=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{N=!1}for(var G=new R.Buf8(256),j=0;j<256;j++)G[j]=252<=j?6:248<=j?5:240<=j?4:224<=j?3:192<=j?2:1;function te(Q,J){if(J<65537&&(Q.subarray&&N||!Q.subarray&&A))return String.fromCharCode.apply(null,R.shrinkBuf(Q,J));for(var k="",O=0;O<J;O++)k+=String.fromCharCode(Q[O]);return k}G[254]=G[254]=1,o.string2buf=function(Q){var J,k,O,M,Z,z=Q.length,ie=0;for(M=0;M<z;M++)55296==(64512&(k=Q.charCodeAt(M)))&&M+1<z&&56320==(64512&(O=Q.charCodeAt(M+1)))&&(k=65536+(k-55296<<10)+(O-56320),M++),ie+=k<128?1:k<2048?2:k<65536?3:4;for(J=new R.Buf8(ie),M=Z=0;Z<ie;M++)55296==(64512&(k=Q.charCodeAt(M)))&&M+1<z&&56320==(64512&(O=Q.charCodeAt(M+1)))&&(k=65536+(k-55296<<10)+(O-56320),M++),k<128?J[Z++]=k:(k<2048?J[Z++]=192|k>>>6:(k<65536?J[Z++]=224|k>>>12:(J[Z++]=240|k>>>18,J[Z++]=128|k>>>12&63),J[Z++]=128|k>>>6&63),J[Z++]=128|63&k);return J},o.buf2binstring=function(Q){return te(Q,Q.length)},o.binstring2buf=function(Q){for(var J=new R.Buf8(Q.length),k=0,O=J.length;k<O;k++)J[k]=Q.charCodeAt(k);return J},o.buf2string=function(Q,J){var k,O,M,Z,z=J||Q.length,ie=new Array(2*z);for(k=O=0;k<z;)if((M=Q[k++])<128)ie[O++]=M;else if(4<(Z=G[M]))ie[O++]=65533,k+=Z-1;else{for(M&=2===Z?31:3===Z?15:7;1<Z&&k<z;)M=M<<6|63&Q[k++],Z--;1<Z?ie[O++]=65533:M<65536?ie[O++]=M:(ie[O++]=55296|(M-=65536)>>10&1023,ie[O++]=56320|1023&M)}return te(ie,O)},o.utf8border=function(Q,J){var k;for((J=J||Q.length)>Q.length&&(J=Q.length),k=J-1;0<=k&&128==(192&Q[k]);)k--;return k<0||0===k?J:k+G[Q[k]]>J?k:J}},{"./common":41}],43:[function(re,H,o){"use strict";H.exports=function(R,A,N,G){for(var j=65535&R|0,te=R>>>16&65535|0,Q=0;0!==N;){for(N-=Q=2e3<N?2e3:N;te=te+(j=j+A[G++]|0)|0,--Q;);j%=65521,te%=65521}return j|te<<16|0}},{}],44:[function(re,H,o){"use strict";H.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(re,H,o){"use strict";var R=function(){for(var A,N=[],G=0;G<256;G++){A=G;for(var j=0;j<8;j++)A=1&A?3988292384^A>>>1:A>>>1;N[G]=A}return N}();H.exports=function(A,N,G,j){var te=R,Q=j+G;A^=-1;for(var J=j;J<Q;J++)A=A>>>8^te[255&(A^N[J])];return-1^A}},{}],46:[function(re,H,o){"use strict";var R,A=re("../utils/common"),N=re("./trees"),G=re("./adler32"),j=re("./crc32"),te=re("./messages"),Q=0,J=4,k=0,O=-2,M=-1,Z=4,z=2,ie=8,pe=9,le=286,fe=30,we=19,ve=2*le+1,Se=15,_e=3,Me=258,qe=Me+_e+1,oe=42,he=113,U=1,Ne=2,rt=3,Ze=4;function lt(L,Qe){return L.msg=te[Qe],Qe}function ut(L){return(L<<1)-(4<L?9:0)}function Lt(L){for(var Qe=L.length;0<=--Qe;)L[Qe]=0}function He(L){var Qe=L.state,Pe=Qe.pending;Pe>L.avail_out&&(Pe=L.avail_out),0!==Pe&&(A.arraySet(L.output,Qe.pending_buf,Qe.pending_out,Pe,L.next_out),L.next_out+=Pe,Qe.pending_out+=Pe,L.total_out+=Pe,L.avail_out-=Pe,Qe.pending-=Pe,0===Qe.pending&&(Qe.pending_out=0))}function Be(L,Qe){N._tr_flush_block(L,0<=L.block_start?L.block_start:-1,L.strstart-L.block_start,Qe),L.block_start=L.strstart,He(L.strm)}function Ae(L,Qe){L.pending_buf[L.pending++]=Qe}function De(L,Qe){L.pending_buf[L.pending++]=Qe>>>8&255,L.pending_buf[L.pending++]=255&Qe}function xe(L,Qe){var Pe,ce,ae=L.max_chain_length,Te=L.strstart,tt=L.prev_length,Xe=L.nice_match,be=L.strstart>L.w_size-qe?L.strstart-(L.w_size-qe):0,ot=L.window,xt=L.w_mask,st=L.prev,Mt=L.strstart+Me,vn=ot[Te+tt-1],Rt=ot[Te+tt];L.prev_length>=L.good_match&&(ae>>=2),Xe>L.lookahead&&(Xe=L.lookahead);do{if(ot[(Pe=Qe)+tt]===Rt&&ot[Pe+tt-1]===vn&&ot[Pe]===ot[Te]&&ot[++Pe]===ot[Te+1]){Te+=2,Pe++;do{}while(ot[++Te]===ot[++Pe]&&ot[++Te]===ot[++Pe]&&ot[++Te]===ot[++Pe]&&ot[++Te]===ot[++Pe]&&ot[++Te]===ot[++Pe]&&ot[++Te]===ot[++Pe]&&ot[++Te]===ot[++Pe]&&ot[++Te]===ot[++Pe]&&Te<Mt);if(ce=Me-(Mt-Te),Te=Mt-Me,tt<ce){if(L.match_start=Qe,Xe<=(tt=ce))break;vn=ot[Te+tt-1],Rt=ot[Te+tt]}}}while((Qe=st[Qe&xt])>be&&0!=--ae);return tt<=L.lookahead?tt:L.lookahead}function Ie(L){var Qe,Pe,ce,ae,Te,tt,Xe,be,ot,xt,st=L.w_size;do{if(ae=L.window_size-L.lookahead-L.strstart,L.strstart>=st+(st-qe)){for(A.arraySet(L.window,L.window,st,st,0),L.match_start-=st,L.strstart-=st,L.block_start-=st,Qe=Pe=L.hash_size;ce=L.head[--Qe],L.head[Qe]=st<=ce?ce-st:0,--Pe;);for(Qe=Pe=st;ce=L.prev[--Qe],L.prev[Qe]=st<=ce?ce-st:0,--Pe;);ae+=st}if(0===L.strm.avail_in)break;if(Xe=L.window,be=L.strstart+L.lookahead,xt=void 0,(ot=ae)<(xt=(tt=L.strm).avail_in)&&(xt=ot),Pe=0===xt?0:(tt.avail_in-=xt,A.arraySet(Xe,tt.input,tt.next_in,xt,be),1===tt.state.wrap?tt.adler=G(tt.adler,Xe,xt,be):2===tt.state.wrap&&(tt.adler=j(tt.adler,Xe,xt,be)),tt.next_in+=xt,tt.total_in+=xt,xt),L.lookahead+=Pe,L.lookahead+L.insert>=_e)for(L.ins_h=L.window[Te=L.strstart-L.insert],L.ins_h=(L.ins_h<<L.hash_shift^L.window[Te+1])&L.hash_mask;L.insert&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[Te+_e-1])&L.hash_mask,L.prev[Te&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=Te,Te++,L.insert--,!(L.lookahead+L.insert<_e)););}while(L.lookahead<qe&&0!==L.strm.avail_in)}function We(L,Qe){for(var Pe,ce;;){if(L.lookahead<qe){if(Ie(L),L.lookahead<qe&&Qe===Q)return U;if(0===L.lookahead)break}if(Pe=0,L.lookahead>=_e&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+_e-1])&L.hash_mask,Pe=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart),0!==Pe&&L.strstart-Pe<=L.w_size-qe&&(L.match_length=xe(L,Pe)),L.match_length>=_e)if(ce=N._tr_tally(L,L.strstart-L.match_start,L.match_length-_e),L.lookahead-=L.match_length,L.match_length<=L.max_lazy_match&&L.lookahead>=_e){for(L.match_length--;L.strstart++,L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+_e-1])&L.hash_mask,Pe=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart,0!=--L.match_length;);L.strstart++}else L.strstart+=L.match_length,L.match_length=0,L.ins_h=L.window[L.strstart],L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+1])&L.hash_mask;else ce=N._tr_tally(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++;if(ce&&(Be(L,!1),0===L.strm.avail_out))return U}return L.insert=L.strstart<_e-1?L.strstart:_e-1,Qe===J?(Be(L,!0),0===L.strm.avail_out?rt:Ze):L.last_lit&&(Be(L,!1),0===L.strm.avail_out)?U:Ne}function Ke(L,Qe){for(var Pe,ce,ae;;){if(L.lookahead<qe){if(Ie(L),L.lookahead<qe&&Qe===Q)return U;if(0===L.lookahead)break}if(Pe=0,L.lookahead>=_e&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+_e-1])&L.hash_mask,Pe=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart),L.prev_length=L.match_length,L.prev_match=L.match_start,L.match_length=_e-1,0!==Pe&&L.prev_length<L.max_lazy_match&&L.strstart-Pe<=L.w_size-qe&&(L.match_length=xe(L,Pe),L.match_length<=5&&(1===L.strategy||L.match_length===_e&&4096<L.strstart-L.match_start)&&(L.match_length=_e-1)),L.prev_length>=_e&&L.match_length<=L.prev_length){for(ae=L.strstart+L.lookahead-_e,ce=N._tr_tally(L,L.strstart-1-L.prev_match,L.prev_length-_e),L.lookahead-=L.prev_length-1,L.prev_length-=2;++L.strstart<=ae&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+_e-1])&L.hash_mask,Pe=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart),0!=--L.prev_length;);if(L.match_available=0,L.match_length=_e-1,L.strstart++,ce&&(Be(L,!1),0===L.strm.avail_out))return U}else if(L.match_available){if((ce=N._tr_tally(L,0,L.window[L.strstart-1]))&&Be(L,!1),L.strstart++,L.lookahead--,0===L.strm.avail_out)return U}else L.match_available=1,L.strstart++,L.lookahead--}return L.match_available&&(ce=N._tr_tally(L,0,L.window[L.strstart-1]),L.match_available=0),L.insert=L.strstart<_e-1?L.strstart:_e-1,Qe===J?(Be(L,!0),0===L.strm.avail_out?rt:Ze):L.last_lit&&(Be(L,!1),0===L.strm.avail_out)?U:Ne}function ft(L,Qe,Pe,ce,ae){this.good_length=L,this.max_lazy=Qe,this.nice_length=Pe,this.max_chain=ce,this.func=ae}function vt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ie,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new A.Buf16(2*ve),this.dyn_dtree=new A.Buf16(2*(2*fe+1)),this.bl_tree=new A.Buf16(2*(2*we+1)),Lt(this.dyn_ltree),Lt(this.dyn_dtree),Lt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new A.Buf16(Se+1),this.heap=new A.Buf16(2*le+1),Lt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new A.Buf16(2*le+1),Lt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Gt(L){var Qe;return L&&L.state?(L.total_in=L.total_out=0,L.data_type=z,(Qe=L.state).pending=0,Qe.pending_out=0,Qe.wrap<0&&(Qe.wrap=-Qe.wrap),Qe.status=Qe.wrap?oe:he,L.adler=2===Qe.wrap?0:1,Qe.last_flush=Q,N._tr_init(Qe),k):lt(L,O)}function Ft(L){var Pe,Qe=Gt(L);return Qe===k&&((Pe=L.state).window_size=2*Pe.w_size,Lt(Pe.head),Pe.max_lazy_match=R[Pe.level].max_lazy,Pe.good_match=R[Pe.level].good_length,Pe.nice_match=R[Pe.level].nice_length,Pe.max_chain_length=R[Pe.level].max_chain,Pe.strstart=0,Pe.block_start=0,Pe.lookahead=0,Pe.insert=0,Pe.match_length=Pe.prev_length=_e-1,Pe.match_available=0,Pe.ins_h=0),Qe}function rn(L,Qe,Pe,ce,ae,Te){if(!L)return O;var tt=1;if(Qe===M&&(Qe=6),ce<0?(tt=0,ce=-ce):15<ce&&(tt=2,ce-=16),ae<1||pe<ae||Pe!==ie||ce<8||15<ce||Qe<0||9<Qe||Te<0||Z<Te)return lt(L,O);8===ce&&(ce=9);var Xe=new vt;return(L.state=Xe).strm=L,Xe.wrap=tt,Xe.gzhead=null,Xe.w_bits=ce,Xe.w_size=1<<Xe.w_bits,Xe.w_mask=Xe.w_size-1,Xe.hash_bits=ae+7,Xe.hash_size=1<<Xe.hash_bits,Xe.hash_mask=Xe.hash_size-1,Xe.hash_shift=~~((Xe.hash_bits+_e-1)/_e),Xe.window=new A.Buf8(2*Xe.w_size),Xe.head=new A.Buf16(Xe.hash_size),Xe.prev=new A.Buf16(Xe.w_size),Xe.lit_bufsize=1<<ae+6,Xe.pending_buf_size=4*Xe.lit_bufsize,Xe.pending_buf=new A.Buf8(Xe.pending_buf_size),Xe.d_buf=1*Xe.lit_bufsize,Xe.l_buf=3*Xe.lit_bufsize,Xe.level=Qe,Xe.strategy=Te,Xe.method=Pe,Ft(L)}R=[new ft(0,0,0,0,function(L,Qe){var Pe=65535;for(Pe>L.pending_buf_size-5&&(Pe=L.pending_buf_size-5);;){if(L.lookahead<=1){if(Ie(L),0===L.lookahead&&Qe===Q)return U;if(0===L.lookahead)break}L.strstart+=L.lookahead,L.lookahead=0;var ce=L.block_start+Pe;if((0===L.strstart||L.strstart>=ce)&&(L.lookahead=L.strstart-ce,L.strstart=ce,Be(L,!1),0===L.strm.avail_out)||L.strstart-L.block_start>=L.w_size-qe&&(Be(L,!1),0===L.strm.avail_out))return U}return L.insert=0,Qe===J?(Be(L,!0),0===L.strm.avail_out?rt:Ze):(L.strstart>L.block_start&&Be(L,!1),U)}),new ft(4,4,8,4,We),new ft(4,5,16,8,We),new ft(4,6,32,32,We),new ft(4,4,16,16,Ke),new ft(8,16,32,32,Ke),new ft(8,16,128,128,Ke),new ft(8,32,128,256,Ke),new ft(32,128,258,1024,Ke),new ft(32,258,258,4096,Ke)],o.deflateInit=function(L,Qe){return rn(L,Qe,ie,15,8,0)},o.deflateInit2=rn,o.deflateReset=Ft,o.deflateResetKeep=Gt,o.deflateSetHeader=function(L,Qe){return L&&L.state?2!==L.state.wrap?O:(L.state.gzhead=Qe,k):O},o.deflate=function(L,Qe){var Pe,ce,ae,Te;if(!L||!L.state||5<Qe||Qe<0)return L?lt(L,O):O;if(ce=L.state,!L.output||!L.input&&0!==L.avail_in||666===ce.status&&Qe!==J)return lt(L,0===L.avail_out?-5:O);if(ce.strm=L,Pe=ce.last_flush,ce.last_flush=Qe,ce.status===oe)if(2===ce.wrap)L.adler=0,Ae(ce,31),Ae(ce,139),Ae(ce,8),ce.gzhead?(Ae(ce,(ce.gzhead.text?1:0)+(ce.gzhead.hcrc?2:0)+(ce.gzhead.extra?4:0)+(ce.gzhead.name?8:0)+(ce.gzhead.comment?16:0)),Ae(ce,255&ce.gzhead.time),Ae(ce,ce.gzhead.time>>8&255),Ae(ce,ce.gzhead.time>>16&255),Ae(ce,ce.gzhead.time>>24&255),Ae(ce,9===ce.level?2:2<=ce.strategy||ce.level<2?4:0),Ae(ce,255&ce.gzhead.os),ce.gzhead.extra&&ce.gzhead.extra.length&&(Ae(ce,255&ce.gzhead.extra.length),Ae(ce,ce.gzhead.extra.length>>8&255)),ce.gzhead.hcrc&&(L.adler=j(L.adler,ce.pending_buf,ce.pending,0)),ce.gzindex=0,ce.status=69):(Ae(ce,0),Ae(ce,0),Ae(ce,0),Ae(ce,0),Ae(ce,0),Ae(ce,9===ce.level?2:2<=ce.strategy||ce.level<2?4:0),Ae(ce,3),ce.status=he);else{var tt=ie+(ce.w_bits-8<<4)<<8;tt|=(2<=ce.strategy||ce.level<2?0:ce.level<6?1:6===ce.level?2:3)<<6,0!==ce.strstart&&(tt|=32),tt+=31-tt%31,ce.status=he,De(ce,tt),0!==ce.strstart&&(De(ce,L.adler>>>16),De(ce,65535&L.adler)),L.adler=1}if(69===ce.status)if(ce.gzhead.extra){for(ae=ce.pending;ce.gzindex<(65535&ce.gzhead.extra.length)&&(ce.pending!==ce.pending_buf_size||(ce.gzhead.hcrc&&ce.pending>ae&&(L.adler=j(L.adler,ce.pending_buf,ce.pending-ae,ae)),He(L),ae=ce.pending,ce.pending!==ce.pending_buf_size));)Ae(ce,255&ce.gzhead.extra[ce.gzindex]),ce.gzindex++;ce.gzhead.hcrc&&ce.pending>ae&&(L.adler=j(L.adler,ce.pending_buf,ce.pending-ae,ae)),ce.gzindex===ce.gzhead.extra.length&&(ce.gzindex=0,ce.status=73)}else ce.status=73;if(73===ce.status)if(ce.gzhead.name){ae=ce.pending;do{if(ce.pending===ce.pending_buf_size&&(ce.gzhead.hcrc&&ce.pending>ae&&(L.adler=j(L.adler,ce.pending_buf,ce.pending-ae,ae)),He(L),ae=ce.pending,ce.pending===ce.pending_buf_size)){Te=1;break}Te=ce.gzindex<ce.gzhead.name.length?255&ce.gzhead.name.charCodeAt(ce.gzindex++):0,Ae(ce,Te)}while(0!==Te);ce.gzhead.hcrc&&ce.pending>ae&&(L.adler=j(L.adler,ce.pending_buf,ce.pending-ae,ae)),0===Te&&(ce.gzindex=0,ce.status=91)}else ce.status=91;if(91===ce.status)if(ce.gzhead.comment){ae=ce.pending;do{if(ce.pending===ce.pending_buf_size&&(ce.gzhead.hcrc&&ce.pending>ae&&(L.adler=j(L.adler,ce.pending_buf,ce.pending-ae,ae)),He(L),ae=ce.pending,ce.pending===ce.pending_buf_size)){Te=1;break}Te=ce.gzindex<ce.gzhead.comment.length?255&ce.gzhead.comment.charCodeAt(ce.gzindex++):0,Ae(ce,Te)}while(0!==Te);ce.gzhead.hcrc&&ce.pending>ae&&(L.adler=j(L.adler,ce.pending_buf,ce.pending-ae,ae)),0===Te&&(ce.status=103)}else ce.status=103;if(103===ce.status&&(ce.gzhead.hcrc?(ce.pending+2>ce.pending_buf_size&&He(L),ce.pending+2<=ce.pending_buf_size&&(Ae(ce,255&L.adler),Ae(ce,L.adler>>8&255),L.adler=0,ce.status=he)):ce.status=he),0!==ce.pending){if(He(L),0===L.avail_out)return ce.last_flush=-1,k}else if(0===L.avail_in&&ut(Qe)<=ut(Pe)&&Qe!==J)return lt(L,-5);if(666===ce.status&&0!==L.avail_in)return lt(L,-5);if(0!==L.avail_in||0!==ce.lookahead||Qe!==Q&&666!==ce.status){var Xe=2===ce.strategy?function(be,ot){for(var xt;;){if(0===be.lookahead&&(Ie(be),0===be.lookahead)){if(ot===Q)return U;break}if(be.match_length=0,xt=N._tr_tally(be,0,be.window[be.strstart]),be.lookahead--,be.strstart++,xt&&(Be(be,!1),0===be.strm.avail_out))return U}return be.insert=0,ot===J?(Be(be,!0),0===be.strm.avail_out?rt:Ze):be.last_lit&&(Be(be,!1),0===be.strm.avail_out)?U:Ne}(ce,Qe):3===ce.strategy?function(be,ot){for(var xt,st,Mt,vn,Rt=be.window;;){if(be.lookahead<=Me){if(Ie(be),be.lookahead<=Me&&ot===Q)return U;if(0===be.lookahead)break}if(be.match_length=0,be.lookahead>=_e&&0<be.strstart&&(st=Rt[Mt=be.strstart-1])===Rt[++Mt]&&st===Rt[++Mt]&&st===Rt[++Mt]){vn=be.strstart+Me;do{}while(st===Rt[++Mt]&&st===Rt[++Mt]&&st===Rt[++Mt]&&st===Rt[++Mt]&&st===Rt[++Mt]&&st===Rt[++Mt]&&st===Rt[++Mt]&&st===Rt[++Mt]&&Mt<vn);be.match_length=Me-(vn-Mt),be.match_length>be.lookahead&&(be.match_length=be.lookahead)}if(be.match_length>=_e?(xt=N._tr_tally(be,1,be.match_length-_e),be.lookahead-=be.match_length,be.strstart+=be.match_length,be.match_length=0):(xt=N._tr_tally(be,0,be.window[be.strstart]),be.lookahead--,be.strstart++),xt&&(Be(be,!1),0===be.strm.avail_out))return U}return be.insert=0,ot===J?(Be(be,!0),0===be.strm.avail_out?rt:Ze):be.last_lit&&(Be(be,!1),0===be.strm.avail_out)?U:Ne}(ce,Qe):R[ce.level].func(ce,Qe);if(Xe!==rt&&Xe!==Ze||(ce.status=666),Xe===U||Xe===rt)return 0===L.avail_out&&(ce.last_flush=-1),k;if(Xe===Ne&&(1===Qe?N._tr_align(ce):5!==Qe&&(N._tr_stored_block(ce,0,0,!1),3===Qe&&(Lt(ce.head),0===ce.lookahead&&(ce.strstart=0,ce.block_start=0,ce.insert=0))),He(L),0===L.avail_out))return ce.last_flush=-1,k}return Qe!==J?k:ce.wrap<=0?1:(2===ce.wrap?(Ae(ce,255&L.adler),Ae(ce,L.adler>>8&255),Ae(ce,L.adler>>16&255),Ae(ce,L.adler>>24&255),Ae(ce,255&L.total_in),Ae(ce,L.total_in>>8&255),Ae(ce,L.total_in>>16&255),Ae(ce,L.total_in>>24&255)):(De(ce,L.adler>>>16),De(ce,65535&L.adler)),He(L),0<ce.wrap&&(ce.wrap=-ce.wrap),0!==ce.pending?k:1)},o.deflateEnd=function(L){var Qe;return L&&L.state?(Qe=L.state.status)!==oe&&69!==Qe&&73!==Qe&&91!==Qe&&103!==Qe&&Qe!==he&&666!==Qe?lt(L,O):(L.state=null,Qe===he?lt(L,-3):k):O},o.deflateSetDictionary=function(L,Qe){var Pe,ce,ae,Te,tt,Xe,be,ot,xt=Qe.length;if(!L||!L.state||2===(Te=(Pe=L.state).wrap)||1===Te&&Pe.status!==oe||Pe.lookahead)return O;for(1===Te&&(L.adler=G(L.adler,Qe,xt,0)),Pe.wrap=0,xt>=Pe.w_size&&(0===Te&&(Lt(Pe.head),Pe.strstart=0,Pe.block_start=0,Pe.insert=0),ot=new A.Buf8(Pe.w_size),A.arraySet(ot,Qe,xt-Pe.w_size,Pe.w_size,0),Qe=ot,xt=Pe.w_size),tt=L.avail_in,Xe=L.next_in,be=L.input,L.avail_in=xt,L.next_in=0,L.input=Qe,Ie(Pe);Pe.lookahead>=_e;){for(ce=Pe.strstart,ae=Pe.lookahead-(_e-1);Pe.ins_h=(Pe.ins_h<<Pe.hash_shift^Pe.window[ce+_e-1])&Pe.hash_mask,Pe.prev[ce&Pe.w_mask]=Pe.head[Pe.ins_h],Pe.head[Pe.ins_h]=ce,ce++,--ae;);Pe.strstart=ce,Pe.lookahead=_e-1,Ie(Pe)}return Pe.strstart+=Pe.lookahead,Pe.block_start=Pe.strstart,Pe.insert=Pe.lookahead,Pe.lookahead=0,Pe.match_length=Pe.prev_length=_e-1,Pe.match_available=0,L.next_in=Xe,L.input=be,L.avail_in=tt,Pe.wrap=Te,k},o.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(re,H,o){"use strict";H.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(re,H,o){"use strict";H.exports=function(R,A){var N,G,j,te,Q,J,k,O,M,Z,z,ie,pe,le,fe,we,ve,Se,_e,Me,qe,oe,he,U,Ne;U=R.input,j=(G=R.next_in)+(R.avail_in-5),Ne=R.output,Q=(te=R.next_out)-(A-R.avail_out),J=te+(R.avail_out-257),k=(N=R.state).dmax,O=N.wsize,M=N.whave,Z=N.wnext,z=N.window,ie=N.hold,pe=N.bits,le=N.lencode,fe=N.distcode,we=(1<<N.lenbits)-1,ve=(1<<N.distbits)-1;e:do{pe<15&&(ie+=U[G++]<<pe,ie+=U[G++]<<(pe+=8),pe+=8),Se=le[ie&we];t:for(;;){if(ie>>>=_e=Se>>>24,pe-=_e,0==(_e=Se>>>16&255))Ne[te++]=65535&Se;else{if(!(16&_e)){if(!(64&_e)){Se=le[(65535&Se)+(ie&(1<<_e)-1)];continue t}if(32&_e){N.mode=12;break e}R.msg="invalid literal/length code",N.mode=30;break e}Me=65535&Se,(_e&=15)&&(pe<_e&&(ie+=U[G++]<<pe,pe+=8),Me+=ie&(1<<_e)-1,ie>>>=_e,pe-=_e),pe<15&&(ie+=U[G++]<<pe,ie+=U[G++]<<(pe+=8),pe+=8),Se=fe[ie&ve];n:for(;;){if(ie>>>=_e=Se>>>24,pe-=_e,!(16&(_e=Se>>>16&255))){if(!(64&_e)){Se=fe[(65535&Se)+(ie&(1<<_e)-1)];continue n}R.msg="invalid distance code",N.mode=30;break e}if(qe=65535&Se,pe<(_e&=15)&&(ie+=U[G++]<<pe,(pe+=8)<_e&&(ie+=U[G++]<<pe,pe+=8)),k<(qe+=ie&(1<<_e)-1)){R.msg="invalid distance too far back",N.mode=30;break e}if(ie>>>=_e,pe-=_e,(_e=te-Q)<qe){if(M<(_e=qe-_e)&&N.sane){R.msg="invalid distance too far back",N.mode=30;break e}if(he=z,(oe=0)===Z){if(oe+=O-_e,_e<Me){for(Me-=_e;Ne[te++]=z[oe++],--_e;);oe=te-qe,he=Ne}}else if(Z<_e){if(oe+=O+Z-_e,(_e-=Z)<Me){for(Me-=_e;Ne[te++]=z[oe++],--_e;);if(oe=0,Z<Me){for(Me-=_e=Z;Ne[te++]=z[oe++],--_e;);oe=te-qe,he=Ne}}}else if(oe+=Z-_e,_e<Me){for(Me-=_e;Ne[te++]=z[oe++],--_e;);oe=te-qe,he=Ne}for(;2<Me;)Ne[te++]=he[oe++],Ne[te++]=he[oe++],Ne[te++]=he[oe++],Me-=3;Me&&(Ne[te++]=he[oe++],1<Me&&(Ne[te++]=he[oe++]))}else{for(oe=te-qe;Ne[te++]=Ne[oe++],Ne[te++]=Ne[oe++],Ne[te++]=Ne[oe++],2<(Me-=3););Me&&(Ne[te++]=Ne[oe++],1<Me&&(Ne[te++]=Ne[oe++]))}break}}break}}while(G<j&&te<J);G-=Me=pe>>3,ie&=(1<<(pe-=Me<<3))-1,R.next_in=G,R.next_out=te,R.avail_in=G<j?j-G+5:5-(G-j),R.avail_out=te<J?J-te+257:257-(te-J),N.hold=ie,N.bits=pe}},{}],49:[function(re,H,o){"use strict";var R=re("../utils/common"),A=re("./adler32"),N=re("./crc32"),G=re("./inffast"),j=re("./inftrees"),te=1,Q=2,J=0,k=-2,O=1,M=852,Z=592;function z(oe){return(oe>>>24&255)+(oe>>>8&65280)+((65280&oe)<<8)+((255&oe)<<24)}function ie(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new R.Buf16(320),this.work=new R.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function pe(oe){var he;return oe&&oe.state?(oe.total_in=oe.total_out=(he=oe.state).total=0,oe.msg="",he.wrap&&(oe.adler=1&he.wrap),he.mode=O,he.last=0,he.havedict=0,he.dmax=32768,he.head=null,he.hold=0,he.bits=0,he.lencode=he.lendyn=new R.Buf32(M),he.distcode=he.distdyn=new R.Buf32(Z),he.sane=1,he.back=-1,J):k}function le(oe){var he;return oe&&oe.state?((he=oe.state).wsize=0,he.whave=0,he.wnext=0,pe(oe)):k}function fe(oe,he){var U,Ne;return oe&&oe.state?(Ne=oe.state,he<0?(U=0,he=-he):(U=1+(he>>4),he<48&&(he&=15)),he&&(he<8||15<he)?k:(null!==Ne.window&&Ne.wbits!==he&&(Ne.window=null),Ne.wrap=U,Ne.wbits=he,le(oe))):k}function we(oe,he){var U,Ne;return oe?(Ne=new ie,(oe.state=Ne).window=null,(U=fe(oe,he))!==J&&(oe.state=null),U):k}var ve,Se,_e=!0;function Me(oe){if(_e){var he;for(ve=new R.Buf32(512),Se=new R.Buf32(32),he=0;he<144;)oe.lens[he++]=8;for(;he<256;)oe.lens[he++]=9;for(;he<280;)oe.lens[he++]=7;for(;he<288;)oe.lens[he++]=8;for(j(te,oe.lens,0,288,ve,0,oe.work,{bits:9}),he=0;he<32;)oe.lens[he++]=5;j(Q,oe.lens,0,32,Se,0,oe.work,{bits:5}),_e=!1}oe.lencode=ve,oe.lenbits=9,oe.distcode=Se,oe.distbits=5}function qe(oe,he,U,Ne){var rt,Ze=oe.state;return null===Ze.window&&(Ze.wsize=1<<Ze.wbits,Ze.wnext=0,Ze.whave=0,Ze.window=new R.Buf8(Ze.wsize)),Ne>=Ze.wsize?(R.arraySet(Ze.window,he,U-Ze.wsize,Ze.wsize,0),Ze.wnext=0,Ze.whave=Ze.wsize):(Ne<(rt=Ze.wsize-Ze.wnext)&&(rt=Ne),R.arraySet(Ze.window,he,U-Ne,rt,Ze.wnext),(Ne-=rt)?(R.arraySet(Ze.window,he,U-Ne,Ne,0),Ze.wnext=Ne,Ze.whave=Ze.wsize):(Ze.wnext+=rt,Ze.wnext===Ze.wsize&&(Ze.wnext=0),Ze.whave<Ze.wsize&&(Ze.whave+=rt))),0}o.inflateReset=le,o.inflateReset2=fe,o.inflateResetKeep=pe,o.inflateInit=function(oe){return we(oe,15)},o.inflateInit2=we,o.inflate=function(oe,he){var U,Ne,rt,Ze,lt,ut,Lt,He,Be,Ae,De,xe,Ie,We,Ke,ft,vt,Gt,Ft,rn,L,Qe,Pe,ce,ae=0,Te=new R.Buf8(4),tt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!oe||!oe.state||!oe.output||!oe.input&&0!==oe.avail_in)return k;12===(U=oe.state).mode&&(U.mode=13),lt=oe.next_out,rt=oe.output,Ze=oe.next_in,Ne=oe.input,He=U.hold,Be=U.bits,Ae=ut=oe.avail_in,De=Lt=oe.avail_out,Qe=J;e:for(;;)switch(U.mode){case O:if(0===U.wrap){U.mode=13;break}for(;Be<16;){if(0===ut)break e;ut--,He+=Ne[Ze++]<<Be,Be+=8}if(2&U.wrap&&35615===He){Te[U.check=0]=255&He,Te[1]=He>>>8&255,U.check=N(U.check,Te,2,0),Be=He=0,U.mode=2;break}if(U.flags=0,U.head&&(U.head.done=!1),!(1&U.wrap)||(((255&He)<<8)+(He>>8))%31){oe.msg="incorrect header check",U.mode=30;break}if(8!=(15&He)){oe.msg="unknown compression method",U.mode=30;break}if(Be-=4,L=8+(15&(He>>>=4)),0===U.wbits)U.wbits=L;else if(L>U.wbits){oe.msg="invalid window size",U.mode=30;break}U.dmax=1<<L,oe.adler=U.check=1,U.mode=512&He?10:12,Be=He=0;break;case 2:for(;Be<16;){if(0===ut)break e;ut--,He+=Ne[Ze++]<<Be,Be+=8}if(U.flags=He,8!=(255&U.flags)){oe.msg="unknown compression method",U.mode=30;break}if(57344&U.flags){oe.msg="unknown header flags set",U.mode=30;break}U.head&&(U.head.text=He>>8&1),512&U.flags&&(Te[0]=255&He,Te[1]=He>>>8&255,U.check=N(U.check,Te,2,0)),Be=He=0,U.mode=3;case 3:for(;Be<32;){if(0===ut)break e;ut--,He+=Ne[Ze++]<<Be,Be+=8}U.head&&(U.head.time=He),512&U.flags&&(Te[0]=255&He,Te[1]=He>>>8&255,Te[2]=He>>>16&255,Te[3]=He>>>24&255,U.check=N(U.check,Te,4,0)),Be=He=0,U.mode=4;case 4:for(;Be<16;){if(0===ut)break e;ut--,He+=Ne[Ze++]<<Be,Be+=8}U.head&&(U.head.xflags=255&He,U.head.os=He>>8),512&U.flags&&(Te[0]=255&He,Te[1]=He>>>8&255,U.check=N(U.check,Te,2,0)),Be=He=0,U.mode=5;case 5:if(1024&U.flags){for(;Be<16;){if(0===ut)break e;ut--,He+=Ne[Ze++]<<Be,Be+=8}U.length=He,U.head&&(U.head.extra_len=He),512&U.flags&&(Te[0]=255&He,Te[1]=He>>>8&255,U.check=N(U.check,Te,2,0)),Be=He=0}else U.head&&(U.head.extra=null);U.mode=6;case 6:if(1024&U.flags&&(ut<(xe=U.length)&&(xe=ut),xe&&(U.head&&(L=U.head.extra_len-U.length,U.head.extra||(U.head.extra=new Array(U.head.extra_len)),R.arraySet(U.head.extra,Ne,Ze,xe,L)),512&U.flags&&(U.check=N(U.check,Ne,xe,Ze)),ut-=xe,Ze+=xe,U.length-=xe),U.length))break e;U.length=0,U.mode=7;case 7:if(2048&U.flags){if(0===ut)break e;for(xe=0;L=Ne[Ze+xe++],U.head&&L&&U.length<65536&&(U.head.name+=String.fromCharCode(L)),L&&xe<ut;);if(512&U.flags&&(U.check=N(U.check,Ne,xe,Ze)),ut-=xe,Ze+=xe,L)break e}else U.head&&(U.head.name=null);U.length=0,U.mode=8;case 8:if(4096&U.flags){if(0===ut)break e;for(xe=0;L=Ne[Ze+xe++],U.head&&L&&U.length<65536&&(U.head.comment+=String.fromCharCode(L)),L&&xe<ut;);if(512&U.flags&&(U.check=N(U.check,Ne,xe,Ze)),ut-=xe,Ze+=xe,L)break e}else U.head&&(U.head.comment=null);U.mode=9;case 9:if(512&U.flags){for(;Be<16;){if(0===ut)break e;ut--,He+=Ne[Ze++]<<Be,Be+=8}if(He!==(65535&U.check)){oe.msg="header crc mismatch",U.mode=30;break}Be=He=0}U.head&&(U.head.hcrc=U.flags>>9&1,U.head.done=!0),oe.adler=U.check=0,U.mode=12;break;case 10:for(;Be<32;){if(0===ut)break e;ut--,He+=Ne[Ze++]<<Be,Be+=8}oe.adler=U.check=z(He),Be=He=0,U.mode=11;case 11:if(0===U.havedict)return oe.next_out=lt,oe.avail_out=Lt,oe.next_in=Ze,oe.avail_in=ut,U.hold=He,U.bits=Be,2;oe.adler=U.check=1,U.mode=12;case 12:if(5===he||6===he)break e;case 13:if(U.last){He>>>=7&Be,Be-=7&Be,U.mode=27;break}for(;Be<3;){if(0===ut)break e;ut--,He+=Ne[Ze++]<<Be,Be+=8}switch(U.last=1&He,Be-=1,3&(He>>>=1)){case 0:U.mode=14;break;case 1:if(Me(U),U.mode=20,6!==he)break;He>>>=2,Be-=2;break e;case 2:U.mode=17;break;case 3:oe.msg="invalid block type",U.mode=30}He>>>=2,Be-=2;break;case 14:for(He>>>=7&Be,Be-=7&Be;Be<32;){if(0===ut)break e;ut--,He+=Ne[Ze++]<<Be,Be+=8}if((65535&He)!=(He>>>16^65535)){oe.msg="invalid stored block lengths",U.mode=30;break}if(U.length=65535&He,Be=He=0,U.mode=15,6===he)break e;case 15:U.mode=16;case 16:if(xe=U.length){if(ut<xe&&(xe=ut),Lt<xe&&(xe=Lt),0===xe)break e;R.arraySet(rt,Ne,Ze,xe,lt),ut-=xe,Ze+=xe,Lt-=xe,lt+=xe,U.length-=xe;break}U.mode=12;break;case 17:for(;Be<14;){if(0===ut)break e;ut--,He+=Ne[Ze++]<<Be,Be+=8}if(U.nlen=257+(31&He),Be-=5,U.ndist=1+(31&(He>>>=5)),Be-=5,U.ncode=4+(15&(He>>>=5)),He>>>=4,Be-=4,286<U.nlen||30<U.ndist){oe.msg="too many length or distance symbols",U.mode=30;break}U.have=0,U.mode=18;case 18:for(;U.have<U.ncode;){for(;Be<3;){if(0===ut)break e;ut--,He+=Ne[Ze++]<<Be,Be+=8}U.lens[tt[U.have++]]=7&He,He>>>=3,Be-=3}for(;U.have<19;)U.lens[tt[U.have++]]=0;if(U.lencode=U.lendyn,U.lenbits=7,Qe=j(0,U.lens,0,19,U.lencode,0,U.work,Pe={bits:U.lenbits}),U.lenbits=Pe.bits,Qe){oe.msg="invalid code lengths set",U.mode=30;break}U.have=0,U.mode=19;case 19:for(;U.have<U.nlen+U.ndist;){for(;ft=(ae=U.lencode[He&(1<<U.lenbits)-1])>>>16&255,vt=65535&ae,!((Ke=ae>>>24)<=Be);){if(0===ut)break e;ut--,He+=Ne[Ze++]<<Be,Be+=8}if(vt<16)He>>>=Ke,Be-=Ke,U.lens[U.have++]=vt;else{if(16===vt){for(ce=Ke+2;Be<ce;){if(0===ut)break e;ut--,He+=Ne[Ze++]<<Be,Be+=8}if(He>>>=Ke,Be-=Ke,0===U.have){oe.msg="invalid bit length repeat",U.mode=30;break}L=U.lens[U.have-1],xe=3+(3&He),He>>>=2,Be-=2}else if(17===vt){for(ce=Ke+3;Be<ce;){if(0===ut)break e;ut--,He+=Ne[Ze++]<<Be,Be+=8}Be-=Ke,L=0,xe=3+(7&(He>>>=Ke)),He>>>=3,Be-=3}else{for(ce=Ke+7;Be<ce;){if(0===ut)break e;ut--,He+=Ne[Ze++]<<Be,Be+=8}Be-=Ke,L=0,xe=11+(127&(He>>>=Ke)),He>>>=7,Be-=7}if(U.have+xe>U.nlen+U.ndist){oe.msg="invalid bit length repeat",U.mode=30;break}for(;xe--;)U.lens[U.have++]=L}}if(30===U.mode)break;if(0===U.lens[256]){oe.msg="invalid code -- missing end-of-block",U.mode=30;break}if(U.lenbits=9,Qe=j(te,U.lens,0,U.nlen,U.lencode,0,U.work,Pe={bits:U.lenbits}),U.lenbits=Pe.bits,Qe){oe.msg="invalid literal/lengths set",U.mode=30;break}if(U.distbits=6,U.distcode=U.distdyn,Qe=j(Q,U.lens,U.nlen,U.ndist,U.distcode,0,U.work,Pe={bits:U.distbits}),U.distbits=Pe.bits,Qe){oe.msg="invalid distances set",U.mode=30;break}if(U.mode=20,6===he)break e;case 20:U.mode=21;case 21:if(6<=ut&&258<=Lt){oe.next_out=lt,oe.avail_out=Lt,oe.next_in=Ze,oe.avail_in=ut,U.hold=He,U.bits=Be,G(oe,De),lt=oe.next_out,rt=oe.output,Lt=oe.avail_out,Ze=oe.next_in,Ne=oe.input,ut=oe.avail_in,He=U.hold,Be=U.bits,12===U.mode&&(U.back=-1);break}for(U.back=0;ft=(ae=U.lencode[He&(1<<U.lenbits)-1])>>>16&255,vt=65535&ae,!((Ke=ae>>>24)<=Be);){if(0===ut)break e;ut--,He+=Ne[Ze++]<<Be,Be+=8}if(ft&&!(240&ft)){for(Gt=Ke,Ft=ft,rn=vt;ft=(ae=U.lencode[rn+((He&(1<<Gt+Ft)-1)>>Gt)])>>>16&255,vt=65535&ae,!(Gt+(Ke=ae>>>24)<=Be);){if(0===ut)break e;ut--,He+=Ne[Ze++]<<Be,Be+=8}He>>>=Gt,Be-=Gt,U.back+=Gt}if(He>>>=Ke,Be-=Ke,U.back+=Ke,U.length=vt,0===ft){U.mode=26;break}if(32&ft){U.back=-1,U.mode=12;break}if(64&ft){oe.msg="invalid literal/length code",U.mode=30;break}U.extra=15&ft,U.mode=22;case 22:if(U.extra){for(ce=U.extra;Be<ce;){if(0===ut)break e;ut--,He+=Ne[Ze++]<<Be,Be+=8}U.length+=He&(1<<U.extra)-1,He>>>=U.extra,Be-=U.extra,U.back+=U.extra}U.was=U.length,U.mode=23;case 23:for(;ft=(ae=U.distcode[He&(1<<U.distbits)-1])>>>16&255,vt=65535&ae,!((Ke=ae>>>24)<=Be);){if(0===ut)break e;ut--,He+=Ne[Ze++]<<Be,Be+=8}if(!(240&ft)){for(Gt=Ke,Ft=ft,rn=vt;ft=(ae=U.distcode[rn+((He&(1<<Gt+Ft)-1)>>Gt)])>>>16&255,vt=65535&ae,!(Gt+(Ke=ae>>>24)<=Be);){if(0===ut)break e;ut--,He+=Ne[Ze++]<<Be,Be+=8}He>>>=Gt,Be-=Gt,U.back+=Gt}if(He>>>=Ke,Be-=Ke,U.back+=Ke,64&ft){oe.msg="invalid distance code",U.mode=30;break}U.offset=vt,U.extra=15&ft,U.mode=24;case 24:if(U.extra){for(ce=U.extra;Be<ce;){if(0===ut)break e;ut--,He+=Ne[Ze++]<<Be,Be+=8}U.offset+=He&(1<<U.extra)-1,He>>>=U.extra,Be-=U.extra,U.back+=U.extra}if(U.offset>U.dmax){oe.msg="invalid distance too far back",U.mode=30;break}U.mode=25;case 25:if(0===Lt)break e;if(U.offset>(xe=De-Lt)){if((xe=U.offset-xe)>U.whave&&U.sane){oe.msg="invalid distance too far back",U.mode=30;break}Ie=xe>U.wnext?U.wsize-(xe-=U.wnext):U.wnext-xe,xe>U.length&&(xe=U.length),We=U.window}else We=rt,Ie=lt-U.offset,xe=U.length;for(Lt<xe&&(xe=Lt),Lt-=xe,U.length-=xe;rt[lt++]=We[Ie++],--xe;);0===U.length&&(U.mode=21);break;case 26:if(0===Lt)break e;rt[lt++]=U.length,Lt--,U.mode=21;break;case 27:if(U.wrap){for(;Be<32;){if(0===ut)break e;ut--,He|=Ne[Ze++]<<Be,Be+=8}if(oe.total_out+=De-=Lt,U.total+=De,De&&(oe.adler=U.check=U.flags?N(U.check,rt,De,lt-De):A(U.check,rt,De,lt-De)),De=Lt,(U.flags?He:z(He))!==U.check){oe.msg="incorrect data check",U.mode=30;break}Be=He=0}U.mode=28;case 28:if(U.wrap&&U.flags){for(;Be<32;){if(0===ut)break e;ut--,He+=Ne[Ze++]<<Be,Be+=8}if(He!==(4294967295&U.total)){oe.msg="incorrect length check",U.mode=30;break}Be=He=0}U.mode=29;case 29:Qe=1;break e;case 30:Qe=-3;break e;case 31:return-4;default:return k}return oe.next_out=lt,oe.avail_out=Lt,oe.next_in=Ze,oe.avail_in=ut,U.hold=He,U.bits=Be,(U.wsize||De!==oe.avail_out&&U.mode<30&&(U.mode<27||4!==he))&&qe(oe,oe.output,oe.next_out,De-oe.avail_out)?(U.mode=31,-4):(De-=oe.avail_out,oe.total_in+=Ae-=oe.avail_in,oe.total_out+=De,U.total+=De,U.wrap&&De&&(oe.adler=U.check=U.flags?N(U.check,rt,De,oe.next_out-De):A(U.check,rt,De,oe.next_out-De)),oe.data_type=U.bits+(U.last?64:0)+(12===U.mode?128:0)+(20===U.mode||15===U.mode?256:0),(0==Ae&&0===De||4===he)&&Qe===J&&(Qe=-5),Qe)},o.inflateEnd=function(oe){if(!oe||!oe.state)return k;var he=oe.state;return he.window&&(he.window=null),oe.state=null,J},o.inflateGetHeader=function(oe,he){var U;return oe&&oe.state&&2&(U=oe.state).wrap?((U.head=he).done=!1,J):k},o.inflateSetDictionary=function(oe,he){var U,Ne=he.length;return oe&&oe.state?0!==(U=oe.state).wrap&&11!==U.mode?k:11===U.mode&&A(1,he,Ne,0)!==U.check?-3:qe(oe,he,Ne,Ne)?(U.mode=31,-4):(U.havedict=1,J):k},o.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(re,H,o){"use strict";var R=re("../utils/common"),A=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],N=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],G=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],j=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];H.exports=function(te,Q,J,k,O,M,Z,z){var ie,pe,le,fe,we,ve,Se,_e,Me,qe=z.bits,oe=0,he=0,U=0,Ne=0,rt=0,Ze=0,lt=0,ut=0,Lt=0,He=0,Be=null,Ae=0,De=new R.Buf16(16),xe=new R.Buf16(16),Ie=null,We=0;for(oe=0;oe<=15;oe++)De[oe]=0;for(he=0;he<k;he++)De[Q[J+he]]++;for(rt=qe,Ne=15;1<=Ne&&0===De[Ne];Ne--);if(Ne<rt&&(rt=Ne),0===Ne)return O[M++]=20971520,O[M++]=20971520,z.bits=1,0;for(U=1;U<Ne&&0===De[U];U++);for(rt<U&&(rt=U),oe=ut=1;oe<=15;oe++)if(ut<<=1,(ut-=De[oe])<0)return-1;if(0<ut&&(0===te||1!==Ne))return-1;for(xe[1]=0,oe=1;oe<15;oe++)xe[oe+1]=xe[oe]+De[oe];for(he=0;he<k;he++)0!==Q[J+he]&&(Z[xe[Q[J+he]]++]=he);if(ve=0===te?(Be=Ie=Z,19):1===te?(Be=A,Ae-=257,Ie=N,We-=257,256):(Be=G,Ie=j,-1),oe=U,we=M,lt=he=He=0,le=-1,fe=(Lt=1<<(Ze=rt))-1,1===te&&852<Lt||2===te&&592<Lt)return 1;for(;;){for(Se=oe-lt,Me=Z[he]<ve?(_e=0,Z[he]):Z[he]>ve?(_e=Ie[We+Z[he]],Be[Ae+Z[he]]):(_e=96,0),ie=1<<oe-lt,U=pe=1<<Ze;O[we+(He>>lt)+(pe-=ie)]=Se<<24|_e<<16|Me|0,0!==pe;);for(ie=1<<oe-1;He&ie;)ie>>=1;if(0!==ie?(He&=ie-1,He+=ie):He=0,he++,0==--De[oe]){if(oe===Ne)break;oe=Q[J+Z[he]]}if(rt<oe&&(He&fe)!==le){for(0===lt&&(lt=rt),we+=U,ut=1<<(Ze=oe-lt);Ze+lt<Ne&&!((ut-=De[Ze+lt])<=0);)Ze++,ut<<=1;if(Lt+=1<<Ze,1===te&&852<Lt||2===te&&592<Lt)return 1;O[le=He&fe]=rt<<24|Ze<<16|we-M|0}}return 0!==He&&(O[we+He]=oe-lt<<24|64<<16|0),z.bits=rt,0}},{"../utils/common":41}],51:[function(re,H,o){"use strict";H.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(re,H,o){"use strict";var R=re("../utils/common");function G(ae){for(var Te=ae.length;0<=--Te;)ae[Te]=0}var j=0,Q=256,J=Q+1+29,k=30,O=19,M=2*J+1,Z=15,z=16,pe=256,le=16,fe=17,we=18,ve=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Se=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],_e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Me=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],qe=new Array(2*(J+2));G(qe);var oe=new Array(2*k);G(oe);var he=new Array(512);G(he);var U=new Array(256);G(U);var Ne=new Array(29);G(Ne);var rt,Ze,lt,ut=new Array(k);function Lt(ae,Te,tt,Xe,be){this.static_tree=ae,this.extra_bits=Te,this.extra_base=tt,this.elems=Xe,this.max_length=be,this.has_stree=ae&&ae.length}function He(ae,Te){this.dyn_tree=ae,this.max_code=0,this.stat_desc=Te}function Be(ae){return ae<256?he[ae]:he[256+(ae>>>7)]}function Ae(ae,Te){ae.pending_buf[ae.pending++]=255&Te,ae.pending_buf[ae.pending++]=Te>>>8&255}function De(ae,Te,tt){ae.bi_valid>z-tt?(ae.bi_buf|=Te<<ae.bi_valid&65535,Ae(ae,ae.bi_buf),ae.bi_buf=Te>>z-ae.bi_valid,ae.bi_valid+=tt-z):(ae.bi_buf|=Te<<ae.bi_valid&65535,ae.bi_valid+=tt)}function xe(ae,Te,tt){De(ae,tt[2*Te],tt[2*Te+1])}function Ie(ae,Te){for(var tt=0;tt|=1&ae,ae>>>=1,tt<<=1,0<--Te;);return tt>>>1}function We(ae,Te,tt){var Xe,be,ot=new Array(Z+1),xt=0;for(Xe=1;Xe<=Z;Xe++)ot[Xe]=xt=xt+tt[Xe-1]<<1;for(be=0;be<=Te;be++){var st=ae[2*be+1];0!==st&&(ae[2*be]=Ie(ot[st]++,st))}}function Ke(ae){var Te;for(Te=0;Te<J;Te++)ae.dyn_ltree[2*Te]=0;for(Te=0;Te<k;Te++)ae.dyn_dtree[2*Te]=0;for(Te=0;Te<O;Te++)ae.bl_tree[2*Te]=0;ae.dyn_ltree[2*pe]=1,ae.opt_len=ae.static_len=0,ae.last_lit=ae.matches=0}function ft(ae){8<ae.bi_valid?Ae(ae,ae.bi_buf):0<ae.bi_valid&&(ae.pending_buf[ae.pending++]=ae.bi_buf),ae.bi_buf=0,ae.bi_valid=0}function vt(ae,Te,tt,Xe){var be=2*Te,ot=2*tt;return ae[be]<ae[ot]||ae[be]===ae[ot]&&Xe[Te]<=Xe[tt]}function Gt(ae,Te,tt){for(var Xe=ae.heap[tt],be=tt<<1;be<=ae.heap_len&&(be<ae.heap_len&&vt(Te,ae.heap[be+1],ae.heap[be],ae.depth)&&be++,!vt(Te,Xe,ae.heap[be],ae.depth));)ae.heap[tt]=ae.heap[be],tt=be,be<<=1;ae.heap[tt]=Xe}function Ft(ae,Te,tt){var Xe,be,ot,xt,st=0;if(0!==ae.last_lit)for(;Xe=ae.pending_buf[ae.d_buf+2*st]<<8|ae.pending_buf[ae.d_buf+2*st+1],be=ae.pending_buf[ae.l_buf+st],st++,0===Xe?xe(ae,be,Te):(xe(ae,(ot=U[be])+Q+1,Te),0!==(xt=ve[ot])&&De(ae,be-=Ne[ot],xt),xe(ae,ot=Be(--Xe),tt),0!==(xt=Se[ot])&&De(ae,Xe-=ut[ot],xt)),st<ae.last_lit;);xe(ae,pe,Te)}function rn(ae,Te){var tt,Xe,be,ot=Te.dyn_tree,xt=Te.stat_desc.static_tree,st=Te.stat_desc.has_stree,Mt=Te.stat_desc.elems,vn=-1;for(ae.heap_len=0,ae.heap_max=M,tt=0;tt<Mt;tt++)0!==ot[2*tt]?(ae.heap[++ae.heap_len]=vn=tt,ae.depth[tt]=0):ot[2*tt+1]=0;for(;ae.heap_len<2;)ot[2*(be=ae.heap[++ae.heap_len]=vn<2?++vn:0)]=1,ae.depth[be]=0,ae.opt_len--,st&&(ae.static_len-=xt[2*be+1]);for(Te.max_code=vn,tt=ae.heap_len>>1;1<=tt;tt--)Gt(ae,ot,tt);for(be=Mt;tt=ae.heap[1],ae.heap[1]=ae.heap[ae.heap_len--],Gt(ae,ot,1),Xe=ae.heap[1],ae.heap[--ae.heap_max]=tt,ae.heap[--ae.heap_max]=Xe,ot[2*be]=ot[2*tt]+ot[2*Xe],ae.depth[be]=(ae.depth[tt]>=ae.depth[Xe]?ae.depth[tt]:ae.depth[Xe])+1,ot[2*tt+1]=ot[2*Xe+1]=be,ae.heap[1]=be++,Gt(ae,ot,1),2<=ae.heap_len;);ae.heap[--ae.heap_max]=ae.heap[1],function(Rt,Wt){var Ot,$t,ni,An,Jn,Ui,zn=Wt.dyn_tree,Di=Wt.max_code,gn=Wt.stat_desc.static_tree,Vr=Wt.stat_desc.has_stree,bn=Wt.stat_desc.extra_bits,ur=Wt.stat_desc.extra_base,on=Wt.stat_desc.max_length,si=0;for(An=0;An<=Z;An++)Rt.bl_count[An]=0;for(zn[2*Rt.heap[Rt.heap_max]+1]=0,Ot=Rt.heap_max+1;Ot<M;Ot++)on<(An=zn[2*zn[2*($t=Rt.heap[Ot])+1]+1]+1)&&(An=on,si++),zn[2*$t+1]=An,Di<$t||(Rt.bl_count[An]++,Jn=0,ur<=$t&&(Jn=bn[$t-ur]),Rt.opt_len+=(Ui=zn[2*$t])*(An+Jn),Vr&&(Rt.static_len+=Ui*(gn[2*$t+1]+Jn)));if(0!==si){do{for(An=on-1;0===Rt.bl_count[An];)An--;Rt.bl_count[An]--,Rt.bl_count[An+1]+=2,Rt.bl_count[on]--,si-=2}while(0<si);for(An=on;0!==An;An--)for($t=Rt.bl_count[An];0!==$t;)Di<(ni=Rt.heap[--Ot])||(zn[2*ni+1]!==An&&(Rt.opt_len+=(An-zn[2*ni+1])*zn[2*ni],zn[2*ni+1]=An),$t--)}}(ae,Te),We(ot,vn,ae.bl_count)}function L(ae,Te,tt){var Xe,be,ot=-1,xt=Te[1],st=0,Mt=7,vn=4;for(0===xt&&(Mt=138,vn=3),Te[2*(tt+1)+1]=65535,Xe=0;Xe<=tt;Xe++)be=xt,xt=Te[2*(Xe+1)+1],++st<Mt&&be===xt||(st<vn?ae.bl_tree[2*be]+=st:0!==be?(be!==ot&&ae.bl_tree[2*be]++,ae.bl_tree[2*le]++):st<=10?ae.bl_tree[2*fe]++:ae.bl_tree[2*we]++,ot=be,vn=(st=0)===xt?(Mt=138,3):be===xt?(Mt=6,3):(Mt=7,4))}function Qe(ae,Te,tt){var Xe,be,ot=-1,xt=Te[1],st=0,Mt=7,vn=4;for(0===xt&&(Mt=138,vn=3),Xe=0;Xe<=tt;Xe++)if(be=xt,xt=Te[2*(Xe+1)+1],!(++st<Mt&&be===xt)){if(st<vn)for(;xe(ae,be,ae.bl_tree),0!=--st;);else 0!==be?(be!==ot&&(xe(ae,be,ae.bl_tree),st--),xe(ae,le,ae.bl_tree),De(ae,st-3,2)):st<=10?(xe(ae,fe,ae.bl_tree),De(ae,st-3,3)):(xe(ae,we,ae.bl_tree),De(ae,st-11,7));ot=be,vn=(st=0)===xt?(Mt=138,3):be===xt?(Mt=6,3):(Mt=7,4)}}G(ut);var Pe=!1;function ce(ae,Te,tt,Xe){var be,ot,xt;De(ae,(j<<1)+(Xe?1:0),3),ot=Te,xt=tt,ft(be=ae),Ae(be,xt),Ae(be,~xt),R.arraySet(be.pending_buf,be.window,ot,xt,be.pending),be.pending+=xt}o._tr_init=function(ae){Pe||(function(){var Te,tt,Xe,be,ot,xt=new Array(Z+1);for(be=Xe=0;be<28;be++)for(Ne[be]=Xe,Te=0;Te<1<<ve[be];Te++)U[Xe++]=be;for(U[Xe-1]=be,be=ot=0;be<16;be++)for(ut[be]=ot,Te=0;Te<1<<Se[be];Te++)he[ot++]=be;for(ot>>=7;be<k;be++)for(ut[be]=ot<<7,Te=0;Te<1<<Se[be]-7;Te++)he[256+ot++]=be;for(tt=0;tt<=Z;tt++)xt[tt]=0;for(Te=0;Te<=143;)qe[2*Te+1]=8,Te++,xt[8]++;for(;Te<=255;)qe[2*Te+1]=9,Te++,xt[9]++;for(;Te<=279;)qe[2*Te+1]=7,Te++,xt[7]++;for(;Te<=287;)qe[2*Te+1]=8,Te++,xt[8]++;for(We(qe,J+1,xt),Te=0;Te<k;Te++)oe[2*Te+1]=5,oe[2*Te]=Ie(Te,5);rt=new Lt(qe,ve,Q+1,J,Z),Ze=new Lt(oe,Se,0,k,Z),lt=new Lt(new Array(0),_e,0,O,7)}(),Pe=!0),ae.l_desc=new He(ae.dyn_ltree,rt),ae.d_desc=new He(ae.dyn_dtree,Ze),ae.bl_desc=new He(ae.bl_tree,lt),ae.bi_buf=0,ae.bi_valid=0,Ke(ae)},o._tr_stored_block=ce,o._tr_flush_block=function(ae,Te,tt,Xe){var be,ot,xt=0;0<ae.level?(2===ae.strm.data_type&&(ae.strm.data_type=function(st){var Mt,vn=4093624447;for(Mt=0;Mt<=31;Mt++,vn>>>=1)if(1&vn&&0!==st.dyn_ltree[2*Mt])return 0;if(0!==st.dyn_ltree[18]||0!==st.dyn_ltree[20]||0!==st.dyn_ltree[26])return 1;for(Mt=32;Mt<Q;Mt++)if(0!==st.dyn_ltree[2*Mt])return 1;return 0}(ae)),rn(ae,ae.l_desc),rn(ae,ae.d_desc),xt=function(st){var Mt;for(L(st,st.dyn_ltree,st.l_desc.max_code),L(st,st.dyn_dtree,st.d_desc.max_code),rn(st,st.bl_desc),Mt=O-1;3<=Mt&&0===st.bl_tree[2*Me[Mt]+1];Mt--);return st.opt_len+=3*(Mt+1)+5+5+4,Mt}(ae),(ot=ae.static_len+3+7>>>3)<=(be=ae.opt_len+3+7>>>3)&&(be=ot)):be=ot=tt+5,tt+4<=be&&-1!==Te?ce(ae,Te,tt,Xe):4===ae.strategy||ot===be?(De(ae,2+(Xe?1:0),3),Ft(ae,qe,oe)):(De(ae,4+(Xe?1:0),3),function(st,Mt,vn,Rt){var Wt;for(De(st,Mt-257,5),De(st,vn-1,5),De(st,Rt-4,4),Wt=0;Wt<Rt;Wt++)De(st,st.bl_tree[2*Me[Wt]+1],3);Qe(st,st.dyn_ltree,Mt-1),Qe(st,st.dyn_dtree,vn-1)}(ae,ae.l_desc.max_code+1,ae.d_desc.max_code+1,xt+1),Ft(ae,ae.dyn_ltree,ae.dyn_dtree)),Ke(ae),Xe&&ft(ae)},o._tr_tally=function(ae,Te,tt){return ae.pending_buf[ae.d_buf+2*ae.last_lit]=Te>>>8&255,ae.pending_buf[ae.d_buf+2*ae.last_lit+1]=255&Te,ae.pending_buf[ae.l_buf+ae.last_lit]=255&tt,ae.last_lit++,0===Te?ae.dyn_ltree[2*tt]++:(ae.matches++,Te--,ae.dyn_ltree[2*(U[tt]+Q+1)]++,ae.dyn_dtree[2*Be(Te)]++),ae.last_lit===ae.lit_bufsize-1},o._tr_align=function(ae){var Te;De(ae,2,3),xe(ae,pe,qe),16===(Te=ae).bi_valid?(Ae(Te,Te.bi_buf),Te.bi_buf=0,Te.bi_valid=0):8<=Te.bi_valid&&(Te.pending_buf[Te.pending++]=255&Te.bi_buf,Te.bi_buf>>=8,Te.bi_valid-=8)}},{"../utils/common":41}],53:[function(re,H,o){"use strict";H.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(re,H,o){(function(R){!function(A,N){"use strict";if(!A.setImmediate){var G,j,te,Q,J=1,k={},O=!1,M=A.document,Z=Object.getPrototypeOf&&Object.getPrototypeOf(A);Z=Z&&Z.setTimeout?Z:A,G="[object process]"==={}.toString.call(A.process)?function(le){process.nextTick(function(){ie(le)})}:function(){if(A.postMessage&&!A.importScripts){var le=!0,fe=A.onmessage;return A.onmessage=function(){le=!1},A.postMessage("","*"),A.onmessage=fe,le}}()?(Q="setImmediate$"+Math.random()+"$",A.addEventListener?A.addEventListener("message",pe,!1):A.attachEvent("onmessage",pe),function(le){A.postMessage(Q+le,"*")}):A.MessageChannel?((te=new MessageChannel).port1.onmessage=function(le){ie(le.data)},function(le){te.port2.postMessage(le)}):M&&"onreadystatechange"in M.createElement("script")?(j=M.documentElement,function(le){var fe=M.createElement("script");fe.onreadystatechange=function(){ie(le),fe.onreadystatechange=null,j.removeChild(fe),fe=null},j.appendChild(fe)}):function(le){setTimeout(ie,0,le)},Z.setImmediate=function(le){"function"!=typeof le&&(le=new Function(""+le));for(var fe=new Array(arguments.length-1),we=0;we<fe.length;we++)fe[we]=arguments[we+1];return k[J]={callback:le,args:fe},G(J),J++},Z.clearImmediate=z}function z(le){delete k[le]}function ie(le){if(O)setTimeout(ie,0,le);else{var fe=k[le];if(fe){O=!0;try{!function(we){var ve=we.callback,Se=we.args;switch(Se.length){case 0:ve();break;case 1:ve(Se[0]);break;case 2:ve(Se[0],Se[1]);break;case 3:ve(Se[0],Se[1],Se[2]);break;default:ve.apply(N,Se)}}(fe)}finally{z(le),O=!1}}}}function pe(le){le.source===A&&"string"==typeof le.data&&0===le.data.indexOf(Q)&&ie(+le.data.slice(Q.length))}}(typeof self>"u"?void 0===R?this:R:self)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)},9751:(Bt,re,H)=>{"use strict";H.d(re,{y:()=>Q});var o=H(930),R=H(727),A=H(8822),N=H(9635),G=H(2416),j=H(576),te=H(2806);let Q=(()=>{class M{constructor(z){z&&(this._subscribe=z)}lift(z){const ie=new M;return ie.source=this,ie.operator=z,ie}subscribe(z,ie,pe){const le=function O(M){return M&&M instanceof o.Lv||function k(M){return M&&(0,j.m)(M.next)&&(0,j.m)(M.error)&&(0,j.m)(M.complete)}(M)&&(0,R.Nn)(M)}(z)?z:new o.Hp(z,ie,pe);return(0,te.x)(()=>{const{operator:fe,source:we}=this;le.add(fe?fe.call(le,we):we?this._subscribe(le):this._trySubscribe(le))}),le}_trySubscribe(z){try{return this._subscribe(z)}catch(ie){z.error(ie)}}forEach(z,ie){return new(ie=J(ie))((pe,le)=>{const fe=new o.Hp({next:we=>{try{z(we)}catch(ve){le(ve),fe.unsubscribe()}},error:le,complete:pe});this.subscribe(fe)})}_subscribe(z){var ie;return null===(ie=this.source)||void 0===ie?void 0:ie.subscribe(z)}[A.L](){return this}pipe(...z){return(0,N.U)(z)(this)}toPromise(z){return new(z=J(z))((ie,pe)=>{let le;this.subscribe(fe=>le=fe,fe=>pe(fe),()=>ie(le))})}}return M.create=Z=>new M(Z),M})();function J(M){var Z;return null!==(Z=M??G.v.Promise)&&void 0!==Z?Z:Promise}},7579:(Bt,re,H)=>{"use strict";H.d(re,{x:()=>te});var o=H(9751),R=H(727);const N=(0,H(3888).d)(J=>function(){J(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var G=H(8737),j=H(2806);let te=(()=>{class J extends o.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(O){const M=new Q(this,this);return M.operator=O,M}_throwIfClosed(){if(this.closed)throw new N}next(O){(0,j.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const M of this.currentObservers)M.next(O)}})}error(O){(0,j.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=O;const{observers:M}=this;for(;M.length;)M.shift().error(O)}})}complete(){(0,j.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:O}=this;for(;O.length;)O.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var O;return(null===(O=this.observers)||void 0===O?void 0:O.length)>0}_trySubscribe(O){return this._throwIfClosed(),super._trySubscribe(O)}_subscribe(O){return this._throwIfClosed(),this._checkFinalizedStatuses(O),this._innerSubscribe(O)}_innerSubscribe(O){const{hasError:M,isStopped:Z,observers:z}=this;return M||Z?R.Lc:(this.currentObservers=null,z.push(O),new R.w0(()=>{this.currentObservers=null,(0,G.P)(z,O)}))}_checkFinalizedStatuses(O){const{hasError:M,thrownError:Z,isStopped:z}=this;M?O.error(Z):z&&O.complete()}asObservable(){const O=new o.y;return O.source=this,O}}return J.create=(k,O)=>new Q(k,O),J})();class Q extends te{constructor(k,O){super(),this.destination=k,this.source=O}next(k){var O,M;null===(M=null===(O=this.destination)||void 0===O?void 0:O.next)||void 0===M||M.call(O,k)}error(k){var O,M;null===(M=null===(O=this.destination)||void 0===O?void 0:O.error)||void 0===M||M.call(O,k)}complete(){var k,O;null===(O=null===(k=this.destination)||void 0===k?void 0:k.complete)||void 0===O||O.call(k)}_subscribe(k){var O,M;return null!==(M=null===(O=this.source)||void 0===O?void 0:O.subscribe(k))&&void 0!==M?M:R.Lc}}},930:(Bt,re,H)=>{"use strict";H.d(re,{Hp:()=>pe,Lv:()=>M});var o=H(576),R=H(727),A=H(2416),N=H(7849),G=H(5032);const j=J("C",void 0,void 0);function J(Se,_e,Me){return{kind:Se,value:_e,error:Me}}var k=H(3410),O=H(2806);class M extends R.w0{constructor(_e){super(),this.isStopped=!1,_e?(this.destination=_e,(0,R.Nn)(_e)&&_e.add(this)):this.destination=ve}static create(_e,Me,qe){return new pe(_e,Me,qe)}next(_e){this.isStopped?we(function Q(Se){return J("N",Se,void 0)}(_e),this):this._next(_e)}error(_e){this.isStopped?we(function te(Se){return J("E",void 0,Se)}(_e),this):(this.isStopped=!0,this._error(_e))}complete(){this.isStopped?we(j,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(_e){this.destination.next(_e)}_error(_e){try{this.destination.error(_e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Z=Function.prototype.bind;function z(Se,_e){return Z.call(Se,_e)}class ie{constructor(_e){this.partialObserver=_e}next(_e){const{partialObserver:Me}=this;if(Me.next)try{Me.next(_e)}catch(qe){le(qe)}}error(_e){const{partialObserver:Me}=this;if(Me.error)try{Me.error(_e)}catch(qe){le(qe)}else le(_e)}complete(){const{partialObserver:_e}=this;if(_e.complete)try{_e.complete()}catch(Me){le(Me)}}}class pe extends M{constructor(_e,Me,qe){let oe;if(super(),(0,o.m)(_e)||!_e)oe={next:_e??void 0,error:Me??void 0,complete:qe??void 0};else{let he;this&&A.v.useDeprecatedNextContext?(he=Object.create(_e),he.unsubscribe=()=>this.unsubscribe(),oe={next:_e.next&&z(_e.next,he),error:_e.error&&z(_e.error,he),complete:_e.complete&&z(_e.complete,he)}):oe=_e}this.destination=new ie(oe)}}function le(Se){A.v.useDeprecatedSynchronousErrorHandling?(0,O.O)(Se):(0,N.h)(Se)}function we(Se,_e){const{onStoppedNotification:Me}=A.v;Me&&k.z.setTimeout(()=>Me(Se,_e))}const ve={closed:!0,next:G.Z,error:function fe(Se){throw Se},complete:G.Z}},727:(Bt,re,H)=>{"use strict";H.d(re,{Lc:()=>j,w0:()=>G,Nn:()=>te});var o=H(576);const A=(0,H(3888).d)(J=>function(O){J(this),this.message=O?`${O.length} errors occurred during unsubscription:\n${O.map((M,Z)=>`${Z+1}) ${M.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=O});var N=H(8737);class G{constructor(k){this.initialTeardown=k,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let k;if(!this.closed){this.closed=!0;const{_parentage:O}=this;if(O)if(this._parentage=null,Array.isArray(O))for(const z of O)z.remove(this);else O.remove(this);const{initialTeardown:M}=this;if((0,o.m)(M))try{M()}catch(z){k=z instanceof A?z.errors:[z]}const{_finalizers:Z}=this;if(Z){this._finalizers=null;for(const z of Z)try{Q(z)}catch(ie){k=k??[],ie instanceof A?k=[...k,...ie.errors]:k.push(ie)}}if(k)throw new A(k)}}add(k){var O;if(k&&k!==this)if(this.closed)Q(k);else{if(k instanceof G){if(k.closed||k._hasParent(this))return;k._addParent(this)}(this._finalizers=null!==(O=this._finalizers)&&void 0!==O?O:[]).push(k)}}_hasParent(k){const{_parentage:O}=this;return O===k||Array.isArray(O)&&O.includes(k)}_addParent(k){const{_parentage:O}=this;this._parentage=Array.isArray(O)?(O.push(k),O):O?[O,k]:k}_removeParent(k){const{_parentage:O}=this;O===k?this._parentage=null:Array.isArray(O)&&(0,N.P)(O,k)}remove(k){const{_finalizers:O}=this;O&&(0,N.P)(O,k),k instanceof G&&k._removeParent(this)}}G.EMPTY=(()=>{const J=new G;return J.closed=!0,J})();const j=G.EMPTY;function te(J){return J instanceof G||J&&"closed"in J&&(0,o.m)(J.remove)&&(0,o.m)(J.add)&&(0,o.m)(J.unsubscribe)}function Q(J){(0,o.m)(J)?J():J.unsubscribe()}},2416:(Bt,re,H)=>{"use strict";H.d(re,{v:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Bt,re,H)=>{"use strict";H.d(re,{E:()=>R});const R=new(H(9751).y)(G=>G.complete())},8996:(Bt,re,H)=>{"use strict";H.d(re,{D:()=>_e});var o=H(8421),R=H(5363),A=H(9468),j=H(9751),Q=H(2202),J=H(576),k=H(9672);function M(Me,qe){if(!Me)throw new Error("Iterable cannot be null");return new j.y(oe=>{(0,k.f)(oe,qe,()=>{const he=Me[Symbol.asyncIterator]();(0,k.f)(oe,qe,()=>{he.next().then(U=>{U.done?oe.complete():oe.next(U.value)})},0,!0)})})}var Z=H(3670),z=H(8239),ie=H(1144),pe=H(6495),le=H(2206),fe=H(4532),we=H(3260);function _e(Me,qe){return qe?function Se(Me,qe){if(null!=Me){if((0,Z.c)(Me))return function N(Me,qe){return(0,o.Xf)(Me).pipe((0,A.R)(qe),(0,R.Q)(qe))}(Me,qe);if((0,ie.z)(Me))return function te(Me,qe){return new j.y(oe=>{let he=0;return qe.schedule(function(){he===Me.length?oe.complete():(oe.next(Me[he++]),oe.closed||this.schedule())})})}(Me,qe);if((0,z.t)(Me))return function G(Me,qe){return(0,o.Xf)(Me).pipe((0,A.R)(qe),(0,R.Q)(qe))}(Me,qe);if((0,le.D)(Me))return M(Me,qe);if((0,pe.T)(Me))return function O(Me,qe){return new j.y(oe=>{let he;return(0,k.f)(oe,qe,()=>{he=Me[Q.h](),(0,k.f)(oe,qe,()=>{let U,Ne;try{({value:U,done:Ne}=he.next())}catch(rt){return void oe.error(rt)}Ne?oe.complete():oe.next(U)},0,!0)}),()=>(0,J.m)(he?.return)&&he.return()})}(Me,qe);if((0,we.L)(Me))return function ve(Me,qe){return M((0,we.Q)(Me),qe)}(Me,qe)}throw(0,fe.z)(Me)}(Me,qe):(0,o.Xf)(Me)}},8421:(Bt,re,H)=>{"use strict";H.d(re,{Xf:()=>Z});var o=H(7582),R=H(1144),A=H(8239),N=H(9751),G=H(3670),j=H(2206),te=H(4532),Q=H(6495),J=H(3260),k=H(576),O=H(7849),M=H(8822);function Z(Se){if(Se instanceof N.y)return Se;if(null!=Se){if((0,G.c)(Se))return function z(Se){return new N.y(_e=>{const Me=Se[M.L]();if((0,k.m)(Me.subscribe))return Me.subscribe(_e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Se);if((0,R.z)(Se))return function ie(Se){return new N.y(_e=>{for(let Me=0;Me<Se.length&&!_e.closed;Me++)_e.next(Se[Me]);_e.complete()})}(Se);if((0,A.t)(Se))return function pe(Se){return new N.y(_e=>{Se.then(Me=>{_e.closed||(_e.next(Me),_e.complete())},Me=>_e.error(Me)).then(null,O.h)})}(Se);if((0,j.D)(Se))return fe(Se);if((0,Q.T)(Se))return function le(Se){return new N.y(_e=>{for(const Me of Se)if(_e.next(Me),_e.closed)return;_e.complete()})}(Se);if((0,J.L)(Se))return function we(Se){return fe((0,J.Q)(Se))}(Se)}throw(0,te.z)(Se)}function fe(Se){return new N.y(_e=>{(function ve(Se,_e){var Me,qe,oe,he;return(0,o.mG)(this,void 0,void 0,function*(){try{for(Me=(0,o.KL)(Se);!(qe=yield Me.next()).done;)if(_e.next(qe.value),_e.closed)return}catch(U){oe={error:U}}finally{try{qe&&!qe.done&&(he=Me.return)&&(yield he.call(Me))}finally{if(oe)throw oe.error}}_e.complete()})})(Se,_e).catch(Me=>_e.error(Me))})}},6451:(Bt,re,H)=>{"use strict";H.d(re,{T:()=>j});var o=H(8189),R=H(8421),A=H(515),N=H(3269),G=H(8996);function j(...te){const Q=(0,N.yG)(te),J=(0,N._6)(te,1/0),k=te;return k.length?1===k.length?(0,R.Xf)(k[0]):(0,o.J)(J)((0,G.D)(k,Q)):A.E}},5403:(Bt,re,H)=>{"use strict";H.d(re,{x:()=>R});var o=H(930);function R(N,G,j,te,Q){return new A(N,G,j,te,Q)}class A extends o.Lv{constructor(G,j,te,Q,J,k){super(G),this.onFinalize=J,this.shouldUnsubscribe=k,this._next=j?function(O){try{j(O)}catch(M){G.error(M)}}:super._next,this._error=Q?function(O){try{Q(O)}catch(M){G.error(M)}finally{this.unsubscribe()}}:super._error,this._complete=te?function(){try{te()}catch(O){G.error(O)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var G;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:j}=this;super.unsubscribe(),!j&&(null===(G=this.onFinalize)||void 0===G||G.call(this))}}}},4004:(Bt,re,H)=>{"use strict";H.d(re,{U:()=>A});var o=H(4482),R=H(5403);function A(N,G){return(0,o.e)((j,te)=>{let Q=0;j.subscribe((0,R.x)(te,J=>{te.next(N.call(G,J,Q++))}))})}},8189:(Bt,re,H)=>{"use strict";H.d(re,{J:()=>A});var o=H(5577),R=H(4671);function A(N=1/0){return(0,o.z)(R.y,N)}},5577:(Bt,re,H)=>{"use strict";H.d(re,{z:()=>Q});var o=H(4004),R=H(8421),A=H(4482),N=H(9672),G=H(5403),te=H(576);function Q(J,k,O=1/0){return(0,te.m)(k)?Q((M,Z)=>(0,o.U)((z,ie)=>k(M,z,Z,ie))((0,R.Xf)(J(M,Z))),O):("number"==typeof k&&(O=k),(0,A.e)((M,Z)=>function j(J,k,O,M,Z,z,ie,pe){const le=[];let fe=0,we=0,ve=!1;const Se=()=>{ve&&!le.length&&!fe&&k.complete()},_e=qe=>fe<M?Me(qe):le.push(qe),Me=qe=>{z&&k.next(qe),fe++;let oe=!1;(0,R.Xf)(O(qe,we++)).subscribe((0,G.x)(k,he=>{Z?.(he),z?_e(he):k.next(he)},()=>{oe=!0},void 0,()=>{if(oe)try{for(fe--;le.length&&fe<M;){const he=le.shift();ie?(0,N.f)(k,ie,()=>Me(he)):Me(he)}Se()}catch(he){k.error(he)}}))};return J.subscribe((0,G.x)(k,_e,()=>{ve=!0,Se()})),()=>{pe?.()}}(M,Z,J,O)))}},5363:(Bt,re,H)=>{"use strict";H.d(re,{Q:()=>N});var o=H(9672),R=H(4482),A=H(5403);function N(G,j=0){return(0,R.e)((te,Q)=>{te.subscribe((0,A.x)(Q,J=>(0,o.f)(Q,G,()=>Q.next(J),j),()=>(0,o.f)(Q,G,()=>Q.complete(),j),J=>(0,o.f)(Q,G,()=>Q.error(J),j)))})}},3099:(Bt,re,H)=>{"use strict";H.d(re,{B:()=>G});var o=H(8421),R=H(7579),A=H(930),N=H(4482);function G(te={}){const{connector:Q=(()=>new R.x),resetOnError:J=!0,resetOnComplete:k=!0,resetOnRefCountZero:O=!0}=te;return M=>{let Z,z,ie,pe=0,le=!1,fe=!1;const we=()=>{z?.unsubscribe(),z=void 0},ve=()=>{we(),Z=ie=void 0,le=fe=!1},Se=()=>{const _e=Z;ve(),_e?.unsubscribe()};return(0,N.e)((_e,Me)=>{pe++,!fe&&!le&&we();const qe=ie=ie??Q();Me.add(()=>{pe--,0===pe&&!fe&&!le&&(z=j(Se,O))}),qe.subscribe(Me),!Z&&pe>0&&(Z=new A.Hp({next:oe=>qe.next(oe),error:oe=>{fe=!0,we(),z=j(ve,J,oe),qe.error(oe)},complete:()=>{le=!0,we(),z=j(ve,k),qe.complete()}}),(0,o.Xf)(_e).subscribe(Z))})(M)}}function j(te,Q,...J){if(!0===Q)return void te();if(!1===Q)return;const k=new A.Hp({next:()=>{k.unsubscribe(),te()}});return Q(...J).subscribe(k)}},9468:(Bt,re,H)=>{"use strict";H.d(re,{R:()=>R});var o=H(4482);function R(A,N=0){return(0,o.e)((G,j)=>{j.add(A.schedule(()=>G.subscribe(j),N))})}},8505:(Bt,re,H)=>{"use strict";H.d(re,{b:()=>G});var o=H(576),R=H(4482),A=H(5403),N=H(4671);function G(j,te,Q){const J=(0,o.m)(j)||te||Q?{next:j,error:te,complete:Q}:j;return J?(0,R.e)((k,O)=>{var M;null===(M=J.subscribe)||void 0===M||M.call(J);let Z=!0;k.subscribe((0,A.x)(O,z=>{var ie;null===(ie=J.next)||void 0===ie||ie.call(J,z),O.next(z)},()=>{var z;Z=!1,null===(z=J.complete)||void 0===z||z.call(J),O.complete()},z=>{var ie;Z=!1,null===(ie=J.error)||void 0===ie||ie.call(J,z),O.error(z)},()=>{var z,ie;Z&&(null===(z=J.unsubscribe)||void 0===z||z.call(J)),null===(ie=J.finalize)||void 0===ie||ie.call(J)}))}):N.y}},4408:(Bt,re,H)=>{"use strict";H.d(re,{o:()=>G});var o=H(727);class R extends o.w0{constructor(te,Q){super()}schedule(te,Q=0){return this}}const A={setInterval(j,te,...Q){const{delegate:J}=A;return J?.setInterval?J.setInterval(j,te,...Q):setInterval(j,te,...Q)},clearInterval(j){const{delegate:te}=A;return(te?.clearInterval||clearInterval)(j)},delegate:void 0};var N=H(8737);class G extends R{constructor(te,Q){super(te,Q),this.scheduler=te,this.work=Q,this.pending=!1}schedule(te,Q=0){var J;if(this.closed)return this;this.state=te;const k=this.id,O=this.scheduler;return null!=k&&(this.id=this.recycleAsyncId(O,k,Q)),this.pending=!0,this.delay=Q,this.id=null!==(J=this.id)&&void 0!==J?J:this.requestAsyncId(O,this.id,Q),this}requestAsyncId(te,Q,J=0){return A.setInterval(te.flush.bind(te,this),J)}recycleAsyncId(te,Q,J=0){if(null!=J&&this.delay===J&&!1===this.pending)return Q;null!=Q&&A.clearInterval(Q)}execute(te,Q){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const J=this._execute(te,Q);if(J)return J;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(te,Q){let k,J=!1;try{this.work(te)}catch(O){J=!0,k=O||new Error("Scheduled action threw falsy error")}if(J)return this.unsubscribe(),k}unsubscribe(){if(!this.closed){const{id:te,scheduler:Q}=this,{actions:J}=Q;this.work=this.state=this.scheduler=null,this.pending=!1,(0,N.P)(J,this),null!=te&&(this.id=this.recycleAsyncId(Q,te,null)),this.delay=null,super.unsubscribe()}}}},7565:(Bt,re,H)=>{"use strict";H.d(re,{v:()=>A});var o=H(6063);class R{constructor(G,j=R.now){this.schedulerActionCtor=G,this.now=j}schedule(G,j=0,te){return new this.schedulerActionCtor(this,G).schedule(te,j)}}R.now=o.l.now;class A extends R{constructor(G,j=R.now){super(G,j),this.actions=[],this._active=!1}flush(G){const{actions:j}=this;if(this._active)return void j.push(G);let te;this._active=!0;do{if(te=G.execute(G.state,G.delay))break}while(G=j.shift());if(this._active=!1,te){for(;G=j.shift();)G.unsubscribe();throw te}}}},4986:(Bt,re,H)=>{"use strict";H.d(re,{P:()=>N,z:()=>A});var o=H(4408);const A=new(H(7565).v)(o.o),N=A},6063:(Bt,re,H)=>{"use strict";H.d(re,{l:()=>o});const o={now:()=>(o.delegate||Date).now(),delegate:void 0}},3410:(Bt,re,H)=>{"use strict";H.d(re,{z:()=>o});const o={setTimeout(R,A,...N){const{delegate:G}=o;return G?.setTimeout?G.setTimeout(R,A,...N):setTimeout(R,A,...N)},clearTimeout(R){const{delegate:A}=o;return(A?.clearTimeout||clearTimeout)(R)},delegate:void 0}},2202:(Bt,re,H)=>{"use strict";H.d(re,{h:()=>R});const R=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Bt,re,H)=>{"use strict";H.d(re,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Bt,re,H)=>{"use strict";H.d(re,{_6:()=>j,jO:()=>N,yG:()=>G});var o=H(576),R=H(3532);function A(te){return te[te.length-1]}function N(te){return(0,o.m)(A(te))?te.pop():void 0}function G(te){return(0,R.K)(A(te))?te.pop():void 0}function j(te,Q){return"number"==typeof A(te)?te.pop():Q}},8737:(Bt,re,H)=>{"use strict";function o(R,A){if(R){const N=R.indexOf(A);0<=N&&R.splice(N,1)}}H.d(re,{P:()=>o})},3888:(Bt,re,H)=>{"use strict";function o(R){const N=R(G=>{Error.call(G),G.stack=(new Error).stack});return N.prototype=Object.create(Error.prototype),N.prototype.constructor=N,N}H.d(re,{d:()=>o})},2806:(Bt,re,H)=>{"use strict";H.d(re,{O:()=>N,x:()=>A});var o=H(2416);let R=null;function A(G){if(o.v.useDeprecatedSynchronousErrorHandling){const j=!R;if(j&&(R={errorThrown:!1,error:null}),G(),j){const{errorThrown:te,error:Q}=R;if(R=null,te)throw Q}}else G()}function N(G){o.v.useDeprecatedSynchronousErrorHandling&&R&&(R.errorThrown=!0,R.error=G)}},9672:(Bt,re,H)=>{"use strict";function o(R,A,N,G=0,j=!1){const te=A.schedule(function(){N(),j?R.add(this.schedule(null,G)):this.unsubscribe()},G);if(R.add(te),!j)return te}H.d(re,{f:()=>o})},4671:(Bt,re,H)=>{"use strict";function o(R){return R}H.d(re,{y:()=>o})},1144:(Bt,re,H)=>{"use strict";H.d(re,{z:()=>o});const o=R=>R&&"number"==typeof R.length&&"function"!=typeof R},2206:(Bt,re,H)=>{"use strict";H.d(re,{D:()=>R});var o=H(576);function R(A){return Symbol.asyncIterator&&(0,o.m)(A?.[Symbol.asyncIterator])}},576:(Bt,re,H)=>{"use strict";function o(R){return"function"==typeof R}H.d(re,{m:()=>o})},3670:(Bt,re,H)=>{"use strict";H.d(re,{c:()=>A});var o=H(8822),R=H(576);function A(N){return(0,R.m)(N[o.L])}},6495:(Bt,re,H)=>{"use strict";H.d(re,{T:()=>A});var o=H(2202),R=H(576);function A(N){return(0,R.m)(N?.[o.h])}},8239:(Bt,re,H)=>{"use strict";H.d(re,{t:()=>R});var o=H(576);function R(A){return(0,o.m)(A?.then)}},3260:(Bt,re,H)=>{"use strict";H.d(re,{L:()=>N,Q:()=>A});var o=H(7582),R=H(576);function A(G){return(0,o.FC)(this,arguments,function*(){const te=G.getReader();try{for(;;){const{value:Q,done:J}=yield(0,o.qq)(te.read());if(J)return yield(0,o.qq)(void 0);yield yield(0,o.qq)(Q)}}finally{te.releaseLock()}})}function N(G){return(0,R.m)(G?.getReader)}},3532:(Bt,re,H)=>{"use strict";H.d(re,{K:()=>R});var o=H(576);function R(A){return A&&(0,o.m)(A.schedule)}},4482:(Bt,re,H)=>{"use strict";H.d(re,{A:()=>R,e:()=>A});var o=H(576);function R(N){return(0,o.m)(N?.lift)}function A(N){return G=>{if(R(G))return G.lift(function(j){try{return N(j,this)}catch(te){this.error(te)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Bt,re,H)=>{"use strict";function o(){}H.d(re,{Z:()=>o})},9635:(Bt,re,H)=>{"use strict";H.d(re,{U:()=>A,z:()=>R});var o=H(4671);function R(...N){return A(N)}function A(N){return 0===N.length?o.y:1===N.length?N[0]:function(j){return N.reduce((te,Q)=>Q(te),j)}}},7849:(Bt,re,H)=>{"use strict";H.d(re,{h:()=>A});var o=H(2416),R=H(3410);function A(N){R.z.setTimeout(()=>{const{onUnhandledError:G}=o.v;if(!G)throw N;G(N)})}},4532:(Bt,re,H)=>{"use strict";function o(R){return new TypeError(`You provided ${null!==R&&"object"==typeof R?"an invalid object":`'${R}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}H.d(re,{z:()=>o})},4650:(Bt,re,H)=>{"use strict";H.d(re,{$8M:()=>yc,$WT:()=>Tr,$Z:()=>aM,AFp:()=>fT,ALo:()=>ow,AaK:()=>Q,AsE:()=>_y,BQk:()=>dy,CHM:()=>hu,CRH:()=>VR,CZH:()=>Ny,CqO:()=>d0,D6c:()=>qw,DdM:()=>nl,Dn7:()=>My,EJc:()=>$i,EiD:()=>oi,EpF:()=>OS,F$t:()=>qm,F4k:()=>c0,FYo:()=>FD,FiY:()=>No,Gf:()=>YE,GfV:()=>W_,GkF:()=>zm,Gpc:()=>O,Gre:()=>WS,Hsn:()=>Uf,Ikx:()=>eE,JOm:()=>to,JVY:()=>hB,JZr:()=>pe,KtG:()=>cc,L6k:()=>fB,LAX:()=>mB,LFG:()=>on,LSH:()=>Nl,Lbi:()=>iO,Lck:()=>xR,MAs:()=>RS,MMx:()=>Y0,MR2:()=>xD,NdJ:()=>Vf,O4$:()=>gu,OlP:()=>Ln,Oqu:()=>D0,P3R:()=>Sb,PXZ:()=>pO,Q6J:()=>s0,QGY:()=>Bf,QbO:()=>rO,Qsj:()=>Lk,R0b:()=>us,RDi:()=>oB,Rgc:()=>rh,SBq:()=>Af,Sil:()=>_T,Suo:()=>WE,TTD:()=>Gh,TgZ:()=>Md,Tol:()=>jM,Udp:()=>Km,VKq:()=>J0,W1O:()=>QE,WFA:()=>Io,WLB:()=>NE,X6Q:()=>Iw,XFs:()=>be,Xpm:()=>_n,Xts:()=>Uu,Y36:()=>Rm,YKP:()=>Ay,YNc:()=>kS,Yjl:()=>Cn,Yz7:()=>vt,Z0I:()=>L,ZZ4:()=>zw,_Bn:()=>cg,_UZ:()=>Rd,_Vd:()=>Dm,_c5:()=>$y,_uU:()=>my,aQg:()=>Tg,c2e:()=>oO,cJS:()=>Ft,cg1:()=>N0,d8E:()=>F0,dDg:()=>uO,dqk:()=>Rt,eBb:()=>pB,eFA:()=>_O,eJc:()=>Py,ekj:()=>y0,eoX:()=>hO,evT:()=>zu,f3M:()=>_i,g9A:()=>mT,h0i:()=>Rc,hGG:()=>jw,hij:()=>gy,iGM:()=>$E,ifc:()=>X,ip1:()=>hT,jDz:()=>kE,kEZ:()=>dg,kL8:()=>tE,kcU:()=>id,l5B:()=>X0,lG2:()=>tn,lcZ:()=>Xf,lnq:()=>S0,lqb:()=>Ll,lri:()=>CT,mCW:()=>Cb,n5z:()=>Du,n_E:()=>sw,oAB:()=>Le,oxw:()=>Od,pB0:()=>gB,q3G:()=>Tt,q4F:()=>Uk,qLn:()=>K_,qOj:()=>e0,qZA:()=>Wu,qzn:()=>wm,rWj:()=>Sw,s9C:()=>Hf,sBO:()=>Mw,s_b:()=>Ho,soG:()=>Ly,tBr:()=>_d,tb:()=>ST,tp0:()=>qr,uIk:()=>ly,vHH:()=>le,vpe:()=>Fc,wAp:()=>Xt,xi3:()=>ug,xp6:()=>$D,ynx:()=>Lf,z2F:()=>ne,z3N:()=>Sd,zSh:()=>z_,zs3:()=>Mf});var o=H(7579),R=H(727),A=H(9751),N=H(6451),G=H(3099);function j(l){for(let c in l)if(l[c]===j)return c;throw Error("Could not find renamed property on target object.")}function te(l,c){for(const d in c)c.hasOwnProperty(d)&&!l.hasOwnProperty(d)&&(l[d]=c[d])}function Q(l){if("string"==typeof l)return l;if(Array.isArray(l))return"["+l.map(Q).join(", ")+"]";if(null==l)return""+l;if(l.overriddenName)return`${l.overriddenName}`;if(l.name)return`${l.name}`;const c=l.toString();if(null==c)return""+c;const d=c.indexOf("\n");return-1===d?c:c.substring(0,d)}function J(l,c){return null==l||""===l?null===c?"":c:null==c||""===c?l:l+" "+c}const k=j({__forward_ref__:j});function O(l){return l.__forward_ref__=O,l.toString=function(){return Q(this())},l}function M(l){return Z(l)?l():l}function Z(l){return"function"==typeof l&&l.hasOwnProperty(k)&&l.__forward_ref__===O}function z(l){return l&&!!l.\u0275providers}const pe="https://g.co/ng/security#xss";class le extends Error{constructor(c,d){super(fe(c,d)),this.code=c}}function fe(l,c){return`NG0${Math.abs(l)}${c?": "+c.trim():""}`}function we(l){return"string"==typeof l?l:null==l?"":String(l)}function qe(l,c){throw new le(-201,!1)}function xe(l,c){null==l&&function Ie(l,c,d,h){throw new Error(`ASSERTION ERROR: ${l}`+(null==h?"":` [Expected=> ${d} ${h} ${c} <=Actual]`))}(c,l,null,"!=")}function vt(l){return{token:l.token,providedIn:l.providedIn||null,factory:l.factory,value:void 0}}function Ft(l){return{providers:l.providers||[],imports:l.imports||[]}}function rn(l){return Qe(l,ae)||Qe(l,tt)}function L(l){return null!==rn(l)}function Qe(l,c){return l.hasOwnProperty(c)?l[c]:null}function ce(l){return l&&(l.hasOwnProperty(Te)||l.hasOwnProperty(Xe))?l[Te]:null}const ae=j({\u0275prov:j}),Te=j({\u0275inj:j}),tt=j({ngInjectableDef:j}),Xe=j({ngInjectorDef:j});var be=(()=>((be=be||{})[be.Default=0]="Default",be[be.Host=1]="Host",be[be.Self=2]="Self",be[be.SkipSelf=4]="SkipSelf",be[be.Optional=8]="Optional",be))();let ot;function st(l){const c=ot;return ot=l,c}function Mt(l,c,d){const h=rn(l);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:d&be.Optional?null:void 0!==c?c:void qe(Q(l))}const Rt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ni={},An="__NG_DI_FLAG__",Jn="ngTempTokenPath",Ui="ngTokenPath",zn=/\n/gm,Di="\u0275",gn="__source";let Vr;function bn(l){const c=Vr;return Vr=l,c}function ur(l,c=be.Default){if(void 0===Vr)throw new le(-203,!1);return null===Vr?Mt(l,void 0,c):Vr.get(l,c&be.Optional?null:void 0,c)}function on(l,c=be.Default){return(function xt(){return ot}()||ur)(M(l),c)}function _i(l,c=be.Default){return on(l,hr(c))}function hr(l){return typeof l>"u"||"number"==typeof l?l:0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)}function Ei(l){const c=[];for(let d=0;d<l.length;d++){const h=M(l[d]);if(Array.isArray(h)){if(0===h.length)throw new le(900,!1);let p,_=be.Default;for(let b=0;b<h.length;b++){const S=h[b],T=Er(S);"number"==typeof T?-1===T?p=S.token:_|=T:p=S}c.push(on(p,_))}else c.push(on(h))}return c}function Ur(l,c){return l[An]=c,l.prototype[An]=c,l}function Er(l){return l[An]}function me(l){return{toString:l}.toString()}var K=(()=>((K=K||{})[K.OnPush=0]="OnPush",K[K.Default=1]="Default",K))(),X=(()=>{return(l=X||(X={}))[l.Emulated=0]="Emulated",l[l.None=2]="None",l[l.ShadowDom=3]="ShadowDom",X;var l})();const $={},Ce=[],et=j({\u0275cmp:j}),At=j({\u0275dir:j}),en=j({\u0275pipe:j}),Qt=j({\u0275mod:j}),xn=j({\u0275fac:j}),sn=j({__NG_ELEMENT_ID__:j});let ai=0;function _n(l){return me(()=>{const c=qc(l),d={...c,decls:l.decls,vars:l.vars,template:l.template,consts:l.consts||null,ngContentSelectors:l.ngContentSelectors,onPush:l.changeDetection===K.OnPush,directiveDefs:null,pipeDefs:null,dependencies:c.standalone&&l.dependencies||null,getStandaloneInjector:null,data:l.data||{},encapsulation:l.encapsulation||X.Emulated,id:"c"+ai++,styles:l.styles||Ce,_:null,schemas:l.schemas||null,tView:null};Wp(d);const h=l.dependencies;return d.directiveDefs=Zs(h,!1),d.pipeDefs=Zs(h,!0),d})}function ws(l){return qt(l)||qn(l)}function $e(l){return null!==l}function Le(l){return me(()=>({type:l.type,bootstrap:l.bootstrap||Ce,declarations:l.declarations||Ce,imports:l.imports||Ce,exports:l.exports||Ce,transitiveCompileScopes:null,schemas:l.schemas||null,id:l.id||null}))}function Ht(l,c){if(null==l)return $;const d={};for(const h in l)if(l.hasOwnProperty(h)){let p=l[h],_=p;Array.isArray(p)&&(_=p[1],p=p[0]),d[p]=h,c&&(c[p]=_)}return d}function tn(l){return me(()=>{const c=qc(l);return Wp(c),c})}function Cn(l){return{type:l.type,name:l.name,factory:null,pure:!1!==l.pure,standalone:!0===l.standalone,onDestroy:l.type.prototype.ngOnDestroy||null}}function qt(l){return l[et]||null}function qn(l){return l[At]||null}function On(l){return l[en]||null}function Tr(l){const c=qt(l)||qn(l)||On(l);return null!==c&&c.standalone}function tr(l,c){const d=l[Qt]||null;if(!d&&!0===c)throw new Error(`Type ${Q(l)} does not have '\u0275mod' property.`);return d}function qc(l){const c={};return{type:l.type,providersResolver:null,factory:null,hostBindings:l.hostBindings||null,hostVars:l.hostVars||0,hostAttrs:l.hostAttrs||null,contentQueries:l.contentQueries||null,declaredInputs:c,exportAs:l.exportAs||null,standalone:!0===l.standalone,selectors:l.selectors||Ce,viewQuery:l.viewQuery||null,features:l.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ht(l.inputs,c),outputs:Ht(l.outputs)}}function Wp(l){l.features?.forEach(c=>c(l))}function Zs(l,c){if(!l)return null;const d=c?On:ws;return()=>("function"==typeof l?l():l).map(h=>d(h)).filter($e)}const nr=0,Dt=1,cn=2,hi=3,Zn=4,$s=5,ir=6,Fi=7,Si=8,nc=9,Vn=10,wn=11,Zc=12,yo=13,xs=14,vo=15,Ti=16,Ia=17,ka=18,ao=19,es=20,yi=21,ii=22,su=1,ic=2,_l=7,Ys=8,Hi=9,fr=10;function Gr(l){return Array.isArray(l)&&"object"==typeof l[su]}function lo(l){return Array.isArray(l)&&!0===l[su]}function Ma(l){return 0!=(4&l.flags)}function $c(l){return l.componentOffset>-1}function rc(l){return 1==(1&l.flags)}function rr(l){return!!l.template}function Ws(l){return 0!=(256&l[cn])}function Cs(l,c){return l.hasOwnProperty(xn)?l[xn]:null}class Hh{constructor(c,d,h){this.previousValue=c,this.currentValue=d,this.firstChange=h}isFirstChange(){return this.firstChange}}function Gh(){return Yc}function Yc(l){return l.type.prototype.ngOnChanges&&(l.setInput=Qs),Xp}function Xp(){const l=Wc(this),c=l?.current;if(c){const d=l.previous;if(d===$)l.previous=c;else for(let h in c)d[h]=c[h];l.current=null,this.ngOnChanges(c)}}function Qs(l,c,d,h){const p=this.declaredInputs[d],_=Wc(l)||function zh(l,c){return l[lu]=c}(l,{previous:$,current:null}),b=_.current||(_.current={}),S=_.previous,T=S[p];b[p]=new Hh(T&&T.currentValue,c,S===$),l[h]=c}Gh.ngInherit=!0;const lu="__ngSimpleChanges__";function Wc(l){return l[lu]||null}const vi=function(l,c,d){},sc="svg";function Gi(l){for(;Array.isArray(l);)l=l[nr];return l}function Na(l,c){return Gi(c[l])}function pr(l,c){return Gi(c[l.index])}function Qc(l,c){return l.data[c]}function zr(l,c){return l[c]}function sr(l,c){const d=c[l];return Gr(d)?d:d[nr]}function Js(l){return 64==(64&l[cn])}function Ds(l,c){return null==c?null:l[c]}function lc(l){l[ka]=0}function bl(l,c){l[$s]+=c;let d=l,h=l[hi];for(;null!==h&&(1===c&&1===d[$s]||-1===c&&0===d[$s]);)h[$s]+=c,d=h,h=h[hi]}const un={lFrame:uc(null),bindingsEnabled:!0};function qh(){return un.bindingsEnabled}function Ye(){return un.lFrame.lView}function pn(){return un.lFrame.tView}function hu(l){return un.lFrame.contextLView=l,l[Si]}function cc(l){return un.lFrame.contextLView=null,l}function Ai(){let l=$h();for(;null!==l&&64===l.type;)l=l.parent;return l}function $h(){return un.lFrame.currentTNode}function xo(l,c){const d=un.lFrame;d.currentTNode=l,d.isParent=c}function Xc(){return un.lFrame.isParent}function Yh(){un.lFrame.isParent=!1}function mr(){const l=un.lFrame;let c=l.bindingRootIndex;return-1===c&&(c=l.bindingRootIndex=l.tView.bindingStartIndex),c}function eo(){return un.lFrame.bindingIndex}function Ss(){return un.lFrame.bindingIndex++}function ns(l){const c=un.lFrame,d=c.bindingIndex;return c.bindingIndex=c.bindingIndex+l,d}function Qh(l,c){const d=un.lFrame;d.bindingIndex=d.bindingRootIndex=l,Ii(c)}function Ii(l){un.lFrame.currentDirectiveIndex=l}function ed(l){const c=un.lFrame.currentDirectiveIndex;return-1===c?null:l[c]}function dc(){return un.lFrame.currentQueryIndex}function Jh(l){un.lFrame.currentQueryIndex=l}function td(l){const c=l[Dt];return 2===c.type?c.declTNode:1===c.type?l[ir]:null}function Xh(l,c,d){if(d&be.SkipSelf){let p=c,_=l;for(;!(p=p.parent,null!==p||d&be.Host||(p=td(_),null===p||(_=_[vo],10&p.type))););if(null===p)return!1;c=p,l=_}const h=un.lFrame=fu();return h.currentTNode=c,h.lView=l,!0}function Cl(l){const c=fu(),d=l[Dt];un.lFrame=c,c.currentTNode=d.firstChild,c.lView=l,c.tView=d,c.contextLView=l,c.bindingIndex=d.bindingStartIndex,c.inI18n=!1}function fu(){const l=un.lFrame,c=null===l?null:l.child;return null===c?uc(l):c}function uc(l){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:l,child:null,inI18n:!1};return null!==l&&(l.child=c),c}function pu(){const l=un.lFrame;return un.lFrame=l.parent,l.currentTNode=null,l.lView=null,l}const nd=pu;function ef(){const l=pu();l.isParent=!0,l.tView=null,l.selectedIndex=-1,l.contextLView=null,l.elementDepthCount=0,l.currentDirectiveIndex=-1,l.currentNamespace=null,l.bindingRootIndex=-1,l.bindingIndex=-1,l.currentQueryIndex=0}function Ir(){return un.lFrame.selectedIndex}function is(l){un.lFrame.selectedIndex=l}function fi(){const l=un.lFrame;return Qc(l.tView,l.selectedIndex)}function gu(){un.lFrame.currentNamespace=sc}function id(){!function M_(){un.lFrame.currentNamespace=null}()}function rd(l,c){for(let d=c.directiveStart,h=c.directiveEnd;d<h;d++){const _=l.data[d].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:S,ngAfterViewInit:T,ngAfterViewChecked:F,ngOnDestroy:Y}=_;b&&(l.contentHooks??(l.contentHooks=[])).push(-d,b),S&&((l.contentHooks??(l.contentHooks=[])).push(d,S),(l.contentCheckHooks??(l.contentCheckHooks=[])).push(d,S)),T&&(l.viewHooks??(l.viewHooks=[])).push(-d,T),F&&((l.viewHooks??(l.viewHooks=[])).push(d,F),(l.viewCheckHooks??(l.viewCheckHooks=[])).push(d,F)),null!=Y&&(l.destroyHooks??(l.destroyHooks=[])).push(d,Y)}}function _u(l,c,d){od(l,c,3,d)}function rf(l,c,d,h){(3&l[cn])===d&&od(l,c,d,h)}function sf(l,c){let d=l[cn];(3&d)===c&&(d&=2047,d+=1,l[cn]=d)}function od(l,c,d,h){const _=h??-1,b=c.length-1;let S=0;for(let T=void 0!==h?65535&l[ka]:0;T<b;T++)if("number"==typeof c[T+1]){if(S=c[T],null!=h&&S>=h)break}else c[T]<0&&(l[ka]+=65536),(S<_||-1==_)&&(Sl(l,d,c,T),l[ka]=(4294901760&l[ka])+T+2),T++}function Sl(l,c,d,h){const p=d[h]<0,_=d[h+1],S=l[p?-d[h]:d[h]];if(p){if(l[cn]>>11<l[ka]>>16&&(3&l[cn])===c){l[cn]+=2048,vi(4,S,_);try{_.call(S)}finally{vi(5,S,_)}}}else{vi(4,S,_);try{_.call(S)}finally{vi(5,S,_)}}}const hc=-1;class Es{constructor(c,d,h){this.factory=c,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=h}}function El(l,c,d){let h=0;for(;h<d.length;){const p=d[h];if("number"==typeof p){if(0!==p)break;h++;const _=d[h++],b=d[h++],S=d[h++];l.setAttribute(c,b,S,_)}else{const _=p,b=d[++h];ta(_)?l.setProperty(c,_,b):l.setAttribute(c,_,b),h++}}return h}function lf(l){return 3===l||4===l||6===l}function ta(l){return 64===l.charCodeAt(0)}function Ba(l,c){if(null!==c&&0!==c.length)if(null===l||0===l.length)l=c.slice();else{let d=-1;for(let h=0;h<c.length;h++){const p=c[h];"number"==typeof p?d=p:0===d||Tl(l,d,p,null,-1===d||2===d?c[++h]:null)}}return l}function Tl(l,c,d,h,p){let _=0,b=l.length;if(-1===c)b=-1;else for(;_<l.length;){const S=l[_++];if("number"==typeof S){if(S===c){b=-1;break}if(S>c){b=_-1;break}}}for(;_<l.length;){const S=l[_];if("number"==typeof S)break;if(S===d){if(null===h)return void(null!==p&&(l[_+1]=p));if(h===l[_+1])return void(l[_+2]=p)}_++,null!==h&&_++,null!==p&&_++}-1!==b&&(l.splice(b,0,c),_=b+1),l.splice(_++,0,d),null!==h&&l.splice(_++,0,h),null!==p&&l.splice(_++,0,p)}function Va(l){return l!==hc}function Al(l){return 32767&l}function mc(l,c){let d=function pc(l){return l>>16}(l),h=c;for(;d>0;)h=h[vo],d--;return h}let vu=!0;function gc(l){const c=vu;return vu=l,c}const bu=255,ld=5;let wu=0;const jr={};function xu(l,c){const d=df(l,c);if(-1!==d)return d;const h=c[Dt];h.firstCreatePass&&(l.injectorIndex=c.length,rs(h.data,l),rs(c,null),rs(h.blueprint,null));const p=ki(l,c),_=l.injectorIndex;if(Va(p)){const b=Al(p),S=mc(p,c),T=S[Dt].data;for(let F=0;F<8;F++)c[_+F]=S[b+F]|T[b+F]}return c[_+8]=p,_}function rs(l,c){l.push(0,0,0,0,0,0,0,0,c)}function df(l,c){return-1===l.injectorIndex||l.parent&&l.parent.injectorIndex===l.injectorIndex||null===c[l.injectorIndex+8]?-1:l.injectorIndex}function ki(l,c){if(l.parent&&-1!==l.parent.injectorIndex)return l.parent.injectorIndex;let d=0,h=null,p=c;for(;null!==p;){if(h=Ua(p),null===h)return hc;if(d++,p=p[vo],-1!==h.injectorIndex)return h.injectorIndex|d<<16}return hc}function na(l,c,d){!function cf(l,c,d){let h;"string"==typeof d?h=d.charCodeAt(0)||0:d.hasOwnProperty(sn)&&(h=d[sn]),null==h&&(h=d[sn]=wu++);const p=h&bu;c.data[l+(p>>ld)]|=1<<p}(l,c,d)}function uf(l,c,d){if(d&be.Optional||void 0!==l)return l;qe()}function _c(l,c,d,h){if(d&be.Optional&&void 0===h&&(h=null),!(d&(be.Self|be.Host))){const p=l[nc],_=st(void 0);try{return p?p.get(c,h,d&be.Optional):Mt(c,h,d&be.Optional)}finally{st(_)}}return uf(h,0,d)}function hf(l,c,d,h=be.Default,p){if(null!==l){if(1024&c[cn]){const b=function om(l,c,d,h,p){let _=l,b=c;for(;null!==_&&null!==b&&1024&b[cn]&&!(256&b[cn]);){const S=dd(_,b,d,h|be.Self,jr);if(S!==jr)return S;let T=_.parent;if(!T){const F=b[yi];if(F){const Y=F.get(d,jr,h);if(Y!==jr)return Y}T=Ua(b),b=b[vo]}_=T}return p}(l,c,d,h,jr);if(b!==jr)return b}const _=dd(l,c,d,h,jr);if(_!==jr)return _}return _c(c,d,h,p)}function dd(l,c,d,h,p){const _=function rm(l){if("string"==typeof l)return l.charCodeAt(0)||0;const c=l.hasOwnProperty(sn)?l[sn]:void 0;return"number"==typeof c?c>=0?c&bu:Cu:c}(d);if("function"==typeof _){if(!Xh(c,l,h))return h&be.Host?uf(p,0,h):_c(c,d,h,p);try{const b=_(h);if(null!=b||h&be.Optional)return b;qe()}finally{nd()}}else if("number"==typeof _){let b=null,S=df(l,c),T=hc,F=h&be.Host?c[Ti][ir]:null;for((-1===S||h&be.SkipSelf)&&(T=-1===S?ki(l,c):c[S+8],T!==hc&&ud(h,!1)?(b=c[Dt],S=Al(T),c=mc(T,c)):S=-1);-1!==S;){const Y=c[Dt];if(ia(_,S,Y.data)){const de=zi(S,c,d,b,h,F);if(de!==jr)return de}T=c[S+8],T!==hc&&ud(h,c[Dt].data[S+8]===F)&&ia(_,S,c)?(b=Y,S=Al(T),c=mc(T,c)):S=-1}}return p}function zi(l,c,d,h,p,_){const b=c[Dt],S=b.data[l+8],Y=Il(S,b,d,null==h?$c(S)&&vu:h!=b&&0!=(3&S.type),p&be.Host&&_===S);return null!==Y?bi(c,b,Y,S):jr}function Il(l,c,d,h,p){const _=l.providerIndexes,b=c.data,S=1048575&_,T=l.directiveStart,Y=_>>20,Ee=p?S+Y:l.directiveEnd;for(let Fe=h?S:S+Y;Fe<Ee;Fe++){const Je=b[Fe];if(Fe<T&&d===Je||Fe>=T&&Je.type===d)return Fe}if(p){const Fe=b[T];if(Fe&&rr(Fe)&&Fe.type===d)return T}return null}function bi(l,c,d,h){let p=l[d];const _=c.data;if(function O_(l){return l instanceof Es}(p)){const b=p;b.resolving&&function Se(l,c){const d=c?`. Dependency path: ${c.join(" > ")} > ${l}`:"";throw new le(-200,`Circular dependency in DI detected for ${l}${d}`)}(function ve(l){return"function"==typeof l?l.name||l.toString():"object"==typeof l&&null!=l&&"function"==typeof l.type?l.type.name||l.type.toString():we(l)}(_[d]));const S=gc(b.canSeeViewProviders);b.resolving=!0;const T=b.injectImpl?st(b.injectImpl):null;Xh(l,h,be.Default);try{p=l[d]=b.factory(void 0,_,l,h),c.firstCreatePass&&d>=h.directiveStart&&function R_(l,c,d){const{ngOnChanges:h,ngOnInit:p,ngDoCheck:_}=c.type.prototype;if(h){const b=Yc(c);(d.preOrderHooks??(d.preOrderHooks=[])).push(l,b),(d.preOrderCheckHooks??(d.preOrderCheckHooks=[])).push(l,b)}p&&(d.preOrderHooks??(d.preOrderHooks=[])).push(0-l,p),_&&((d.preOrderHooks??(d.preOrderHooks=[])).push(l,_),(d.preOrderCheckHooks??(d.preOrderCheckHooks=[])).push(l,_))}(d,_[d],c)}finally{null!==T&&st(T),gc(S),b.resolving=!1,nd()}}return p}function ia(l,c,d){return!!(d[c+(l>>ld)]&1<<l)}function ud(l,c){return!(l&be.Self||l&be.Host&&c)}class kl{constructor(c,d){this._tNode=c,this._lView=d}get(c,d,h){return hf(this._tNode,this._lView,c,hr(h),d)}}function Cu(){return new kl(Ai(),Ye())}function Du(l){return me(()=>{const c=l.prototype.constructor,d=c[xn]||ra(c),h=Object.prototype;let p=Object.getPrototypeOf(l.prototype).constructor;for(;p&&p!==h;){const _=p[xn]||ra(p);if(_&&_!==d)return _;p=Object.getPrototypeOf(p)}return _=>new _})}function ra(l){return Z(l)?()=>{const c=ra(M(l));return c&&c()}:Cs(l)}function Ua(l){const c=l[Dt],d=c.type;return 2===d?c.declTNode:1===d?l[ir]:null}function yc(l){return function cd(l,c){if("class"===c)return l.classes;if("style"===c)return l.styles;const d=l.attrs;if(d){const h=d.length;let p=0;for(;p<h;){const _=d[p];if(lf(_))break;if(0===_)p+=2;else if("number"==typeof _)for(p++;p<h&&"string"==typeof d[p];)p++;else{if(_===c)return d[p+1];p+=2}}}return null}(Ai(),l)}const Ga="__parameters__";function za(l,c,d){return me(()=>{const h=function ff(l){return function(...d){if(l){const h=l(...d);for(const p in h)this[p]=h[p]}}}(c);function p(..._){if(this instanceof p)return h.apply(this,_),this;const b=new p(..._);return S.annotation=b,S;function S(T,F,Y){const de=T.hasOwnProperty(Ga)?T[Ga]:Object.defineProperty(T,Ga,{value:[]})[Ga];for(;de.length<=Y;)de.push(null);return(de[Y]=de[Y]||[]).push(b),T}}return d&&(p.prototype=Object.create(d.prototype)),p.prototype.ngMetadataName=l,p.annotationCls=p,p})}class Ln{constructor(c,d){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=vt({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function oa(l,c){l.forEach(d=>Array.isArray(d)?oa(d,c):c(d))}function ku(l,c,d){c>=l.length?l.push(d):l.splice(c,0,d)}function vc(l,c){return c>=l.length-1?l.pop():l.splice(c,1)[0]}function Ml(l,c){const d=[];for(let h=0;h<l;h++)d.push(c);return d}function Co(l,c,d){let h=Rl(l,c);return h>=0?l[1|h]=d:(h=~h,function bc(l,c,d,h){let p=l.length;if(p==c)l.push(d,h);else if(1===p)l.push(h,l[0]),l[0]=d;else{for(p--,l.push(l[p-1],l[p]);p>c;)l[p]=l[p-2],p--;l[c]=d,l[c+1]=h}}(l,h,c,d)),h}function qa(l,c){const d=Rl(l,c);if(d>=0)return l[1|d]}function Rl(l,c){return function gd(l,c,d){let h=0,p=l.length>>d;for(;p!==h;){const _=h+(p-h>>1),b=l[_<<d];if(c===b)return _<<d;b>c?p=_:h=_+1}return~(p<<d)}(l,c,1)}const _d=Ur(za("Inject",l=>({token:l})),-1),No=Ur(za("Optional"),8),qr=Ur(za("SkipSelf"),4);var to=(()=>((to=to||{})[to.Important=1]="Important",to[to.DashCase=2]="DashCase",to))();const Cc=new Map;let Fu=0;const Re="__ngContext__";function Ue(l,c){Gr(c)?(l[Re]=c[es],function hm(l){Cc.set(l[es],l)}(c)):l[Re]=c}let ls;function Pl(l,c){return ls(l,c)}function Dc(l){const c=l[hi];return lo(c)?c[hi]:c}function Wa(l){return P_(l[yo])}function fm(l){return P_(l[Zn])}function P_(l){for(;null!==l&&!lo(l);)l=l[Zn];return l}function Bu(l,c,d,h,p){if(null!=h){let _,b=!1;lo(h)?_=h:Gr(h)&&(b=!0,h=h[nr]);const S=Gi(h);0===l&&null!==d?null==p?To(c,d,S):Dn(c,d,S,p||null,!0):1===l&&null!==d?Dn(c,d,S,p||null,!0):2===l?function fD(l,c,d){const h=Vu(l,c);h&&function pm(l,c,d,h){l.removeChild(c,d,h)}(l,h,c,d)}(c,S,b):3===l&&c.destroyNode(S),null!=_&&function tB(l,c,d,h,p){const _=d[_l];_!==Gi(d)&&Bu(c,l,h,_,p);for(let S=fr;S<d.length;S++){const T=d[S];H_(T[Dt],T,l,c,h,_)}}(c,l,_,d,p)}}function L_(l,c,d){return l.createElement(c,d)}function D(l,c){const d=l[Hi],h=d.indexOf(c),p=c[hi];512&c[cn]&&(c[cn]&=-513,bl(p,-1)),d.splice(h,1)}function V(l,c){if(l.length<=fr)return;const d=fr+c,h=l[d];if(h){const p=h[Ia];null!==p&&p!==l&&D(p,h),c>0&&(l[d-1][Zn]=h[Zn]);const _=vc(l,fr+c);!function vb(l,c){H_(l,c,c[wn],2,null,null),c[nr]=null,c[ir]=null}(h[Dt],h);const b=_[ao];null!==b&&b.detachView(_[Dt]),h[hi]=null,h[Zn]=null,h[cn]&=-65}return h}function W(l,c){if(!(128&c[cn])){const d=c[wn];d.destroyNode&&H_(l,c,d,3,null,null),function w(l){let c=l[yo];if(!c)return ke(l[Dt],l);for(;c;){let d=null;if(Gr(c))d=c[yo];else{const h=c[fr];h&&(d=h)}if(!d){for(;c&&!c[Zn]&&c!==l;)Gr(c)&&ke(c[Dt],c),c=c[hi];null===c&&(c=l),Gr(c)&&ke(c[Dt],c),d=c&&c[Zn]}c=d}}(c)}}function ke(l,c){if(!(128&c[cn])){c[cn]&=-65,c[cn]|=128,function yt(l,c){let d;if(null!=l&&null!=(d=l.destroyHooks))for(let h=0;h<d.length;h+=2){const p=c[d[h]];if(!(p instanceof Es)){const _=d[h+1];if(Array.isArray(_))for(let b=0;b<_.length;b+=2){const S=p[_[b]],T=_[b+1];vi(4,S,T);try{T.call(S)}finally{vi(5,S,T)}}else{vi(4,p,_);try{_.call(p)}finally{vi(5,p,_)}}}}}(l,c),function ze(l,c){const d=l.cleanup,h=c[Fi];let p=-1;if(null!==d)for(let _=0;_<d.length-1;_+=2)if("string"==typeof d[_]){const b=d[_+3];b>=0?h[p=b]():h[p=-b].unsubscribe(),_+=2}else{const b=h[p=d[_+1]];d[_].call(b)}if(null!==h){for(let _=p+1;_<h.length;_++)(0,h[_])();c[Fi]=null}}(l,c),1===c[Dt].type&&c[wn].destroy();const d=c[Ia];if(null!==d&&lo(c[hi])){d!==c[hi]&&D(d,c);const h=c[ao];null!==h&&h.detachView(l)}!function C(l){Cc.delete(l[es])}(c)}}function St(l,c,d){return function Yt(l,c,d){let h=c;for(;null!==h&&40&h.type;)h=(c=h).parent;if(null===h)return d[nr];{const{componentOffset:p}=h;if(p>-1){const{encapsulation:_}=l.data[h.directiveStart+p];if(_===X.None||_===X.Emulated)return null}return pr(h,d)}}(l,c.parent,d)}function Dn(l,c,d,h,p){l.insertBefore(c,d,h,p)}function To(l,c,d){l.appendChild(c,d)}function Fl(l,c,d,h,p){null!==h?Dn(l,c,d,h,p):To(l,c,d)}function Vu(l,c){return l.parentNode(c)}function B_(l,c,d){return V_(l,c,d)}let gm,wb,gD,xb,V_=function mm(l,c,d){return 40&l.type?pr(l,d):null};function Cf(l,c,d,h){const p=St(l,h,c),_=c[wn],S=B_(h.parent||c[ir],h,c);if(null!=p)if(Array.isArray(d))for(let T=0;T<d.length;T++)Fl(_,p,d[T],S,!1);else Fl(_,p,d,S,!1);void 0!==gm&&gm(_,h,c,d,p)}function ym(l,c){if(null!==c){const d=c.type;if(3&d)return pr(c,l);if(4&d)return U_(-1,l[c.index]);if(8&d){const h=c.child;if(null!==h)return ym(l,h);{const p=l[c.index];return lo(p)?U_(-1,p):Gi(p)}}if(32&d)return Pl(c,l)()||Gi(l[c.index]);{const h=vm(l,c);return null!==h?Array.isArray(h)?h[0]:ym(Dc(l[Ti]),h):ym(l,c.next)}}return null}function vm(l,c){return null!==c?l[Ti][ir].projection[c.projection]:null}function U_(l,c){const d=fr+l+1;if(d<c.length){const h=c[d],p=h[Dt].firstChild;if(null!==p)return ym(h,p)}return c[_l]}function pD(l,c,d,h,p,_,b){for(;null!=d;){const S=h[d.index],T=d.type;if(b&&0===c&&(S&&Ue(Gi(S),h),d.flags|=2),32!=(32&d.flags))if(8&T)pD(l,c,d.child,h,p,_,!1),Bu(c,l,p,S,_);else if(32&T){const F=Pl(d,h);let Y;for(;Y=F();)Bu(c,l,p,Y,_);Bu(c,l,p,S,_)}else 16&T?fk(l,c,h,d,p,_):Bu(c,l,p,S,_);d=b?d.projectionNext:d.next}}function H_(l,c,d,h,p,_){pD(d,h,l.firstChild,c,p,_,!1)}function fk(l,c,d,h,p,_){const b=d[Ti],T=b[ir].projection[h.projection];if(Array.isArray(T))for(let F=0;F<T.length;F++)Bu(c,l,p,T[F],_);else pD(l,c,T,b[hi],p,_,!0)}function gk(l,c,d){""===d?l.removeAttribute(c,"class"):l.setAttribute(c,"class",d)}function _k(l,c,d){const{mergedAttrs:h,classes:p,styles:_}=d;null!==h&&El(l,c,h),null!==p&&gk(l,c,p),null!==_&&function mk(l,c,d){l.setAttribute(c,"style",d)}(l,c,_)}function bm(l){return function mD(){if(void 0===wb&&(wb=null,Rt.trustedTypes))try{wb=Rt.trustedTypes.createPolicy("angular",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch{}return wb}()?.createHTML(l)||l}function oB(l){gD=l}function wk(l){return function _D(){if(void 0===xb&&(xb=null,Rt.trustedTypes))try{xb=Rt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch{}return xb}()?.createScriptURL(l)||l}class Df{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${pe})`}}class sB extends Df{getTypeName(){return"HTML"}}class aB extends Df{getTypeName(){return"Style"}}class lB extends Df{getTypeName(){return"Script"}}class cB extends Df{getTypeName(){return"URL"}}class dB extends Df{getTypeName(){return"ResourceURL"}}function Sd(l){return l instanceof Df?l.changingThisBreaksApplicationSecurity:l}function wm(l,c){const d=function uB(l){return l instanceof Df&&l.getTypeName()||null}(l);if(null!=d&&d!==c){if("ResourceURL"===d&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${d} (see ${pe})`)}return d===c}function hB(l){return new sB(l)}function fB(l){return new aB(l)}function pB(l){return new lB(l)}function mB(l){return new cB(l)}function gB(l){return new dB(l)}class _B{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const d=(new window.DOMParser).parseFromString(bm(c),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(c):(d.removeChild(d.firstChild),d)}catch{return null}}}class yB{constructor(c){this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(c){const d=this.inertDocument.createElement("template");return d.innerHTML=bm(c),d}}const bB=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Cb(l){return(l=String(l)).match(bB)?l:"unsafe:"+l}function Ed(l){const c={};for(const d of l.split(","))c[d]=!0;return c}function G_(...l){const c={};for(const d of l)for(const h in d)d.hasOwnProperty(h)&&(c[h]=!0);return c}const Ck=Ed("area,br,col,hr,img,wbr"),Dk=Ed("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Sk=Ed("rp,rt"),yD=G_(Ck,G_(Dk,Ed("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),G_(Sk,Ed("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),G_(Sk,Dk)),vD=Ed("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ek=G_(vD,Ed("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ed("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),wB=Ed("script,style,template");class xB{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let d=c.firstChild,h=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?h=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,h&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let p=this.checkClobberedElement(d,d.nextSibling);if(p){d=p;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(c){const d=c.nodeName.toLowerCase();if(!yD.hasOwnProperty(d))return this.sanitizedSomething=!0,!wB.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const h=c.attributes;for(let p=0;p<h.length;p++){const _=h.item(p),b=_.name,S=b.toLowerCase();if(!Ek.hasOwnProperty(S)){this.sanitizedSomething=!0;continue}let T=_.value;vD[S]&&(T=Cb(T)),this.buf.push(" ",b,'="',Ka(T),'"')}return this.buf.push(">"),!0}endElement(c){const d=c.nodeName.toLowerCase();yD.hasOwnProperty(d)&&!Ck.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(c){this.buf.push(Ka(c))}checkClobberedElement(c,d){if(d&&(c.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`);return d}}const CB=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Tk=/([^\#-~ |!])/g;function Ka(l){return l.replace(/&/g,"&amp;").replace(CB,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(Tk,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Un;function oi(l,c){let d=null;try{Un=Un||function xk(l){const c=new yB(l);return function vB(){try{return!!(new window.DOMParser).parseFromString(bm(""),"text/html")}catch{return!1}}()?new _B(c):c}(l);let h=c?String(c):"";d=Un.getInertBodyElement(h);let p=5,_=h;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,h=_,_=d.innerHTML,d=Un.getInertBodyElement(h)}while(h!==_);return bm((new xB).sanitizeChildren(dt(d)||d))}finally{if(d){const h=dt(d)||d;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function dt(l){return"content"in l&&function Sc(l){return l.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===l.nodeName}(l)?l.content:null}var Tt=(()=>((Tt=Tt||{})[Tt.NONE=0]="NONE",Tt[Tt.HTML=1]="HTML",Tt[Tt.STYLE=2]="STYLE",Tt[Tt.SCRIPT=3]="SCRIPT",Tt[Tt.URL=4]="URL",Tt[Tt.RESOURCE_URL=5]="RESOURCE_URL",Tt))();function Nl(l){const c=xm();return c?c.sanitize(Tt.URL,l)||"":wm(l,"URL")?Sd(l):Cb(we(l))}function bD(l){const c=xm();if(c)return wk(c.sanitize(Tt.RESOURCE_URL,l)||"");if(wm(l,"ResourceURL"))return wk(Sd(l));throw new le(904,!1)}function Sb(l,c,d){return function Mk(l,c){return"src"===c&&("embed"===l||"frame"===l||"iframe"===l||"media"===l||"script"===l)||"href"===c&&("base"===l||"link"===l)?bD:Nl}(c,d)(l)}function xm(){const l=Ye();return l&&l[Zc]}const Uu=new Ln("ENVIRONMENT_INITIALIZER"),Eb=new Ln("INJECTOR",-1),wD=new Ln("INJECTOR_DEF_TYPES");class Yr{get(c,d=ni){if(d===ni){const h=new Error(`NullInjectorError: No provider for ${Q(c)}!`);throw h.name="NullInjectorError",h}return d}}function xD(l){return{\u0275providers:l}}function CD(...l){return{\u0275providers:Ef(0,l),\u0275fromNgModule:!0}}function Ef(l,...c){const d=[],h=new Set;let p;return oa(c,_=>{const b=_;Hu(b,d,[],h)&&(p||(p=[]),p.push(b))}),void 0!==p&&DD(p,d),d}function DD(l,c){for(let d=0;d<l.length;d++){const{providers:p}=l[d];SD(p,_=>{c.push(_)})}}function Hu(l,c,d,h){if(!(l=M(l)))return!1;let p=null,_=ce(l);const b=!_&&qt(l);if(_||b){if(b&&!b.standalone)return!1;p=l}else{const T=l.ngModule;if(_=ce(T),!_)return!1;p=T}const S=h.has(p);if(b){if(S)return!1;if(h.add(p),b.dependencies){const T="function"==typeof b.dependencies?b.dependencies():b.dependencies;for(const F of T)Hu(F,c,d,h)}}else{if(!_)return!1;{if(null!=_.imports&&!S){let F;h.add(p);try{oa(_.imports,Y=>{Hu(Y,c,d,h)&&(F||(F=[]),F.push(Y))})}finally{}void 0!==F&&DD(F,c)}if(!S){const F=Cs(p)||(()=>new p);c.push({provide:p,useFactory:F,deps:Ce},{provide:wD,useValue:p,multi:!0},{provide:Uu,useValue:()=>on(p),multi:!0})}const T=_.providers;null==T||S||SD(T,Y=>{c.push(Y)})}}return p!==l&&void 0!==l.providers}function SD(l,c){for(let d of l)z(d)&&(d=d.\u0275providers),Array.isArray(d)?SD(d,c):c(d)}const ED=j({provide:String,useValue:j});function Td(l){return null!==l&&"object"==typeof l&&ED in l}function Gu(l){return"function"==typeof l}const z_=new Ln("Set Injector scope."),j_={},ID={};let Ab;function q_(){return void 0===Ab&&(Ab=new Yr),Ab}class Ll{}class Rk extends Ll{get destroyed(){return this._destroyed}constructor(c,d,h,p){super(),this.parent=d,this.source=h,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Y_(c,b=>this.processProvider(b)),this.records.set(Eb,Ad(void 0,this)),p.has("environment")&&this.records.set(Ll,Ad(void 0,this));const _=this.records.get(z_);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(wD.multi,Ce,be.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();for(const c of this._onDestroyHooks)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(c){this._onDestroyHooks.push(c)}runInContext(c){this.assertNotDestroyed();const d=bn(this),h=st(void 0);try{return c()}finally{bn(d),st(h)}}get(c,d=ni,h=be.Default){this.assertNotDestroyed(),h=hr(h);const p=bn(this),_=st(void 0);try{if(!(h&be.SkipSelf)){let S=this.records.get(c);if(void 0===S){const T=function Ok(l){return"function"==typeof l||"object"==typeof l&&l instanceof Ln}(c)&&rn(c);S=T&&this.injectableDefInScope(T)?Ad(Z_(c),j_):null,this.records.set(c,S)}if(null!=S)return this.hydrate(c,S)}return(h&be.Self?q_():this.parent).get(c,d=h&be.Optional&&d===ni?null:d)}catch(b){if("NullInjectorError"===b.name){if((b[Jn]=b[Jn]||[]).unshift(Q(c)),p)throw b;return function Hr(l,c,d,h){const p=l[Jn];throw c[gn]&&p.unshift(c[gn]),l.message=function ye(l,c,d,h=null){l=l&&"\n"===l.charAt(0)&&l.charAt(1)==Di?l.slice(2):l;let p=Q(c);if(Array.isArray(c))p=c.map(Q).join(" -> ");else if("object"==typeof c){let _=[];for(let b in c)if(c.hasOwnProperty(b)){let S=c[b];_.push(b+":"+("string"==typeof S?JSON.stringify(S):Q(S)))}p=`{${_.join(", ")}}`}return`${d}${h?"("+h+")":""}[${p}]: ${l.replace(zn,"\n  ")}`}("\n"+l.message,p,d,h),l[Ui]=p,l[Jn]=null,l}(b,c,"R3InjectorError",this.source)}throw b}finally{st(_),bn(p)}}resolveInjectorInitializers(){const c=bn(this),d=st(void 0);try{const h=this.get(Uu.multi,Ce,be.Self);for(const p of h)p()}finally{bn(c),st(d)}}toString(){const c=[],d=this.records;for(const h of d.keys())c.push(Q(h));return`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new le(205,!1)}processProvider(c){let d=Gu(c=M(c))?c:M(c&&c.provide);const h=function Ib(l){return Td(l)?Ad(void 0,l.useValue):Ad(kD(l),j_)}(c);if(Gu(c)||!0!==c.multi)this.records.get(d);else{let p=this.records.get(d);p||(p=Ad(void 0,j_,!0),p.factory=()=>Ei(p.multi),this.records.set(d,p)),d=c,p.multi.push(c)}this.records.set(d,h)}hydrate(c,d){return d.value===j_&&(d.value=ID,d.value=d.factory()),"object"==typeof d.value&&d.value&&function RD(l){return null!==l&&"object"==typeof l&&"function"==typeof l.ngOnDestroy}(d.value)&&this._ngOnDestroyHooks.add(d.value),d.value}injectableDefInScope(c){if(!c.providedIn)return!1;const d=M(c.providedIn);return"string"==typeof d?"any"===d||this.scopes.has(d):this.injectorDefTypes.has(d)}}function Z_(l){const c=rn(l),d=null!==c?c.factory:Cs(l);if(null!==d)return d;if(l instanceof Ln)throw new le(204,!1);if(l instanceof Function)return function $_(l){const c=l.length;if(c>0)throw Ml(c,"?"),new le(204,!1);const d=function Pe(l){return l&&(l[ae]||l[tt])||null}(l);return null!==d?()=>d.factory(l):()=>new l}(l);throw new le(204,!1)}function kD(l,c,d){let h;if(Gu(l)){const p=M(l);return Cs(p)||Z_(p)}if(Td(l))h=()=>M(l.useValue);else if(function AD(l){return!(!l||!l.useFactory)}(l))h=()=>l.useFactory(...Ei(l.deps||[]));else if(function TD(l){return!(!l||!l.useExisting)}(l))h=()=>on(M(l.useExisting));else{const p=M(l&&(l.useClass||l.provide));if(!function MD(l){return!!l.deps}(l))return Cs(p)||Z_(p);h=()=>new p(...Ei(l.deps))}return h}function Ad(l,c,d=!1){return{factory:l,value:c,multi:d?[]:void 0}}function Y_(l,c){for(const d of l)Array.isArray(d)?Y_(d,c):d&&z(d)?Y_(d.\u0275providers,c):c(d)}class EB{}class Cm{}class Fk{resolveComponentFactory(c){throw function Pk(l){const c=Error(`No component factory found for ${Q(l)}. Did you add it to @NgModule.entryComponents?`);return c.ngComponent=l,c}(c)}}let Dm=(()=>{class l{}return l.NULL=new Fk,l})();function Nk(){return Tf(Ai(),Ye())}function Tf(l,c){return new Af(pr(l,c))}let Af=(()=>{class l{constructor(d){this.nativeElement=d}}return l.__NG_ELEMENT_ID__=Nk,l})();function PD(l){return l instanceof Af?l.nativeElement:l}class FD{}let Lk=(()=>{class l{}return l.__NG_ELEMENT_ID__=()=>function Bk(){const l=Ye(),d=sr(Ai().index,l);return(Gr(d)?d:l)[wn]}(),l})(),Vk=(()=>{class l{}return l.\u0275prov=vt({token:l,providedIn:"root",factory:()=>null}),l})();class W_{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const Uk=new W_("15.2.10"),ND={},LD="ngOriginalError";function BD(l){return l[LD]}class K_{constructor(){this._console=console}handleError(c){const d=this._findOriginalError(c);this._console.error("ERROR",c),d&&this._console.error("ORIGINAL ERROR",d)}_findOriginalError(c){let d=c&&BD(c);for(;d&&BD(d);)d=BD(d);return d||null}}function zu(l){return l.ownerDocument}function Ec(l){return l instanceof Function?l():l}function Bl(l,c,d){let h=l.length;for(;;){const p=l.indexOf(c,d);if(-1===p)return p;if(0===p||l.charCodeAt(p-1)<=32){const _=c.length;if(p+_===h||l.charCodeAt(p+_)<=32)return p}d=p+1}}const Zk="ng-template";function GD(l,c,d){let h=0,p=!0;for(;h<l.length;){let _=l[h++];if("string"==typeof _&&p){const b=l[h++];if(d&&"class"===_&&-1!==Bl(b.toLowerCase(),c,0))return!0}else{if(1===_){for(;h<l.length&&"string"==typeof(_=l[h++]);)if(_.toLowerCase()===c)return!0;return!1}"number"==typeof _&&(p=!1)}}return!1}function Mb(l){return 4===l.type&&l.value!==Zk}function Rb(l,c,d){return c===(4!==l.type||d?l.value:Zk)}function zD(l,c,d){let h=4;const p=l.attrs||[],_=function Yk(l){for(let c=0;c<l.length;c++)if(lf(l[c]))return c;return l.length}(p);let b=!1;for(let S=0;S<c.length;S++){const T=c[S];if("number"!=typeof T){if(!b)if(4&h){if(h=2|1&h,""!==T&&!Rb(l,T,d)||""===T&&1===c.length){if(ha(h))return!1;b=!0}}else{const F=8&h?T:c[++S];if(8&h&&null!==l.attrs){if(!GD(l.attrs,F,d)){if(ha(h))return!1;b=!0}continue}const de=jD(8&h?"class":T,p,Mb(l),d);if(-1===de){if(ha(h))return!1;b=!0;continue}if(""!==F){let Ee;Ee=de>_?"":p[de+1].toLowerCase();const Fe=8&h?Ee:null;if(Fe&&-1!==Bl(Fe,F,0)||2&h&&F!==Ee){if(ha(h))return!1;b=!0}}}}else{if(!b&&!ha(h)&&!ha(T))return!1;if(b&&ha(T))continue;b=!1,h=T|1&h}}return ha(h)||b}function ha(l){return 0==(1&l)}function jD(l,c,d,h){if(null===c)return-1;let p=0;if(h||!d){let _=!1;for(;p<c.length;){const b=c[p];if(b===l)return p;if(3===b||6===b)_=!0;else{if(1===b||2===b){let S=c[++p];for(;"string"==typeof S;)S=c[++p];continue}if(4===b)break;if(0===b){p+=4;continue}}p+=_?1:2}return-1}return function Wk(l,c){let d=l.indexOf(4);if(d>-1)for(d++;d<l.length;){const h=l[d];if("number"==typeof h)return-1;if(h===c)return d;d++}return-1}(c,l)}function $k(l,c,d=!1){for(let h=0;h<c.length;h++)if(zD(l,c[h],d))return!0;return!1}function Kk(l,c){e:for(let d=0;d<c.length;d++){const h=c[d];if(l.length===h.length){for(let p=0;p<l.length;p++)if(l[p]!==h[p])continue e;return!0}}return!1}function qD(l,c){return l?":not("+c.trim()+")":c}function Qk(l){let c=l[0],d=1,h=2,p="",_=!1;for(;d<l.length;){let b=l[d];if("string"==typeof b)if(2&h){const S=l[++d];p+="["+b+(S.length>0?'="'+S+'"':"")+"]"}else 8&h?p+="."+b:4&h&&(p+=" "+b);else""!==p&&!ha(b)&&(c+=qD(_,p),p=""),h=b,_=_||!ha(h);d++}return""!==p&&(c+=qD(_,p)),c}const Sn={};function $D(l){YD(pn(),Ye(),Ir()+l,!1)}function YD(l,c,d,h){if(!h)if(3==(3&c[cn])){const _=l.preOrderCheckHooks;null!==_&&_u(c,_,d)}else{const _=l.preOrderHooks;null!==_&&rf(c,_,0,d)}is(d)}function Ob(l,c=null,d=null,h){const p=QD(l,c,d,h);return p.resolveInjectorInitializers(),p}function QD(l,c=null,d=null,h,p=new Set){const _=[d||Ce,CD(l)];return h=h||("object"==typeof l?void 0:Q(l)),new Rk(_,c||q_(),h||null,p)}let Mf=(()=>{class l{static create(d,h){if(Array.isArray(d))return Ob({name:""},h,d,"");{const p=d.name??"";return Ob({name:p},d.parent,d.providers,p)}}}return l.THROW_IF_NOT_FOUND=ni,l.NULL=new Yr,l.\u0275prov=vt({token:l,providedIn:"any",factory:()=>on(Eb)}),l.__NG_ELEMENT_ID__=-1,l})();function Rm(l,c=be.Default){const d=Ye();return null===d?on(l,c):hf(Ai(),d,M(l),c)}function aM(){throw new Error("invalid")}function Lb(l,c){const d=l.contentQueries;if(null!==d)for(let h=0;h<d.length;h+=2){const _=d[h+1];if(-1!==_){const b=l.data[_];Jh(d[h]),b.contentQueries(2,c[_],_)}}}function X_(l,c,d,h,p,_,b,S,T,F,Y){const de=c.blueprint.slice();return de[nr]=p,de[cn]=76|h,(null!==Y||l&&1024&l[cn])&&(de[cn]|=1024),lc(de),de[hi]=de[vo]=l,de[Si]=d,de[Vn]=b||l&&l[Vn],de[wn]=S||l&&l[wn],de[Zc]=T||l&&l[Zc]||null,de[nc]=F||l&&l[nc]||null,de[ir]=_,de[es]=function um(){return Fu++}(),de[yi]=Y,de[Ti]=2==c.type?l[Ti]:de,de}function Of(l,c,d,h,p){let _=l.data[c];if(null===_)_=function ju(l,c,d,h,p){const _=$h(),b=Xc(),T=l.data[c]=function uM(l,c,d,h,p,_){return{type:d,index:h,insertBeforeIndex:null,injectorIndex:c?c.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?_:_&&_.parent,d,c,h,p);return null===l.firstChild&&(l.firstChild=T),null!==_&&(b?null==_.child&&null!==T.parent&&(_.child=T):null===_.next&&(_.next=T,T.prev=_)),T}(l,c,d,h,p),function Kh(){return un.lFrame.inI18n}()&&(_.flags|=32);else if(64&_.type){_.type=d,_.value=h,_.attrs=p;const b=function wl(){const l=un.lFrame,c=l.currentTNode;return l.isParent?c:c.parent}();_.injectorIndex=null===b?-1:b.injectorIndex}return xo(_,!0),_}function Om(l,c,d,h){if(0===d)return-1;const p=c.length;for(let _=0;_<d;_++)c.push(h),l.blueprint.push(h),l.data.push(null);return p}function Bb(l,c,d){Cl(c);try{const h=l.viewQuery;null!==h&&ny(1,h,d);const p=l.template;null!==p&&oS(l,c,p,1,d),l.firstCreatePass&&(l.firstCreatePass=!1),l.staticContentQueries&&Lb(l,c),l.staticViewQueries&&ny(2,l.viewQuery,d);const _=l.components;null!==_&&function lM(l,c){for(let d=0;d<c.length;d++)$b(l,c[d])}(c,_)}catch(h){throw l.firstCreatePass&&(l.incompleteFirstPass=!0,l.firstCreatePass=!1),h}finally{c[cn]&=-5,ef()}}function Pm(l,c,d,h){const p=c[cn];if(128!=(128&p)){Cl(c);try{lc(c),function ea(l){return un.lFrame.bindingIndex=l}(l.bindingStartIndex),null!==d&&oS(l,c,d,2,h);const b=3==(3&p);if(b){const F=l.preOrderCheckHooks;null!==F&&_u(c,F,null)}else{const F=l.preOrderHooks;null!==F&&rf(c,F,0,null),sf(c,0)}if(function pS(l){for(let c=Wa(l);null!==c;c=fm(c)){if(!c[ic])continue;const d=c[Hi];for(let h=0;h<d.length;h++){const p=d[h];512&p[cn]||bl(p[hi],1),p[cn]|=512}}}(c),function ty(l){for(let c=Wa(l);null!==c;c=fm(c))for(let d=fr;d<c.length;d++){const h=c[d],p=h[Dt];Js(h)&&Pm(p,h,p.template,h[Si])}}(c),null!==l.contentQueries&&Lb(l,c),b){const F=l.contentCheckHooks;null!==F&&_u(c,F)}else{const F=l.contentHooks;null!==F&&rf(c,F,1),sf(c,1)}!function FB(l,c){const d=l.hostBindingOpCodes;if(null!==d)try{for(let h=0;h<d.length;h++){const p=d[h];if(p<0)is(~p);else{const _=p,b=d[++h],S=d[++h];Qh(b,_),S(2,c[_])}}}finally{is(-1)}}(l,c);const S=l.components;null!==S&&function NB(l,c){for(let d=0;d<c.length;d++)mS(l,c[d])}(c,S);const T=l.viewQuery;if(null!==T&&ny(2,T,h),b){const F=l.viewCheckHooks;null!==F&&_u(c,F)}else{const F=l.viewHooks;null!==F&&rf(c,F,2),sf(c,2)}!0===l.firstUpdatePass&&(l.firstUpdatePass=!1),c[cn]&=-41,512&c[cn]&&(c[cn]&=-513,bl(c[hi],-1))}finally{ef()}}}function oS(l,c,d,h,p){const _=Ir(),b=2&h;try{is(-1),b&&c.length>ii&&YD(l,c,ii,!1),vi(b?2:0,p),d(h,p)}finally{is(_),vi(b?3:1,p)}}function Vb(l,c,d){if(Ma(c)){const p=c.directiveEnd;for(let _=c.directiveStart;_<p;_++){const b=l.data[_];b.contentQueries&&b.contentQueries(1,d[_],_)}}}function Ub(l,c,d){qh()&&(function yM(l,c,d,h){const p=d.directiveStart,_=d.directiveEnd;$c(d)&&function BB(l,c,d){const h=pr(c,l),p=sS(d),_=l[Vn],b=Yb(l,X_(l,p,null,d.onPush?32:16,h,c,_,_.createRenderer(h,d),null,null,null));l[c.index]=b}(c,d,l.data[p+d.componentOffset]),l.firstCreatePass||xu(d,c),Ue(h,c);const b=d.initialInputs;for(let S=p;S<_;S++){const T=l.data[S],F=bi(c,l,S,d);Ue(F,c),null!==b&&fS(0,S-p,F,T,0,b),rr(T)&&(sr(d.index,c)[Si]=bi(c,l,S,d))}}(l,c,d,pr(d,c)),64==(64&d.flags)&&uS(l,c,d))}function Hb(l,c,d=pr){const h=c.localNames;if(null!==h){let p=c.index+1;for(let _=0;_<h.length;_+=2){const b=h[_+1],S=-1===b?d(c,l):l[b];l[p++]=S}}}function sS(l){const c=l.tView;return null===c||c.incompleteFirstPass?l.tView=Gb(1,null,l.template,l.decls,l.vars,l.directiveDefs,l.pipeDefs,l.viewQuery,l.schemas,l.consts):c}function Gb(l,c,d,h,p,_,b,S,T,F){const Y=ii+h,de=Y+p,Ee=function cM(l,c){const d=[];for(let h=0;h<c;h++)d.push(h<l?null:Sn);return d}(Y,de),Fe="function"==typeof F?F():F;return Ee[Dt]={type:l,blueprint:Ee,template:d,queries:null,viewQuery:S,declTNode:c,data:Ee.slice().fill(null,Y),bindingStartIndex:Y,expandoStartIndex:de,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:T,consts:Fe,incompleteFirstPass:!1}}function aS(l,c,d,h){const p=gS(c);null===d?p.push(h):(p.push(d),l.firstCreatePass&&Kb(l).push(h,p.length-1))}function lS(l,c,d,h){for(let p in l)if(l.hasOwnProperty(p)){d=null===d?{}:d;const _=l[p];null===h?cS(d,c,p,_):h.hasOwnProperty(p)&&cS(d,c,h[p],_)}return d}function cS(l,c,d,h){l.hasOwnProperty(d)?l[d].push(c,h):l[d]=[c,h]}function Ms(l,c,d,h,p,_,b,S){const T=pr(c,d);let Y,F=c.inputs;!S&&null!=F&&(Y=F[h])?(Ff(l,d,Y,h,p),$c(c)&&function pM(l,c){const d=sr(c,l);16&d[cn]||(d[cn]|=32)}(d,c.index)):3&c.type&&(h=function fM(l){return"class"===l?"className":"for"===l?"htmlFor":"formaction"===l?"formAction":"innerHtml"===l?"innerHTML":"readonly"===l?"readOnly":"tabindex"===l?"tabIndex":l}(h),p=null!=b?b(p,c.value||"",h):p,_.setProperty(T,h,p))}function zb(l,c,d,h){if(qh()){const p=null===h?null:{"":-1},_=function vM(l,c){const d=l.directiveRegistry;let h=null,p=null;if(d)for(let _=0;_<d.length;_++){const b=d[_];if($k(c,b.selectors,!1))if(h||(h=[]),rr(b))if(null!==b.findHostDirectiveDefs){const S=[];p=p||new Map,b.findHostDirectiveDefs(b,S,p),h.unshift(...S,b),ey(l,c,S.length)}else h.unshift(b),ey(l,c,0);else p=p||new Map,b.findHostDirectiveDefs?.(b,h,p),h.push(b)}return null===h?null:[h,p]}(l,d);let b,S;null===_?b=S=null:[b,S]=_,null!==b&&dS(l,c,d,b,p,S),p&&function Fm(l,c,d){if(c){const h=l.localNames=[];for(let p=0;p<c.length;p+=2){const _=d[c[p+1]];if(null==_)throw new le(-301,!1);h.push(c[p],_)}}}(d,h,p)}d.mergedAttrs=Ba(d.mergedAttrs,d.attrs)}function dS(l,c,d,h,p,_){for(let F=0;F<h.length;F++)na(xu(d,c),l,h[F].type);!function jb(l,c,d){l.flags|=1,l.directiveStart=c,l.directiveEnd=c+d,l.providerIndexes=c}(d,l.data.length,h.length);for(let F=0;F<h.length;F++){const Y=h[F];Y.providersResolver&&Y.providersResolver(Y)}let b=!1,S=!1,T=Om(l,c,h.length,null);for(let F=0;F<h.length;F++){const Y=h[F];d.mergedAttrs=Ba(d.mergedAttrs,Y.hostAttrs),wM(l,d,c,T,Y),bM(T,Y,p),null!==Y.contentQueries&&(d.flags|=4),(null!==Y.hostBindings||null!==Y.hostAttrs||0!==Y.hostVars)&&(d.flags|=64);const de=Y.type.prototype;!b&&(de.ngOnChanges||de.ngOnInit||de.ngDoCheck)&&((l.preOrderHooks??(l.preOrderHooks=[])).push(d.index),b=!0),!S&&(de.ngOnChanges||de.ngDoCheck)&&((l.preOrderCheckHooks??(l.preOrderCheckHooks=[])).push(d.index),S=!0),T++}!function hM(l,c,d){const p=c.directiveEnd,_=l.data,b=c.attrs,S=[];let T=null,F=null;for(let Y=c.directiveStart;Y<p;Y++){const de=_[Y],Ee=d?d.get(de):null,Je=Ee?Ee.outputs:null;T=lS(de.inputs,Y,T,Ee?Ee.inputs:null),F=lS(de.outputs,Y,F,Je);const _t=null===T||null===b||Mb(c)?null:xM(T,Y,b);S.push(_t)}null!==T&&(T.hasOwnProperty("class")&&(c.flags|=8),T.hasOwnProperty("style")&&(c.flags|=16)),c.initialInputs=S,c.inputs=T,c.outputs=F}(l,d,_)}function uS(l,c,d){const h=d.directiveStart,p=d.directiveEnd,_=d.index,b=function k_(){return un.lFrame.currentDirectiveIndex}();try{is(_);for(let S=h;S<p;S++){const T=l.data[S],F=c[S];Ii(S),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&fa(T,F)}}finally{is(-1),Ii(b)}}function fa(l,c){null!==l.hostBindings&&l.hostBindings(1,c)}function ey(l,c,d){c.componentOffset=d,(l.components??(l.components=[])).push(c.index)}function bM(l,c,d){if(d){if(c.exportAs)for(let h=0;h<c.exportAs.length;h++)d[c.exportAs[h]]=l;rr(c)&&(d[""]=l)}}function wM(l,c,d,h,p){l.data[h]=p;const _=p.factory||(p.factory=Cs(p.type)),b=new Es(_,rr(p),Rm);l.blueprint[h]=b,d[h]=b,function gM(l,c,d,h,p){const _=p.hostBindings;if(_){let b=l.hostBindingOpCodes;null===b&&(b=l.hostBindingOpCodes=[]);const S=~c.index;(function _M(l){let c=l.length;for(;c>0;){const d=l[--c];if("number"==typeof d&&d<0)return d}return 0})(b)!=S&&b.push(S),b.push(d,h,_)}}(l,c,h,Om(l,d,p.hostVars,Sn),p)}function Vl(l,c,d,h,p,_){const b=pr(l,c);!function hS(l,c,d,h,p,_,b){if(null==_)l.removeAttribute(c,p,d);else{const S=null==b?we(_):b(_,h||"",p);l.setAttribute(c,p,S,d)}}(c[wn],b,_,l.value,d,h,p)}function fS(l,c,d,h,p,_){const b=_[c];if(null!==b){const S=h.setInput;for(let T=0;T<b.length;){const F=b[T++],Y=b[T++],de=b[T++];null!==S?h.setInput(d,de,F,Y):d[Y]=de}}}function xM(l,c,d){let h=null,p=0;for(;p<d.length;){const _=d[p];if(0!==_)if(5!==_){if("number"==typeof _)break;if(l.hasOwnProperty(_)){null===h&&(h=[]);const b=l[_];for(let S=0;S<b.length;S+=2)if(b[S]===c){h.push(_,b[S+1],d[p+1]);break}}p+=2}else p+=2;else p+=4}return h}function qb(l,c,d,h){return[l,!0,!1,c,null,0,h,d,null,null]}function mS(l,c){const d=sr(c,l);if(Js(d)){const h=d[Dt];48&d[cn]?Pm(h,d,h.template,d[Si]):d[$s]>0&&Zb(d)}}function Zb(l){for(let h=Wa(l);null!==h;h=fm(h))for(let p=fr;p<h.length;p++){const _=h[p];if(Js(_))if(512&_[cn]){const b=_[Dt];Pm(b,_,b.template,_[Si])}else _[$s]>0&&Zb(_)}const d=l[Dt].components;if(null!==d)for(let h=0;h<d.length;h++){const p=sr(d[h],l);Js(p)&&p[$s]>0&&Zb(p)}}function $b(l,c){const d=sr(c,l),h=d[Dt];(function VB(l,c){for(let d=c.length;d<l.blueprint.length;d++)c.push(l.blueprint[d])})(h,d),Bb(h,d,d[Si])}function Yb(l,c){return l[yo]?l[xs][Zn]=c:l[yo]=c,l[xs]=c,c}function Wb(l){for(;l;){l[cn]|=32;const c=Dc(l);if(Ws(l)&&!c)return l;l=c}return null}function Pf(l,c,d,h=!0){const p=c[Vn];p.begin&&p.begin();try{Pm(l,c,l.template,d)}catch(b){throw h&&Rs(c,b),b}finally{p.end&&p.end()}}function ny(l,c,d){Jh(0),c(l,d)}function gS(l){return l[Fi]||(l[Fi]=[])}function Kb(l){return l.cleanup||(l.cleanup=[])}function _S(l,c,d){return(null===l||rr(l))&&(d=function Fa(l){for(;Array.isArray(l);){if("object"==typeof l[su])return l;l=l[nr]}return null}(d[c.index])),d[wn]}function Rs(l,c){const d=l[nc],h=d?d.get(K_,null):null;h&&h.handleError(c)}function Ff(l,c,d,h,p){for(let _=0;_<d.length;){const b=d[_++],S=d[_++],T=c[b],F=l.data[b];null!==F.setInput?F.setInput(T,p,h,S):T[S]=p}}function Ul(l,c,d){const h=Na(c,l);!function N_(l,c,d){l.setValue(c,d)}(l[wn],h,d)}function iy(l,c,d){let h=d?l.styles:null,p=d?l.classes:null,_=0;if(null!==c)for(let b=0;b<c.length;b++){const S=c[b];"number"==typeof S?_=S:1==_?p=J(p,S):2==_&&(h=J(h,S+": "+c[++b]+";"))}d?l.styles=h:l.stylesWithoutHost=h,d?l.classes=p:l.classesWithoutHost=p}function Qb(l,c,d,h,p=!1){for(;null!==d;){const _=c[d.index];if(null!==_&&h.push(Gi(_)),lo(_))for(let S=fr;S<_.length;S++){const T=_[S],F=T[Dt].firstChild;null!==F&&Qb(T[Dt],T,F,h)}const b=d.type;if(8&b)Qb(l,c,d.child,h);else if(32&b){const S=Pl(d,c);let T;for(;T=S();)h.push(T)}else if(16&b){const S=vm(c,d);if(Array.isArray(S))h.push(...S);else{const T=Dc(c[Ti]);Qb(T[Dt],T,S,h,!0)}}d=p?d.projectionNext:d.next}return h}class ry{get rootNodes(){const c=this._lView,d=c[Dt];return Qb(d,c,d.firstChild,[])}constructor(c,d){this._lView=c,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Si]}set context(c){this._lView[Si]=c}get destroyed(){return 128==(128&this._lView[cn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[hi];if(lo(c)){const d=c[Ys],h=d?d.indexOf(this):-1;h>-1&&(V(c,h),vc(d,h))}this._attachedToViewContainer=!1}W(this._lView[Dt],this._lView)}onDestroy(c){aS(this._lView[Dt],this._lView,null,c)}markForCheck(){Wb(this._cdRefInjectingView||this._lView)}detach(){this._lView[cn]&=-65}reattach(){this._lView[cn]|=64}detectChanges(){Pf(this._lView[Dt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function hk(l,c){H_(l,c,c[wn],2,null,null)}(this._lView[Dt],this._lView)}attachToAppRef(c){if(this._attachedToViewContainer)throw new le(902,!1);this._appRef=c}}class DM extends ry{constructor(c){super(c),this._view=c}detectChanges(){const c=this._view;Pf(c[Dt],c,c[Si],!1)}checkNoChanges(){}get context(){return null}}class Jb extends Dm{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const d=qt(c);return new Nm(d,this.ngModule)}}function Xb(l){const c=[];for(let d in l)l.hasOwnProperty(d)&&c.push({propName:l[d],templateName:d});return c}class pa{constructor(c,d){this.injector=c,this.parentInjector=d}get(c,d,h){h=hr(h);const p=this.injector.get(c,ND,h);return p!==ND||d===ND?p:this.parentInjector.get(c,d,h)}}class Nm extends Cm{get inputs(){return Xb(this.componentDef.inputs)}get outputs(){return Xb(this.componentDef.outputs)}constructor(c,d){super(),this.componentDef=c,this.ngModule=d,this.componentType=c.type,this.selector=function Jk(l){return l.map(Qk).join(",")}(c.selectors),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!d}create(c,d,h,p){let _=(p=p||this.ngModule)instanceof Ll?p:p?.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const b=_?new pa(c,_):c,S=b.get(FD,null);if(null===S)throw new le(407,!1);const T=b.get(Vk,null),F=S.createRenderer(null,this.componentDef),Y=this.componentDef.selectors[0][0]||"div",de=h?function dM(l,c,d){return l.selectRootElement(c,d===X.ShadowDom)}(F,h,this.componentDef.encapsulation):L_(F,Y,function qu(l){const c=l.toLowerCase();return"svg"===c?sc:"math"===c?"math":null}(Y)),Ee=this.componentDef.onPush?288:272,Fe=Gb(0,null,null,1,0,null,null,null,null,null),Je=X_(null,Fe,null,Ee,null,null,S,F,T,b,null);let _t,Ct;Cl(Je);try{const Ut=this.componentDef;let nn,ct=null;Ut.findHostDirectiveDefs?(nn=[],ct=new Map,Ut.findHostDirectiveDefs(Ut,nn,ct),nn.push(Ut)):nn=[Ut];const yn=function SM(l,c){const d=l[Dt],h=ii;return l[h]=c,Of(d,h,2,"#host",null)}(Je,de),Oi=function EM(l,c,d,h,p,_,b,S){const T=p[Dt];!function cs(l,c,d,h){for(const p of l)c.mergedAttrs=Ba(c.mergedAttrs,p.hostAttrs);null!==c.mergedAttrs&&(iy(c,c.mergedAttrs,!0),null!==d&&_k(h,d,c))}(h,l,c,b);const F=_.createRenderer(c,d),Y=X_(p,sS(d),null,d.onPush?32:16,p[l.index],l,_,F,S||null,null,null);return T.firstCreatePass&&ey(T,l,h.length-1),Yb(p,Y),p[l.index]=Y}(yn,de,Ut,nn,Je,S,F);Ct=Qc(Fe,ii),de&&function Id(l,c,d,h){if(h)El(l,d,["ng-version",Uk.full]);else{const{attrs:p,classes:_}=function ZD(l){const c=[],d=[];let h=1,p=2;for(;h<l.length;){let _=l[h];if("string"==typeof _)2===p?""!==_&&c.push(_,l[++h]):8===p&&d.push(_);else{if(!ha(p))break;p=_}h++}return{attrs:c,classes:d}}(c.selectors[0]);p&&El(l,d,p),_&&_.length>0&&gk(l,d,_.join(" "))}}(F,Ut,de,h),void 0!==d&&function yS(l,c,d){const h=l.projection=[];for(let p=0;p<c.length;p++){const _=d[p];h.push(null!=_?Array.from(_):null)}}(Ct,this.ngContentSelectors,d),_t=function TM(l,c,d,h,p,_){const b=Ai(),S=p[Dt],T=pr(b,p);dS(S,p,b,d,null,h);for(let Y=0;Y<d.length;Y++)Ue(bi(p,S,b.directiveStart+Y,b),p);uS(S,p,b),T&&Ue(T,p);const F=bi(p,S,b.directiveStart+b.componentOffset,b);if(l[Si]=p[Si]=F,null!==_)for(const Y of _)Y(F,c);return Vb(S,b,l),F}(Oi,Ut,nn,ct,Je,[uo]),Bb(Fe,Je,null)}finally{ef()}return new oy(this.componentType,_t,Tf(Ct,Je),Je,Ct)}}class oy extends EB{constructor(c,d,h,p,_){super(),this.location=h,this._rootLView=p,this._tNode=_,this.instance=d,this.hostView=this.changeDetectorRef=new DM(p),this.componentType=c}setInput(c,d){const h=this._tNode.inputs;let p;if(null!==h&&(p=h[c])){const _=this._rootLView;Ff(_[Dt],_,p,c,d),Wb(sr(this._tNode.index,_))}}get injector(){return new kl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}function uo(){const l=Ai();rd(Ye()[Dt],l)}function e0(l){let c=function Tc(l){return Object.getPrototypeOf(l.prototype).constructor}(l.type),d=!0;const h=[l];for(;c;){let p;if(rr(l))p=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new le(903,!1);p=c.\u0275dir}if(p){if(d){h.push(p);const b=l;b.inputs=sy(l.inputs),b.declaredInputs=sy(l.declaredInputs),b.outputs=sy(l.outputs);const S=p.hostBindings;S&&wS(l,S);const T=p.viewQuery,F=p.contentQueries;if(T&&vS(l,T),F&&bS(l,F),te(l.inputs,p.inputs),te(l.declaredInputs,p.declaredInputs),te(l.outputs,p.outputs),rr(p)&&p.data.animation){const Y=l.data;Y.animation=(Y.animation||[]).concat(p.data.animation)}}const _=p.features;if(_)for(let b=0;b<_.length;b++){const S=_[b];S&&S.ngInherit&&S(l),S===e0&&(d=!1)}}c=Object.getPrototypeOf(c)}!function Ao(l){let c=0,d=null;for(let h=l.length-1;h>=0;h--){const p=l[h];p.hostVars=c+=p.hostVars,p.hostAttrs=Ba(p.hostAttrs,d=Ba(d,p.hostAttrs))}}(h)}function sy(l){return l===$?{}:l===Ce?[]:l}function vS(l,c){const d=l.viewQuery;l.viewQuery=d?(h,p)=>{c(h,p),d(h,p)}:c}function bS(l,c){const d=l.contentQueries;l.contentQueries=d?(h,p,_)=>{c(h,p,_),d(h,p,_)}:c}function wS(l,c){const d=l.hostBindings;l.hostBindings=d?(h,p)=>{c(h,p),d(h,p)}:c}function Bm(l){return!!ay(l)&&(Array.isArray(l)||!(l instanceof Map)&&Symbol.iterator in l)}function ay(l){return null!==l&&("function"==typeof l||"object"==typeof l)}function Qa(l,c,d){return l[c]=d}function ho(l,c,d){return!Object.is(l[c],d)&&(l[c]=d,!0)}function Ac(l,c,d,h){const p=ho(l,c,d);return ho(l,c+1,h)||p}function Zu(l,c,d,h,p){const _=Ac(l,c,d,h);return ho(l,c+2,p)||_}function ly(l,c,d,h){const p=Ye();return ho(p,Ss(),c)&&(pn(),Vl(fi(),p,l,c,d,h)),ly}function kr(l,c,d,h){return ho(l,Ss(),d)?c+we(d)+h:Sn}function kS(l,c,d,h,p,_,b,S){const T=Ye(),F=pn(),Y=l+ii,de=F.firstCreatePass?function jB(l,c,d,h,p,_,b,S,T){const F=c.consts,Y=Of(c,l,4,b||null,Ds(F,S));zb(c,d,Y,Ds(F,T)),rd(c,Y);const de=Y.tView=Gb(2,Y,h,p,_,c.directiveRegistry,c.pipeRegistry,null,c.schemas,F);return null!==c.queries&&(c.queries.template(c,Y),de.queries=c.queries.embeddedTView(Y)),Y}(Y,F,T,c,d,h,p,_,b):F.data[Y];xo(de,!1);const Ee=T[wn].createComment("");Cf(F,T,Ee,de),Ue(Ee,T),Yb(T,T[Y]=qb(Ee,T,Ee,de)),rc(de)&&Ub(F,T,de),null!=b&&Hb(T,de,S)}function RS(l){return zr(function Wh(){return un.lFrame.contextLView}(),ii+l)}function s0(l,c,d){const h=Ye();return ho(h,Ss(),c)&&Ms(pn(),fi(),h,l,c,h[wn],d,!1),s0}function a0(l,c,d,h,p){const b=p?"class":"style";Ff(l,d,c.inputs[b],b,h)}function Md(l,c,d,h){const p=Ye(),_=pn(),b=ii+l,S=p[wn],T=_.firstCreatePass?function l0(l,c,d,h,p,_){const b=c.consts,T=Of(c,l,2,h,Ds(b,p));return zb(c,d,T,Ds(b,_)),null!==T.attrs&&iy(T,T.attrs,!1),null!==T.mergedAttrs&&iy(T,T.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,T),T}(b,_,p,c,d,h):_.data[b],F=p[b]=L_(S,c,function nf(){return un.lFrame.currentNamespace}()),Y=rc(T);return xo(T,!0),_k(S,F,T),32!=(32&T.flags)&&Cf(_,p,F,T),0===function cu(){return un.lFrame.elementDepthCount}()&&Ue(F,p),function du(){un.lFrame.elementDepthCount++}(),Y&&(Ub(_,p,T),Vb(_,T,p)),null!==h&&Hb(p,T),Md}function Wu(){let l=Ai();Xc()?Yh():(l=l.parent,xo(l,!1));const c=l;!function uu(){un.lFrame.elementDepthCount--}();const d=pn();return d.firstCreatePass&&(rd(d,l),Ma(l)&&d.queries.elementEnd(l)),null!=c.classesWithoutHost&&function Ts(l){return 0!=(8&l.flags)}(c)&&a0(d,c,Ye(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function yu(l){return 0!=(16&l.flags)}(c)&&a0(d,c,Ye(),c.stylesWithoutHost,!1),Wu}function Rd(l,c,d,h){return Md(l,c,d,h),Wu(),Rd}function Lf(l,c,d){const h=Ye(),p=pn(),_=l+ii,b=p.firstCreatePass?function Gm(l,c,d,h,p){const _=c.consts,b=Ds(_,h),S=Of(c,l,8,"ng-container",b);return null!==b&&iy(S,b,!0),zb(c,d,S,Ds(_,p)),null!==c.queries&&c.queries.elementStart(c,S),S}(_,p,h,c,d):p.data[_];xo(b,!0);const S=h[_]=h[wn].createComment("");return Cf(p,h,S,b),Ue(S,h),rc(b)&&(Ub(p,h,b),Vb(p,b,h)),null!=d&&Hb(h,b),Lf}function dy(){let l=Ai();const c=pn();return Xc()?Yh():(l=l.parent,xo(l,!1)),c.firstCreatePass&&(rd(c,l),Ma(l)&&c.queries.elementEnd(l)),dy}function zm(l,c,d){return Lf(l,c,d),dy(),zm}function OS(){return Ye()}function Bf(l){return!!l&&"function"==typeof l.then}function c0(l){return!!l&&"function"==typeof l.subscribe}const d0=c0;function Vf(l,c,d,h){const p=Ye(),_=pn(),b=Ai();return PM(_,p,p[wn],b,l,c,h),Vf}function Io(l,c){const d=Ai(),h=Ye(),p=pn();return PM(p,h,_S(ed(p.data),d,h),d,l,c),Io}function PM(l,c,d,h,p,_,b){const S=rc(h),F=l.firstCreatePass&&Kb(l),Y=c[Si],de=gS(c);let Ee=!0;if(3&h.type||b){const _t=pr(h,c),Ct=b?b(_t):_t,Ut=de.length,nn=b?yn=>b(Gi(yn[h.index])):h.index;let ct=null;if(!b&&S&&(ct=function qB(l,c,d,h){const p=l.cleanup;if(null!=p)for(let _=0;_<p.length-1;_+=2){const b=p[_];if(b===d&&p[_+1]===h){const S=c[Fi],T=p[_+2];return S.length>T?S[T]:null}"string"==typeof b&&(_+=2)}return null}(l,c,p,h.index)),null!==ct)(ct.__ngLastListenerFn__||ct).__ngNextListenerFn__=_,ct.__ngLastListenerFn__=_,Ee=!1;else{_=FM(h,c,Y,_,!1);const yn=d.listen(Ct,p,_);de.push(_,yn),F&&F.push(p,nn,Ut,Ut+1)}}else _=FM(h,c,Y,_,!1);const Fe=h.outputs;let Je;if(Ee&&null!==Fe&&(Je=Fe[p])){const _t=Je.length;if(_t)for(let Ct=0;Ct<_t;Ct+=2){const Oi=c[Je[Ct]][Je[Ct+1]].subscribe(_),wr=de.length;de.push(_,Oi),F&&F.push(p,h.index,wr,-(wr+1))}}}function u0(l,c,d,h){try{return vi(6,c,d),!1!==d(h)}catch(p){return Rs(l,p),!1}finally{vi(7,c,d)}}function FM(l,c,d,h,p){return function _(b){if(b===Function)return h;Wb(l.componentOffset>-1?sr(l.index,c):c);let T=u0(c,d,h,b),F=_.__ngNextListenerFn__;for(;F;)T=u0(c,d,F,b)&&T,F=F.__ngNextListenerFn__;return p&&!1===T&&(b.preventDefault(),b.returnValue=!1),T}}function Od(l=1){return function mu(l){return(un.lFrame.contextLView=function tf(l,c){for(;l>0;)c=c[vo],l--;return c}(l,un.lFrame.contextLView))[Si]}(l)}function jm(l,c){let d=null;const h=function IB(l){const c=l.attrs;if(null!=c){const d=c.indexOf(5);if(!(1&d))return c[d+1]}return null}(l);for(let p=0;p<c.length;p++){const _=c[p];if("*"!==_){if(null===h?$k(l,_,!0):Kk(h,_))return p}else d=p}return d}function qm(l){const c=Ye()[Ti][ir];if(!c.projection){const h=c.projection=Ml(l?l.length:1,null),p=h.slice();let _=c.child;for(;null!==_;){const b=l?jm(_,l):0;null!==b&&(p[b]?p[b].projectionNext=_:h[b]=_,p[b]=_),_=_.next}}}function Uf(l,c=0,d){const h=Ye(),p=pn(),_=Of(p,ii+l,16,null,d||null);null===_.projection&&(_.projection=c),Yh(),32!=(32&_.flags)&&function eB(l,c,d){fk(c[wn],0,c,d,St(l,d,c),B_(d.parent||c[ir],d,c))}(p,h,_)}function Hf(l,c,d){return Gf(l,"",c,"",d),Hf}function Gf(l,c,d,h,p){const _=Ye(),b=kr(_,c,d,h);return b!==Sn&&Ms(pn(),fi(),_,l,b,_[wn],p,!1),Gf}function hy(l,c){return l<<17|c<<2}function Ku(l){return l>>17&32767}function BS(l){return 2|l}function zf(l){return(131068&l)>>2}function $m(l,c){return-131069&l|c<<2}function fy(l){return 1|l}function jf(l,c,d,h,p){const _=l[d+1],b=null===c;let S=h?Ku(_):zf(_),T=!1;for(;0!==S&&(!1===T||b);){const Y=l[S+1];Ym(l[S],c)&&(T=!0,l[S+1]=h?fy(Y):BS(Y)),S=h?Ku(Y):zf(Y)}T&&(l[d+1]=h?BS(_):fy(_))}function Ym(l,c){return null===l||null==c||(Array.isArray(l)?l[1]:l)===c||!(!Array.isArray(l)||"string"!=typeof c)&&Rl(l,c)>=0}const Rr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function m0(l){return l.substring(Rr.key,Rr.keyEnd)}function US(l,c){const d=Rr.textEnd;return d===c?-1:(c=Rr.keyEnd=function WB(l,c,d){for(;c<d&&l.charCodeAt(c)>32;)c++;return c}(l,Rr.key=c,d),Wm(l,c,d))}function Wm(l,c,d){for(;c<d&&l.charCodeAt(c)<=32;)c++;return c}function Km(l,c,d){return Xa(l,c,d,!1),Km}function y0(l,c){return Xa(l,c,null,!0),y0}function jM(l){Fs(C0,Ja,l,!0)}function Ja(l,c){for(let d=function YB(l){return function UM(l){Rr.key=0,Rr.keyEnd=0,Rr.value=0,Rr.valueEnd=0,Rr.textEnd=l.length}(l),US(l,Wm(l,0,Rr.textEnd))}(c);d>=0;d=US(c,d))Co(l,m0(c),!0)}function Xa(l,c,d,h){const p=Ye(),_=pn(),b=ns(2);_.firstUpdatePass&&v0(_,l,b,h),c!==Sn&&ho(p,b,c)&&qS(_,_.data[Ir()],p,p[wn],l,p[b+1]=function ZS(l,c){return null==l||""===l||("string"==typeof c?l+=c:"object"==typeof l&&(l=Q(Sd(l)))),l}(c,d),h,b)}function Fs(l,c,d,h){const p=pn(),_=ns(2);p.firstUpdatePass&&v0(p,null,_,h);const b=Ye();if(d!==Sn&&ho(b,_,d)){const S=p.data[Ir()];if($S(S,h)&&!GS(p,_)){let T=h?S.classesWithoutHost:S.stylesWithoutHost;null!==T&&(d=J(T,d||"")),a0(p,S,b,d,h)}else!function jS(l,c,d,h,p,_,b,S){p===Sn&&(p=Ce);let T=0,F=0,Y=0<p.length?p[0]:null,de=0<_.length?_[0]:null;for(;null!==Y||null!==de;){const Ee=T<p.length?p[T+1]:void 0,Fe=F<_.length?_[F+1]:void 0;let _t,Je=null;Y===de?(T+=2,F+=2,Ee!==Fe&&(Je=de,_t=Fe)):null===de||null!==Y&&Y<de?(T+=2,Je=Y):(F+=2,Je=de,_t=Fe),null!==Je&&qS(l,c,d,h,Je,_t,b,S),Y=T<p.length?p[T]:null,de=F<_.length?_[F]:null}}(p,S,b,b[wn],b[_+1],b[_+1]=function x0(l,c,d){if(null==d||""===d)return Ce;const h=[],p=Sd(d);if(Array.isArray(p))for(let _=0;_<p.length;_++)l(h,p[_],!0);else if("object"==typeof p)for(const _ in p)p.hasOwnProperty(_)&&l(h,_,p[_]);else"string"==typeof p&&c(h,p);return h}(l,c,d),h,_)}}function GS(l,c){return c>=l.expandoStartIndex}function v0(l,c,d,h){const p=l.data;if(null===p[d+1]){const _=p[Ir()],b=GS(l,d);$S(_,h)&&null===c&&!b&&(c=!1),c=function b0(l,c,d,h){const p=ed(l);let _=h?c.residualClasses:c.residualStyles;if(null===p)0===(h?c.classBindings:c.styleBindings)&&(d=Qm(d=ds(null,l,c,d,h),c.attrs,h),_=null);else{const b=c.directiveStylingLast;if(-1===b||l[b]!==p)if(d=ds(p,l,c,d,h),null===_){let T=function qM(l,c,d){const h=d?c.classBindings:c.styleBindings;if(0!==zf(h))return l[Ku(h)]}(l,c,h);void 0!==T&&Array.isArray(T)&&(T=ds(null,l,c,T[1],h),T=Qm(T,c.attrs,h),function w0(l,c,d,h){l[Ku(d?c.classBindings:c.styleBindings)]=h}(l,c,h,T))}else _=function ZM(l,c,d){let h;const p=c.directiveEnd;for(let _=1+c.directiveStylingLast;_<p;_++)h=Qm(h,l[_].hostAttrs,d);return Qm(h,c.attrs,d)}(l,c,h)}return void 0!==_&&(h?c.residualClasses=_:c.residualStyles=_),d}(p,_,c,h),function $B(l,c,d,h,p,_){let b=_?c.classBindings:c.styleBindings,S=Ku(b),T=zf(b);l[h]=d;let Y,F=!1;if(Array.isArray(d)?(Y=d[1],(null===Y||Rl(d,Y)>0)&&(F=!0)):Y=d,p)if(0!==T){const Ee=Ku(l[S+1]);l[h+1]=hy(Ee,S),0!==Ee&&(l[Ee+1]=$m(l[Ee+1],h)),l[S+1]=function p0(l,c){return 131071&l|c<<17}(l[S+1],h)}else l[h+1]=hy(S,0),0!==S&&(l[S+1]=$m(l[S+1],h)),S=h;else l[h+1]=hy(T,0),0===S?S=h:l[T+1]=$m(l[T+1],h),T=h;F&&(l[h+1]=BS(l[h+1])),jf(l,Y,h,!0),jf(l,Y,h,!1),function BM(l,c,d,h,p){const _=p?l.residualClasses:l.residualStyles;null!=_&&"string"==typeof c&&Rl(_,c)>=0&&(d[h+1]=fy(d[h+1]))}(c,Y,l,h,_),b=hy(S,T),_?c.classBindings=b:c.styleBindings=b}(p,_,c,d,b,h)}}function ds(l,c,d,h,p){let _=null;const b=d.directiveEnd;let S=d.directiveStylingLast;for(-1===S?S=d.directiveStart:S++;S<b&&(_=c[S],h=Qm(h,_.hostAttrs,p),_!==l);)S++;return null!==l&&(d.directiveStylingLast=S),h}function Qm(l,c,d){const h=d?1:2;let p=-1;if(null!==c)for(let _=0;_<c.length;_++){const b=c[_];"number"==typeof b?p=b:p===h&&(Array.isArray(l)||(l=void 0===l?[]:["",l]),Co(l,b,!!d||c[++_]))}return void 0===l?null:l}function C0(l,c,d){const h=String(c);""!==h&&!h.includes(" ")&&Co(l,h,d)}function qS(l,c,d,h,p,_,b,S){if(!(3&c.type))return;const T=l.data,F=T[S+1],Y=function LM(l){return 1==(1&l)}(F)?Hl(T,c,d,p,zf(F),b):void 0;py(Y)||(py(_)||function NM(l){return 2==(2&l)}(F)&&(_=Hl(T,null,d,p,S,b)),function pk(l,c,d,h,p){if(c)p?l.addClass(d,h):l.removeClass(d,h);else{let _=-1===h.indexOf("-")?void 0:to.DashCase;null==p?l.removeStyle(d,h,_):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),_|=to.Important),l.setStyle(d,h,p,_))}}(h,b,Na(Ir(),d),p,_))}function Hl(l,c,d,h,p,_){const b=null===c;let S;for(;p>0;){const T=l[p],F=Array.isArray(T),Y=F?T[1]:T,de=null===Y;let Ee=d[p+1];Ee===Sn&&(Ee=de?Ce:void 0);let Fe=de?qa(Ee,h):Y===h?Ee:void 0;if(F&&!py(Fe)&&(Fe=qa(T,h)),py(Fe)&&(S=Fe,b))return S;const Je=l[p+1];p=b?Ku(Je):zf(Je)}if(null!==c){let T=_?c.residualClasses:c.residualStyles;null!=T&&(S=qa(T,h))}return S}function py(l){return void 0!==l}function $S(l,c){return 0!=(l.flags&(c?8:16))}function my(l,c=""){const d=Ye(),h=pn(),p=l+ii,_=h.firstCreatePass?Of(h,p,1,c,null):h.data[p],b=d[p]=function F_(l,c){return l.createText(c)}(d[wn],c);Cf(h,d,b,_),xo(_,!1)}function D0(l){return gy("",l,""),D0}function gy(l,c,d){const h=Ye(),p=kr(h,l,c,d);return p!==Sn&&Ul(h,Ir(),p),gy}function _y(l,c,d,h,p){const _=Ye(),b=function Vo(l,c,d,h,p,_){const S=Ac(l,eo(),d,p);return ns(2),S?c+we(d)+h+we(p)+_:Sn}(_,l,c,d,h,p);return b!==Sn&&Ul(_,Ir(),b),_y}function S0(l,c,d,h,p,_,b){const S=Ye(),T=function Yu(l,c,d,h,p,_,b,S){const F=Zu(l,eo(),d,p,b);return ns(3),F?c+we(d)+h+we(p)+_+we(b)+S:Sn}(S,l,c,d,h,p,_,b);return T!==Sn&&Ul(S,Ir(),T),S0}function WS(l,c,d){Fs(Co,Ja,kr(Ye(),l,c,d),!0)}function eE(l,c,d){const h=Ye();return ho(h,Ss(),c)&&Ms(pn(),fi(),h,l,c,h[wn],d,!0),eE}function F0(l,c,d){const h=Ye();if(ho(h,Ss(),c)){const _=pn(),b=fi();Ms(_,b,h,l,c,_S(ed(_.data),b,h),d,!0)}return F0}const Qu=void 0;var sR=["en",[["a","p"],["AM","PM"],Qu],[["AM","PM"],Qu,Qu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Qu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Qu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Qu,"{1} 'at' {0}",Qu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function JB(l){const d=Math.floor(Math.abs(l)),h=l.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===h?1:5}];let qf={};function N0(l){const c=function Xm(l){return l.toLowerCase().replace(/_/g,"-")}(l);let d=nE(c);if(d)return d;const h=c.split("-")[0];if(d=nE(h),d)return d;if("en"===h)return sR;throw new le(701,!1)}function tE(l){return N0(l)[Xt.PluralCase]}function nE(l){return l in qf||(qf[l]=Rt.ng&&Rt.ng.common&&Rt.ng.common.locales&&Rt.ng.common.locales[l]),qf[l]}var Xt=(()=>((Xt=Xt||{})[Xt.LocaleId=0]="LocaleId",Xt[Xt.DayPeriodsFormat=1]="DayPeriodsFormat",Xt[Xt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Xt[Xt.DaysFormat=3]="DaysFormat",Xt[Xt.DaysStandalone=4]="DaysStandalone",Xt[Xt.MonthsFormat=5]="MonthsFormat",Xt[Xt.MonthsStandalone=6]="MonthsStandalone",Xt[Xt.Eras=7]="Eras",Xt[Xt.FirstDayOfWeek=8]="FirstDayOfWeek",Xt[Xt.WeekendRange=9]="WeekendRange",Xt[Xt.DateFormat=10]="DateFormat",Xt[Xt.TimeFormat=11]="TimeFormat",Xt[Xt.DateTimeFormat=12]="DateTimeFormat",Xt[Xt.NumberSymbols=13]="NumberSymbols",Xt[Xt.NumberFormats=14]="NumberFormats",Xt[Xt.CurrencyCode=15]="CurrencyCode",Xt[Xt.CurrencySymbol=16]="CurrencySymbol",Xt[Xt.CurrencyName=17]="CurrencyName",Xt[Xt.Currencies=18]="Currencies",Xt[Xt.Directionality=19]="Directionality",Xt[Xt.PluralCase=20]="PluralCase",Xt[Xt.ExtraData=21]="ExtraData",Xt))();const Nd="en-US";let iE=Nd;function sg(l,c,d,h,p){if(l=M(l),Array.isArray(l))for(let _=0;_<l.length;_++)sg(l[_],c,d,h,p);else{const _=pn(),b=Ye();let S=Gu(l)?l:M(l.provide),T=kD(l);const F=Ai(),Y=1048575&F.providerIndexes,de=F.directiveStart,Ee=F.providerIndexes>>20;if(Gu(l)||!l.multi){const Fe=new Es(T,p,Rm),Je=Ty(S,c,p?Y:Y+Ee,de);-1===Je?(na(xu(F,b),_,S),q0(_,l,c.length),c.push(S),F.directiveStart++,F.directiveEnd++,p&&(F.providerIndexes+=1048576),d.push(Fe),b.push(Fe)):(d[Je]=Fe,b[Je]=Fe)}else{const Fe=Ty(S,c,Y+Ee,de),Je=Ty(S,c,Y,Y+Ee),Ct=Je>=0&&d[Je];if(p&&!Ct||!p&&!(Fe>=0&&d[Fe])){na(xu(F,b),_,S);const Ut=function nh(l,c,d,h,p){const _=new Es(l,d,Rm);return _.multi=[],_.index=c,_.componentProviders=0,Z0(_,p,h&&!d),_}(p?zl:ag,d.length,p,h,T);!p&&Ct&&(d[Je].providerFactory=Ut),q0(_,l,c.length,0),c.push(S),F.directiveStart++,F.directiveEnd++,p&&(F.providerIndexes+=1048576),d.push(Ut),b.push(Ut)}else q0(_,l,Fe>-1?Fe:Je,Z0(d[p?Je:Fe],T,!p&&h));!p&&h&&Ct&&d[Je].componentProviders++}}}function q0(l,c,d,h){const p=Gu(c),_=function Tb(l){return!!l.useClass}(c);if(p||_){const T=(_?M(c.useClass):c).prototype.ngOnDestroy;if(T){const F=l.destroyHooks||(l.destroyHooks=[]);if(!p&&c.multi){const Y=F.indexOf(d);-1===Y?F.push(d,[h,T]):F[Y+1].push(h,T)}else F.push(d,T)}}}function Z0(l,c,d){return d&&l.componentProviders++,l.multi.push(c)-1}function Ty(l,c,d,h){for(let p=d;p<h;p++)if(c[p]===l)return p;return-1}function ag(l,c,d,h){return lg(this.multi,[])}function zl(l,c,d,h){const p=this.multi;let _;if(this.providerFactory){const b=this.providerFactory.componentProviders,S=bi(d,d[Dt],this.providerFactory.index,h);_=S.slice(0,b),lg(p,_);for(let T=b;T<S.length;T++)_.push(S[T])}else _=[],lg(p,_);return _}function lg(l,c){for(let d=0;d<l.length;d++)c.push((0,l[d])());return c}function cg(l,c=[]){return d=>{d.providersResolver=(h,p)=>function wR(l,c,d){const h=pn();if(h.firstCreatePass){const p=rr(l);sg(d,h.data,h.blueprint,p,!0),sg(c,h.data,h.blueprint,p,!1)}}(h,p?p(l):l,c)}}class Rc{}class Ay{}function xR(l,c){return new IE(l,c??null)}class IE extends Rc{constructor(c,d){super(),this._parent=d,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Jb(this);const h=tr(c);this._bootstrapComponents=Ec(h.bootstrap),this._r3Injector=QD(c,d,[{provide:Rc,useValue:this},{provide:Dm,useValue:this.componentFactoryResolver}],Q(c),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(c)}get injector(){return this._r3Injector}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class $0 extends Ay{constructor(c){super(),this.moduleType=c}create(c){return new IE(this.moduleType,c)}}class CR extends Rc{constructor(c,d,h){super(),this.componentFactoryResolver=new Jb(this),this.instance=null;const p=new Rk([...c,{provide:Rc,useValue:this},{provide:Dm,useValue:this.componentFactoryResolver}],d||q_(),h,new Set(["environment"]));this.injector=p,p.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(c){this.injector.onDestroy(c)}}function Y0(l,c,d=null){return new CR(l,c,d).injector}let DR=(()=>{class l{constructor(d){this._injector=d,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(d){if(!d.standalone)return null;if(!this.cachedInjectors.has(d.id)){const h=Ef(0,d.type),p=h.length>0?Y0([h],this._injector,`Standalone[${d.type.name}]`):null;this.cachedInjectors.set(d.id,p)}return this.cachedInjectors.get(d.id)}ngOnDestroy(){try{for(const d of this.cachedInjectors.values())null!==d&&d.destroy()}finally{this.cachedInjectors.clear()}}}return l.\u0275prov=vt({token:l,providedIn:"environment",factory:()=>new l(on(Ll))}),l})();function kE(l){l.getStandaloneInjector=c=>c.get(DR).getOrCreateStandaloneInjector(l)}function nl(l,c,d){const h=mr()+l,p=Ye();return p[h]===Sn?Qa(p,h,d?c.call(d):c()):function Nf(l,c){return l[c]}(p,h)}function J0(l,c,d,h){return BE(Ye(),mr(),l,c,d,h)}function NE(l,c,d,h,p){return VE(Ye(),mr(),l,c,d,h,p)}function dg(l,c,d,h,p,_){return ky(Ye(),mr(),l,c,d,h,p,_)}function X0(l,c,d,h,p,_,b){return function iw(l,c,d,h,p,_,b,S,T){const F=c+d;return function Os(l,c,d,h,p,_){const b=Ac(l,c,d,h);return Ac(l,c+2,p,_)||b}(l,F,p,_,b,S)?Qa(l,F+4,T?h.call(T,p,_,b,S):h(p,_,b,S)):Pc(l,F+4)}(Ye(),mr(),l,c,d,h,p,_,b)}function Pc(l,c){const d=l[c];return d===Sn?void 0:d}function BE(l,c,d,h,p,_){const b=c+d;return ho(l,b,p)?Qa(l,b+1,_?h.call(_,p):h(p)):Pc(l,b+1)}function VE(l,c,d,h,p,_,b){const S=c+d;return Ac(l,S,p,_)?Qa(l,S+2,b?h.call(b,p,_):h(p,_)):Pc(l,S+2)}function ky(l,c,d,h,p,_,b,S){const T=c+d;return Zu(l,T,p,_,b)?Qa(l,T+3,S?h.call(S,p,_,b):h(p,_,b)):Pc(l,T+3)}function ow(l,c){const d=pn();let h;const p=l+ii;d.firstCreatePass?(h=function UE(l,c){if(c)for(let d=c.length-1;d>=0;d--){const h=c[d];if(l===h.name)return h}}(c,d.pipeRegistry),d.data[p]=h,h.onDestroy&&(d.destroyHooks??(d.destroyHooks=[])).push(p,h.onDestroy)):h=d.data[p];const _=h.factory||(h.factory=Cs(h.type)),b=st(Rm);try{const S=gc(!1),T=_();return gc(S),function MS(l,c,d,h){d>=l.data.length&&(l.data[d]=null,l.blueprint[d]=null),c[d]=h}(d,Ye(),p,T),T}finally{st(b)}}function Xf(l,c,d){const h=l+ii,p=Ye(),_=zr(p,h);return ih(p,h)?BE(p,mr(),c,_.transform,d,_):_.transform(d)}function ug(l,c,d,h){const p=l+ii,_=Ye(),b=zr(_,p);return ih(_,p)?VE(_,mr(),c,b.transform,d,h,b):b.transform(d,h)}function My(l,c,d,h,p){const _=l+ii,b=Ye(),S=zr(b,_);return ih(b,_)?ky(b,mr(),c,S.transform,d,h,p,S):S.transform(d,h,p)}function ih(l,c){return l[Dt].data[c].pure}function GE(l){return c=>{setTimeout(l,void 0,c)}}const Fc=class HE extends o.x{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,d,h){let p=c,_=d||(()=>null),b=h;if(c&&"object"==typeof c){const T=c;p=T.next?.bind(T),_=T.error?.bind(T),b=T.complete?.bind(T)}this.__isAsync&&(_=GE(_),p&&(p=GE(p)),b&&(b=GE(b)));const S=super.subscribe({next:p,error:_,complete:b});return c instanceof R.w0&&c.add(S),S}};function r6(){return this._results[Symbol.iterator]()}class sw{get changes(){return this._changes||(this._changes=new Fc)}constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=sw.prototype;d[Symbol.iterator]||(d[Symbol.iterator]=r6)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,d){return this._results.reduce(c,d)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,d){const h=this;h.dirty=!1;const p=function co(l){return l.flat(Number.POSITIVE_INFINITY)}(c);(this._changesDetected=!function Iu(l,c,d){if(l.length!==c.length)return!1;for(let h=0;h<l.length;h++){let p=l[h],_=c[h];if(d&&(p=d(p),_=d(_)),_!==p)return!1}return!0}(h._results,p,d))&&(h._results=p,h.length=p.length,h.last=p[this.length-1],h.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let rh=(()=>{class l{}return l.__NG_ELEMENT_ID__=NR,l})();const PR=rh,FR=class extends PR{constructor(c,d,h){super(),this._declarationLView=c,this._declarationTContainer=d,this.elementRef=h}createEmbeddedView(c,d){const h=this._declarationTContainer.tView,p=X_(this._declarationLView,h,c,16,null,h.declTNode,null,null,null,null,d||null);p[Ia]=this._declarationLView[this._declarationTContainer.index];const b=this._declarationLView[ao];return null!==b&&(p[ao]=b.createEmbeddedView(h)),Bb(h,p,c),new ry(p)}};function NR(){return ep(Ai(),Ye())}function ep(l,c){return 4&l.type?new FR(c,l,Tf(l,c)):null}let Ho=(()=>{class l{}return l.__NG_ELEMENT_ID__=zE,l})();function zE(){return fg(Ai(),Ye())}const hg=Ho,jE=class extends hg{constructor(c,d,h){super(),this._lContainer=c,this._hostTNode=d,this._hostLView=h}get element(){return Tf(this._hostTNode,this._hostLView)}get injector(){return new kl(this._hostTNode,this._hostLView)}get parentInjector(){const c=ki(this._hostTNode,this._hostLView);if(Va(c)){const d=mc(c,this._hostLView),h=Al(c);return new kl(d[Dt].data[h+8],d)}return new kl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const d=qE(this._lContainer);return null!==d&&d[c]||null}get length(){return this._lContainer.length-fr}createEmbeddedView(c,d,h){let p,_;"number"==typeof h?p=h:null!=h&&(p=h.index,_=h.injector);const b=c.createEmbeddedView(d||{},_);return this.insert(b,p),b}createComponent(c,d,h,p,_){const b=c&&!function pd(l){return"function"==typeof l}(c);let S;if(b)S=d;else{const de=d||{};S=de.index,h=de.injector,p=de.projectableNodes,_=de.environmentInjector||de.ngModuleRef}const T=b?c:new Nm(qt(c)),F=h||this.parentInjector;if(!_&&null==T.ngModule){const Ee=(b?F:this.parentInjector).get(Ll,null);Ee&&(_=Ee)}const Y=T.create(F,p,void 0,_);return this.insert(Y.hostView,S),Y}insert(c,d){const h=c._lView,p=h[Dt];if(function jh(l){return lo(l[hi])}(h)){const Y=this.indexOf(c);if(-1!==Y)this.detach(Y);else{const de=h[hi],Ee=new jE(de,de[ir],de[hi]);Ee.detach(Ee.indexOf(c))}}const _=this._adjustIndex(d),b=this._lContainer;!function g(l,c,d,h){const p=fr+h,_=d.length;h>0&&(d[p-1][Zn]=c),h<_-fr?(c[Zn]=d[p],ku(d,fr+h,c)):(d.push(c),c[Zn]=null),c[hi]=d;const b=c[Ia];null!==b&&d!==b&&function y(l,c){const d=l[Hi];c[Ti]!==c[hi][hi][Ti]&&(l[ic]=!0),null===d?l[Hi]=[c]:d.push(c)}(b,c);const S=c[ao];null!==S&&S.insertView(l),c[cn]|=64}(p,h,b,_);const S=U_(_,b),T=h[wn],F=Vu(T,b[_l]);return null!==F&&function uD(l,c,d,h,p,_){h[nr]=p,h[ir]=c,H_(l,h,d,1,p,_)}(p,b[ir],T,h,F,S),c.attachToViewContainerRef(),ku(Ry(b),_,c),c}move(c,d){return this.insert(c,d)}indexOf(c){const d=qE(this._lContainer);return null!==d?d.indexOf(c):-1}remove(c){const d=this._adjustIndex(c,-1),h=V(this._lContainer,d);h&&(vc(Ry(this._lContainer),d),W(h[Dt],h))}detach(c){const d=this._adjustIndex(c,-1),h=V(this._lContainer,d);return h&&null!=vc(Ry(this._lContainer),d)?new ry(h):null}_adjustIndex(c,d=0){return c??this.length+d}};function qE(l){return l[Ys]}function Ry(l){return l[Ys]||(l[Ys]=[])}function fg(l,c){let d;const h=c[l.index];if(lo(h))d=h;else{let p;if(8&l.type)p=Gi(h);else{const _=c[wn];p=_.createComment("");const b=pr(l,c);Dn(_,Vu(_,b),p,function bb(l,c){return l.nextSibling(c)}(_,b),!1)}c[l.index]=d=qb(h,c,p,l),Yb(c,d)}return new jE(d,l,c)}class aw{constructor(c){this.queryList=c,this.matches=null}clone(){return new aw(this.queryList)}setDirty(){this.queryList.setDirty()}}class lw{constructor(c=[]){this.queries=c}createEmbeddedView(c){const d=c.queries;if(null!==d){const h=null!==c.contentQueries?c.contentQueries[0]:d.length,p=[];for(let _=0;_<h;_++){const b=d.getByIndex(_);p.push(this.queries[b.indexInDeclarationView].clone())}return new lw(p)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let d=0;d<this.queries.length;d++)null!==KE(c,d).matches&&this.queries[d].setDirty()}}class oh{constructor(c,d,h=null){this.predicate=c,this.flags=d,this.read=h}}class sh{constructor(c=[]){this.queries=c}elementStart(c,d){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(c,d)}elementEnd(c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(c)}embeddedTView(c){let d=null;for(let h=0;h<this.length;h++){const p=null!==d?d.length:0,_=this.getByIndex(h).embeddedTView(c,p);_&&(_.indexInDeclarationView=h,null!==d?d.push(_):d=[_])}return null!==d?new sh(d):null}template(c,d){for(let h=0;h<this.queries.length;h++)this.queries[h].template(c,d)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class cw{constructor(c,d=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(c,d){this.isApplyingToNode(d)&&this.matchTNode(c,d)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,d){this.elementStart(c,d)}embeddedTView(c,d){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,d),new cw(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let h=c.parent;for(;null!==h&&8&h.type&&h.index!==d;)h=h.parent;return d===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(c,d){const h=this.metadata.predicate;if(Array.isArray(h))for(let p=0;p<h.length;p++){const _=h[p];this.matchTNodeWithReadOption(c,d,LR(d,_)),this.matchTNodeWithReadOption(c,d,Il(d,c,_,!1,!1))}else h===rh?4&d.type&&this.matchTNodeWithReadOption(c,d,-1):this.matchTNodeWithReadOption(c,d,Il(d,c,h,!1,!1))}matchTNodeWithReadOption(c,d,h){if(null!==h){const p=this.metadata.read;if(null!==p)if(p===Af||p===Ho||p===rh&&4&d.type)this.addMatch(d.index,-2);else{const _=Il(d,c,p,!1,!1);null!==_&&this.addMatch(d.index,_)}else this.addMatch(d.index,h)}}addMatch(c,d){null===this.matches?this.matches=[c,d]:this.matches.push(c,d)}}function LR(l,c){const d=l.localNames;if(null!==d)for(let h=0;h<d.length;h+=2)if(d[h]===c)return d[h+1];return null}function mg(l,c,d,h){return-1===d?function pg(l,c){return 11&l.type?Tf(l,c):4&l.type?ep(l,c):null}(c,l):-2===d?function BR(l,c,d){return d===Af?Tf(c,l):d===rh?ep(c,l):d===Ho?fg(c,l):void 0}(l,c,h):bi(l,l[Dt],d,c)}function ZE(l,c,d,h){const p=c[ao].queries[h];if(null===p.matches){const _=l.data,b=d.matches,S=[];for(let T=0;T<b.length;T+=2){const F=b[T];S.push(F<0?null:mg(c,_[F],b[T+1],d.metadata.read))}p.matches=S}return p.matches}function dw(l,c,d,h){const p=l.queries.getByIndex(d),_=p.matches;if(null!==_){const b=ZE(l,c,p,d);for(let S=0;S<_.length;S+=2){const T=_[S];if(T>0)h.push(b[S/2]);else{const F=_[S+1],Y=c[-T];for(let de=fr;de<Y.length;de++){const Ee=Y[de];Ee[Ia]===Ee[hi]&&dw(Ee[Dt],Ee,F,h)}if(null!==Y[Hi]){const de=Y[Hi];for(let Ee=0;Ee<de.length;Ee++){const Fe=de[Ee];dw(Fe[Dt],Fe,F,h)}}}}}return h}function $E(l){const c=Ye(),d=pn(),h=dc();Jh(h+1);const p=KE(d,h);if(l.dirty&&function ac(l){return 4==(4&l[cn])}(c)===(2==(2&p.metadata.flags))){if(null===p.matches)l.reset([]);else{const _=p.crossesNgTemplate?dw(d,c,h,[]):ZE(d,c,p,h);l.reset(_,PD),l.notifyOnChanges()}return!0}return!1}function YE(l,c,d){const h=pn();h.firstCreatePass&&(gg(h,new oh(l,c,d),-1),2==(2&c)&&(h.staticViewQueries=!0)),Oy(h,Ye(),c)}function WE(l,c,d,h){const p=pn();if(p.firstCreatePass){const _=Ai();gg(p,new oh(c,d,h),_.index),function tp(l,c){const d=l.contentQueries||(l.contentQueries=[]);c!==(d.length?d[d.length-1]:-1)&&d.push(l.queries.length-1,c)}(p,l),2==(2&d)&&(p.staticContentQueries=!0)}Oy(p,Ye(),d)}function VR(){return function UR(l,c){return l[ao].queries[c].queryList}(Ye(),dc())}function Oy(l,c,d){const h=new sw(4==(4&d));aS(l,c,h,h.destroy),null===c[ao]&&(c[ao]=new lw),c[ao].queries.push(new aw(h))}function gg(l,c,d){null===l.queries&&(l.queries=new sh),l.queries.track(new cw(c,d))}function KE(l,c){return l.queries.getByIndex(c)}function QE(l,c){return ep(l,c)}function Py(l){return!!tr(l)}function Cg(...l){}const hT=new Ln("Application Initializer");let Ny=(()=>{class l{constructor(d){this.appInits=d,this.resolve=Cg,this.reject=Cg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,p)=>{this.resolve=h,this.reject=p})}runInitializers(){if(this.initialized)return;const d=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const _=this.appInits[p]();if(Bf(_))d.push(_);else if(d0(_)){const b=new Promise((S,T)=>{_.subscribe({complete:S,error:T})});d.push(b)}}Promise.all(d).then(()=>{h()}).catch(p=>{this.reject(p)}),0===d.length&&h(),this.initialized=!0}}return l.\u0275fac=function(d){return new(d||l)(on(hT,8))},l.\u0275prov=vt({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const fT=new Ln("AppId",{providedIn:"root",factory:function pT(){return`${op()}${op()}${op()}`}});function op(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const mT=new Ln("Platform Initializer"),iO=new Ln("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),rO=new Ln("AnimationModuleType");let oO=(()=>{class l{log(d){console.log(d)}warn(d){console.warn(d)}}return l.\u0275fac=function(d){return new(d||l)},l.\u0275prov=vt({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})();const Ly=new Ln("LocaleId",{providedIn:"root",factory:()=>_i(Ly,be.Optional|be.SkipSelf)||function sO(){return typeof $localize<"u"&&$localize.locale||Nd}()}),$i=new Ln("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class aO{constructor(c,d){this.ngModuleFactory=c,this.componentFactories=d}}let _T=(()=>{class l{compileModuleSync(d){return new $0(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const h=this.compileModuleSync(d),_=Ec(tr(d).declarations).reduce((b,S)=>{const T=qt(S);return T&&b.push(new Nm(T)),b},[]);return new aO(h,_)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return l.\u0275fac=function(d){return new(d||l)},l.\u0275prov=vt({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const sp=(()=>Promise.resolve(0))();function yT(l){typeof Zone>"u"?sp.then(()=>{l&&l.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",l)}class us{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fc(!1),this.onMicrotaskEmpty=new Fc(!1),this.onStable=new Fc(!1),this.onError=new Fc(!1),typeof Zone>"u")throw new le(908,!1);Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!h&&d,p.shouldCoalesceRunChangeDetection=h,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function vT(){let l=Rt.requestAnimationFrame,c=Rt.cancelAnimationFrame;if(typeof Zone<"u"&&l&&c){const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d);const h=c[Zone.__symbol__("OriginalDelegate")];h&&(c=h)}return{nativeRequestAnimationFrame:l,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function wT(l){const c=()=>{!function m6(l){l.isCheckStableRunning||-1!==l.lastRequestAnimationFrameId||(l.lastRequestAnimationFrameId=l.nativeRequestAnimationFrame.call(Rt,()=>{l.fakeTopEventTask||(l.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{l.lastRequestAnimationFrameId=-1,Uy(l),l.isCheckStableRunning=!0,bT(l),l.isCheckStableRunning=!1},void 0,()=>{},()=>{})),l.fakeTopEventTask.invoke()}),Uy(l))}(l)};l._inner=l._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,h,p,_,b,S)=>{try{return Hy(l),d.invokeTask(p,_,b,S)}finally{(l.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||l.shouldCoalesceRunChangeDetection)&&c(),xT(l)}},onInvoke:(d,h,p,_,b,S,T)=>{try{return Hy(l),d.invoke(p,_,b,S,T)}finally{l.shouldCoalesceRunChangeDetection&&c(),xT(l)}},onHasTask:(d,h,p,_)=>{d.hasTask(p,_),h===p&&("microTask"==_.change?(l._hasPendingMicrotasks=_.microTask,Uy(l),bT(l)):"macroTask"==_.change&&(l.hasPendingMacrotasks=_.macroTask))},onHandleError:(d,h,p,_)=>(d.handleError(p,_),l.runOutsideAngular(()=>l.onError.emit(_)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!us.isInAngularZone())throw new le(909,!1)}static assertNotInAngularZone(){if(us.isInAngularZone())throw new le(909,!1)}run(c,d,h){return this._inner.run(c,d,h)}runTask(c,d,h,p){const _=this._inner,b=_.scheduleEventTask("NgZoneEvent: "+p,c,cO,Cg,Cg);try{return _.runTask(b,d,h)}finally{_.cancelTask(b)}}runGuarded(c,d,h){return this._inner.runGuarded(c,d,h)}runOutsideAngular(c){return this._outer.run(c)}}const cO={};function bT(l){if(0==l._nesting&&!l.hasPendingMicrotasks&&!l.isStable)try{l._nesting++,l.onMicrotaskEmpty.emit(null)}finally{if(l._nesting--,!l.hasPendingMicrotasks)try{l.runOutsideAngular(()=>l.onStable.emit(null))}finally{l.isStable=!0}}}function Uy(l){l.hasPendingMicrotasks=!!(l._hasPendingMicrotasks||(l.shouldCoalesceEventChangeDetection||l.shouldCoalesceRunChangeDetection)&&-1!==l.lastRequestAnimationFrameId)}function Hy(l){l._nesting++,l.isStable&&(l.isStable=!1,l.onUnstable.emit(null))}function xT(l){l._nesting--,bT(l)}class dO{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fc,this.onMicrotaskEmpty=new Fc,this.onStable=new Fc,this.onError=new Fc}run(c,d,h){return c.apply(d,h)}runGuarded(c,d,h){return c.apply(d,h)}runOutsideAngular(c){return c()}runTask(c,d,h,p){return c.apply(d,h)}}const CT=new Ln(""),Sw=new Ln("");let DT,uO=(()=>{class l{constructor(d,h,p){this._ngZone=d,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,DT||(function g6(l){DT=l}(p),p.addToWindow(h)),this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{us.assertNotInAngularZone(),yT(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())yT(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(d)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,h,p){let _=-1;h&&h>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==_),d(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:d,timeoutId:_,updateCb:p})}whenStable(d,h,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,h,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(d){this.registry.registerApplication(d,this)}unregisterApplication(d){this.registry.unregisterApplication(d)}findProviders(d,h,p){return[]}}return l.\u0275fac=function(d){return new(d||l)(on(us),on(hO),on(Sw))},l.\u0275prov=vt({token:l,factory:l.\u0275fac}),l})(),hO=(()=>{class l{constructor(){this._applications=new Map}registerApplication(d,h){this._applications.set(d,h)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,h=!0){return DT?.findTestabilityInTree(this,d,h)??null}}return l.\u0275fac=function(d){return new(d||l)},l.\u0275prov=vt({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})();const Ns=!1;let lh=null;const Ew=new Ln("AllowMultipleToken"),Tw=new Ln("PlatformDestroyListeners"),ST=new Ln("appBootstrapListener");class pO{constructor(c,d){this.name=c,this.token=d}}function _O(l,c,d=[]){const h=`Platform: ${c}`,p=new Ln(h);return(_=[])=>{let b=TT();if(!b||b.injector.get(Ew,!1)){const S=[...d,..._,{provide:p,useValue:!0}];l?l(S):function mO(l){if(lh&&!lh.get(Ew,!1))throw new le(400,!1);lh=l;const c=l.get(zy);(function Aw(l){const c=l.get(mT,null);c&&c.forEach(d=>d())})(l)}(function Gy(l=[],c){return Mf.create({name:c,providers:[{provide:z_,useValue:"platform"},{provide:Tw,useValue:new Set([()=>lh=null])},...l]})}(S,h))}return function Xn(l){const c=TT();if(!c)throw new le(401,!1);return c}()}}function TT(){return lh?.get(zy)??null}let zy=(()=>{class l{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,h){const p=function ko(l,c){let d;return d="noop"===l?new dO:("zone.js"===l?void 0:l)||new us(c),d}(h?.ngZone,function Ge(l){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!l||!l.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!l||!l.ngZoneRunCoalescing)||!1}}(h)),_=[{provide:us,useValue:p}];return p.run(()=>{const b=Mf.create({providers:_,parent:this.injector,name:d.moduleType.name}),S=d.create(b),T=S.injector.get(K_,null);if(!T)throw new le(402,!1);return p.runOutsideAngular(()=>{const F=p.onError.subscribe({next:Y=>{T.handleError(Y)}});S.onDestroy(()=>{jy(this._modules,S),F.unsubscribe()})}),function ya(l,c,d){try{const h=d();return Bf(h)?h.catch(p=>{throw c.runOutsideAngular(()=>l.handleError(p)),p}):h}catch(h){throw c.runOutsideAngular(()=>l.handleError(h)),h}}(T,p,()=>{const F=S.injector.get(Ny);return F.runInitializers(),F.donePromise.then(()=>(function ga(l){xe(l,"Expected localeId to be defined"),"string"==typeof l&&(iE=l.toLowerCase().replace(/_/g,"-"))}(S.injector.get(Ly,Nd)||Nd),this._moduleDoBootstrap(S),S))})})}bootstrapModule(d,h=[]){const p=va({},h);return function ET(l,c,d){const h=new $0(d);return Promise.resolve(h)}(0,0,d).then(_=>this.bootstrapModuleFactory(_,p))}_moduleDoBootstrap(d){const h=d.injector.get(ne);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(p=>h.bootstrap(p));else{if(!d.instance.ngDoBootstrap)throw new le(-403,!1);d.instance.ngDoBootstrap(h)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new le(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const d=this._injector.get(Tw,null);d&&(d.forEach(h=>h()),d.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return l.\u0275fac=function(d){return new(d||l)(on(Mf))},l.\u0275prov=vt({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})();function va(l,c){return Array.isArray(c)?c.reduce(va,l):{...l,...c}}let ne=(()=>{class l{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(d,h,p){this._zone=d,this._injector=h,this._exceptionHandler=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new A.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),b=new A.y(S=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{us.assertNotInAngularZone(),yT(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const F=this._zone.onUnstable.subscribe(()=>{us.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{T.unsubscribe(),F.unsubscribe()}});this.isStable=(0,N.T)(_,b.pipe((0,G.B)()))}bootstrap(d,h){const p=d instanceof Cm;if(!this._injector.get(Ny).done){!p&&Tr(d);throw new le(405,Ns)}let b;b=p?d:this._injector.get(Dm).resolveComponentFactory(d),this.componentTypes.push(b.componentType);const S=function fO(l){return l.isBoundToModule}(b)?void 0:this._injector.get(Rc),F=b.create(Mf.NULL,[],h||b.selector,S),Y=F.location.nativeElement,de=F.injector.get(CT,null);return de?.registerApplication(Y),F.onDestroy(()=>{this.detachView(F.hostView),jy(this.components,F),de?.unregisterApplication(Y)}),this._loadComponent(F),F}tick(){if(this._runningTick)throw new le(101,!1);try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(d))}finally{this._runningTick=!1}}attachView(d){const h=d;this._views.push(h),h.attachToAppRef(this)}detachView(d){const h=d;jy(this._views,h),h.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d);const h=this._injector.get(ST,[]);h.push(...this._bootstrapListeners),h.forEach(p=>p(d))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(d=>d()),this._views.slice().forEach(d=>d.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(d){return this._destroyListeners.push(d),()=>jy(this._destroyListeners,d)}destroy(){if(this._destroyed)throw new le(406,!1);const d=this._injector;d.destroy&&!d.destroyed&&d.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return l.\u0275fac=function(d){return new(d||l)(on(us),on(Ll),on(K_))},l.\u0275prov=vt({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();function jy(l,c){const d=l.indexOf(c);d>-1&&l.splice(d,1)}function Iw(){return!1}let Mw=(()=>{class l{}return l.__NG_ELEMENT_ID__=yO,l})();function yO(l){return function vO(l,c,d){if($c(l)&&!d){const h=sr(l.index,c);return new ry(h,h)}return 47&l.type?new ry(c[Ti],c):null}(Ai(),Ye(),16==(16&l))}class Lw{constructor(){}supports(c){return Bm(c)}create(c){return new Vw(c)}}const Bw=(l,c)=>c;class Vw{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||Bw}forEachItem(c){let d;for(d=this._itHead;null!==d;d=d._next)c(d)}forEachOperation(c){let d=this._itHead,h=this._removalsHead,p=0,_=null;for(;d||h;){const b=!h||d&&d.currentIndex<Gw(h,p,_)?d:h,S=Gw(b,p,_),T=b.currentIndex;if(b===h)p--,h=h._nextRemoved;else if(d=d._next,null==b.previousIndex)p++;else{_||(_=[]);const F=S-p,Y=T-p;if(F!=Y){for(let Ee=0;Ee<F;Ee++){const Fe=Ee<_.length?_[Ee]:_[Ee]=0,Je=Fe+Ee;Y<=Je&&Je<F&&(_[Ee]=Fe+1)}_[b.previousIndex]=Y-F}}S!==T&&c(b,S,T)}}forEachPreviousItem(c){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)c(d)}forEachAddedItem(c){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)c(d)}forEachMovedItem(c){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)c(d)}forEachRemovedItem(c){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)c(d)}forEachIdentityChange(c){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)c(d)}diff(c){if(null==c&&(c=[]),!Bm(c))throw new le(900,!1);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let p,_,b,d=this._itHead,h=!1;if(Array.isArray(c)){this.length=c.length;for(let S=0;S<this.length;S++)_=c[S],b=this._trackByFn(S,_),null!==d&&Object.is(d.trackById,b)?(h&&(d=this._verifyReinsertion(d,_,b,S)),Object.is(d.item,_)||this._addIdentityChange(d,_)):(d=this._mismatch(d,_,b,S),h=!0),d=d._next}else p=0,function r0(l,c){if(Array.isArray(l))for(let d=0;d<l.length;d++)c(l[d]);else{const d=l[Symbol.iterator]();let h;for(;!(h=d.next()).done;)c(h.value)}}(c,S=>{b=this._trackByFn(p,S),null!==d&&Object.is(d.trackById,b)?(h&&(d=this._verifyReinsertion(d,S,b,p)),Object.is(d.item,S)||this._addIdentityChange(d,S)):(d=this._mismatch(d,S,b,p),h=!0),d=d._next,p++}),this.length=p;return this._truncate(d),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,d,h,p){let _;return null===c?_=this._itTail:(_=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(c.item,d)||this._addIdentityChange(c,d),this._reinsertAfter(c,_,p)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(h,p))?(Object.is(c.item,d)||this._addIdentityChange(c,d),this._moveAfter(c,_,p)):c=this._addAfter(new Uw(d,h),_,p),c}_verifyReinsertion(c,d,h,p){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==_?c=this._reinsertAfter(_,c._prev,p):c.currentIndex!=p&&(c.currentIndex=p,this._addToMoves(c,p)),c}_truncate(c){for(;null!==c;){const d=c._next;this._addToRemovals(this._unlink(c)),c=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,d,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const p=c._prevRemoved,_=c._nextRemoved;return null===p?this._removalsHead=_:p._nextRemoved=_,null===_?this._removalsTail=p:_._prevRemoved=p,this._insertAfter(c,d,h),this._addToMoves(c,h),c}_moveAfter(c,d,h){return this._unlink(c),this._insertAfter(c,d,h),this._addToMoves(c,h),c}_addAfter(c,d,h){return this._insertAfter(c,d,h),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,d,h){const p=null===d?this._itHead:d._next;return c._next=p,c._prev=d,null===p?this._itTail=c:p._prev=c,null===d?this._itHead=c:d._next=c,null===this._linkedRecords&&(this._linkedRecords=new Zy),this._linkedRecords.put(c),c.currentIndex=h,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const d=c._prev,h=c._next;return null===d?this._itHead=h:d._next=h,null===h?this._itTail=d:h._prev=d,c}_addToMoves(c,d){return c.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Zy),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,d){return c.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class Uw{constructor(c,d){this.item=c,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Hw{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,d){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===d||d<=h.currentIndex)&&Object.is(h.trackById,c))return h;return null}remove(c){const d=c._prevDup,h=c._nextDup;return null===d?this._head=h:d._nextDup=h,null===h?this._tail=d:h._prevDup=d,null===this._head}}class Zy{constructor(){this.map=new Map}put(c){const d=c.trackById;let h=this.map.get(d);h||(h=new Hw,this.map.set(d,h)),h.add(c)}get(c,d){const p=this.map.get(c);return p?p.get(c,d):null}remove(c){const d=c.trackById;return this.map.get(d).remove(c)&&this.map.delete(d),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Gw(l,c,d){const h=l.previousIndex;if(null===h)return h;let p=0;return d&&h<d.length&&(p=d[h]),h+c+p}class MT{constructor(){}supports(c){return c instanceof Map||ay(c)}create(){return new Sg}}class Sg{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let d;for(d=this._mapHead;null!==d;d=d._next)c(d)}forEachPreviousItem(c){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)c(d)}forEachChangedItem(c){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)c(d)}forEachAddedItem(c){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)c(d)}forEachRemovedItem(c){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)c(d)}diff(c){if(c){if(!(c instanceof Map||ay(c)))throw new le(900,!1)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(c,(h,p)=>{if(d&&d.key===p)this._maybeAddToChanges(d,h),this._appendAfter=d,d=d._next;else{const _=this._getOrCreateRecordForKey(p,h);d=this._insertBeforeOrAppend(d,_)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let h=d;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,d){if(c){const h=c._prev;return d._next=c,d._prev=h,c._prev=d,h&&(h._next=d),c===this._mapHead&&(this._mapHead=d),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(c,d){if(this._records.has(c)){const p=this._records.get(c);this._maybeAddToChanges(p,d);const _=p._prev,b=p._next;return _&&(_._next=b),b&&(b._prev=_),p._next=null,p._prev=null,p}const h=new CO(c);return this._records.set(c,h),h.currentValue=d,this._addToAdditions(h),h}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,d){Object.is(d,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=d,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,d){c instanceof Map?c.forEach(d):Object.keys(c).forEach(h=>d(c[h],h))}}class CO{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function cp(){return new zw([new Lw])}let zw=(()=>{class l{constructor(d){this.factories=d}static create(d,h){if(null!=h){const p=h.factories.slice();d=d.concat(p)}return new l(d)}static extend(d){return{provide:l,useFactory:h=>l.create(d,h||cp()),deps:[[l,new qr,new No]]}}find(d){const h=this.factories.find(p=>p.supports(d));if(null!=h)return h;throw new le(901,!1)}}return l.\u0275prov=vt({token:l,providedIn:"root",factory:cp}),l})();function Eg(){return new Tg([new MT])}let Tg=(()=>{class l{constructor(d){this.factories=d}static create(d,h){if(h){const p=h.factories.slice();d=d.concat(p)}return new l(d)}static extend(d){return{provide:l,useFactory:h=>l.create(d,h||Eg()),deps:[[l,new qr,new No]]}}find(d){const h=this.factories.find(p=>p.supports(d));if(h)return h;throw new le(901,!1)}}return l.\u0275prov=vt({token:l,providedIn:"root",factory:Eg}),l})();const $y=_O(null,"core",[]);let jw=(()=>{class l{constructor(d){}}return l.\u0275fac=function(d){return new(d||l)(on(ne))},l.\u0275mod=Le({type:l}),l.\u0275inj=Ft({}),l})();function qw(l){return"boolean"==typeof l?l:null!=l&&"false"!==l}},3942:(Bt,re,H)=>{"use strict";H.d(re,{Z:()=>ie});var o=H(2090),R=H(4859),A=H(6881),N=H(1877);class G{constructor(le,fe){this._delegate=le,this.firebase=fe,(0,A._addComponent)(le,new R.wA("app-compat",()=>this,"PUBLIC")),this.container=le.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(le){this._delegate.automaticDataCollectionEnabled=le}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(le=>{this._delegate.checkDestroyed(),le()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,A.deleteApp)(this._delegate)))}_getService(le,fe=A._DEFAULT_ENTRY_NAME){var we;this._delegate.checkDestroyed();const ve=this._delegate.container.getProvider(le);return!ve.isInitialized()&&"EXPLICIT"===(null===(we=ve.getComponent())||void 0===we?void 0:we.instantiationMode)&&ve.initialize(),ve.getImmediate({identifier:fe})}_removeServiceInstance(le,fe=A._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(le).clearInstance(fe)}_addComponent(le){(0,A._addComponent)(this._delegate,le)}_addOrOverwriteComponent(le){(0,A._addOrOverwriteComponent)(this._delegate,le)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const te=new o.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),k=function J(){const pe=function Q(pe){const le={},fe={__esModule:!0,initializeApp:function Se(oe,he={}){const U=A.initializeApp(oe,he);if((0,o.r3)(le,U.name))return le[U.name];const Ne=new pe(U,fe);return le[U.name]=Ne,Ne},app:ve,registerVersion:A.registerVersion,setLogLevel:A.setLogLevel,onLog:A.onLog,apps:null,SDK_VERSION:A.SDK_VERSION,INTERNAL:{registerComponent:function Me(oe){const he=oe.name,U=he.replace("-compat","");if(A._registerComponent(oe)&&"PUBLIC"===oe.type){const Ne=(rt=ve())=>{if("function"!=typeof rt[U])throw te.create("invalid-app-argument",{appName:he});return rt[U]()};void 0!==oe.serviceProps&&(0,o.ZB)(Ne,oe.serviceProps),fe[U]=Ne,pe.prototype[U]=function(...rt){return this._getService.bind(this,he).apply(this,oe.multipleInstances?rt:[])}}return"PUBLIC"===oe.type?fe[U]:null},removeApp:function we(oe){delete le[oe]},useAsService:function qe(oe,he){return"serverAuth"===he?null:he},modularAPIs:A}};function ve(oe){if(!(0,o.r3)(le,oe=oe||A._DEFAULT_ENTRY_NAME))throw te.create("no-app",{appName:oe});return le[oe]}return fe.default=fe,Object.defineProperty(fe,"apps",{get:function _e(){return Object.keys(le).map(oe=>le[oe])}}),ve.App=pe,fe}(G);return pe.INTERNAL=Object.assign(Object.assign({},pe.INTERNAL),{createFirebaseNamespace:J,extendNamespace:function le(fe){(0,o.ZB)(pe,fe)},createSubscribe:o.ne,ErrorFactory:o.LL,deepExtend:o.ZB}),pe}(),O=new N.Yd("@firebase/app-compat");if((0,o.jU)()&&void 0!==self.firebase){O.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const pe=self.firebase.SDK_VERSION;pe&&pe.indexOf("LITE")>=0&&O.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ie=k;!function z(pe){(0,A.registerVersion)("@firebase/app-compat","0.2.13",pe)}()},6881:(Bt,re,H)=>{"use strict";H.r(re),H.d(re,{FirebaseError:()=>N.ZR,SDK_VERSION:()=>Vr,_DEFAULT_ENTRY_NAME:()=>Mt,_addComponent:()=>Ot,_addOrOverwriteComponent:()=>$t,_apps:()=>Rt,_clearComponents:()=>Ui,_components:()=>Wt,_getProvider:()=>An,_registerComponent:()=>ni,_removeServiceInstance:()=>Jn,deleteApp:()=>si,getApp:()=>ur,getApps:()=>on,initializeApp:()=>bn,onLog:()=>Ei,registerVersion:()=>hr,setLogLevel:()=>Ur});var o=H(5861),R=H(4859),A=H(1877),N=H(2090);const G=($e,Le)=>Le.some(ht=>$e instanceof ht);let j,te;const k=new WeakMap,O=new WeakMap,M=new WeakMap,Z=new WeakMap,z=new WeakMap;let le={get($e,Le,ht){if($e instanceof IDBTransaction){if("done"===Le)return O.get($e);if("objectStoreNames"===Le)return $e.objectStoreNames||M.get($e);if("store"===Le)return ht.objectStoreNames[1]?void 0:ht.objectStore(ht.objectStoreNames[0])}return Se($e[Le])},set:($e,Le,ht)=>($e[Le]=ht,!0),has:($e,Le)=>$e instanceof IDBTransaction&&("done"===Le||"store"===Le)||Le in $e};function ve($e){return"function"==typeof $e?function we($e){return $e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function J(){return te||(te=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes($e)?function(...Le){return $e.apply(_e(this),Le),Se(k.get(this))}:function(...Le){return Se($e.apply(_e(this),Le))}:function(Le,...ht){const Ht=$e.call(_e(this),Le,...ht);return M.set(Ht,Le.sort?Le.sort():[Le]),Se(Ht)}}($e):($e instanceof IDBTransaction&&function pe($e){if(O.has($e))return;const Le=new Promise((ht,Ht)=>{const tn=()=>{$e.removeEventListener("complete",Cn),$e.removeEventListener("error",qt),$e.removeEventListener("abort",qt)},Cn=()=>{ht(),tn()},qt=()=>{Ht($e.error||new DOMException("AbortError","AbortError")),tn()};$e.addEventListener("complete",Cn),$e.addEventListener("error",qt),$e.addEventListener("abort",qt)});O.set($e,Le)}($e),G($e,function Q(){return j||(j=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy($e,le):$e)}function Se($e){if($e instanceof IDBRequest)return function ie($e){const Le=new Promise((ht,Ht)=>{const tn=()=>{$e.removeEventListener("success",Cn),$e.removeEventListener("error",qt)},Cn=()=>{ht(Se($e.result)),tn()},qt=()=>{Ht($e.error),tn()};$e.addEventListener("success",Cn),$e.addEventListener("error",qt)});return Le.then(ht=>{ht instanceof IDBCursor&&k.set(ht,$e)}).catch(()=>{}),z.set(Le,$e),Le}($e);if(Z.has($e))return Z.get($e);const Le=ve($e);return Le!==$e&&(Z.set($e,Le),z.set(Le,$e)),Le}const _e=$e=>z.get($e),oe=["get","getKey","getAll","getAllKeys","count"],he=["put","add","delete","clear"],U=new Map;function Ne($e,Le){if(!($e instanceof IDBDatabase)||Le in $e||"string"!=typeof Le)return;if(U.get(Le))return U.get(Le);const ht=Le.replace(/FromIndex$/,""),Ht=Le!==ht,tn=he.includes(ht);if(!(ht in(Ht?IDBIndex:IDBObjectStore).prototype)||!tn&&!oe.includes(ht))return;const Cn=function(){var qt=(0,o.Z)(function*(qn,...On){const Tr=this.transaction(qn,tn?"readwrite":"readonly");let tr=Tr.store;return Ht&&(tr=tr.index(On.shift())),(yield Promise.all([tr[ht](...On),tn&&Tr.done]))[0]});return function(On){return qt.apply(this,arguments)}}();return U.set(Le,Cn),Cn}!function fe($e){le=$e(le)}($e=>({...$e,get:(Le,ht,Ht)=>Ne(Le,ht)||$e.get(Le,ht,Ht),has:(Le,ht)=>!!Ne(Le,ht)||$e.has(Le,ht)}));class rt{constructor(Le){this.container=Le}getPlatformInfoString(){return this.container.getProviders().map(ht=>{if(function Ze($e){return"VERSION"===$e.getComponent()?.type}(ht)){const Ht=ht.getImmediate();return`${Ht.library}/${Ht.version}`}return null}).filter(ht=>ht).join(" ")}}const lt="@firebase/app",Lt=new A.Yd("@firebase/app"),Mt="[DEFAULT]",vn={[lt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Rt=new Map,Wt=new Map;function Ot($e,Le){try{$e.container.addComponent(Le)}catch(ht){Lt.debug(`Component ${Le.name} failed to register with FirebaseApp ${$e.name}`,ht)}}function $t($e,Le){$e.container.addOrOverwriteComponent(Le)}function ni($e){const Le=$e.name;if(Wt.has(Le))return Lt.debug(`There were multiple attempts to register component ${Le}.`),!1;Wt.set(Le,$e);for(const ht of Rt.values())Ot(ht,$e);return!0}function An($e,Le){const ht=$e.container.getProvider("heartbeat").getImmediate({optional:!0});return ht&&ht.triggerHeartbeat(),$e.container.getProvider(Le)}function Jn($e,Le,ht=Mt){An($e,Le).clearInstance(ht)}function Ui(){Wt.clear()}const Di=new N.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class gn{constructor(Le,ht,Ht){this._isDeleted=!1,this._options=Object.assign({},Le),this._config=Object.assign({},ht),this._name=ht.name,this._automaticDataCollectionEnabled=ht.automaticDataCollectionEnabled,this._container=Ht,this.container.addComponent(new R.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Le){this.checkDestroyed(),this._automaticDataCollectionEnabled=Le}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Le){this._isDeleted=Le}checkDestroyed(){if(this.isDeleted)throw Di.create("app-deleted",{appName:this._name})}}const Vr="9.23.0";function bn($e,Le={}){let ht=$e;"object"!=typeof Le&&(Le={name:Le});const Ht=Object.assign({name:Mt,automaticDataCollectionEnabled:!1},Le),tn=Ht.name;if("string"!=typeof tn||!tn)throw Di.create("bad-app-name",{appName:String(tn)});if(ht||(ht=(0,N.aH)()),!ht)throw Di.create("no-options");const Cn=Rt.get(tn);if(Cn){if((0,N.vZ)(ht,Cn.options)&&(0,N.vZ)(Ht,Cn.config))return Cn;throw Di.create("duplicate-app",{appName:tn})}const qt=new R.H0(tn);for(const On of Wt.values())qt.addComponent(On);const qn=new gn(ht,Ht,qt);return Rt.set(tn,qn),qn}function ur($e=Mt){const Le=Rt.get($e);if(!Le&&$e===Mt&&(0,N.aH)())return bn();if(!Le)throw Di.create("no-app",{appName:$e});return Le}function on(){return Array.from(Rt.values())}function si($e){return _i.apply(this,arguments)}function _i(){return(_i=(0,o.Z)(function*($e){const Le=$e.name;Rt.has(Le)&&(Rt.delete(Le),yield Promise.all($e.container.getProviders().map(ht=>ht.delete())),$e.isDeleted=!0)})).apply(this,arguments)}function hr($e,Le,ht){var Ht;let tn=null!==(Ht=vn[$e])&&void 0!==Ht?Ht:$e;ht&&(tn+=`-${ht}`);const Cn=tn.match(/\s|\//),qt=Le.match(/\s|\//);if(Cn||qt){const qn=[`Unable to register library "${tn}" with version "${Le}":`];return Cn&&qn.push(`library name "${tn}" contains illegal characters (whitespace or "/")`),Cn&&qt&&qn.push("and"),qt&&qn.push(`version name "${Le}" contains illegal characters (whitespace or "/")`),void Lt.warn(qn.join(" "))}ni(new R.wA(`${tn}-version`,()=>({library:tn,version:Le}),"VERSION"))}function Ei($e,Le){if(null!==$e&&"function"!=typeof $e)throw Di.create("invalid-log-argument");(0,A.Am)($e,Le)}function Ur($e){(0,A.Ub)($e)}const Er="firebase-heartbeat-database",Hr=1,ye="firebase-heartbeat-store";let me=null;function K(){return me||(me=function Me($e,Le,{blocked:ht,upgrade:Ht,blocking:tn,terminated:Cn}={}){const qt=indexedDB.open($e,Le),qn=Se(qt);return Ht&&qt.addEventListener("upgradeneeded",On=>{Ht(Se(qt.result),On.oldVersion,On.newVersion,Se(qt.transaction),On)}),ht&&qt.addEventListener("blocked",On=>ht(On.oldVersion,On.newVersion,On)),qn.then(On=>{Cn&&On.addEventListener("close",()=>Cn()),tn&&On.addEventListener("versionchange",Tr=>tn(Tr.oldVersion,Tr.newVersion,Tr))}).catch(()=>{}),qn}(Er,Hr,{upgrade:($e,Le)=>{0===Le&&$e.createObjectStore(ye)}}).catch($e=>{throw Di.create("idb-open",{originalErrorMessage:$e.message})})),me}function $(){return($=(0,o.Z)(function*($e){try{return yield(yield K()).transaction(ye).objectStore(ye).get(At($e))}catch(Le){if(Le instanceof N.ZR)Lt.warn(Le.message);else{const ht=Di.create("idb-get",{originalErrorMessage:Le?.message});Lt.warn(ht.message)}}})).apply(this,arguments)}function Ce($e,Le){return et.apply(this,arguments)}function et(){return(et=(0,o.Z)(function*($e,Le){try{const Ht=(yield K()).transaction(ye,"readwrite");yield Ht.objectStore(ye).put(Le,At($e)),yield Ht.done}catch(ht){if(ht instanceof N.ZR)Lt.warn(ht.message);else{const Ht=Di.create("idb-set",{originalErrorMessage:ht?.message});Lt.warn(Ht.message)}}})).apply(this,arguments)}function At($e){return`${$e.name}!${$e.options.appId}`}class xn{constructor(Le){this.container=Le,this._heartbeatsCache=null;const ht=this.container.getProvider("app").getImmediate();this._storage=new _n(ht),this._heartbeatsCachePromise=this._storage.read().then(Ht=>(this._heartbeatsCache=Ht,Ht))}triggerHeartbeat(){var Le=this;return(0,o.Z)(function*(){const Ht=Le.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),tn=sn();if(null===Le._heartbeatsCache&&(Le._heartbeatsCache=yield Le._heartbeatsCachePromise),Le._heartbeatsCache.lastSentHeartbeatDate!==tn&&!Le._heartbeatsCache.heartbeats.some(Cn=>Cn.date===tn))return Le._heartbeatsCache.heartbeats.push({date:tn,agent:Ht}),Le._heartbeatsCache.heartbeats=Le._heartbeatsCache.heartbeats.filter(Cn=>{const qt=new Date(Cn.date).valueOf();return Date.now()-qt<=2592e6}),Le._storage.overwrite(Le._heartbeatsCache)})()}getHeartbeatsHeader(){var Le=this;return(0,o.Z)(function*(){if(null===Le._heartbeatsCache&&(yield Le._heartbeatsCachePromise),null===Le._heartbeatsCache||0===Le._heartbeatsCache.heartbeats.length)return"";const ht=sn(),{heartbeatsToSend:Ht,unsentEntries:tn}=function ai($e,Le=1024){const ht=[];let Ht=$e.slice();for(const tn of $e){const Cn=ht.find(qt=>qt.agent===tn.agent);if(Cn){if(Cn.dates.push(tn.date),er(ht)>Le){Cn.dates.pop();break}}else if(ht.push({agent:tn.agent,dates:[tn.date]}),er(ht)>Le){ht.pop();break}Ht=Ht.slice(1)}return{heartbeatsToSend:ht,unsentEntries:Ht}}(Le._heartbeatsCache.heartbeats),Cn=(0,N.L)(JSON.stringify({version:2,heartbeats:Ht}));return Le._heartbeatsCache.lastSentHeartbeatDate=ht,tn.length>0?(Le._heartbeatsCache.heartbeats=tn,yield Le._storage.overwrite(Le._heartbeatsCache)):(Le._heartbeatsCache.heartbeats=[],Le._storage.overwrite(Le._heartbeatsCache)),Cn})()}}function sn(){return(new Date).toISOString().substring(0,10)}class _n{constructor(Le){this.app=Le,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,o.Z)(function*(){return!!(0,N.hl)()&&(0,N.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Le=this;return(0,o.Z)(function*(){return(yield Le._canUseIndexedDBPromise)&&(yield function X($e){return $.apply(this,arguments)}(Le.app))||{heartbeats:[]}})()}overwrite(Le){var ht=this;return(0,o.Z)(function*(){var Ht;if(yield ht._canUseIndexedDBPromise){const Cn=yield ht.read();return Ce(ht.app,{lastSentHeartbeatDate:null!==(Ht=Le.lastSentHeartbeatDate)&&void 0!==Ht?Ht:Cn.lastSentHeartbeatDate,heartbeats:Le.heartbeats})}})()}add(Le){var ht=this;return(0,o.Z)(function*(){var Ht;if(yield ht._canUseIndexedDBPromise){const Cn=yield ht.read();return Ce(ht.app,{lastSentHeartbeatDate:null!==(Ht=Le.lastSentHeartbeatDate)&&void 0!==Ht?Ht:Cn.lastSentHeartbeatDate,heartbeats:[...Cn.heartbeats,...Le.heartbeats]})}})()}}function er($e){return(0,N.L)(JSON.stringify({version:2,heartbeats:$e})).length}!function ws($e){ni(new R.wA("platform-logger",Le=>new rt(Le),"PRIVATE")),ni(new R.wA("heartbeat",Le=>new xn(Le),"PRIVATE")),hr(lt,"0.9.13",$e),hr(lt,"0.9.13","esm2017"),hr("fire-js","")}("")},4859:(Bt,re,H)=>{"use strict";H.d(re,{H0:()=>Q,wA:()=>A,zt:()=>G});var o=H(5861),R=H(2090);class A{constructor(k,O,M){this.name=k,this.instanceFactory=O,this.type=M,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(k){return this.instantiationMode=k,this}setMultipleInstances(k){return this.multipleInstances=k,this}setServiceProps(k){return this.serviceProps=k,this}setInstanceCreatedCallback(k){return this.onInstanceCreated=k,this}}const N="[DEFAULT]";class G{constructor(k,O){this.name=k,this.container=O,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(k){const O=this.normalizeInstanceIdentifier(k);if(!this.instancesDeferred.has(O)){const M=new R.BH;if(this.instancesDeferred.set(O,M),this.isInitialized(O)||this.shouldAutoInitialize())try{const Z=this.getOrInitializeService({instanceIdentifier:O});Z&&M.resolve(Z)}catch{}}return this.instancesDeferred.get(O).promise}getImmediate(k){var O;const M=this.normalizeInstanceIdentifier(k?.identifier),Z=null!==(O=k?.optional)&&void 0!==O&&O;if(!this.isInitialized(M)&&!this.shouldAutoInitialize()){if(Z)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:M})}catch(z){if(Z)return null;throw z}}getComponent(){return this.component}setComponent(k){if(k.name!==this.name)throw Error(`Mismatching Component ${k.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=k,this.shouldAutoInitialize()){if(function te(J){return"EAGER"===J.instantiationMode}(k))try{this.getOrInitializeService({instanceIdentifier:N})}catch{}for(const[O,M]of this.instancesDeferred.entries()){const Z=this.normalizeInstanceIdentifier(O);try{const z=this.getOrInitializeService({instanceIdentifier:Z});M.resolve(z)}catch{}}}}clearInstance(k=N){this.instancesDeferred.delete(k),this.instancesOptions.delete(k),this.instances.delete(k)}delete(){var k=this;return(0,o.Z)(function*(){const O=Array.from(k.instances.values());yield Promise.all([...O.filter(M=>"INTERNAL"in M).map(M=>M.INTERNAL.delete()),...O.filter(M=>"_delete"in M).map(M=>M._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(k=N){return this.instances.has(k)}getOptions(k=N){return this.instancesOptions.get(k)||{}}initialize(k={}){const{options:O={}}=k,M=this.normalizeInstanceIdentifier(k.instanceIdentifier);if(this.isInitialized(M))throw Error(`${this.name}(${M}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Z=this.getOrInitializeService({instanceIdentifier:M,options:O});for(const[z,ie]of this.instancesDeferred.entries())M===this.normalizeInstanceIdentifier(z)&&ie.resolve(Z);return Z}onInit(k,O){var M;const Z=this.normalizeInstanceIdentifier(O),z=null!==(M=this.onInitCallbacks.get(Z))&&void 0!==M?M:new Set;z.add(k),this.onInitCallbacks.set(Z,z);const ie=this.instances.get(Z);return ie&&k(ie,Z),()=>{z.delete(k)}}invokeOnInitCallbacks(k,O){const M=this.onInitCallbacks.get(O);if(M)for(const Z of M)try{Z(k,O)}catch{}}getOrInitializeService({instanceIdentifier:k,options:O={}}){let M=this.instances.get(k);if(!M&&this.component&&(M=this.component.instanceFactory(this.container,{instanceIdentifier:(J=k,J===N?void 0:J),options:O}),this.instances.set(k,M),this.instancesOptions.set(k,O),this.invokeOnInitCallbacks(M,k),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,k,M)}catch{}var J;return M||null}normalizeInstanceIdentifier(k=N){return this.component?this.component.multipleInstances?k:N:k}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Q{constructor(k){this.name=k,this.providers=new Map}addComponent(k){const O=this.getProvider(k.name);if(O.isComponentSet())throw new Error(`Component ${k.name} has already been registered with ${this.name}`);O.setComponent(k)}addOrOverwriteComponent(k){this.getProvider(k.name).isComponentSet()&&this.providers.delete(k.name),this.addComponent(k)}getProvider(k){if(this.providers.has(k))return this.providers.get(k);const O=new G(k,this);return this.providers.set(k,O),O}getProviders(){return Array.from(this.providers.values())}}},1877:(Bt,re,H)=>{"use strict";H.d(re,{Am:()=>J,Ub:()=>Q,Yd:()=>te,in:()=>R});const o=[];var R=(()=>{return(k=R||(R={}))[k.DEBUG=0]="DEBUG",k[k.VERBOSE=1]="VERBOSE",k[k.INFO=2]="INFO",k[k.WARN=3]="WARN",k[k.ERROR=4]="ERROR",k[k.SILENT=5]="SILENT",R;var k})();const A={debug:R.DEBUG,verbose:R.VERBOSE,info:R.INFO,warn:R.WARN,error:R.ERROR,silent:R.SILENT},N=R.INFO,G={[R.DEBUG]:"log",[R.VERBOSE]:"log",[R.INFO]:"info",[R.WARN]:"warn",[R.ERROR]:"error"},j=(k,O,...M)=>{if(O<k.logLevel)return;const Z=(new Date).toISOString(),z=G[O];if(!z)throw new Error(`Attempted to log a message with an invalid logType (value: ${O})`);console[z](`[${Z}]  ${k.name}:`,...M)};class te{constructor(O){this.name=O,this._logLevel=N,this._logHandler=j,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(O){if(!(O in R))throw new TypeError(`Invalid value "${O}" assigned to \`logLevel\``);this._logLevel=O}setLogLevel(O){this._logLevel="string"==typeof O?A[O]:O}get logHandler(){return this._logHandler}set logHandler(O){if("function"!=typeof O)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=O}get userLogHandler(){return this._userLogHandler}set userLogHandler(O){this._userLogHandler=O}debug(...O){this._userLogHandler&&this._userLogHandler(this,R.DEBUG,...O),this._logHandler(this,R.DEBUG,...O)}log(...O){this._userLogHandler&&this._userLogHandler(this,R.VERBOSE,...O),this._logHandler(this,R.VERBOSE,...O)}info(...O){this._userLogHandler&&this._userLogHandler(this,R.INFO,...O),this._logHandler(this,R.INFO,...O)}warn(...O){this._userLogHandler&&this._userLogHandler(this,R.WARN,...O),this._logHandler(this,R.WARN,...O)}error(...O){this._userLogHandler&&this._userLogHandler(this,R.ERROR,...O),this._logHandler(this,R.ERROR,...O)}}function Q(k){o.forEach(O=>{O.setLogLevel(k)})}function J(k,O){for(const M of o){let Z=null;O&&O.level&&(Z=A[O.level]),M.userLogHandler=null===k?null:(z,ie,...pe)=>{const le=pe.map(fe=>{if(null==fe)return null;if("string"==typeof fe)return fe;if("number"==typeof fe||"boolean"==typeof fe)return fe.toString();if(fe instanceof Error)return fe.message;try{return JSON.stringify(fe)}catch{return null}}).filter(fe=>fe).join(" ");ie>=(Z??z.logLevel)&&k({level:R[ie].toLowerCase(),message:le,args:pe,type:z.name})}}}},259:(Bt,re,H)=>{"use strict";H.d(re,{C6:()=>o.getApps,Mq:()=>o.getApp});var o=H(6881);(0,o.registerVersion)("firebase","9.23.0","app")},9260:(Bt,re,H)=>{"use strict";H.d(re,{Z:()=>o.Z});var o=H(3942);o.Z.registerVersion("firebase","9.23.0","app-compat")},9568:(Bt,re,H)=>{"use strict";H.r(re);var o=H(5861),R=H(3942),A=H(1389),N=H(2090),te=(H(6881),H(1877),H(4859));function Q(){return window}const J=2e3;function O(){return O=(0,o.Z)(function*(K,X,$){var Ce;const{BuildInfo:et}=Q();(0,A.as)(X.sessionId,"AuthEvent did not contain a session ID");const At=yield function fe(K){return we.apply(this,arguments)}(X.sessionId),en={};return(0,A.at)()?en.ibi=et.packageName:(0,A.au)()?en.apn=et.packageName:(0,A.av)(K,"operation-not-supported-in-this-environment"),et.displayName&&(en.appDisplayName=et.displayName),en.sessionId=At,(0,A.aw)(K,$,X.type,void 0,null!==(Ce=X.eventId)&&void 0!==Ce?Ce:void 0,en)}),O.apply(this,arguments)}function Z(){return(Z=(0,o.Z)(function*(K){const{BuildInfo:X}=Q(),$={};(0,A.at)()?$.iosBundleId=X.packageName:(0,A.au)()?$.androidPackageName=X.packageName:(0,A.av)(K,"operation-not-supported-in-this-environment"),yield(0,A.ax)(K,$)})).apply(this,arguments)}function pe(){return(pe=(0,o.Z)(function*(K,X,$){const{cordova:Ce}=Q();let et=()=>{};try{yield new Promise((At,en)=>{let Qt=null;function xn(){var _n;At();const er=null===(_n=Ce.plugins.browsertab)||void 0===_n?void 0:_n.close;"function"==typeof er&&er(),"function"==typeof $?.close&&$.close()}function sn(){Qt||(Qt=window.setTimeout(()=>{en((0,A.az)(K,"redirect-cancelled-by-user"))},J))}function ai(){"visible"===document?.visibilityState&&sn()}X.addPassiveListener(xn),document.addEventListener("resume",sn,!1),(0,A.au)()&&document.addEventListener("visibilitychange",ai,!1),et=()=>{X.removePassiveListener(xn),document.removeEventListener("resume",sn,!1),document.removeEventListener("visibilitychange",ai,!1),Qt&&window.clearTimeout(Qt)}})}finally{et()}})).apply(this,arguments)}function we(){return(we=(0,o.Z)(function*(K){const X=function ve(K){if((0,A.as)(/[0-9a-zA-Z]+/.test(K),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(K);const X=new ArrayBuffer(K.length),$=new Uint8Array(X);for(let Ce=0;Ce<K.length;Ce++)$[Ce]=K.charCodeAt(Ce);return $}(K),$=yield crypto.subtle.digest("SHA-256",X);return Array.from(new Uint8Array($)).map(et=>et.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Se=20;class _e extends A.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(X=>{this.resolveInialized=X})}addPassiveListener(X){this.passiveListeners.add(X)}removePassiveListener(X){this.passiveListeners.delete(X)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(X){return this.resolveInialized(),this.passiveListeners.forEach($=>$(X)),super.onEvent(X)}initialized(){var X=this;return(0,o.Z)(function*(){yield X.initPromise})()}}function oe(K){return he.apply(this,arguments)}function he(){return(he=(0,o.Z)(function*(K){const X=yield rt()._get(Ze(K));return X&&(yield rt()._remove(Ze(K))),X})).apply(this,arguments)}function Ne(){const K=[],X="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let $=0;$<Se;$++){const Ce=Math.floor(Math.random()*X.length);K.push(X.charAt(Ce))}return K.join("")}function rt(){return(0,A.aC)(A.b)}function Ze(K){return(0,A.aD)("authEvent",K.config.apiKey,K.name)}function Lt(K){if(!K?.includes("?"))return{};const[X,...$]=K.split("?");return(0,N.zd)($.join("?"))}const Ae=class Be{constructor(){this._redirectPersistence=A.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=A.aE,this._overrideRedirectResult=A.aF}_initialize(X){var $=this;return(0,o.Z)(function*(){const Ce=X._key();let et=$.eventManagers.get(Ce);return et||(et=new _e(X),$.eventManagers.set(Ce,et),$.attachCallbackListeners(X,et)),et})()}_openPopup(X){(0,A.av)(X,"operation-not-supported-in-this-environment")}_openRedirect(X,$,Ce,et){var At=this;return(0,o.Z)(function*(){!function le(K){var X,$,Ce,et,At,en,Qt,xn,sn,ai;const _n=Q();(0,A.aA)("function"==typeof(null===(X=_n?.universalLinks)||void 0===X?void 0:X.subscribe),K,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,A.aA)(typeof(null===($=_n?.BuildInfo)||void 0===$?void 0:$.packageName)<"u",K,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,A.aA)("function"==typeof(null===(At=null===(et=null===(Ce=_n?.cordova)||void 0===Ce?void 0:Ce.plugins)||void 0===et?void 0:et.browsertab)||void 0===At?void 0:At.openUrl),K,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,A.aA)("function"==typeof(null===(xn=null===(Qt=null===(en=_n?.cordova)||void 0===en?void 0:en.plugins)||void 0===Qt?void 0:Qt.browsertab)||void 0===xn?void 0:xn.isAvailable),K,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,A.aA)("function"==typeof(null===(ai=null===(sn=_n?.cordova)||void 0===sn?void 0:sn.InAppBrowser)||void 0===ai?void 0:ai.open),K,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(X);const en=yield At._initialize(X);yield en.initialized(),en.resetRedirect(),(0,A.aG)(),yield At._originValidation(X);const Qt=function Me(K,X,$=null){return{type:X,eventId:$,urlResponse:null,sessionId:Ne(),postBody:null,tenantId:K.tenantId,error:(0,A.az)(K,"no-auth-event")}}(X,Ce,et);yield function qe(K,X){return rt()._set(Ze(K),X)}(X,Qt);const xn=yield function k(K,X,$){return O.apply(this,arguments)}(X,Qt,$),sn=yield function z(K){const{cordova:X}=Q();return new Promise($=>{X.plugins.browsertab.isAvailable(Ce=>{let et=null;Ce?X.plugins.browsertab.openUrl(K):et=X.InAppBrowser.open(K,(0,A.ay)()?"_blank":"_system","location=yes"),$(et)})})}(xn);return function ie(K,X,$){return pe.apply(this,arguments)}(X,en,sn)})()}_isIframeWebStorageSupported(X,$){throw new Error("Method not implemented.")}_originValidation(X){const $=X._key();return this.originValidationPromises[$]||(this.originValidationPromises[$]=function M(K){return Z.apply(this,arguments)}(X)),this.originValidationPromises[$]}attachCallbackListeners(X,$){const{universalLinks:Ce,handleOpenURL:et,BuildInfo:At}=Q(),en=setTimeout((0,o.Z)(function*(){yield oe(X),$.onEvent(De())}),500),Qt=function(){var ai=(0,o.Z)(function*(_n){clearTimeout(en);const er=yield oe(X);let ws=null;er&&_n?.url&&(ws=function U(K,X){var $,Ce;const et=function ut(K){const X=Lt(K),$=X.link?decodeURIComponent(X.link):void 0,Ce=Lt($).link,et=X.deep_link_id?decodeURIComponent(X.deep_link_id):void 0;return Lt(et).link||et||Ce||$||K}(X);if(et.includes("/__/auth/callback")){const At=Lt(et),en=At.firebaseError?function lt(K){try{return JSON.parse(K)}catch{return null}}(decodeURIComponent(At.firebaseError)):null,Qt=null===(Ce=null===($=en?.code)||void 0===$?void 0:$.split("auth/"))||void 0===Ce?void 0:Ce[1],xn=Qt?(0,A.az)(Qt):null;return xn?{type:K.type,eventId:K.eventId,tenantId:K.tenantId,error:xn,urlResponse:null,sessionId:null,postBody:null}:{type:K.type,eventId:K.eventId,tenantId:K.tenantId,sessionId:K.sessionId,urlResponse:et,postBody:null}}return null}(er,_n.url)),$.onEvent(ws||De())});return function(er){return ai.apply(this,arguments)}}();typeof Ce<"u"&&"function"==typeof Ce.subscribe&&Ce.subscribe(null,Qt);const xn=et,sn=`${At.packageName.toLowerCase()}://`;Q().handleOpenURL=function(){var ai=(0,o.Z)(function*(_n){if(_n.toLowerCase().startsWith(sn)&&Qt({url:_n}),"function"==typeof xn)try{xn(_n)}catch(er){console.error(er)}});return function(_n){return ai.apply(this,arguments)}}()}};function De(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,A.az)("no-auth-event")}}const Ke=1e3;function ft(){var K;return(null===(K=self?.location)||void 0===K?void 0:K.protocol)||null}function Gt(K=(0,N.z$)()){return!("file:"!==ft()&&"ionic:"!==ft()&&"capacitor:"!==ft()||!K.toLowerCase().match(/iphone|ipad|ipod|android/))}function Pe(){try{const K=self.localStorage,X=A.aL();if(K)return K.setItem(X,"1"),K.removeItem(X),!function Qe(K=(0,N.z$)()){return function rn(){return(0,N.w1)()&&11===document?.documentMode}()||function L(K=(0,N.z$)()){return/Edge\/\d+/.test(K)}(K)}()||(0,N.hl)()}catch{return ce()&&(0,N.hl)()}return!1}function ce(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ae(){return(function vt(){return"http:"===ft()||"https:"===ft()}()||(0,N.ru)()||Gt())&&!function Ft(){return(0,N.b$)()||(0,N.UG)()}()&&Pe()&&!ce()}function Te(){return Gt()&&typeof document<"u"}function Xe(){return(Xe=(0,o.Z)(function*(){return!!Te()&&new Promise(K=>{const X=setTimeout(()=>{K(!1)},Ke);document.addEventListener("deviceready",()=>{clearTimeout(X),K(!0)})})})).apply(this,arguments)}const ot={LOCAL:"local",NONE:"none",SESSION:"session"},xt=A.aA,st="persistence";function vn(K){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,o.Z)(function*(K){yield K._initializationPromise;const X=Ot(),$=A.aD(st,K.config.apiKey,K.name);X&&X.setItem($,K._getPersistence())})).apply(this,arguments)}function Ot(){var K;try{return(null===(K=function be(){return typeof window<"u"?window:null}())||void 0===K?void 0:K.sessionStorage)||null}catch{return null}}const $t=A.aA;class ni{constructor(){this.browserResolver=A.aC(A.k),this.cordovaResolver=A.aC(Ae),this.underlyingResolver=null,this._redirectPersistence=A.a,this._completeRedirectFn=A.aE,this._overrideRedirectResult=A.aF}_initialize(X){var $=this;return(0,o.Z)(function*(){return yield $.selectUnderlyingResolver(),$.assertedUnderlyingResolver._initialize(X)})()}_openPopup(X,$,Ce,et){var At=this;return(0,o.Z)(function*(){return yield At.selectUnderlyingResolver(),At.assertedUnderlyingResolver._openPopup(X,$,Ce,et)})()}_openRedirect(X,$,Ce,et){var At=this;return(0,o.Z)(function*(){return yield At.selectUnderlyingResolver(),At.assertedUnderlyingResolver._openRedirect(X,$,Ce,et)})()}_isIframeWebStorageSupported(X,$){this.assertedUnderlyingResolver._isIframeWebStorageSupported(X,$)}_originValidation(X){return this.assertedUnderlyingResolver._originValidation(X)}get _shouldInitProactively(){return Te()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return $t(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var X=this;return(0,o.Z)(function*(){if(X.underlyingResolver)return;const $=yield function tt(){return Xe.apply(this,arguments)}();X.underlyingResolver=$?X.cordovaResolver:X.browserResolver})()}}function An(K){return K.unwrap()}function Ui(K){return Di(K)}function Di(K){const{_tokenResponse:X}=K instanceof N.ZR?K.customData:K;if(!X)return null;if(!(K instanceof N.ZR)&&"temporaryProof"in X&&"phoneNumber"in X)return A.P.credentialFromResult(K);const $=X.providerId;if(!$||$===A.p.PASSWORD)return null;let Ce;switch($){case A.p.GOOGLE:Ce=A.V;break;case A.p.FACEBOOK:Ce=A.U;break;case A.p.GITHUB:Ce=A.W;break;case A.p.TWITTER:Ce=A.Z;break;default:const{oauthIdToken:et,oauthAccessToken:At,oauthTokenSecret:en,pendingToken:Qt,nonce:xn}=X;return At||en||et||Qt?Qt?$.startsWith("saml.")?A.aO._create($,Qt):A.L._fromParams({providerId:$,signInMethod:$,pendingToken:Qt,idToken:et,accessToken:At}):new A.X($).credential({idToken:et,accessToken:At,rawNonce:xn}):null}return K instanceof N.ZR?Ce.credentialFromError(K):Ce.credentialFromResult(K)}function gn(K,X){return X.catch($=>{throw $ instanceof N.ZR&&function zn(K,X){var $;const Ce=null===($=X.customData)||void 0===$?void 0:$._tokenResponse;if("auth/multi-factor-auth-required"===X?.code)X.resolver=new ur(K,A.aq(K,X));else if(Ce){const et=Di(X),At=X;et&&(At.credential=et,At.tenantId=Ce.tenantId||void 0,At.email=Ce.email||void 0,At.phoneNumber=Ce.phoneNumber||void 0)}}(K,$),$}).then($=>{const et=$.user;return{operationType:$.operationType,credential:Ui($),additionalUserInfo:A.ao($),user:on.getOrCreate(et)}})}function Vr(K,X){return bn.apply(this,arguments)}function bn(){return(bn=(0,o.Z)(function*(K,X){const $=yield X;return{verificationId:$.verificationId,confirm:Ce=>gn(K,$.confirm(Ce))}})).apply(this,arguments)}class ur{constructor(X,$){this.resolver=$,this.auth=function Jn(K){return K.wrapped()}(X)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(X){return gn(An(this.auth),this.resolver.resolveSignIn(X))}}class on{constructor(X){this._delegate=X,this.multiFactor=A.ar(X)}static getOrCreate(X){return on.USER_MAP.has(X)||on.USER_MAP.set(X,new on(X)),on.USER_MAP.get(X)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(X){return this._delegate.getIdTokenResult(X)}getIdToken(X){return this._delegate.getIdToken(X)}linkAndRetrieveDataWithCredential(X){return this.linkWithCredential(X)}linkWithCredential(X){var $=this;return(0,o.Z)(function*(){return gn($.auth,A.a0($._delegate,X))})()}linkWithPhoneNumber(X,$){var Ce=this;return(0,o.Z)(function*(){return Vr(Ce.auth,A.l(Ce._delegate,X,$))})()}linkWithPopup(X){var $=this;return(0,o.Z)(function*(){return gn($.auth,A.d($._delegate,X,ni))})()}linkWithRedirect(X){var $=this;return(0,o.Z)(function*(){return yield vn(A.aH($.auth)),A.g($._delegate,X,ni)})()}reauthenticateAndRetrieveDataWithCredential(X){return this.reauthenticateWithCredential(X)}reauthenticateWithCredential(X){var $=this;return(0,o.Z)(function*(){return gn($.auth,A.a1($._delegate,X))})()}reauthenticateWithPhoneNumber(X,$){return Vr(this.auth,A.r(this._delegate,X,$))}reauthenticateWithPopup(X){return gn(this.auth,A.e(this._delegate,X,ni))}reauthenticateWithRedirect(X){var $=this;return(0,o.Z)(function*(){return yield vn(A.aH($.auth)),A.h($._delegate,X,ni)})()}sendEmailVerification(X){return A.ae(this._delegate,X)}unlink(X){var $=this;return(0,o.Z)(function*(){return yield A.an($._delegate,X),$})()}updateEmail(X){return A.aj(this._delegate,X)}updatePassword(X){return A.ak(this._delegate,X)}updatePhoneNumber(X){return A.u(this._delegate,X)}updateProfile(X){return A.ai(this._delegate,X)}verifyBeforeUpdateEmail(X,$){return A.af(this._delegate,X,$)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}on.USER_MAP=new WeakMap;const si=A.aA;let _i=(()=>{class K{constructor($,Ce){if(this.app=$,Ce.isInitialized())return this._delegate=Ce.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:et}=$.options;si(et,"invalid-api-key",{appName:$.name}),si(et,"invalid-api-key",{appName:$.name});const At=typeof window<"u"?ni:void 0;this._delegate=Ce.initialize({options:{persistence:Ei(et,$.name),popupRedirectResolver:At}}),this._delegate._updateErrorMap(A.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?on.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode($){this._delegate.languageCode=$}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId($){this._delegate.tenantId=$}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator($,Ce){A.I(this._delegate,$,Ce)}applyActionCode($){return A.a5(this._delegate,$)}checkActionCode($){return A.a6(this._delegate,$)}confirmPasswordReset($,Ce){return A.a4(this._delegate,$,Ce)}createUserWithEmailAndPassword($,Ce){var et=this;return(0,o.Z)(function*(){return gn(et._delegate,A.a8(et._delegate,$,Ce))})()}fetchProvidersForEmail($){return this.fetchSignInMethodsForEmail($)}fetchSignInMethodsForEmail($){return A.ad(this._delegate,$)}isSignInWithEmailLink($){return A.ab(this._delegate,$)}getRedirectResult(){var $=this;return(0,o.Z)(function*(){si(ae(),$._delegate,"operation-not-supported-in-this-environment");const Ce=yield A.j($._delegate,ni);return Ce?gn($._delegate,Promise.resolve(Ce)):{credential:null,user:null}})()}addFrameworkForLogging($){!function xe(K,X){(0,A.aH)(K)._logFramework(X)}(this._delegate,$)}onAuthStateChanged($,Ce,et){const{next:At,error:en,complete:Qt}=hr($,Ce,et);return this._delegate.onAuthStateChanged(At,en,Qt)}onIdTokenChanged($,Ce,et){const{next:At,error:en,complete:Qt}=hr($,Ce,et);return this._delegate.onIdTokenChanged(At,en,Qt)}sendSignInLinkToEmail($,Ce){return A.aa(this._delegate,$,Ce)}sendPasswordResetEmail($,Ce){return A.a3(this._delegate,$,Ce||void 0)}setPersistence($){var Ce=this;return(0,o.Z)(function*(){let et;switch(function Mt(K,X){xt(Object.values(ot).includes(X),K,"invalid-persistence-type"),(0,N.b$)()?xt(X!==ot.SESSION,K,"unsupported-persistence-type"):(0,N.UG)()?xt(X===ot.NONE,K,"unsupported-persistence-type"):ce()?xt(X===ot.NONE||X===ot.LOCAL&&(0,N.hl)(),K,"unsupported-persistence-type"):xt(X===ot.NONE||Pe(),K,"unsupported-persistence-type")}(Ce._delegate,$),$){case ot.SESSION:et=A.a;break;case ot.LOCAL:et=(yield A.aC(A.i)._isAvailable())?A.i:A.b;break;case ot.NONE:et=A.N;break;default:return A.av("argument-error",{appName:Ce._delegate.name})}return Ce._delegate.setPersistence(et)})()}signInAndRetrieveDataWithCredential($){return this.signInWithCredential($)}signInAnonymously(){return gn(this._delegate,A._(this._delegate))}signInWithCredential($){return gn(this._delegate,A.$(this._delegate,$))}signInWithCustomToken($){return gn(this._delegate,A.a2(this._delegate,$))}signInWithEmailAndPassword($,Ce){return gn(this._delegate,A.a9(this._delegate,$,Ce))}signInWithEmailLink($,Ce){return gn(this._delegate,A.ac(this._delegate,$,Ce))}signInWithPhoneNumber($,Ce){return Vr(this._delegate,A.s(this._delegate,$,Ce))}signInWithPopup($){var Ce=this;return(0,o.Z)(function*(){return si(ae(),Ce._delegate,"operation-not-supported-in-this-environment"),gn(Ce._delegate,A.c(Ce._delegate,$,ni))})()}signInWithRedirect($){var Ce=this;return(0,o.Z)(function*(){return si(ae(),Ce._delegate,"operation-not-supported-in-this-environment"),yield vn(Ce._delegate),A.f(Ce._delegate,$,ni)})()}updateCurrentUser($){return this._delegate.updateCurrentUser($)}verifyPasswordResetCode($){return A.a7(this._delegate,$)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return K.Persistence=ot,K})();function hr(K,X,$){let Ce=K;"function"!=typeof K&&({next:Ce,error:X,complete:$}=K);const et=Ce;return{next:en=>et(en&&on.getOrCreate(en)),error:X,complete:$}}function Ei(K,X){const $=function Wt(K,X){const $=Ot();if(!$)return[];const Ce=A.aD(st,K,X);switch($.getItem(Ce)){case ot.NONE:return[A.N];case ot.LOCAL:return[A.i,A.a];case ot.SESSION:return[A.a];default:return[]}}(K,X);if(typeof self<"u"&&!$.includes(A.i)&&$.push(A.i),typeof window<"u")for(const Ce of[A.b,A.a])$.includes(Ce)||$.push(Ce);return $.includes(A.N)||$.push(A.N),$}class Ur{constructor(){this.providerId="phone",this._delegate=new A.P(An(R.Z.auth()))}static credential(X,$){return A.P.credential(X,$)}verifyPhoneNumber(X,$){return this._delegate.verifyPhoneNumber(X,$)}unwrap(){return this._delegate}}Ur.PHONE_SIGN_IN_METHOD=A.P.PHONE_SIGN_IN_METHOD,Ur.PROVIDER_ID=A.P.PROVIDER_ID;const Er=A.aA;class Hr{constructor(X,$,Ce=R.Z.app()){var et;Er(null===(et=Ce.options)||void 0===et?void 0:et.apiKey,"invalid-api-key",{appName:Ce.name}),this._delegate=new A.R(X,$,Ce.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function me(K){K.INTERNAL.registerComponent(new te.wA("auth-compat",X=>{const $=X.getProvider("app-compat").getImmediate(),Ce=X.getProvider("auth");return new _i($,Ce)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:A.A.EMAIL_SIGNIN,PASSWORD_RESET:A.A.PASSWORD_RESET,RECOVER_EMAIL:A.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:A.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:A.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:A.A.VERIFY_EMAIL}},EmailAuthProvider:A.Q,FacebookAuthProvider:A.U,GithubAuthProvider:A.W,GoogleAuthProvider:A.V,OAuthProvider:A.X,SAMLAuthProvider:A.Y,PhoneAuthProvider:Ur,PhoneMultiFactorGenerator:A.m,RecaptchaVerifier:Hr,TwitterAuthProvider:A.Z,Auth:_i,AuthCredential:A.J,Error:N.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),K.registerVersion("@firebase/auth-compat","0.4.2")}(R.Z)},5861:(Bt,re,H)=>{"use strict";function o(A,N,G,j,te,Q,J){try{var k=A[Q](J),O=k.value}catch(M){return void G(M)}k.done?N(O):Promise.resolve(O).then(j,te)}function R(A){return function(){var N=this,G=arguments;return new Promise(function(j,te){var Q=A.apply(N,G);function J(O){o(Q,j,te,J,k,"next",O)}function k(O){o(Q,j,te,J,k,"throw",O)}J(void 0)})}}H.d(re,{Z:()=>R})},7582:(Bt,re,H)=>{"use strict";function N(Ae,De){var xe={};for(var Ie in Ae)Object.prototype.hasOwnProperty.call(Ae,Ie)&&De.indexOf(Ie)<0&&(xe[Ie]=Ae[Ie]);if(null!=Ae&&"function"==typeof Object.getOwnPropertySymbols){var We=0;for(Ie=Object.getOwnPropertySymbols(Ae);We<Ie.length;We++)De.indexOf(Ie[We])<0&&Object.prototype.propertyIsEnumerable.call(Ae,Ie[We])&&(xe[Ie[We]]=Ae[Ie[We]])}return xe}function M(Ae,De,xe,Ie){return new(xe||(xe=Promise))(function(Ke,ft){function vt(rn){try{Ft(Ie.next(rn))}catch(L){ft(L)}}function Gt(rn){try{Ft(Ie.throw(rn))}catch(L){ft(L)}}function Ft(rn){rn.done?Ke(rn.value):function We(Ke){return Ke instanceof xe?Ke:new xe(function(ft){ft(Ke)})}(rn.value).then(vt,Gt)}Ft((Ie=Ie.apply(Ae,De||[])).next())})}function Se(Ae){return this instanceof Se?(this.v=Ae,this):new Se(Ae)}function _e(Ae,De,xe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var We,Ie=xe.apply(Ae,De||[]),Ke=[];return We={},vt("next"),vt("throw"),vt("return",function ft(Pe){return function(ce){return Promise.resolve(ce).then(Pe,L)}}),We[Symbol.asyncIterator]=function(){return this},We;function vt(Pe,ce){Ie[Pe]&&(We[Pe]=function(ae){return new Promise(function(Te,tt){Ke.push([Pe,ae,Te,tt])>1||Gt(Pe,ae)})},ce&&(We[Pe]=ce(We[Pe])))}function Gt(Pe,ce){try{!function Ft(Pe){Pe.value instanceof Se?Promise.resolve(Pe.value.v).then(rn,L):Qe(Ke[0][2],Pe)}(Ie[Pe](ce))}catch(ae){Qe(Ke[0][3],ae)}}function rn(Pe){Gt("next",Pe)}function L(Pe){Gt("throw",Pe)}function Qe(Pe,ce){Pe(ce),Ke.shift(),Ke.length&&Gt(Ke[0][0],Ke[0][1])}}function qe(Ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var xe,De=Ae[Symbol.asyncIterator];return De?De.call(Ae):(Ae=function pe(Ae){var De="function"==typeof Symbol&&Symbol.iterator,xe=De&&Ae[De],Ie=0;if(xe)return xe.call(Ae);if(Ae&&"number"==typeof Ae.length)return{next:function(){return Ae&&Ie>=Ae.length&&(Ae=void 0),{value:Ae&&Ae[Ie++],done:!Ae}}};throw new TypeError(De?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ae),xe={},Ie("next"),Ie("throw"),Ie("return"),xe[Symbol.asyncIterator]=function(){return this},xe);function Ie(Ke){xe[Ke]=Ae[Ke]&&function(ft){return new Promise(function(vt,Gt){!function We(Ke,ft,vt,Gt){Promise.resolve(Gt).then(function(Ft){Ke({value:Ft,done:vt})},ft)}(vt,Gt,(ft=Ae[Ke](ft)).done,ft.value)})}}}H.d(re,{FC:()=>_e,KL:()=>qe,_T:()=>N,mG:()=>M,qq:()=>Se}),"function"==typeof SuppressedError&&SuppressedError}},Bt=>{Bt(Bt.s=7439)}]);